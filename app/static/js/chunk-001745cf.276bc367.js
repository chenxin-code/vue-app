(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-001745cf"],{"0ff3":function(t,i,e){},"3f11":function(t,i,e){"use strict";e("0ff3")},"8c5f":function(t,i,e){"use strict";e.r(i);var a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"certification"},[e("nav-top",{attrs:{title:"认证"},on:{backEvent:function(i){return t.$router.go(-1)}}}),e("nav-content",{staticClass:"certification-container"},[t.complete?e("div",{staticClass:"table-view"},[1==t.checkStatus.checkIdentify?e("div",{staticClass:"table-view-cell item",on:{click:t.openRealName}},[e("div",{staticClass:"table-view-cell-text info"},[e("div",{staticClass:"left"},[t._v("实名认证")]),""!=t.identifyInfo&&1==t.identifyInfo.isValid&&1==t.identifyInfo.examineState?e("div",{staticClass:"right"},[e("div",{staticClass:"name"},[t._v(t._s(t.identifyInfo.name))]),e("div",{staticClass:"id-card"},[t._v(t._s(t.dealNum(t.identifyInfo.idcardNum)))])]):t._e(),2==t.identifyInfo.examineState?e("div",{staticClass:"state-tips"},[t._v("审核中")]):t._e()]),""==t.identifyInfo||""==t.identifyInfo.isValid&&""==t.identifyInfo.examineState?e("div",{staticClass:"table-view-cell-arrow status"},[t._v("未认证 ")]):t._e(),3==t.identifyInfo.examineState?e("div",{staticClass:"table-view-cell-arrow status"},[t._v("审核未通过")]):t._e()]):t._e(),1==t.checkStatus.checkDriving?e("div",{staticClass:"table-view-cell item",on:{click:t.openDriving}},[e("div",{staticClass:"table-view-cell-text info"},[e("div",{staticClass:"left"},[t._v("驾驶认证")]),""!=t.driverInfo&&1==t.driverInfo.status&&1==t.driverInfo.examineState?e("div",{staticClass:"state-tips"},[t._v(" 已认证 ")]):2==t.driverInfo.examineState?e("div",{staticClass:"state-tips"},[t._v("审核中")]):t._e()]),""==t.driverInfo?e("div",{staticClass:"table-view-cell-arrow status"},[t._v("未认证")]):t._e(),3==t.driverInfo.examineState?e("div",{staticClass:"table-view-cell-arrow status"},[t._v("审核未通过")]):t._e()]):t._e(),1==t.checkStatus.checkVehicle?e("div",{staticClass:"table-view-cell item",on:{click:t.openVehicle}},[e("div",{staticClass:"table-view-cell-text info"},[t._v("车辆认证")]),1==t.isValid?e("div",{staticClass:"table-view-cell-arrow status"},[t._v("已认证")]):2==t.isValid?e("div",{staticClass:"table-view-cell-arrow status"},[t._v("审核中")]):3==t.isValid?e("div",{staticClass:"table-view-cell-arrow status"},[t._v("审核未通过")]):e("div",{staticClass:"table-view-cell-arrow status"},[t._v("未认证")])]):t._e()]):t._e()])],1)},s=[],n=e("5530"),c=(e("d3b7"),e("3ca3"),e("ddb0"),e("ac1f"),e("1276"),e("a434"),e("a15b"),e("b0c0"),e("2f62")),o={data:function(){return{showInfo:!0,complete:!1,identifyInfo:"",driverInfo:"",isValid:"",checkStatus:""}},mounted:function(){this.__init()},methods:Object(n["a"])({__init:function(){var t=this,i=this.checkIdentify(),e=this.checkDriverInfo(),a=this.getVehicleListByUserId(),s=this.checkcertificate();Promise.all([e,i,a,s]).then((function(){t.complete=!0}))},checkcertificate:function(){var t=this;this.$request.post("/app/json/user/checkcertificate").then((function(i){0===i.status?(t.checkStatus=i.data,t.setIdentifyState(t.$assign({},t.identifyState,{blackCheckVehicle:t.checkStatus.blackCheckVehicle,blackCheckDriving:t.checkStatus.blackCheckDriving})),t.$bridgefunc.vuexStorage()):t.$Toast(i.info?i.info:"获取信息失败")}))},checkIdentify:function(){var t=this;this.$request.post("/app/json/user/checkIdentify").then((function(i){0===i.status?(t.identifyInfo=i.data,t.setIdentifyState(t.$assign({},t.identifyState,{idState:t.identifyInfo.isValid})),t.$bridgefunc.vuexStorage()):t.$Toast(i.info?i.info:"获取身份信息失败")}))},checkDriverInfo:function(){var t=this;this.$request.post("/app/json/user/checkDriverInfo").then((function(i){0===i.status?t.driverInfo=i.data:t.$Toast(i.info?i.info:"获取驾驶证信息失败")}))},getVehicleListByUserId:function(){var t=this;this.$request.post("/app/json/user/getVehicleListByUserId").then((function(i){if(0===i.status){var e=i.data?i.data:[];t.isValid="";for(var a=0;a<e.length;a++){var s=e[a];if(1==s.isValid){t.isValid=s.isValid;break}if(2==s.examineState){t.isValid=s.examineState;break}3==s.examineState&&(t.isValid=s.examineState)}}else t.$Toast(i.info?i.info:"获取车辆信息失败")}))},dealNum:function(t){return 18==t.length?(t=t.split(""),t.splice(2,14,"**************"),t.join("")):15==t.length?(t=t.split(""),t.splice(2,11,"***********"),t.join("")):void 0},openRealName:function(){3==this.identifyInfo.examineState?this.$router.push({path:"/audit-results",query:{examineMsg:this.identifyInfo.examineMsg,id:this.identifyInfo.id,source:"identify",num:this.driverInfo.driveCode,name:this.driverInfo.name}}):(""==this.identifyInfo||""==this.identifyInfo.isValid&&""==this.identifyInfo.examineState)&&this.$router.push({path:"/real-name-authentication",query:{num:this.driverInfo.driveCode}})},openDriving:function(){1==this.checkStatus.blackCheckDriving&&1!=this.identifyInfo.isValid?this.$Toast("请先完成实名认证！"):3==this.driverInfo.examineState?this.$router.push({path:"/audit-results",query:{examineMsg:this.driverInfo.examineMsg,id:this.driverInfo.id,source:"driver",num:this.identifyInfo.idcardNum,name:this.identifyInfo.name}}):""==this.driverInfo&&this.$router.push({path:"/driving-certification",query:{num:this.identifyInfo.idcardNum}})},openVehicle:function(){this.$router.push({path:"/vehicle-certification"})}},Object(c["d"])(["setIdentifyState"])),computed:Object(n["a"])({},Object(c["c"])(["identifyState"])),components:{}},r=o,f=(e("3f11"),e("0c7c")),d=Object(f["a"])(r,a,s,!1,null,"f7097f62",null);i["default"]=d.exports}}]);