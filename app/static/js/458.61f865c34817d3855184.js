(window.webpackJsonp=window.webpackJsonp||[]).push([[458],{CCpG:function(t,e,s){"use strict";var i=s("bUJD");s.n(i).a},Rm9Q:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAYAAAAehFoBAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQwIDc5LjE2MDQ1MSwgMjAxNy8wNS8wNi0wMTowODoyMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChNYWNpbnRvc2gpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjBEMDE5NTU0Q0YwQTExRTg5NjNDOTM5QzI2ODY5MkJGIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjBEMDE5NTU1Q0YwQTExRTg5NjNDOTM5QzI2ODY5MkJGIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MEQwMTk1NTJDRjBBMTFFODk2M0M5MzlDMjY4NjkyQkYiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MEQwMTk1NTNDRjBBMTFFODk2M0M5MzlDMjY4NjkyQkYiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6UfPdoAAAJZ0lEQVR42qxZe4wV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"},VYX3:function(t,e,s){"use strict";s.r(e);var i=s("Ziuy"),a=s("7//l"),o=s("db0i"),n=s("Gedb"),l={data:function(){return{skuId:"",storeOuCode:"",settleInfo:{},usedCoupons:[],payDigitals:[],ticketFileNumber:1,checked:!0,params:{},userPhone:"",DigitalPwd:"",showRecharg:!1,selectedPayWay:[],payStyle:{},radio:"",fromPointsShop:!0,pointsShopData:{},flag:!0,userPoints:0,activityId:"",numberDisabled:!1,saleShow:!1,salesTypeName:"",saleTypePopup:!1,saleTypeList:[],saleIndex:null,backReloadCoupon:!1,placeUserPhoneState:!1}},mounted:function(){console.log(this.$route.query),console.log(this.$route),this.activityId=this.$route.query.activityId;var t=this.$route.query.id,e=this.$route.query.skuId?this.$route.query.skuId:"";t&&""!=t?this._getDateSkuSaleDetail(t):this._getDateSkuSaleDetailBySkuId(e),"首页"!=this.$route.query.name?this.saleShow=!0:this.saleShow=!1},methods:{_getDateSkuSaleDetailBySkuId:function(t){var e=this;this.$request.post("/app/json/product/getAppProDetail",{skuId:t,pickupStoreOuCode:this.$store.state.globalConfig.trafficStoreOuCode,deliverType:2}).then((function(t){0===t.status?(e.params=t.data,e.skuId=t.data.skuId,e.storeOuCode=t.data.storeOuCode,e.settlement()):e.$Toast(t.info)}))},_getDateSkuSaleDetail:function(t){var e=this;this.$request.post("/app/json/product/getAppProDetail",{id:t}).then((function(t){0===t.status?(e.params=t.data,e.skuId=t.data.skuId,e.storeOuCode=t.data.storeOuCode,e.settlement()):e.$Toast(t.info)}))},phonePlaceholder:function(){var t=this,e=[],s="请输入";return this.$store.state.globalConfig.jxOrderRechargePlaceholder&&(e=this.$store.state.globalConfig.jxOrderRechargePlaceholder.split("/")),510==this.params.productType?e.forEach((function(e){if(e.split(":")[0]==t.skuId){var i=[];i=e.split(":")[1],s+=-1!=i.indexOf("1")?"手机号/":"",s+=-1!=i.indexOf("2")?"QQ号/":"",s+=-1!=i.indexOf("3")?"邮箱/":""}else s="请输入手机号/QQ号/邮箱"})):s="请输入接收手机号",s},handleNumberChange:function(t){this.settlement(t)},settlement:function(){var t=this,e={deliveryType:"2",carts:[{number:arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,skuId:this.skuId,storeOuCode:this.storeOuCode,checked:1,selfActivityId:this.activityId}]};this.payDigitals.length&&(e.payDigital=this.payDigitals),this.usedCoupons.length&&(e.couNo=this.usedCoupons),this.$request.post("/app/json/fee_life_order/settle",e).then((function(e){if(0==e.status){t.settleInfo=e.data.occur[0],t.usedCoupons=t.settleInfo.couNo,t.settleInfo.digitalList.forEach((function(e){"Points"==e.acctType&&(t.userPoints=e.userBalanceDigital)})),510==t.settleInfo.store[0].noActivityCart[0].productType&&(t.numberDisabled=!0);var s=t.settleInfo.store[0].noActivityCart[0].selfActivity;s?(t.saleShow=!0,t.saleTypeList=[],s.forEach((function(e){t.saleTypeList.push({mktActivityType:e.currentSelfActivity.mktActivityType,mktActivityId:e.currentSelfActivity.mktActivityId})}))):t.saleShow=!1,t.settleInfo.store[0].noActivityCart[0].currentSelfActivity?(t.fromPointsShop=!0,t.pointsShopData=t.settleInfo.store[0].noActivityCart[0],t.settleInfo.amount=t.pointsShopData.price,t.userPoints>=t.pointsShopData.fixedDigital?t.flag=!0:(t.flag=!1,t.$Toast("积分不足"))):t.fromPointsShop=!1,t.reloadSelectedCoupon()}else t.$Toast(e.info),t.reloadSelectedCoupon()}))},reloadSelectedCoupon:function(){if(0!=this.backReloadCoupon){this.backReloadCoupon=!1;for(var t=0;t<this.settleInfo.userCanUseCoupon.length;t++){var e=this.settleInfo.userCanUseCoupon[t].couNo;this.settleInfo.userCanUseCoupon[t].selected=!1;for(var s=0;s<this.usedCoupons.length;s++)if(console.log(this.usedCoupons[s],e,88888),this.usedCoupons[s]==e){console.log(this.settleInfo.userCanUseCoupon[t].selected,"9999"),this.settleInfo.userCanUseCoupon[t].selected=!0;break}}i.a.reloadSelectedCoupon(this.occurData.userCanUseCoupon)}},moreCoupon:function(){for(var t=this,e=0;e<this.settleInfo.userCanUseCoupon.length;e++){var s=this.settleInfo.userCanUseCoupon[e].couNo;this.settleInfo.userCanUseCoupon[e].selected=!1;for(var a=0;a<this.usedCoupons.length;a++)if(console.log(this.usedCoupons[a],s,88888),this.usedCoupons[a]==s){console.log(this.settleInfo.userCanUseCoupon[e].selected,"9999"),this.settleInfo.userCanUseCoupon[e].selected=!0;break}}i.a.open({initData:{listData:[],userCanNotUseCoupon:this.settleInfo.userCanNotUseCoupon,userCanUseCoupon:this.settleInfo.userCanUseCoupon,type:"use",skuId:"",categoryId:"",storeOuCode:"",token:this.$store.state.login.token,payAmount:this.$util.toDecimal2(parseFloat(this.settleInfo.payAmount))},selectedCoupon:function(e){for(var s=[],i=0;i<e.length;i++)s.push(e[i].couNo);0==s.length&&s.push("-1"),t.usedCoupons=s,t.backReloadCoupon=!0,t.settlement(1)}})},getDigitalDisplayName:function(t){return this.$mallCommon.accTypeToName(t,"150001")},getDigitalDisplayUnit:function(t){for(var e=this.$store.state.globalConfig.acctList,s=0;s<e.length;s++){var i=e[s];if(i.acctType==t)return i.displayUnit}},getCanNotUseStr:function(t){return 1==t||3==t?"余额不足":1==t?"订单金额不够":"未知原因"},useDigitalEvent:function(t){if(t.userCanUseDigital<=0){var e=this.getCanNotUseStr(t.deductionState);this.$Toast(e+"，不支持"+this.getDigitalDisplayName(t.acctType)+"支付！")}else{var s=t.acctType;if(t.payDigital<=t.fixedDigital){for(var i=[],a=0;a<this.payDigitals.length;a++)this.payDigitals[a].acctType!=s&&i.push(this.payDigitals[a]);this.payDigitals=i,this.payDigitals.push({acctType:s,payDigital:t.userCanUseDigital+t.fixedDigital,userBalanceDigital:t.userBalanceDigital}),console.log(this.payDigitals,"99991")}else{for(var o=[],n=0;n<this.payDigitals.length;n++)this.payDigitals[n].acctType!=s&&o.push(this.payDigitals[n]);this.payDigitals=o,console.log(this.payDigitals,"99992")}this.settlement()}},handleSubmit:function(){if(this.flag){for(var t=0;t<this.payDigitals.length;t++){var e=this.payDigitals[t];if(e.payDigital>0&&e.payDigital>e.userBalanceDigital){var s=this.getDigitalDisplayName(e.acctType);return s+="余额不足！",this.$Toast(s),void this.settlement()}}this.checkNeedPwd()}},checkNeedPwd:function(){var t=this;if(this.digitalPWD="",this.settleInfo.needPayPwd){if("1"==this.settleInfo.payPwdState)return void this.$Toast("支付密码已锁定，请稍后再试！");a.a.open({initData:{payPwdState:this.settleInfo.payPwdState},toSettingPwd:function(){t.$router.push({path:"/usercenter/nosetpwd",query:{isSet:0}}),a.a.close()},inputFinished:function(e){t.digitalPWD=e,t.submitBill(),a.a.close()}})}else this.submitBill()},submitBill:function(){var t=this;if("videoRecharge"!=this.$route.query.orderType&&(510!=this.params.productType||this.placeUserPhoneState)){if(!this.userPhone||""==this.userPhone)return void this.$Toast("手机号不能为空");if(!this.$util.checkMobile(this.userPhone))return void this.$Toast("请填写正确手机号")}this.$Loading.open();var e={deliveryType:"2",carts:[{number:this.ticketFileNumber,skuId:this.skuId,storeOuCode:this.storeOuCode,checked:1,selfActivityId:this.pointsShopData.currentSelfActivity?this.pointsShopData.currentSelfActivity.mktActivityId:""}],payDigital:[],virtualUserPhone:this.userPhone};"videoRecharge"==this.$route.query.orderType&&(e.virtualUserPhone=this.$route.query.billrecharge),this.payDigitals.length&&(e.payDigital=this.payDigitals),""!=this.digitalPWD&&(e.payPwd=Object(n.a)(this.digitalPWD)),console.log(e),this.pointsShopData.acctType&&this.pointsShopData.fixedDigital>0&&e.payDigital.push({acctType:this.pointsShopData.acctType,userBalanceDigital:this.userPoints,payDigital:this.pointsShopData.fixedDigital}),510==this.params.productType&&(e={deliveryType:"2",virtualUserPhone:this.userPhone,carts:[{skuId:this.params.skuId,storeOuCode:this.params.storeOuCode,number:1}]}),e.couNo=this.usedCoupons||[],console.log(this.params),this.$request.post("/app/json/fee_life_order/submit",e).then((function(e){0===e.status?(t.submitInfo=e.data,e.data.payAmount>0?t.showRecharg=!0:(t.$Toast("支付成功"),t.$router.go(-1))):t.$Toast(e.info),t.$Loading.close()})),this.setPayWays()},setPayWays:function(){var t=this;this.selectedPayWay=[],o.a.getPayWays("205001",this.storeOuCode).then((function(e){t.selectedPayWay=e||[],t.selectedPayWay.length>0&&(t.radio=0,t.payStyle=t.selectedPayWay[0])}))},nowPay:function(){""!==this.radio?this.pay():this.$Toast("请选择支付方式")},pay:function(){var t=this;null!=this.payStyle?o.a.trafficPayEvent(this.payStyle,this.submitInfo.orderType,this.submitInfo.orderId).then((function(){t.enterSuccess()})).catch((function(){})):this.$Toast("请选择支付方式！")},enterSuccess:function(){this.$router.replace({path:"/recharge-bill-details",query:{orderType:this.submitInfo.orderType,orderId:this.submitInfo.orderId}})},changeStyle:function(t,e){this.radio=e,this.payStyle=t},saleCouponHandle:function(){this.saleTypePopup=!0},handleSaleType:function(t,e){this.saleIndex=e,this.salesTypeName=t.mktActivityType,this.activityId=t.mktActivityId},saleDialogOk:function(t,e){"confirm"===t?e():"cancel"===t&&(this.saleIndex=null,this.salesTypeName="",this.activityId="",e()),this.settlement()}}},c=(s("CCpG"),s("KHd+")),r=Object(c.a)(l,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"movietickerorder"},[i("nav-top",{attrs:{title:"填写订单"},on:{backEvent:function(e){return t.$router.go(-1)}}}),t._v(" "),i("nav-content",{staticClass:"movieTicket-order"},[i("div",{staticClass:"movieTicket-order-content"},[i("div",{staticClass:"order-infomation"},[i("div",{staticClass:"order-item"},[i("p",{staticClass:"title"},[t._v("商品名称")]),t._v(" "),i("p",{staticClass:"item-right"},[t._v(t._s(t.params.skuName))])]),t._v(" "),i("div",{staticClass:"order-item"},[i("p",{staticClass:"title"},[t._v("商品单价")]),t._v(" "),i("p",[t._v(t._s(t.settleInfo.amount)+" 元\n            "),t.fromPointsShop?i("span",[t._v(" +\n              "+t._s(t.pointsShopData?t.pointsShopData.fixedDigital:"")+" 积分")]):t._e()])])]),t._v(" "),t.saleShow?i("div",{staticClass:"sales-promotion"},[i("div",{staticClass:"order-item"},[i("p",{staticClass:"title"},[t._v("促销活动")]),t._v(" "),i("div",{staticClass:"right"},[i("span",[t._v(t._s(t.salesTypeName))]),t._v(" "),i("van-icon",{attrs:{name:"ellipsis",size:"16"},on:{click:t.saleCouponHandle}})],1)])]):t._e(),t._v(" "),i("div",{staticClass:"fictitious-pay"},[i("div",{staticClass:"virtual-payment boxshadow"},[t._l(t.settleInfo.digitalList||[],(function(e,s){return i("div",{key:s},[0!=e.deductionState?i("div",{staticClass:"flex-row"},[i("div",{staticClass:"label-middle theme_font_common inline_block payment-title"},[t._v("\n                "+t._s(t.getDigitalDisplayName(e.acctType))+"\n              ")]),t._v(" "),"元"==t.getDigitalDisplayUnit(e.acctType)?[e.userCanUseDigital>0?i("div",{staticClass:"right-margin inline_block"},[t._v("\n                  余额："+t._s(e.userBalanceDigital)+"元，可用"+t._s(e.userCanUseDigital)+"元\n                ")]):i("div",{staticClass:"right-margin inline_block"},[t._v("\n                  余额："+t._s(e.userBalanceDigital)+"元，"+t._s(t.getCanNotUseStr(e.deductionState))+"，不能使用\n                ")])]:[e.userCanUseDigital>0?i("div",{staticClass:"right-margin inline_block"},[e.userBalanceDigital<1e4?i("span",[t._v("共"+t._s(e.userBalanceDigital)+"个，")]):t._e(),t._v("\n                  可用"+t._s(e.userCanUseDigital)+"个，抵￥"+t._s(t.$util.toDecimal2(e.userCanUseDigitalAmount))+"元\n                ")]):i("div",{staticClass:"right-margin inline_block"},[e.userBalanceDigital<1e4?i("span",[t._v("共"+t._s(e.userBalanceDigital)+"个，")]):t._e(),t._v("\n                  "+t._s(t.getCanNotUseStr(e.deductionState))+"，不能使用\n                ")])],t._v(" "),i("div",{staticClass:"swith inline_block",on:{click:function(s){return t.useDigitalEvent(e)}}},[e.payDigital>e.fixedDigital?i("img",{staticStyle:{width:"30px"},attrs:{src:"static/image/mall2/switch-on.png"}}):t._e(),t._v(" "),e.payDigital<=e.fixedDigital?i("img",{staticStyle:{width:"30px"},attrs:{src:"static/image/mall2/switch-off.png"}}):t._e()])],2):t._e()])})),t._v(" "),i("div",{staticClass:"coupon"},[i("p",{staticClass:"payment-title"},[t._v("优惠券充值")]),t._v(" "),i("div",[i("p",[t._v("\n                共选择优惠券\n                "),i("span",{staticClass:"red"},[t._v(t._s(t.settleInfo.couNo?t.settleInfo.couNo.length:0))]),t._v("张,充值金额\n                "),i("span",{staticClass:"red"},[t._v(t._s(t.settleInfo.couponAmount?t.settleInfo.couponAmount.toFixed(2):0))]),t._v("元\n              ")])]),t._v(" "),i("van-icon",{attrs:{name:"ellipsis",size:"16"},on:{click:t.moreCoupon}})],1)],2)]),t._v(" "),i("div",{staticClass:"price-infomation"},[i("div",{staticClass:"order-item"},[i("p",{staticClass:"title"},[t._v("商品金额")]),t._v(" "),i("p",[t._v("¥"+t._s(t.settleInfo.amount))])]),t._v(" "),t.fromPointsShop?i("div",{staticClass:"order-item"},[i("p",{staticClass:"title"},[t._v("商品积分")]),t._v(" "),i("p",[t._v(t._s(t.pointsShopData?t.pointsShopData.fixedDigital:"")+" 积分")])]):t._e(),t._v(" "),i("div",{staticClass:"order-item"},[i("p",{staticClass:"title"},[t._v("立减")]),t._v(" "),i("p",{staticClass:"red"},[t._v("- ¥"+t._s(t.settleInfo.couponAmount))])]),t._v(" "),t.fromPointsShop?i("div",{staticClass:"order-item"},[i("p",{staticClass:"title"},[t._v("账户积分")]),t._v(" "),i("p",[t._v(t._s(t.userPoints)+" 积分")])]):t._e()]),t._v(" "),"videoRecharge"!=t.$route.query.orderType?i("div",{staticClass:"order-user-info"},[i("div",{staticClass:"order-item"},[i("p",{staticClass:"title"},[t._v(t._s(510==this.params.productType?"充值账号":"接收手机号"))]),t._v(" "),i("div",{staticClass:"inp"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.userPhone,expression:"userPhone"}],attrs:{type:"text",placeholder:t.phonePlaceholder()},domProps:{value:t.userPhone},on:{input:function(e){e.target.composing||(t.userPhone=e.target.value)}}})])])]):t._e()]),t._v(" "),i("div",{staticClass:"order-submit"},[i("p",{staticClass:"price"},[t._v("\n        ¥\n        "),i("span",[t._v(t._s(t.settleInfo.payAmount))]),t._v(" "),t.fromPointsShop?i("span",[t._v(" +\n          "+t._s(t.pointsShopData?t.pointsShopData.fixedDigital:"")+"积分")]):t._e()]),t._v(" "),i("button",{class:t.flag?"sub-btn":"sub-btn sub-btn-color",on:{click:t.handleSubmit}},[t._v("提交订单")])]),t._v(" "),i("van-action-sheet",{attrs:{title:"确认付款"},model:{value:t.showRecharg,callback:function(e){t.showRecharg=e},expression:"showRecharg"}},[i("div",{staticClass:"recharge-popup"},[i("div",{staticClass:"num"},[t._v("\n          ￥"),i("span",{staticClass:"text"},[t._v(t._s(t.settleInfo.payAmount))])]),t._v(" "),i("div",{staticClass:"info"},[i("div",{staticClass:"details"},[i("span",{staticClass:"title"},[t._v("支付方式")]),t._v(" "),i("span",{staticClass:"content"},[t._v(t._s((t.payStyle.text||"--")+"支付"))])]),t._v(" "),i("van-radio-group",{model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[i("van-cell-group",t._l(t.selectedPayWay,(function(e,a){return i("van-cell",{key:a,attrs:{clickable:""},on:{click:function(s){return t.changeStyle(e,a)}}},[i("div",{staticClass:"pay-label",attrs:{slot:"title"},slot:"title"},["210"==e.payMode?i("img",{staticClass:"pay-icon",attrs:{src:s("b8oF"),alt:""}}):i("img",{staticClass:"pay-icon",attrs:{src:s("Rm9Q"),alt:""}}),t._v("\n                  "+t._s(e.text)+"支付\n                ")]),t._v(" "),i("van-radio",{attrs:{name:a,"checked-color":"#F80F16"},on:{click:function(s){return t.changeStyle(e,a)}}})],1)})),1)],1)],1)]),t._v(" "),i("div",{staticClass:"re-btn",on:{click:t.nowPay}},[t._v("立即支付")])]),t._v(" "),i("van-dialog",{staticClass:"type-dialog",attrs:{title:"温馨提示","show-cancel-button":"",beforeClose:t.saleDialogOk},model:{value:t.saleTypePopup,callback:function(e){t.saleTypePopup=e},expression:"saleTypePopup"}},[i("p",[t._v("当前商品支持以下促销活动,可以选择其中一种活动进行参与")]),t._v(" "),i("div",{staticClass:"type-list"},t._l(t.saleTypeList,(function(e,s){return i("span",{key:s,class:t.saleIndex==s?"active":"",on:{click:function(i){return t.handleSaleType(e,s)}}},[t._v(t._s(e.mktActivityType))])})),0)])],1)],1)}),[],!1,null,"9634e13e",null);e.default=r.exports},b8oF:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAYAAAAehFoBAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQwIDc5LjE2MDQ1MSwgMjAxNy8wNS8wNi0wMTowODoyMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChNYWNpbnRvc2gpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkM3NDU0MkI1Q0YwOTExRTg5NjNDOTM5QzI2ODY5MkJGIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkM3NDU0MkI2Q0YwOTExRTg5NjNDOTM5QzI2ODY5MkJGIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6Qzc0NTQyQjNDRjA5MTFFODk2M0M5MzlDMjY4NjkyQkYiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6Qzc0NTQyQjRDRjA5MTFFODk2M0M5MzlDMjY4NjkyQkYiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6PgBXXAAAJUklEQVR42sxZC3BU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"},bUJD:function(t,e,s){}}]);