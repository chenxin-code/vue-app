(window.webpackJsonp=window.webpackJsonp||[]).push([[407],{"8RpL":function(t,e,a){t.exports=a.p+"static/img/logo.1ee120b.png"},"K+Cl":function(t,e,a){"use strict";a.r(e);var i=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"logo-class"},[e("img",{attrs:{src:a("8RpL")}}),this._v(" "),e("span",[this._v("中石油河北销售公司")])])}],s=(a("QFaU"),a("RL95")),o=(a("ilju"),a("5B+z")),n=a("oCYn"),r=a("W34l"),c=a("im2B"),d=a.n(c);function p(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}n.default.use(s.a).use(o.a);var u={data:function(){var t;return p(t={needUser:"3",friend:!1,desc:"点击右上角分享链接给好友，邀请好友为你助力！",activityDesc:"",homeBackgroundImage:"",buddyBackgroundImage:"",initiateButtonImage:"",groupFailBtn:"",groupFailIcon:"",avtUrldef:d.a,listTemp:[],shareShow:!1,shareImage:"",activityNo:"",pNum:"3",message:"qwe",show:!1,pinSuccess:"0",successDes:"",groupSuccessImage:"",orderNo:"",shareDesc:"拼团送券分享描述",shareIcon:""},"shareImage",""),p(t,"shareTitle","拼团送券分享标题"),p(t,"secondStatus","false"),p(t,"groupSuccessBtn",""),t},methods:{handelName:function(){var t=this,e=[{activityId:3,avtUrl:"",id:"",idLong:"",inAppId:null,joinTime:"2020-03-17 16:21:37",limitStart:null,listIndex:0,nickName:"H",objectId:null,orderId:8,userId:"646795",userPhone:"18502976290"}];if(this.orderNo||(this.orderNo=this.$util.getUrlParam(window.location.href,"orderNo")),!this.$store.state.login.token){var a=this.$util.getUrlParam(window.location.href,"token");this.$store.commit("setToken",a)}this.$http.post("/platform/json/group_buy/getGroupOrderByNo",{orderNo:this.orderNo,token:this.$store.state.login.token}).then((function(a){if(0==a.data.status){0==a.data.data.status?t.homeBackgroundImage=a.data.data.groupActivity.initiateBackgroundImage:1==a.data.data.status?t.homeBackgroundImage=a.data.data.groupActivity.groupSuccessImage:2==a.data.data.status&&(t.homeBackgroundImage=a.data.data.groupActivity.groupFailImage),t.initiateButtonImage=a.data.data.groupActivity.initiateButtonImage,t.groupSuccessImage=a.data.data.groupActivity.groupSuccessIcon,t.shareImage=a.data.data.groupActivity.shareImage,t.groupFailBtn=a.data.data.groupActivity.groupFailBtn,t.pinSuccess=a.data.data.status,t.activityNo=a.data.data.groupActivity.activityNo,t.activityDesc=a.data.data.groupActivity.activityDesc,t.needUser=a.data.data.groupActivity.needUser,t.successDes=a.data.data.groupActivity.groupSuccessMsg,t.pNum=a.data.data.groupActivity.needUser-a.data.data.memberVoList.length,t.groupFailIcon=a.data.data.groupActivity.groupFailIcon,t.shareDesc=a.data.data.groupActivity.shareDesc,t.shareIcon=a.data.data.groupActivity.shareIcon,t.shareImage=a.data.data.groupActivity.shareImage,t.shareTitle=a.data.data.groupActivity.shareTitle,t.groupSuccessBtn=a.data.data.groupActivity.groupSuccessBtn;for(var i=0;i<t.needUser;i++)i<a.data.data.memberVoList.length?t.listTemp.push(a.data.data.memberVoList[i]):t.listTemp.push(e[0]);t.setShareConfig()}else t.$Toast({message:a.data.info,position:"bottom",duration:2e3})}))},pinCilck:function(){this.$router.push({path:"/groupIndex",name:"拼团",query:{activityNo:this.activityNo,isgetLastOredr:!0}})},againCilck:function(){this.$router.push({path:"/groupIndex",name:"拼团",query:{activityNo:this.activityNo,isgetLastOredr:!0}})},getSign:function(t){var e=this;return new Promise((function(a,i){var s={url:t};e.$http.post("/platform/json/weixin_ticket/shareSign",s).then((function(t){"0"==t.data.status?a(t.data.data):i()}),(function(t){i()}))}))},setShareConfig:function(){var t=window.location.origin+"/app/we_chat/goPage?redirectUrl="+encodeURIComponent(window.location.origin+"/app-vue/app/#/groupHelp?orderNo="+this.orderNo);console.log(JSON.stringify({title:this.shareTitle,path:t,imageUrl:this.shareIcon,rfrCode:this.$store.state.userInfo?this.$store.state.userInfo.userId:""})),r.a.wxmpShare({title:this.shareTitle,path:t,imageUrl:this.shareIcon,rfrCode:this.$store.state.userInfo?this.$store.state.userInfo.userId:""})},shareImg:function(){this.shareShow=!0},helpFriend:function(){this.show=!0},showPopup:function(){this.show=!0}},created:function(){var t=this.$util.getUrlParam(window.location.href,"secondStatus");if(this.orderNo=this.$util.getUrlParam(window.location.href,"orderNo"),this.$store.state.login.token)this.secondStatus=t||!1,this.handelName();else{var e=window.location.origin+window.location.pathname+"#/groupInvite?orderNo="+this.orderNo,a=window.location.origin+"/app/we_chat/goPage?redirectUrl="+encodeURIComponent(e);window.location.href=a}},components:{}},g=(a("N0Sg"),a("KHd+")),l=Object(g.a)(u,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"friend-class"},[t._m(0),t._v(" "),a("div",{staticStyle:{"text-align":"center","margin-top":"10px"}},[t.secondStatus||0!=t.pinSuccess?t._e():a("van-image",{attrs:{width:"50px",height:"50px",fit:"contain",src:"../image/group/u309.png"}}),t._v(" "),t.secondStatus||0!=t.pinSuccess?t._e():a("h3",{staticStyle:{"font-size":"20px"}},[t._v("发起成功")]),t._v(" "),1==t.pinSuccess?a("h3",{staticStyle:{"font-size":"20px"}},[t._v("拼团成功")]):t._e(),t._v(" "),2==t.pinSuccess?a("h3",{staticStyle:{"font-size":"20px"}},[t._v("拼团失败")]):t._e()],1),t._v(" "),a("div",{staticStyle:{"text-align":"center","margin-top":"10px"}},[a("van-image",{attrs:{width:"100%",height:"auto",src:t.homeBackgroundImage}})],1),t._v(" "),a("div",{staticStyle:{"margin-top":"15px"}},[t._v(t._s(t.desc))]),t._v(" "),a("div",{staticStyle:{width:"80%","margin-top":"15px","text-align":"center"}},t._l(t.listTemp,(function(e,i){return a("div",{key:i,staticStyle:{width:"33.33333%",float:"left"}},[e.id?a("van-image",{attrs:{round:"",width:"50px",height:"50px",src:e.avtUrl?e.avtUrl:t.avtUrldef}}):a("van-icon",{attrs:{name:"add-o",size:"55",color:"#FFDBA6"}})],1)})),0),t._v(" "),a("div",{staticStyle:{clear:"both"}}),t._v(" "),a("div",{staticStyle:{width:"80%","text-align":"center"}},[0==t.pinSuccess?a("div",{staticStyle:{"text-align":"center","padding-top":"10px"}},[a("span",{},[t._v("还需邀请"+t._s(t.pNum)+"位即可获得优惠券！继续加油哦")])]):t._e(),t._v(" "),1==t.pinSuccess?a("div",{staticStyle:{"text-align":"center","margin-top":"10px",color:"red"}},[a("div",{staticStyle:{"text-align":"center"}},[a("van-image",{staticStyle:{"margin-top":"-90px",position:"absolute","margin-left":"-15%"},attrs:{round:"",width:"86px",height:"86px",src:t.groupSuccessImage}})],1),t._v(" "),a("div",{staticStyle:{"margin-top":"50px"}},[a("span",[t._v(t._s(t.successDes))])])]):t._e(),t._v(" "),2==t.pinSuccess?a("div",{staticStyle:{"text-align":"center","margin-top":"10px",color:"red"}},[a("div",{staticStyle:{"text-align":"center"}},[a("van-image",{staticStyle:{"margin-top":"-90px",position:"absolute","margin-left":"-15%"},attrs:{width:"86px",height:"86px",src:t.groupFailIcon}})],1),t._v(" "),a("div",{staticStyle:{"margin-top":"50px"}})]):t._e()]),t._v(" "),0==t.pinSuccess?a("div",[t.friend?t._e():a("div",{staticStyle:{"text-align":"center","margin-top":"15px"}},[a("van-image",{attrs:{width:"115px",height:"45px",src:t.initiateButtonImage},on:{click:t.shareImg}})],1)]):t._e(),t._v(" "),1==t.pinSuccess?a("div",[a("div",{staticStyle:{"text-align":"center","margin-top":"15px"}},[a("van-image",{attrs:{width:"120px",height:"45px",src:t.groupSuccessBtn},on:{click:t.pinCilck}})],1)]):t._e(),t._v(" "),2==t.pinSuccess?a("div",[a("div",{staticStyle:{"text-align":"center","margin-top":"15px"}},[a("van-image",{attrs:{width:"120px",height:"45px",src:t.groupFailBtn},on:{click:t.againCilck}})],1)]):t._e(),t._v(" "),a("div",{staticStyle:{"font-weight":"900","padding-top":"10px","align-self":"flex-start"}},[t._v("拼团活动规则")]),t._v(" "),a("div",{staticStyle:{"margin-top":"5px"}},[a("div",{staticStyle:{"line-height":"20px"},domProps:{innerHTML:t._s(t.activityDesc)}})]),t._v(" "),a("van-popup",{style:{height:"30%"},attrs:{position:"top"},model:{value:t.shareShow,callback:function(e){t.shareShow=e},expression:"shareShow"}},[a("van-image",{staticStyle:{},attrs:{width:"100%",src:t.shareImage}})],1)],1)}),i,!1,null,"010e8f3c",null);e.default=l.exports},N0Sg:function(t,e,a){"use strict";var i=a("VQxN");a.n(i).a},QFaU:function(t,e,a){"use strict";a("aO+S"),a("nXDD"),a("N0PS"),a("Cf6i")},VQxN:function(t,e,a){},im2B:function(t,e,a){t.exports=a.p+"static/img/90.cfc9b25.png"}}]);