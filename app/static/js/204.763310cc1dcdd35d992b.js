(window.webpackJsonp=window.webpackJsonp||[]).push([[204],{"/dJq":function(t,e,a){"use strict";var s=(a("6sV6"),a("KHd+")),i=Object(s.a)({name:"order-pro",props:["itemData","stateText"],components:{},data:function(){return{}},methods:{getIntStr:function(t){return this.$util.toDecimal2(t.purchasePrice).split(".")[0]},getDecimalStr:function(t){return this.$util.toDecimal2(t.purchasePrice).split(".")[1]}},created:function(){}},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"title-row"},["待确认"==t.stateText?a("div",{staticClass:"state-text theme_font_red"},[t._v(t._s(1001==t.itemData.subStatus?"待改价":t.stateText))]):a("div",{staticClass:"state-text theme_font_red"},[t._v(t._s(t.stateText))]),t._v(" "),a("div",{staticClass:"store-name"},[t._v(t._s(t.itemData.storeName))])]),t._v(" "),t._l(t.itemData.purchaseOrderItemList,(function(e){return a("div",{staticClass:"order-pro"},[a("div",{staticClass:"img-div"},[a("img",{attrs:{src:e.skuMainUrl}})]),t._v(" "),a("div",{staticClass:"info-div"},[a("div",{staticClass:"title double-line theme_font_common"},[t._v(t._s(e.skuName))]),t._v(" "),a("div",{staticClass:"number theme_font_gray"},[t._v("数量："+t._s(e.buyCount))]),t._v(" "),a("div",{staticClass:"price theme_font_red"},[a("span",[t._v("¥")]),t._v(" "),a("span",{staticClass:"big"},[t._v(t._s(t.getIntStr(e))+".")]),t._v(" "),a("span",[t._v(t._s(t.getDecimalStr(e)))])])])])}))],2)}),[],!1,null,"61a51241",null);e.a=i.exports},"6sV6":function(t,e,a){"use strict";var s=a("iB1/");a.n(s).a},Wae8:function(t,e,a){"use strict";a.r(e),a("4X9F");var s=a("IkEG"),i={name:"order-list",components:{OrderPro:a("/dJq").a},data:function(){return{tabs:[{text:"待确认",tag:"1",nowPage:1,isCanLoadMore:!0},{text:"待付款",tag:"2",nowPage:1,isCanLoadMore:!0},{text:"待发货",tag:"3",nowPage:1,isCanLoadMore:!0},{text:"待收(提)货",tag:"4",nowPage:1,isCanLoadMore:!0},{text:"已完成",tag:"5",nowPage:1,isCanLoadMore:!0},{text:"已取消",tag:"0",nowPage:1,isCanLoadMore:!0}],tabSelectedItem:{},listData:[],loaded:!1,stateText:""}},computed:{isShowExpress:function(){return 3!=this.$store.state.webtype}},methods:{deliveryTypeSelected:function(t){this.$store.state.mall2.staticDeliverType=t,this.getOrderList()},uploadProof:function(t){this.$router.push({path:"/micro_sho/uploadproof",query:{id:t.id,proofUrl:t.proofUrl}})},pay:function(t){console.log(t,"item"),this.$router.replace({path:"/mall2/checkstand",query:{payInfo:JSON.stringify({orderId:t.id,orderType:t.orderType,payAmount:1==t.applyPriceState?t.adjustAmount:t.amount,tradeNo:t.tradeNo}),occurOuCode:t.ouCode,type:"app_purchase_order"}})},finishedEvent:function(t){var e=this,a={id:t.id};this.$Loading.open(),this.$http.post("/app/json/app_purchase_order/orderConfirm",a).then((function(t){e.$Loading.close();var a=t.data;0==a.status?e.getOrderList():e.$Toast(a.info)}),(function(t){e.$Loading.close(),e.$Toast("请求数据失败！")}))},checkWULEvent:function(t){},cancelOrderEvent:function(t){var e=this;s.a.confirm({title:"提示",className:"reset-cancel-order-dialog",message:"您确定要取消该订单吗？"}).then((function(){var a={id:t.id};e.$Loading.open(),e.$http.post("/app/json/app_purchase_order/cancelOrder",a).then((function(t){e.$Loading.close();var a=t.data;0==a.status?e.getOrderList():e.$Toast(a.info)}),(function(t){e.$Loading.close(),e.$Toast("请求数据失败！")}))})).catch((function(){}))},getIntStr:function(t){return this.$util.toDecimal2(t).split(".")[0]},getDecimalStr:function(t){return this.$util.toDecimal2(t).split(".")[1]},getOrderList:function(){var t=this;this.listData=[],this.loaded=!1;var e={status:this.tabSelectedItem.tag};this.stateText=this.tabSelectedItem.text,"3"==e.status?e.deliverType="2":"4"==e.status&&("1"==this.$store.state.mall2.staticDeliverType?(e.status="3",e.deliverType="1",this.stateText="待提货"):this.stateText="待收货"),this.$Loading.open(),this.$http.post("/app/json/app_purchase_order/queryOrder",e).then((function(e){t.$Loading.close();var a=e.data;0==a.status?(t.loaded=!0,t.listData=a.data.orderList):t.$Toast(a.info)}),(function(e){t.$Loading.close(),t.$Toast("请求数据失败！")}))},orderDetailEvent:function(t){this.$router.push({path:"/mall2/purchaseorderdetail",query:{id:t.id}})},tabEvent:function(t){this.tabSelectedItem=t,this.getOrderList()}},created:function(){this.$store.state.globalConfig.enterprise_group_title&&(document.title=this.$store.state.globalConfig.enterprise_group_title),this.tabEvent(this.tabs[0])}},o=(a("dYGA"),a("aYDZ"),a("KHd+")),n=Object(o.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"order-list mall2"},[a("nav-top",{attrs:{title:t.$store.state.globalConfig.enterprise_group_title||""},on:{backEvent:function(e){return t.$router.go(-1)}}}),t._v(" "),a("nav-content",[a("div",{staticClass:"my-content"},[a("div",{staticClass:"tabs"},t._l(t.tabs,(function(e,s){return a("div",{staticClass:"tab-item",on:{click:function(a){return t.tabEvent(e)}}},[a("div",{staticClass:"text theme_font_black",class:{"selected-btn":t.tabSelectedItem.tag==e.tag}},[t._v(t._s(e.text))])])})),0),t._v(" "),a("div",{staticClass:"scroll-div"},["4"==t.tabSelectedItem.tag?a("div",{staticClass:"order-tab"},[a("p",{staticClass:"theme_font_white theme_bg_light_red",class:{theme_bg_red_i:"2"==t.$store.state.mall2.staticDeliverType},on:{click:function(e){return t.deliveryTypeSelected(2)}}},[t._v("待收货")]),t._v(" "),a("p",{staticClass:"theme_font_white theme_bg_light_red",class:{theme_bg_red_i:"1"==t.$store.state.mall2.staticDeliverType},on:{click:function(e){return t.deliveryTypeSelected(1)}}},[t._v("待提货")])]):t._e(),t._v(" "),t.listData.length>0?a("div",t._l(t.listData,(function(e){return a("div",{staticClass:"block-div",on:{click:function(a){return t.orderDetailEvent(e)}}},[a("div",{staticClass:"flex-row",staticStyle:{display:"block"}},[a("OrderPro",{attrs:{itemData:e,stateText:t.stateText}})],1),t._v(" "),a("div",{staticClass:"flex-row"},[a("div",{staticClass:"full"}),t._v(" "),a("div",{staticClass:"theme_font_common order-amount"},[a("label",[t._v("订单金额：")]),t._v(" "),a("span",{staticClass:"theme_font_red"},[t._v("¥")]),t._v(" "),1==e.applyPriceState?a("div",[a("span",{staticClass:"big theme_font_red"},[t._v(t._s(t.getIntStr(e.adjustAmount))+".")]),t._v(" "),a("span",{staticClass:"theme_font_red"},[t._v(t._s(t.getDecimalStr(e.adjustAmount)))])]):a("div",[a("span",{staticClass:"big theme_font_red"},[t._v(t._s(t.getIntStr(e.amount))+".")]),t._v(" "),a("span",{staticClass:"theme_font_red"},[t._v(t._s(t.getDecimalStr(e.amount)))])])])]),t._v(" "),"1"==t.tabSelectedItem.tag?a("div",{staticClass:"flex-row flex-row-smallbottom"},[a("div",{staticClass:"full"}),t._v(" "),a("div",{staticClass:"row-btn row-btn-big-space theme_font_common theme_border_gray line_circle",on:{click:function(a){return a.stopPropagation(),t.cancelOrderEvent(e)}}},[t._v("取消订单")])]):t._e(),t._v(" "),"2"==t.tabSelectedItem.tag?a("div",{staticClass:"flex-row flex-row-smallbottom"},[a("div",{staticClass:"full"}),t._v(" "),a("div",{staticClass:"row-btn row-btn-big-space theme_font_common theme_border_gray line_circle",on:{click:function(a){return a.stopPropagation(),t.cancelOrderEvent(e)}}},[t._v("取消订单")]),t._v(" "),0==e.payType?a("div",{staticClass:"row-btn row-btn-big-space theme_font_common theme_border_gray line_circle",on:{click:function(a){return a.stopPropagation(),t.uploadProof(e)}}},[t._v("上传支付凭证")]):t._e(),t._v(" "),0!=e.payType?a("div",{staticClass:"row-btn row-btn-big-space theme_font_common theme_border_gray line_circle",on:{click:function(a){return a.stopPropagation(),t.pay(e)}}},[t._v("立即支付")]):t._e()]):t._e(),t._v(" "),"4"==t.tabSelectedItem.tag&&"2"==t.$store.state.mall2.staticDeliverType?a("div",{staticClass:"flex-row flex-row-smallbottom"},[a("div",{staticClass:"full"}),t._v(" "),a("div",{staticClass:"row-btn row-btn-big-space theme_font_common theme_border_gray line_circle",on:{click:function(a){return a.stopPropagation(),t.finishedEvent(e)}}},[t._v("确认收货")])]):t._e(),t._v(" "),"4"==t.tabSelectedItem.tag&&"1"==t.$store.state.mall2.staticDeliverType?a("div",{staticClass:"flex-row flex-row-smallbottom"},[a("div",{staticClass:"full"}),t._v(" "),a("div",{staticClass:"row-btn row-btn-big-space theme_font_common theme_border_gray line_circle",on:{click:function(a){return a.stopPropagation(),t.cancelOrderEvent(e)}}},[t._v("取消订单")])]):t._e()])})),0):t.loaded?a("div",[a("van-empty",{attrs:{description:"暂无订单"}})],1):t._e()])])])],1)}),[],!1,null,"350c193f",null);e.default=n.exports},Woqs:function(t,e,a){},aYDZ:function(t,e,a){"use strict";var s=a("ljly");a.n(s).a},dYGA:function(t,e,a){"use strict";var s=a("Woqs");a.n(s).a},"iB1/":function(t,e,a){},ljly:function(t,e,a){}}]);