(window.webpackJsonp=window.webpackJsonp||[]).push([[535],{"0ws9":function(t,i,n){"use strict";var s;function e(t,i,n){return i in t?Object.defineProperty(t,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[i]=n,t}n.r(i);var o={data:function(){return{noteInfo:"",enterpriseId:"",dropDown:!1,radio:"5",checked:!0,title:"",paramsData:{},ouCode:"",isText:[],stationInfo:"",stationImg:"",dataLoaded:!1,showSuccess:!1}},mixins:[n("CEw4").a],mounted:function(){this.ouCode=this.$route.query.ouCode,this.getStationInfo()},methods:(s={taitou:function(t){this.radio=t,4===t?this.radio="4":5===t&&(this.radio="5")},addShopInvoiceHead:function(){this.ouCode?4!=this.radio||this.enterpriseId?this.addShopInvoiceHead():this.$Toast("企业税号不能为空!"):this.$Toast("油站编码不能为空!")}},e(s,"addShopInvoiceHead",(function(){var t=this;this.$request.post("/app/json/user_invoice_assistant/addShopInvoiceHead",{ouCode:this.ouCode,ouName:this.stationInfo.stationName,titleType:this.radio,title:this.title,orgTaxNo:this.enterpriseId}).then((function(i){0===i.status?t.showSuccess=!0:t.$Toast(i.info)})).catch((function(t){console.log(t)}))})),e(s,"getStationInfo",(function(){var t=this;this.$request.post("/app/json/station/getStationInfo",{stationCode:this.ouCode}).then((function(i){t.dataLoaded=!0,0===i.status?(t.stationInfo=i.data,t.stationImg=JSON.parse(decodeURIComponent(t.stationInfo.stationImg))):t.$Toast(data.info)})).catch((function(t){console.log(t)}))})),e(s,"monitor",(function(t){var i=this;this.title&&this.throttle((function(){var t={token:i.$store.state.login.token,title:i.title};i.souData(t).then((function(t){t.data.data.length>0?(i.isText=t.data.data,i.dropDown=!0):i.dropDown=!1}))}),500)()})),e(s,"throttle",(function(t,i){var n=this;return function(){for(var s=arguments.length,e=Array(s),o=0;o<s;o++)e[o]=arguments[o];n.timer&&clearTimeout(n.timer),n.timer=setTimeout((function(){t.apply(n,e)}),i)}})),e(s,"detailData",(function(t){this.title=t.title,this.dropDown=!1})),s),components:{}},a=(n("p9Ne"),n("KHd+")),r=Object(a.a)(o,(function(){var t=this,i=t.$createElement,n=t._self._c||i;return t.dataLoaded?n("div",{staticClass:"open-invoice"},[n("nav-top",{attrs:{title:"开票"},on:{backEvent:function(i){return t.$router.go(-1)}}}),t._v(" "),n("nav-content",{staticClass:"open-invoice-details"},[n("div",{staticClass:"bg-red"},[n("div",{staticClass:"tx-img"},[t.stationImg[0]?n("img",{attrs:{src:t.stationImg[0],alt:""}}):n("img",{attrs:{src:"/static/image/invoice/icon1.png",alt:""}})]),t._v(" "),n("div",{staticClass:"name"},[t._v(t._s(t.stationInfo.stationName))])]),t._v(" "),n("div",{staticClass:"invoice-info"},[n("div",{staticClass:"title"},[t._v("增值税普票")]),t._v(" "),n("div",{staticClass:"info-show"},[n("div",{staticClass:"publicInvoice"},[n("van-radio-group",{model:{value:t.radio,callback:function(i){t.radio=i},expression:"radio"}},[n("div",[t._v("发票抬头")]),t._v(" "),n("van-radio",{attrs:{name:"5","checked-color":"#f44"},on:{click:function(i){return t.taitou(5)}}},[t._v("企业")]),t._v(" "),n("van-radio",{attrs:{name:"4","checked-color":"#f44"},on:{click:function(i){return t.taitou(4)}}},[t._v("个人(其他)")])],1),t._v(" "),5==t.radio?n("van-cell-group",{staticStyle:{position:"relative"}},[n("van-field",{staticClass:"paragraph",attrs:{label:"企业名称",placeholder:"请输入发票抬头"},on:{input:t.monitor},model:{value:t.title,callback:function(i){t.title=i},expression:"title"}}),t._v(" "),n("div",{class:{divPut:1==t.dropDown,nothing:0==t.dropDown}},[n("div",{staticClass:"divPut1"}),t._v(" "),n("div",{staticClass:"divPut2"},[n("ul",t._l(t.isText,(function(i,s){return n("li",{on:{click:function(n){return t.detailData(i)}}},[t._v(t._s(i.title))])})),0)])])],1):4==t.radio?n("van-cell-group",[n("van-field",{attrs:{type:"tel",label:"姓名",placeholder:"请输入姓名"},model:{value:t.title,callback:function(i){t.title=i},expression:"title"}})],1):t._e(),t._v(" "),5==t.radio?n("van-cell-group",[n("van-field",{attrs:{type:"tel",label:"企业税号",placeholder:"请输入企业税号"},model:{value:t.enterpriseId,callback:function(i){t.enterpriseId=i},expression:"enterpriseId"}})],1):t._e(),t._v(" "),n("van-cell-group",[n("div",{staticClass:"tips"},[t._v("注意：请核对税号准确无误")])]),t._v(" "),n("van-cell-group",[n("van-field",{attrs:{type:"tel",label:"备注信息",placeholder:"(选填项)可输入餐桌号、房间号等"},model:{value:t.noteInfo,callback:function(i){t.noteInfo=i},expression:"noteInfo"}})],1)],1)])]),t._v(" "),n("div",{staticClass:"open-invoice-btn",on:{click:t.addShopInvoiceHead}},[t._v("申请开票")]),t._v(" "),n("van-dialog",{attrs:{"confirm-button-color":"#F80F16"},on:{confirm:function(i){return t.$router.go(-1)}},model:{value:t.showSuccess,callback:function(i){t.showSuccess=i},expression:"showSuccess"}},[n("img",{attrs:{src:"/static/image/login2/succee-icon.png",alt:""}}),t._v(" "),n("div",{staticClass:"tips"},[t._v("申请成功!")])])],1)],1):t._e()}),[],!1,null,"0654fc5f",null);i.default=r.exports},"2hLV":function(t,i,n){},CEw4:function(t,i,n){"use strict";i.a={methods:{exportinvoiceData:function(t){return this.$http.post("/app/json/user_invoice_assistant/importUserInvoiceHead",t)},golddetailData:function(t){return this.$http.post("/app/json/user_invoice_assistant/detailsOfInvoiceInfo",t)},invoicetipData:function(t){return this.$http.post("/app/json/news/getNewsList",t)},refundData:function(t){return this.$http.post("/app/json/user_invoice_assistant/invoiceRushRed",t)},cardMoData:function(t){return this.$http.post("/app/json/card/getUserCardList",t)},mingxiData:function(t){return this.$http.post("/app/json/user_invoice_assistant/detailsOfInvoiceList",t)},malldetailData:function(t){return this.$http.post("/app/json/app_shopping_order/detail",t)},shopdetailData:function(t){return this.$http.post("/app/json/user_invoice_assistant/convenienceStoredetail",t)},oildetailData:function(t){return this.$http.post("/app/json/refuel_center/detail",t)},hisdetailData:function(t){return this.$http.post("/app/json/user_invoice_assistant/invoiceContentDetails",t)},hisData:function(t){return this.$http.post("/app/json/user_invoice_assistant/invoiceContentDetailsList",t)},mallData:function(t){return this.$http.post("/app/json/app_shopping_order/queryOrder",t)},storeData:function(t){return this.$http.post("/app/json/user_invoice_assistant/queryConvenienceStoreOrder",t)},appData:function(t){return this.$http.post("/app/json/refuel_center/queryOrder",t)},goldData:function(t){return this.$http.post("/app/json/user_invoice_assistant/queryCashIn",t)},walletData:function(t){return this.$http.post("/app/json/user_invoice_assistant/sinopecWalletInvoiceList",t)},cardData:function(t){return this.$http.post("/app/json/user_invoice_assistant/queryUserRefuelingCardInfoList",t)},commitselfinvoiceData:function(t){return this.$http.post("/app/json/user_invoice_assistant/orderInvoicingInMall",t)},commitselfcardinvoiceData:function(t){return this.$http.post("/app/json/user_invoice_assistant/gasCardInvoice",t)},commitselfgoldinvoiceData:function(t){return this.$http.post("/app/json/user_invoice_assistant/cashInInvoicing",t)},emailData:function(t){return this.$http.post("/app/json/user_invoice_assistant/invoiceModifyMailbox",t)},histroydetailData:function(t){return this.$http.post("/app/json/user_invoice_assistant/queryInvoiceDetails",t)},histroyData:function(t){return this.$http.post("/app/json/user_invoice_assistant/queryInvoicedList",t)},riseData:function(t){return this.$http.post("/app/json/user_invoice_assistant/queryUserInvoiceHeadList",t)},openedData:function(t){return this.$http.post("/app/json/user_invoice_assistant/queryInvoicedList",t)},commitData:function(t){return this.$http.post("/app/json/user_invoice_assistant/addOrUpdateUserInvoiceHead",t)},delData:function(t){return this.$http.post("/app/json/user_invoice_assistant/deleteUserInvoiceHead",t)},morenData:function(t){return this.$http.post("/app/json/user_invoice_assistant/setDefaultUserInvoiceHead",t)},detailData:function(t){return this.$http.post("/app/json/user_invoice_assistant/queryInvoiceDetails",t)},souData:function(t){return this.$http.post("/app/json/user_invoice_assistant/searchInvoiceList",t)},soudetailData:function(t){return this.$http.post("/app/json/user_invoice_assistant/queryUserInvoiceHeadDetails",t)},tijiaoData:function(t){return this.$http.post("/app/json/user_invoice_assistant/addInvoicing",t)},saoData:function(t){return this.$http.post("/app/json/user_invoice_assistant/getResultFromQrcode",t)},morentitleData:function(t){return this.$http.post("/app/json/user_invoice_assistant/queryDefaultTittle",t)},daikaiData:function(t){return this.$http.post("/app/json/user_invoice_assistant/unInvoicingList",t)},chakanData:function(t){return this.$http.post("/app/json/user_invoice_assistant/queryUserInvoiceHeadDetails",t)}}}},p9Ne:function(t,i,n){"use strict";var s=n("2hLV");n.n(s).a}}]);