(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-640d05ea"],{1148:function(t,e,a){"use strict";var i=a("a691"),s=a("1d80");t.exports=function(t){var e=String(s(this)),a="",o=i(t);if(o<0||o==1/0)throw RangeError("Wrong number of repetitions");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(a+=e);return a}},"2f4e":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"placeorder mall2"},[a("nav-top",{on:{backEvent:function(e){return t.$router.go(-1)}}}),a("nav-content",[a("div",{staticClass:"block-div no-padding-bottom"},[t.$store.state.mall2.selectAddress.id>0&&2==t.deliveryType?a("div",{on:{click:t.toSelectAddress}},[a("div",{staticClass:"flex-row"},[a("div",{staticClass:"name theme_font_black"},[t._v(t._s(t.$store.state.mall2.selectAddress.receiverName))]),a("div",{staticClass:"name theme_font_black"},[t._v(t._s(t.$store.state.mall2.selectAddress.mobile))]),1==t.$store.state.mall2.selectAddress.isDefault?a("div",{staticClass:"act-item-full theme_standard_bg theme_font_white"},[t._v("默认")]):t._e()]),a("div",{staticClass:"flex-row"},[a("div",{staticClass:"full theme_font_tint font-small"},[t._v(t._s(t.$store.state.mall2.selectAddress.addressFull))]),a("div",[a("i",{staticClass:"iconfont mall-gengduojiantou theme_font_tint icon-font"})])])]):t._e(),t.$store.state.mall2.selectAddress.id>0||2!=t.deliveryType?t._e():a("div",{on:{click:t.toSelectAddress}},[a("div",{staticClass:"flex-row"},[t._v("请选择地址信息")])]),a("div",{staticClass:"colorfulline"},[a("img",{attrs:{src:"static/image/mall2/colorfulline.png"}})])]),a("div",{staticClass:"block-div"},[a("div",{staticClass:"flex-row",on:{click:t.payWayShow}},[a("div",{staticClass:"label-middle theme_font_common"},[t._v("支付方式")]),a("div",{staticClass:"full"}),a("div",{staticClass:"theme_font_common right-margin"},[t._v(t._s(t.payWayText))]),a("div",[a("i",{staticClass:"iconfont mall-gengduo more-icon theme_font_tint"})])])]),a("div",{staticClass:"block-div"},[a("p",{staticClass:"institution-name"},[t._v(t._s(t.prodInfoData.creatorOuName))]),a("div",{staticClass:"prod-container"},[a("img",{staticClass:"prod-img",attrs:{src:t.prodInfoData.pic,alt:""}}),a("div",{staticClass:"right"},[a("p",{staticClass:"prod-name"},[t._v(t._s(t.prodInfoData.skuName))]),a("p",{staticClass:"prod-price"},[t._v("￥"),a("span",[t._v(t._s(t.dealWithPrice(t.prodInfoData.onSalePrice)[0]))]),t._v("."+t._s(t.dealWithPrice(t.prodInfoData.onSalePrice)[1]))]),a("span",{staticClass:"prod-num"},[t._v("x "+t._s(t.prodInfoData.auctionSaleNum))])])]),a("div",{staticClass:"flex-row"},[a("div",{staticClass:"label-middle theme_font_common"},[t._v("备注")]),a("div",{staticClass:"full"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.params.remark,expression:"params.remark"}],staticClass:"row-input theme_font_common",attrs:{placeholder:"请留下您想说的话"},domProps:{value:t.params.remark},on:{input:function(e){e.target.composing||t.$set(t.params,"remark",e.target.value)}}})])])]),a("div",{staticClass:"block-div"},[a("div",{staticClass:"flex-row"},[a("div",{staticClass:"title full theme_font_common"},[t._v("发票")]),a("div",{staticClass:"swith",on:{click:t.useInvoiceEvent}},[t.useInvoice?a("img",{attrs:{src:"static/image/mall2/switch-on.png"}}):t._e(),t.useInvoice?t._e():a("img",{attrs:{src:"static/image/mall2/switch-off.png"}})])]),t.useInvoice?a("div",{staticClass:"flex-row",on:{click:t.changeInvoice}},[a("div",{staticClass:"label-middle theme_font_common"},[t._v("发票信息")]),a("div",{staticClass:"full"}),a("div",{staticClass:"theme_font_black right-margin",class:{theme_font_tint:""==t.invoiceInfo}},[t._v(" "+t._s(""!=t.invoiceInfo?t.invoiceInfo:"请编辑发票信息")+" ")]),a("div",[a("i",{staticClass:"iconfont mall-gengduo more-icon theme_font_tint"})])]):t._e()]),a("div",{staticClass:"block-div"},[a("p",{staticClass:"auction-price-tips"},[t._v("降价拍不支持立减、优惠券和积分等任何优惠方式抵扣")]),a("div",{staticClass:"flex-row"},[a("div",{staticClass:"label-middle full theme_font_common"},[t._v("商品金额")]),a("div",{staticClass:"theme_font_black"},[t._v("￥"+t._s(t.dealWithPrice(t.prodInfoData.auctionSaleNum*t.prodInfoData.onSalePrice)[2]))])]),a("div",{staticClass:"flex-row"},[a("div",{staticClass:"label-middle full theme_font_common"},[t._v("运费")]),a("div",{staticClass:"theme_font_red"},[t._v(" +￥"+t._s(t.dealWithPrice(t.prodInfoData.freightAmount)[2])+" ")])])]),a("div",{staticClass:"bottom-btns"},[a("p",{staticClass:"result-price"},[t._v("￥"),a("span",[t._v(t._s(t.dealWithPrice(t.prodInfoData.auctionSaleNum*t.prodInfoData.onSalePrice+t.prodInfoData.freightAmount)[0]))]),t._v("."+t._s(t.dealWithPrice(t.prodInfoData.auctionSaleNum*t.prodInfoData.onSalePrice+t.prodInfoData.freightAmount)[1]))]),a("div",{staticClass:"tip theme_bg_yl theme_standard_font theme_light_bg"},[t._v(t._s(t.$store.state.mall2.selectAddress.addressFull))]),a("div",{staticClass:"btn theme_standard_bg theme_font_white",on:{click:t.checkProductStock}},[t._v("提交订单")])])]),t.payWayPopShow?a("pop-view",{on:{closeEvent:function(e){t.payWayPopShow=!1}}},[a("div",{staticClass:"pop-body"},[a("div",{staticClass:"pop-title theme_font_common"},[t._v("请选择支付方式")]),a("div",{staticClass:"items-div pop-scroll-div"},t._l(t.payWays,(function(e,i){return a("div",{key:i,staticClass:"item theme_font_common theme_bg_white_ef",class:{theme_light_bg:t.payWaySelected==e.tag,theme_standard_font_i:t.payWaySelected==e.tag,theme_standard_bdr_i:t.payWaySelected==e.tag},staticStyle:{width:"100%","margin-bottom":"10px"},on:{click:function(a){return t.payWayEvent(e)}}},[t._v(t._s(e.text))])})),0),a("div",{staticClass:"bottom-btn theme_font_white theme_standard_bg bottom-space",on:{click:t.popSureEvent}},[t._v("确定 ")])])]):t._e()],1)},s=[],o=a("5530"),n=(a("a9e3"),a("b680"),a("ac1f"),a("1276"),a("99af"),a("b0c0"),a("5319"),a("5edf")),c=(a("41ca"),{data:function(){return{deliveryType:2,payWays:[{text:"在线支付",tag:"1"},{text:"货到付款",tag:"0"},{text:"提货付款",tag:"0"}],payWayText:"在线支付",payWaySelected:1,payWayPopShow:!1,prodInfoData:{},params:{remark:""},useInvoice:!1,invoiceData:null,invoiceInfo:"",currentInvoice:{}}},mounted:function(){this.prodInfoData=JSON.parse(this.$route.query.auctionProdData)},methods:{toSelectAddress:function(){this.$router.push({path:"/mall2/addresslist"})},payWayShow:function(){this.payWayPopShow=!0},payWayEvent:function(t){0!=t.tag?(this.payWaySelected=t.tag,this.payWayText=t.text):this.$Toast("暂不支持！")},popSureEvent:function(){this.payWayPopShow=!1},dealWithPrice:function(t){if(t=Number(t),!t)return[0,0,"0.00"];t=String(t.toFixed(2));var e=t.split(".")[1],a=t.split(".")[0];return[a,e,"".concat(a,".").concat(e)]},useInvoiceEvent:function(){var t=this;if(this.useInvoice=!this.useInvoice,this.useInvoice&&null==this.invoiceData){this.$Loading.open();var e="/app/json/order_invoice/loadTwoTypeDefaultUserInvoiceHead",a={token:this.$store.state.login.token};this.$http.post(e,a).then((function(e){t.$Loading.close();var a=e.data;0==a.status?(t.invoiceData=a.data,"personal"==t.invoiceData.current?(t.currentInvoice=t.invoiceData.personal,t.currentInvoice.name=t.invoiceData.personal.title,t.invoiceInfo=t.invoiceData.personal.title,t.currentInvoice.type=0):(t.currentInvoice.type=1,t.currentInvoice=t.invoiceData.company,t.currentInvoice.invoiceTitle=t.invoiceData.company.title,t.invoiceInfo=t.invoiceData.company.title),t.invoiceData.phone=t.$store.state.login.phone,t.invoiceData.email=t.$store.state.userInfo.email,t.invoiceData.name=t.$store.state.userInfo.nickName):t.$Toast(a.info)}),(function(e){t.$Loading.close(),t.$Toast("请求数据失败！")}))}},changeInvoice:function(){var t=this;n["a"].open({initData:Object(o["a"])(Object(o["a"])({},this.invoiceData),{},{token:this.$store.state.login.token}),selectedInvoice:function(e){t.currentInvoice=e,0==e.type?(t.invoiceInfo="个人",t.invoiceData.personal.title=e.name,t.invoiceData.personal.userPhone=e.phone,t.invoiceData.personal.userEmail=e.email):(t.invoiceInfo=e.company,t.invoiceData.company.userPhone=e.phone,t.invoiceData.company.userEmail=e.email,t.invoiceData.company.orgTaxNo=e.identifyNumber,t.invoiceData.company.title=e.company),n["a"].close()}})},checkProductStock:function(){var t=this,e={auctionId:this.prodInfoData.id,payAmount:this.prodInfoData.onSalePrice*this.prodInfoData.auctionSaleNum,freightAmount:this.prodInfoData.freightAmount,salePrice:this.prodInfoData.onSalePrice,auctionCount:this.prodInfoData.auctionSaleNum,userAddressId:this.$store.state.mall2.selectAddress.id,provinceId:this.$store.state.mall2.selectAddress.provinceId,provinceName:this.$store.state.mall2.selectAddress.provinceName,cityId:this.$store.state.mall2.selectAddress.cityId,cityName:this.$store.state.mall2.selectAddress.cityName,countryId:this.$store.state.mall2.selectAddress.countryId,countryName:this.$store.state.mall2.selectAddress.countryName,townId:this.$store.state.mall2.selectAddress.townId,townName:this.$store.state.mall2.selectAddress.townName,address:this.$store.state.mall2.selectAddress.address,receiver:this.$store.state.mall2.selectAddress.receiverName,mobile:this.$store.state.mall2.selectAddress.mobile,remark:this.params.remark};this.useInvoice?(e.invoiceUserMake=1,e.invoiceType=0,this.invoiceInfo?"个人"==this.invoiceInfo?(e.invoiceTitleType=4,e.invoiceTitle=this.$store.state.mall2.selectAddress.receiverName,e.invoiceUserName=this.invoiceData.personal.userName,e.invoiceUserEmail=this.invoiceData.personal.userEmail,e.invoiceUserMobile=this.invoiceData.personal.userPhone,e.companyAddress=this.invoiceData.personal.companyAddress):(e.invoiceTitleType=5,e.invoiceTitle=this.invoiceInfo,e.invoiceUserName=this.invoiceData.company.userName,e.invoiceUserEmail=this.invoiceData.company.userEmail,e.invoiceUserMobile=this.invoiceData.company.userPhone,e.companyAddress=this.invoiceData.company.companyAddress,e.invoiceUserOrgTaxNo=this.invoiceData.company.invoiceUserOrgTaxNo):this.$Toast("请设置发票信息")):e.invoiceUserMake=0,this.$Loading.open(),this.$http.post("/app/json/app_product_auction/submit",e).then((function(e){var a=e.data;0==a.status?t.$router.replace({path:"/mall2/checkstand",query:{payInfo:JSON.stringify(a.data),occurOuCode:a.data.occurOuCode}}):t.$Toast(a.info),t.$Loading.close()}))["catch"]((function(e){t.$Toast(e),t.$Loading.close()}))}}}),r=c,l=(a("3b12"),a("0c7c")),d=Object(l["a"])(r,i,s,!1,null,"7e2e79b6",null);e["default"]=d.exports},"3b12":function(t,e,a){"use strict";a("df43")},"408a":function(t,e,a){var i=a("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=i(t))throw TypeError("Incorrect invocation");return+t}},b680:function(t,e,a){"use strict";var i=a("23e7"),s=a("a691"),o=a("408a"),n=a("1148"),c=a("d039"),r=1..toFixed,l=Math.floor,d=function(t,e,a){return 0===e?a:e%2===1?d(t,e-1,a*t):d(t*t,e/2,a)},v=function(t){var e=0,a=t;while(a>=4096)e+=12,a/=4096;while(a>=2)e+=1,a/=2;return e},m=function(t,e,a){var i=-1,s=a;while(++i<6)s+=e*t[i],t[i]=s%1e7,s=l(s/1e7)},p=function(t,e){var a=6,i=0;while(--a>=0)i+=t[a],t[a]=l(i/e),i=i%e*1e7},u=function(t){var e=6,a="";while(--e>=0)if(""!==a||0===e||0!==t[e]){var i=String(t[e]);a=""===a?i:a+n.call("0",7-i.length)+i}return a},h=r&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!c((function(){r.call({})}));i({target:"Number",proto:!0,forced:h},{toFixed:function(t){var e,a,i,c,r=o(this),l=s(t),h=[0,0,0,0,0,0],f="",_="0";if(l<0||l>20)throw RangeError("Incorrect fraction digits");if(r!=r)return"NaN";if(r<=-1e21||r>=1e21)return String(r);if(r<0&&(f="-",r=-r),r>1e-21)if(e=v(r*d(2,69,1))-69,a=e<0?r*d(2,-e,1):r/d(2,e,1),a*=4503599627370496,e=52-e,e>0){m(h,0,a),i=l;while(i>=7)m(h,1e7,0),i-=7;m(h,d(10,i,1),0),i=e-1;while(i>=23)p(h,1<<23),i-=23;p(h,1<<i),m(h,1,1),p(h,2),_=u(h)}else m(h,0,a),m(h,1<<-e,0),_=u(h)+n.call("0",l);return l>0?(c=_.length,_=f+(c<=l?"0."+n.call("0",l-c)+_:_.slice(0,c-l)+"."+_.slice(c-l))):_=f+_,_}})},df43:function(t,e,a){}}]);