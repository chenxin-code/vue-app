(window.webpackJsonp=window.webpackJsonp||[]).push([[329,797],{"2sSI":function(t,e,n){"use strict";var s=n("lBot");n.n(s).a},AqR5:function(t,e,n){"use strict";n.r(e);var s=n("chc6"),i={name:"subpage",components:{ImageAd:function(){return Promise.all([n.e(45),n.e(1e3)]).then(n.bind(null,"AAUX"))},Rubik:function(){return n.e(521).then(n.bind(null,"JAfl"))},ProductList:function(){return Promise.all([n.e(0),n.e(33)]).then(n.bind(null,"6cKT"))},ProductInfinite:function(){return Promise.all([n.e(0),n.e(39)]).then(n.bind(null,"h6oS"))},Auxiliary:function(){return n.e(69).then(n.bind(null,"5wcc"))},MyCenter:function(){return Promise.all([n.e(47),n.e(1001)]).then(n.bind(null,"Ozsn"))},MyCenterHeader:function(){return n.e(517).then(n.bind(null,"AzRk"))},MyOrder:function(){return n.e(518).then(n.bind(null,"m7vU"))},FuelPrices:function(){return n.e(431).then(n.bind(null,"m+oH"))},MyAssets:function(){return n.e(516).then(n.bind(null,"TcXZ"))},SecondsKill:function(){return Promise.all([n.e(0),n.e(38),n.e(1002)]).then(n.bind(null,"Pe7J"))},PickupAddress:function(){return n.e(520).then(n.bind(null,"IMmR"))},MyPoints:function(){return n.e(519).then(n.bind(null,"FH2X"))},MyPointsHeader:function(){return n.e(65).then(n.bind(null,"WgjJ"))},HScroll:function(){return Promise.all([n.e(0),n.e(265)]).then(n.bind(null,"Cit7"))},Floater:function(){return n.e(512).then(n.bind(null,"y6U2"))},HYTop:function(){return Promise.all([n.e(34),n.e(1003)]).then(n.bind(null,"GZ48"))},HYNews:function(){return n.e(514).then(n.bind(null,"ajuS"))},News:function(){return n.e(432).then(n.bind(null,"cuCu"))},CustomText:function(){return n.e(522).then(n.bind(null,"Gznn"))},FuelFree:function(){return n.e(64).then(n.bind(null,"6zDU"))},CoverFlow:function(){return n.e(506).then(n.bind(null,"wqBJ"))},MemberCard:function(){return n.e(515).then(n.bind(null,"BNZD"))},CouponsTag:function(){return n.e(505).then(n.bind(null,"St0h"))},CouponHQ:function(){return Promise.all([n.e(0),n.e(41),n.e(1004)]).then(n.bind(null,"Jvtp"))},ProductTabs:function(){return Promise.all([n.e(0),n.e(42)]).then(n.bind(null,"4Uzd"))},MemberLevels:function(){return n.e(266).then(n.bind(null,"p+j1"))},ESHTop:function(){return n.e(511).then(n.bind(null,"Bw+z"))},ESHNearStation:function(){return n.e(509).then(n.bind(null,"p1NU"))},ESHDZJYQ:function(){return n.e(507).then(n.bind(null,"8hL0"))},ESHJFHQ:function(){return n.e(508).then(n.bind(null,"WB1r"))},ESHQQJY:function(){return n.e(510).then(n.bind(null,"u8O5"))},HKTop:function(){return n.e(513).then(n.bind(null,"8+bW"))},BtnProduct:function(){return n.e(504).then(n.bind(null,"WJkU"))}},props:["divKeywords","pgCode","comData","propsPageData"],data:function(){return{pageData:null}},methods:{getMyPageData:function(){var t=this,e="vuePageData_",n=[];n.push({appType:1}),n.push({accessType:2}),this.pgCode&&""!=this.pgCode?(e+=this.pgCode,n.push({pgCode:this.pgCode})):(n.push({divKeywords:this.divKeywords}),e+=this.$util.md5String(this.divKeywords)),-1!=this.$store.state.webtype&&n.push({webType:this.$store.state.webtype}),s.a.request("/appcontent/js/app_vue_page/vuePageData.js",e,n).then((function(e){if(0==e.status){var n=e.data.pageData;if(!n.pageDataJson)return;t.pageData=JSON.parse(n.pageDataJson),t.$emit("dataLoaded")}}))}},created:function(){this.propsPageData?(this.pageData=this.propsPageData,this.$emit("dataLoaded")):this.getMyPageData()}},a=(n("xpvW"),n("KHd+")),o=Object(a.a)(i,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return null!=t.pageData?n("div",{staticClass:"subpage"},t._l(t.pageData.moduleList,(function(e,s){return n("div",[n(e.code,{ref:"page_module_"+s,refInFor:!0,tag:"component",attrs:{myIndex:s,usePorpData:!0,propData:t.pageData,comData:t.comData}})],1)})),0):t._e()}),[],!1,null,"505bd157",null);e.default=o.exports},UzEq:function(t,e,n){"use strict";n.r(e);var s=n("L5r+"),i=n("AqR5"),a=n("mbR2"),o={name:"category",props:{hasBack:{type:Boolean,default:!0}},components:{SubPage:i.default,AdPage:a.a},data:function(){return{category:[],selectedId:1,subCategories:[],scrollTopValue1:0,scrollTopValue2:0,subDivKeywords:"",subPageRefresh:!1}},methods:{scrollEvent:function(){this.scrollTopValue1=this.$refs.leftScroll.scrollTop,this.scrollTopValue2=this.$refs.rightScroll.scrollTop},toSearchEvent:function(){var t=this;s.a.open({initData:{barHeight:this.$store.state.barHeight,searchHistory:this.$store.state.mall2.searchHistory},clearSearchHistory:function(){t.$store.state.mall2.searchHistory=[]},searchEvent:function(e){if(s.a.close(),console.log(e),""!=e){t.$mallCommon.pushSearchHistory(e);var n="/mall2/list/"+t.$util.getDataString();t.$router.push({path:n,query:{lastPath:t.$route.path,searchKey:e}})}}})},categoryEvent:function(t){if(0!=t)this.selectedId=t,this.subDivKeywords=this.$market.getCategorySubPageKey(this.category[t].id),this.subPageRefreshEvent(),this.subCategories=this.category[t].childList,this.$refs.rightScroll.scrollTop=0;else{var e="/mall2/list/"+this.$util.getDataString();this.$router.push({path:e,query:{lastPath:this.$route.path}})}},subPageRefreshEvent:function(){var t=this;this.subPageRefresh=!1,this.$nextTick((function(){t.subPageRefresh=!0}))},toProductList:function(t,e){var n=t.id,s="/mall2/list/"+this.$util.getDataString();this.$router.push({path:s,query:{category:n,categoryName:t.name,cateLevel:e,clsType:t.clsType,lastPath:this.$route.path}})},_loadProCateList:function(t){var e=this;this.$Loading.open();var n={token:this.$store.state.login.token};this.$http.post("/app/json/product/getAppProCategoryList",n).then((function(t){e.$Loading.close();var n=t.data;if(0==n.status){e.category=[{name:"全部分类",id:"",childList:[{name:"全部分类",id:""}]}];for(var s=0;s<n.data.list.length;s++)e.category.push(n.data.list[s]);e.category.length>1&&(e.selectedId=1,e.subCategories=e.category[1].childList)}else e.$Toast(n.info)}),(function(t){e.$Loading.close(),e.$Toast("请求数据失败！")}))}},created:function(){this._loadProCateList("0"),this.$route.query.userNo&&sessionStorage.setItem("USER_NO",this.$route.query.userNo||"")},activated:function(){console.log("categories activated"),console.log(this.scrollTopValue1),console.log("categories activated"),this.scrollTopValue1>0&&(this.$refs.leftScroll.scrollTop=this.scrollTopValue1),console.log(this.$refs.leftScroll.scrollTop),this.scrollTopValue2>0&&(this.$refs.rightScroll.scrollTop=this.scrollTopValue2)},beforeRouteLeave:function(t,e,n){console.log(t,e),n()}},r=(n("2sSI"),n("KHd+")),l=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"category"},[n("nav-top",{attrs:{noTitle:!0,noBack:!t.hasBack,showBackBtn:2!=t.$store.state.webtype&&3!=t.$store.state.webtype},on:{backEvent:function(e){return t.$router.go(-1)}}},[n("div",{staticClass:"search-div theme_bg_white_f5",staticStyle:{left:"50px",right:"50px",height:"30px",top:"7px",padding:"0 15px","border-radius":"15px"},on:{click:t.toSearchEvent}},[n("i",{staticClass:"iconfont mall-sousuo theme_font_tint",staticStyle:{"font-size":"16px"}}),t._v(" "),n("span",{staticClass:"theme_font_tint",staticStyle:{"font-size":"14px","margin-left":"10px"}},[t._v("搜你想要的商品")])])]),t._v(" "),n("nav-content",[n("div",{ref:"leftScroll",staticClass:"left-div theme_bg_white_f5",on:{scroll:t.scrollEvent}},t._l(t.category,(function(e,s){return n("div",{staticClass:"cat-div",class:{theme_bg_white_i:t.selectedId==s},on:{click:function(e){return t.categoryEvent(s)}}},[n("div",{staticClass:"title-div theme_font_gray",class:{"theme_standard_bdr_i theme_font_black_i title-div-selected":t.selectedId==s}},[t._v(t._s(e.name)+"\n        ")])])})),0),t._v(" "),n("div",{ref:"rightScroll",staticClass:"right-div",on:{scroll:t.scrollEvent}},[t.subPageRefresh?n("SubPage",{attrs:{divKeywords:t.subDivKeywords}}):t._e(),t._v(" "),n("div",{staticClass:"sub-right-div"},t._l(t.subCategories,(function(e,s){return n("div",{staticClass:"block-div"},[n("div",{staticClass:"title-row theme_font_black"},[n("div",{staticClass:"title"},[t._v(t._s(e.name))]),t._v(" "),0!=e.clsType?n("div",{staticClass:"more-btn theme_standard_font",on:{click:function(n){return t.toProductList(e,2)}}},[n("span",[t._v("全部")]),t._v(" "),n("i",{staticClass:"iconfont mall-gengduojiantou more-size"})]):t._e()]),t._v(" "),t._l(e.childList,(function(e,s){return n("div",{staticClass:"s-cate",on:{click:function(n){return n.stopPropagation(),t.toProductList(e,3)}}},[n("div",{staticClass:"cate-img"},[n("img",{attrs:{src:e.phUrl}})]),t._v(" "),n("div",{staticClass:"cate-name single-line theme_font_black"},[t._v(t._s(e.name))])])}))],2)})),0)],1)]),t._v(" "),n("AdPage",{attrs:{pageAdKeywords:"AD_Key_Categories"}})],1)}),[],!1,null,"09939c32",null);e.default=l.exports},iijq:function(t,e,n){},lBot:function(t,e,n){},xpvW:function(t,e,n){"use strict";var s=n("iijq");n.n(s).a}}]);