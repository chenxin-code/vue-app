(window.webpackJsonp=window.webpackJsonp||[]).push([[892],{"3L3V":function(t,a,i){"use strict";i.r(a);var e={data:function(){return{activeTab:0,isLoading:!1,finished:!1,isShowInviteBtn:!1,isShowPackageInfo:!1,isShowMealPopup:!1,setMealList:[],indexPackageList:{isJoinCluster:!1,contractList:[],refuelList:[],orderDetailModel:{}}}},mounted:function(){var t=this;this.$Loading.open(),this.$http.post("/app/json/app_package_refuel/queryIndexPackageList",{}).then((function(a){t.$Loading.close();var i=a.data;0==i.status?(t.indexPackageList=i.data||{},t.indexPackageList.orderDetailModel?t.isShowPackageInfo=!0:t.isShowPackageInfo=!1,t.indexPackageList.isJoinCluster?(t.setMealList=i.data.contractList||[],t.activeTab=0,t.isShowInviteBtn=!1):(t.setMealList=i.data.refuelList||[],t.activeTab=1,t.isShowInviteBtn=!0),t.isLoading=!1,t.finished=!0):t.$Toast(i.info)})).catch((function(a){t.$Loading.close(),t.$Toast("queryIndexPackageList err "+a)}))},methods:{loadMore:function(){},changeTabs:function(t){1==t?(this.isShowInviteBtn=!0,this.setMealList=this.indexPackageList.refuelList||[]):(this.isShowInviteBtn=!1,this.setMealList=this.indexPackageList.contractList||[])},setMealClick:function(t){this.isShowPackageInfo?this.isShowMealPopup=!0:0==this.activeTab?this.$router.push({name:"contract-package",params:{packageInfo:JSON.stringify(t)}}):this.$router.push({path:"/open-package",query:{type:t.packageType,id:t.id}})},inviteClick:function(){this.$router.push({path:"/my-invitation"})},toMealDesc:function(){this.$router.push({path:"/instructions"})},viewPackageDetail:function(){this.indexPackageList.orderDetailModel.packageType<100?this.$router.push({path:"/oil-package",query:{noCheckJoinContract:1}}):this.$router.push({path:"/contract-package-detail",query:{packageRefuelOrderId:this.indexPackageList.orderDetailModel.packageRefuelOrderId}})}}},s=(i("p1Pm"),i("KHd+")),n=Object(s.a)(e,(function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"container"},[i("nav-top",{staticClass:"reset-nav-top",on:{backEvent:function(a){return t.$router.go(-1)}}}),t._v(" "),i("nav-content",[i("div",{staticClass:"top-info"},[t.isShowPackageInfo?i("div",{staticClass:"set-meal-info",on:{click:t.viewPackageDetail}},[i("div",{staticClass:"tmeal-info"},[i("div",{staticClass:"left"},[i("p",{staticClass:"set-meal-name"},[t._v(t._s(t.indexPackageList.orderDetailModel.packageRefuelName))]),t._v(" "),i("p",{staticClass:"state"},[t._v("签约中")])]),t._v(" "),i("div",{staticClass:"right"},[t._v("\n            查看详情\n            "),i("van-icon",{attrs:{name:"arrow"}})],1)]),t._v(" "),i("div",{staticClass:"bmeal-tip"},[t._v("温馨提示：单人同一时间只可开通一个套餐噢~")])]):t._e(),t._v(" "),t.indexPackageList.isJoinCluster?i("van-tabs",{staticClass:"reset-tabs",attrs:{border:!1,"line-width":56,color:"#fff","title-inactive-color":"#fff","title-active-color":"#fff"},on:{change:t.changeTabs},model:{value:t.activeTab,callback:function(a){t.activeTab=a},expression:"activeTab"}},[i("van-tab",{attrs:{title:"合约套餐",name:0}}),t._v(" "),i("van-tab",{attrs:{title:"基础套餐",name:1}})],1):t._e()],1),t._v(" "),i("van-list",{staticClass:"set-meal-container",attrs:{finished:t.finished,"finished-text":"没有更多了",offset:200},on:{load:t.loadMore},model:{value:t.isLoading,callback:function(a){t.isLoading=a},expression:"isLoading"}},[i("ul",{staticClass:"set-meal-list"},t._l(t.setMealList,(function(a,e){return i("li",{key:e,staticClass:"item",on:{click:function(i){return i.stopPropagation(),t.setMealClick(a)}}},[1==t.activeTab?i("div",{staticClass:"table-view-cell"},[i("div",{staticClass:"table-view-cell-text"},[i("div",{staticClass:"left"},[i("div",{staticClass:"top"},[i("div",{staticClass:"img"},[i("img",{attrs:{src:a.pic,alt:""}})]),t._v(" "),i("div",{staticClass:"title"},[t._v(t._s(a.name))])]),t._v(" "),i("div",{staticClass:"bottom"},[i("div",{staticClass:"name"},[t._v("套餐类别")]),t._v(" "),i("ul",{staticClass:"type-list"},t._l(a.packageRefuelList,(function(a,e){return i("li",{key:e,staticClass:"type-item"},[t._v(t._s(a.duration)+"天")])})),0)])])]),t._v(" "),i("div",{staticClass:"table-view-cell-arrow"},[t._v("前往开通"),i("van-icon",{attrs:{name:"arrow"}})],1)]):i("img",{staticClass:"set-meal",attrs:{src:a.pic,alt:""}})])})),0)])],1),t._v(" "),i("div",{staticClass:"invite-btn",class:{active:t.isShowInviteBtn},on:{click:function(a){return a.stopPropagation(),t.inviteClick(a)}}},[t._v("我的邀约")]),t._v(" "),i("div",{staticClass:"invite-btn2",class:{active:t.isShowInviteBtn},on:{click:function(a){return a.stopPropagation(),t.toMealDesc(a)}}},[t._v("套餐说明")]),t._v(" "),i("van-popup",{staticClass:"has-meal-popup",model:{value:t.isShowMealPopup,callback:function(a){t.isShowMealPopup=a},expression:"isShowMealPopup"}},[i("p",{staticClass:"content"},[t._v("抱歉，您已开通"+t._s(t.indexPackageList.orderDetailModel.packageRefuelName)+"套餐需退出当前套餐方可开通本套餐")]),t._v(" "),i("div",{staticClass:"btn-container"},[i("van-button",{staticClass:"cancel-btn",attrs:{color:"#fff",type:"primary"},on:{click:function(a){t.isShowMealPopup=!1}}},[t._v("取消")]),t._v(" "),i("van-button",{staticClass:"confirm-btn",attrs:{color:"#F02C2D",type:"primary"},on:{click:t.viewPackageDetail}},[t._v("查看已开通套餐")])],1)])],1)}),[],!1,null,"1bdd65a4",null);a.default=n.exports},DlT7:function(t,a,i){},p1Pm:function(t,a,i){"use strict";var e=i("DlT7");i.n(e).a}}]);