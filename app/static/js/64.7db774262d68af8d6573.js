(window.webpackJsonp=window.webpackJsonp||[]).push([[64],{"6zDU":function(e,t,r){"use strict";r.r(t);var s=r("L2JU"),o=r("KJ3S"),i={name:"fuel-free",components:{},data:function(){var e=this;return{titleOption:{slidesPerView:"auto",centeredSlides:!0,loop:!1,on:{slideChange:function(){e.selectedPeriod=this.realIndex+1,e.selectedPeriod+="",e.getFuelFreeDatas()}}},selectedIndex:0,periods:null,selectedPeriod:"1",drawRosters:[],formTextColor:"color: #"}},props:["usePorpData","propData"],computed:(Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e})({},Object(s.c)(["clientWidth"]),{pageData:function(){return 1==this.usePorpData?this.propData:this.$store.state.pageData},moduleData:function(){return this.pageData.screenModule.data}}),methods:{periodSelected:function(e){this.$refs.swiper_fuelfree.swiper.slideTo(e)},getFormTextColor:function(){var e="",t=this.moduleData.formTextColor;return""!=t&&(e+="color: "+t+";"),e},getTextColor:function(){var e="",t=this.moduleData.textColor;return""!=t&&(e+="color: "+t+";"),e},getHeaderBg:function(){var e="",t=this.moduleData.headerBgColor;return""!=t&&(e+="background-color: "+t+";"),e},getPhoneStr:function(e){var t=e.userName;return/^1[0-9]{10}$/.test(t)?t.substr(0,3)+"****"+t.substr(7,4):t},getTimeStr:function(e){var t=e.refuelTime,r=new Date(t);return r.getMonth()+1+"-"+r.getDate()+" "+r.getHours()+":"+r.getMinutes()+":"+r.getSeconds()},getBgStyle:function(){var e="",t=this.moduleData.bgColor;""!=t&&(e+="background-color: "+t+";");var r=this.moduleData.bgImgUrl;return""!=r&&(e+="background: url('"+r+"') no-repeat center center / 100% 100%;"),e},getOutSideStyle:function(){var e="",t=this.moduleData.upMargin,r=this.moduleData.downMargin;t>0&&(e+="padding-top: "+t+"%;"),r>0&&(e+="padding-bottom: "+r+"%;");var s=this.moduleData.middleBgImg;return""!=s&&(e+="background: url('"+s+"') no-repeat center center / 100% 100%;"),e},getSidesStyle:function(){var e="",t=this.moduleData.sidesMargin;return t>0&&(e+="margin-left: "+t+"%; margin-right: "+t+"%;"),e},getFuelFreeDatas:function(){var e=this,t=this.$market.apiBaseURL()+"/app/json/app_refuel_free_activity_order/getDrawRoster",r={freeActId:this.moduleData.activityId,periods:this.selectedPeriod};this.$http.post(t,r).then((function(t){var r=t.data;if("0"==r.status){var s=r.data;e.periods=s.periods,e.drawRosters=s.drawRosters}}),(function(e){}))}},created:function(){var e=this;console.log(this.moduleData),this.getFuelFreeDatas(),o.a.$on("fuelRefresh",(function(){e.selectedPeriod="1",e.getFuelFreeDatas()}))}},a=(r("zvZc"),r("KHd+")),l=Object(a.a)(i,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.$market.moduleIsShow(e.moduleData)?r("div",{staticClass:"fuel-free",style:e.getBgStyle()},[""!=e.moduleData.topImg?r("div",{staticClass:"block-img"},[r("img",{attrs:{src:e.moduleData.topImg}})]):e._e(),e._v(" "),r("div",{staticClass:"fuel-free-content",style:e.getOutSideStyle()},[r("div",{staticClass:"content",style:e.getSidesStyle()},[r("div",{staticClass:"title-row"},[e.periods&&e.periods.length>1?r("swiper",{ref:"swiper_fuelfree",attrs:{options:e.titleOption}},e._l(e.periods,(function(t,s){return r("swiper-slide",{key:s},[r("div",{staticClass:"text",class:{activity:0==e.selectedIndex},style:e.getTextColor(),on:{click:function(t){return e.periodSelected(s)}}},[e._v("第"+e._s(t)+"期中奖名单")])])})),1):r("swiper",{ref:"swiper_fuelfree",attrs:{options:e.titleOption}},e._l(e.periods,(function(t,s){return r("swiper-slide",{key:s},[r("div",{staticClass:"text",class:{activity:0==e.selectedIndex},style:e.getTextColor(),on:{click:function(t){return e.periodSelected(s)}}},[e._v("本期中奖名单")])])})),1)],1),e._v(" "),r("div",{staticClass:"fuel-free-form"},[r("div",{staticClass:"row header line_bottom",style:e.getHeaderBg()},[r("div",{staticClass:"row-d",style:e.getTextColor()},[e._v("手机号")]),e._v(" "),r("div",{staticClass:"row-d",style:e.getTextColor()},[e._v("加油时间")]),e._v(" "),r("div",{staticClass:"row-d",style:e.getTextColor()},[e._v("加油站")]),e._v(" "),r("div",{staticClass:"row-d",style:e.getTextColor()},[e._v("奖品")])]),e._v(" "),r("div",{staticClass:"form-scroll"},e._l(e.drawRosters,(function(t,s){return r("div",{key:s,staticClass:"row line_bottom"},[r("div",{staticClass:"row-d single-line",style:e.getFormTextColor()},[e._v(e._s(e.getPhoneStr(t)))]),e._v(" "),r("div",{staticClass:"row-d single-line",style:e.getFormTextColor()},[e._v(e._s(e.getTimeStr(t)))]),e._v(" "),r("div",{staticClass:"row-d single-line",style:e.getFormTextColor()},[e._v(e._s(t.ouName))]),e._v(" "),r("div",{staticClass:"row-d single-line",style:e.getFormTextColor()},[e._v(e._s(t.draw))])])})),0),e._v(" "),r("div",{staticClass:"line line1"}),e._v(" "),r("div",{staticClass:"line line2"}),e._v(" "),r("div",{staticClass:"line line3"})])])]),e._v(" "),""!=e.moduleData.bottomImg?r("div",{staticClass:"block-img"},[r("img",{attrs:{src:e.moduleData.bottomImg}})]):e._e()]):e._e()}),[],!1,null,"473f50f9",null);t.default=l.exports},OSpK:function(e,t,r){},zvZc:function(e,t,r){"use strict";var s=r("OSpK");r.n(s).a}}]);