(window.webpackJsonp=window.webpackJsonp||[]).push([[878],{GbMU:function(e,t,a){"use strict";var s=a("rNgp");a.n(s).a},Nfoa:function(e,t,a){"use strict";a.r(t);var s={name:"index",components:{AdPage:a("mbR2").a,PreviewComponent:function(){return a.e(23).then(a.bind(null,"v/Xm"))}},data:function(){return{adPageKey:"",pageIsShow:!1,pageData:{}}},computed:{getTopHeight:function(){return this.$store.state.barHeight}},methods:{pageShow:function(){var e=this.$refs.activity_preview;e&&e.pageShow&&e.pageShow()},setScrollSite:function(e){var t=this.$refs.activity_preview;t&&t.setScrollSite&&t.setScrollSite(e)},getScrollSite:function(){var e=this.$refs.activity_preview;return e&&e.getScrollSite?e.getScrollSite():0},getPageData:function(){var e=this,t={};"4"==this.$store.state.deployType&&(t.storeOuCode=this.$store.state.refuelStation.stationCode||"1"),t.isAppActivity="1",t.webType="1","1"==this.$store.state.webtype?t.webType="1":"2"==this.$store.state.webtype?t.webType="2":"3"==this.$store.state.webtype?t.webType="3":"4"==this.$store.state.webtype?t.webType="4":"5"==this.$store.state.webtype&&(t.webType="5"),t.cityName=this.$store.state.indexData.city?this.$store.state.indexData.city:"",t.provinceName=this.$store.state.indexData.province?this.$store.state.indexData.province:"",t.accessType=2,t.osType=3,t.appType=1,this.$STLoading.open(),this.$http.post("/app/json/app_vue_page/vueGetPageData",t).then((function(t){var a=t.data;if(e.$STLoading.close(),0==a.status){var s=a.data;if(!s.pageDataJson)return void e.$toast("布局获取失败");var i=JSON.parse(s.pageDataJson);i.pgCode=s.pgCode,e.adPageKey="",e.pageIsShow=!1,e.$nextTick((function(){e.pageIsShow=!0,e.adPageKey="AD_Key_Common_"+s.pgCode})),e.pageData=i}else e.$Toast(a.info)})).catch((function(t){e.$Toast("网络加载较慢，请稍后重试!"),e.$STLoading.close()}))}},created:function(){this.getPageData()}},i=(a("GbMU"),a("KHd+")),o=Object(i.a)(s,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.pageIsShow?a("div",{staticClass:"index"},[a("PreviewComponent",{ref:"activity_preview",attrs:{pageData:e.pageData,barHeight:e.getTopHeight},on:{getPageData:e.getPageData}}),e._v(" "),e.adPageKey&&"4"==e.$store.state.deployType?a("AdPage",{attrs:{pageAdKeywords:e.adPageKey}}):e._e()],1):e._e()}),[],!1,null,"26e337a1",null);t.default=o.exports},rNgp:function(e,t,a){}}]);