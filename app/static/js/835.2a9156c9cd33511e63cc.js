(window.webpackJsonp=window.webpackJsonp||[]).push([[835],{RZbh:function(t,e,s){"use strict";var n=s("TGEx");s.n(n).a},TGEx:function(t,e,s){},noU9:function(t,e,s){"use strict";s.r(e);var n={name:"bind-phone",components:{CountButton:s("uQt8").a},data:function(){return{msgCode:""}},watch:{msgCode:function(t){this.msgCode=this.$util.checkVerifyCodeLenght(this.msgCode)}},methods:{getCheckOutFun:function(){var t=this;if(""!=this.msgCode){this.$Loading.open();var e={phone:this.$store.state.login.phone,thirdUserId:this.$route.query.thirdUserId?this.$route.query.thirdUserId:"",smsVerifyCode:this.msgCode,regChannel:this.$route.query.regChannel?this.$route.query.regChannel:"",bindType:this.$route.query.bindType,token:this.$store.state.login.token};this.$http.post("/app/json/user/bindThirdUser",e).then((function(e){t.$Loading.close(),console.log(e.data);var s=e.data;0==s.status?t.$MessageBox.alert("绑定成功!","提示").then((function(e){t.backEvent()})):t.$Toast(s.info)}),(function(e){t.$Loading.close(),t.$Toast("系统运行过程中遇到问题，请稍候再试")}))}else this.$Toast("请输入短信验证码")},backEvent:function(){this.$router.go(-1)},getMsgCode:function(t,e){var s=this;this.$refs.countBtn.startTime(),this.$Loading.open();var n={smsType:"1020",phone:this.$store.state.login.phone,imgVerifyCode:t,uuid:e};this.$http.post("/app/json/login/sendSms",n).then((function(t){s.$Loading.close(),console.log(t.data);var e=t.data;0==e.status?(console.log(e),s.$Toast("获取验证码成功")):(s.$refs.countBtn.resetClock(),s.$Toast(e.info?e.info:"获取短信验证码失败"))}),(function(t){s.$Loading.close(),s.$refs.countBtn.resetClock(),s.$Toast("系统运行过程中遇到问题，请稍候再试")}))}},created:function(){}},o=(s("RZbh"),s("KHd+")),i=Object(o.a)(n,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"bind-phone login2"},[s("nav-top",{on:{backEvent:t.backEvent}}),t._v(" "),s("nav-content",[s("div",{staticClass:"login-div"},[s("div",{staticClass:"text-input"},[s("div",{staticClass:"cell-phone"},[s("span",{staticClass:"input-text"},[t._v(t._s(t.$store.state.login.phone))])])]),t._v(" "),s("div",{staticClass:"passwords-input"},[s("div",{staticClass:"passwords"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.msgCode,expression:"msgCode"}],attrs:{placeholder:"请输入短信验证码"},domProps:{value:t.msgCode},on:{input:function(e){e.target.composing||(t.msgCode=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"forget-btn"},[s("count-button",{ref:"countBtn",staticClass:"theme_font_red_i",attrs:{phone:t.$store.state.login.phone},on:{getSmsEvent:t.getMsgCode}})],1)]),t._v(" "),s("div",{staticClass:"common-btn theme_bg_red theme_font_white mt100",on:{click:function(e){return t.getCheckOutFun()}}},[t._v("提交")])])])],1)}),[],!1,null,"ff3cb082",null);e.default=i.exports}}]);