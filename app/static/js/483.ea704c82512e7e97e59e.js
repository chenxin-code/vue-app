(window.webpackJsonp=window.webpackJsonp||[]).push([[483],{"2DrD":function(t,e,i){},"5o1X":function(t,e,i){t.exports=i.p+"static/img/dzf.4388a0e.png"},Kp9K:function(t,e,i){"use strict";var s=i("2DrD");i.n(s).a},iOu2:function(t,e){t.exports="data:image/png;base64,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"},p4tH:function(t,e,i){"use strict";i.r(e);var s={data:function(){return{month:"",day:"",hour:"",min:"",second:"",millisecond:"",orderDetail:null,fromPage:"",firmdetailSubject:"加油凭证",orderId:"",ouCode:"",detailView:!1,source:0}},filters:{formatState:function(t){var e="";return 1==t?e="待支付":3==t?e="已支付":7!=t&&8!=t||(e="已取消"),e}},computed:{discountAmountCom:function(){return(Number(this.orderDetail.couponAmount)||0)+(Number(this.orderDetail.pointsAmount)||0)+(Number(this.orderDetail.discountAmount)||0)+(Number(this.orderDetail.rewardsAmount)||0)+(Number(this.orderDetail.empRewardsAmount)||0)+(Number(this.orderDetail.enterpriseAmount)||0)+(Number(this.orderDetail.randomDeductionAmount)||0)},refuelCardNo:function(){return(this.orderDetail?this.orderDetail.refuelCardNo:"").slice(-6)||""},isScan:function(){return"/firmHistoryScanDetail"===this.$route.path},payTypeStr:function(){var t=this.orderDetail.payMode;return payHelper.getPayWayStr(t)}},created:function(){this.source=this.$route.query.source,this.orderType=this.$route.query.orderType,this.orderId=this.$route.query.orderId,this.fromPage=this.$route.query.fromPage,1==this.fromPage&&this.counttime()},methods:{firmData:function(t){this.detailView=t.pageView},settleMobelAmount:function(t,e){return(t||0)+(e||0)},goEvaluation:function(){var t=this;this.$Loading.open();var e={token:this.$store.state.login.token,orderId:this.orderId};this.$http.post("/app/json/questionaire/getQuestionaireByOrderid",e).then((function(e){t.$Loading.close(),0==e.data.status?t.detailView=!0:t.detailView=!1}),(function(e){t.$Loading.close(),t.$Toast("请求数据失败！")}))},queryHandle:function(){var t=this;this.queryState().then((function(e){t.$toast("刷新完毕"),1==e&&t._getOrderDetail()}))},repayment:function(t){this.$router.push({path:"/offline_payment/confirm_bill",query:{source:1}})},cancelOrderHandler:function(t){var e=this;this.$dialog.confirm({message:"确定取消当前订单吗？"}).then((function(){e.cancelOrder(t)}))},cancelOrder:function(t){var e=this,i={token:this.$store.state.login.token,orderType:t.orderType,orderId:t.id},s="/app/json/refuel_center/cancelOrder";100002002==t.orderType&&(s="/app/json/refuel_scan_code/cancelOrder"),this.$http.post(s,i).then((function(t){var i=t.data;0==i.status?(e.$Toast("支付已取消"),e._getOrderDetail()):e.$Toast(i.info)}))},invoiceUse:function(t){var e="";return 0===t?e="未开票":1===t?e="已开票":2===t&&(e="开票中"),e},backEvent:function(){this.$router.go(-1)},counttime:function(){var t=new Date;this.month=t.getMonth()+1,this.day=t.getDate(),this.hour=t.getHours(),this.min=this.padZero(t.getMinutes()),this.second=this.padZero(t.getSeconds()+1),this.millisecond=this.padZero(t.getMilliseconds(),3);var e=this;clearTimeout(this.timer),this.timer=setTimeout((function(){e.counttime()}),1)},_getOrderDetail:function(){var t=this;this.$Loading.open();var e="/app/json/refuel_center/detail";this.isScan&&(e="/app/json/refuel_scan_code/detail");var i={token:this.$store.state.login.token,orderType:this.orderType,orderId:this.orderId};this.$http.post(e,i).then((function(e){t.$Loading.close();var i=e.data;0==i.status?(t.orderDetail=i.data||{},t.payData=i.data||{},t.ouCode=i.data.storeOuCode):t.$Toast(i.info)}),(function(e){t.$Loading.close(),t.$Toast("请求数据失败！")}))},padZero:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,i=t+"";return("0000".substr(0,e)+i).substr(i.length)}}},a=(i("Kp9K"),i("KHd+")),r=Object(a.a)(s,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"firmdetail"},[s("nav-top",{attrs:{title:"凭证详情"},on:{backEvent:function(e){return t.$router.go(-1)}}}),t._v(" "),s("nav-content",{staticClass:"firmdetail-recharge-details"},[[s("div",{staticClass:"top-show"},[s("div",{staticClass:"title"},[s("div",{staticClass:"num"},[t._v("¥234")]),t._v(" "),s("div",{staticClass:"img"},[s("img",{attrs:{src:i("iOu2"),alt:""}}),t._v("加油站\n            ")])]),t._v(" "),s("div",{staticClass:"card"},[s("div",{staticClass:"table-view"},[s("div",{staticClass:"table-view-cell"},[s("div",{staticClass:"table-view-cell-text"},[s("div",{staticClass:"left"},[t._v("便利店编码")]),t._v(" "),s("div",{staticClass:"right"},[t._v("123123")])])]),t._v(" "),s("div",{staticClass:"table-view-cell"},[s("div",{staticClass:"table-view-cell-text"},[s("div",{staticClass:"left"},[t._v("员工编号")]),t._v(" "),s("div",{staticClass:"right"},[t._v("23423")])])]),t._v(" "),s("div",{staticClass:"table-view-cell"},[s("div",{staticClass:"table-view-cell-text"},[s("div",{staticClass:"left"},[t._v("员工姓名")]),t._v(" "),s("div",{staticClass:"right"},[t._v("12312")])])]),t._v(" "),s("div",{staticClass:"table-view-cell"},[s("div",{staticClass:"table-view-cell-text"},[s("div",{staticClass:"left"},[t._v("员工手机号")]),t._v(" "),s("div",{staticClass:"right"},[t._v("23423")])])])])]),t._v(" "),s("div",{staticClass:"card"},[s("div",{staticClass:"table-view"},[s("div",{staticClass:"table-view-cell"},[s("div",{staticClass:"table-view-cell-text"},[s("div",{staticClass:"left"},[t._v("支付方式")]),t._v(" "),s("div",{staticClass:"right"},[t._v("234234")])])]),t._v(" "),s("div",{staticClass:"table-view-cell"},[s("div",{staticClass:"table-view-cell-text"},[s("div",{staticClass:"left"},[t._v(t._s(2==t.source?"商品付款类型":"油品名称"))]),t._v(" "),s("div",{staticClass:"right"},[t._v("12312")])])]),t._v(" "),s("div",{staticClass:"table-view-cell"},[s("div",{staticClass:"table-view-cell-text"},[s("div",{staticClass:"left"},[t._v("创建时间")]),t._v(" "),s("div",{staticClass:"right"},[t._v("234")])])])])]),t._v(" "),s("div",{staticClass:"card"},[s("div",{staticClass:"table-view"},[s("div",{staticClass:"table-view-cell"},[s("div",{staticClass:"table-view-cell-text"},[s("div",{staticClass:"left"},[t._v("订单编号")]),t._v(" "),s("div",{staticClass:"right"},[t._v("123123")])])]),t._v(" "),s("div",{staticClass:"table-view-cell"},[s("div",{staticClass:"table-view-cell-text"},[s("div",{staticClass:"left"},[t._v("交易总金额")]),t._v(" "),s("div",{staticClass:"right"},[t._v("¥213123")])])]),t._v(" "),s("div",{staticClass:"table-view-cell"},[s("div",{staticClass:"table-view-cell-text"},[s("div",{staticClass:"left"},[t._v("支付完成时间")]),t._v(" "),s("div",{staticClass:"right"},[t._v("¥213123")])])])])]),t._v(" "),s("div",{staticClass:"pay-btn"},[s("div",{staticClass:"con wait-pay",staticStyle:{"margin-right":"15px"},on:{click:function(e){return t.cancelOrderHandler(t.orderDetail)}}},[t._v("取消订单")]),t._v(" "),s("div",{staticClass:"con wait-pay",on:{click:function(e){return t.repayment(t.orderDetail)}}},[t._v("重新支付")])])]),t._v(" "),s("div",{staticClass:"state"},[s("img",{staticClass:"icon",attrs:{src:i("5o1X"),alt:""}})])]],2)],1)}),[],!1,null,"7bed8330",null);e.default=r.exports}}]);