(window.webpackJsonp=window.webpackJsonp||[]).push([[446],{ZPgu:function(e,t,s){"use strict";t.a={yjUrl:"https://yhb.uhuitong.com"}},aO4Z:function(e,t){e.exports="data:image/png;base64,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"},hdVy:function(e,t,s){"use strict";s.r(t);var a=s("ygAv"),i=s("2nGb"),n=(s("p46w"),s("ZPgu")),o=s("W34l"),c={data:function(){return{tabList:[{text:"套餐说明",type:1,showClick:!1},{text:"我的邀约",type:2,showClick:!1},{text:"历史签约",type:3,showClick:!1}],dropmenuShow:!1,ind:0,date:"",columns:[],columnsPeople:["2人","3人"],show:!1,showPeople:!1,radio:1,peopleNumList:[{text:"双人",type:1},{text:"三人",type:2}],showShare:!1,type:1,allPackage:{},desc:"",shareDetails:{},details:[],packageRefuel:"",peopleNum:"",name:"",rfrCode:""}},mounted:function(){this.date=a.a.getNextMinutes(),this.allPackage=JSON.parse(this.$route.query.allPackage)||{},this.type=this.$route.query.type,this.dealData()},methods:{cancelClickBtn:function(){this.dropmenuShow=!1,this.tabList.forEach((function(e){e.showClick=!1}))},signPackageRefuel:function(){var e=this,t=this.$route.query.overdueDate;t&&(this.date=a.a.getNextMinutesValOne(t)),this.$request.post("/app/json/app_package_refuel/signPackageRefuel",{packageRefuelId:this.packageRefuel.id,startDate:this.date,rfrCode:this.rfrCode,rfrCodeType:"1",id:"",inviteeIds:""}).then((function(s){0===s.status?e.$router.push({path:"/success",query:{overdueDate:t}}):e.$Toast(s.info?s.info:"获取列表失败")}))},inviteSignPackageRefuel:function(){var e=this,t=this.$route.query.overdueDate;t&&(this.date=a.a.getNextMinutesValOne(t)),this.$request.post("/app/json/app_package_refuel/inviteSignPackageRefuel",{packageRefuelId:this.packageRefuel.id,startDate:this.date,rfrCode:this.rfrCode,rfrCodeType:"1",signUpNum:this.peopleNum}).then((function(t){if(0===t.status)if(console.log("我是webtype"),console.log(e.$store.state.webtype),2==e.$store.state.webtype){var s={title:e.details.packageRefuelName,sharetext:"好友邀请您一起来开通加油家庭套餐啦，加油返利更省钱",imageurl:e.details.pic,detailurl:n.a.yjUrl+"/wxweb/extend?actionUrl="+encodeURIComponent(i.a.shareUrl+"/invitation-details?shareId="+e.details.id)};o.a.getWechatSignature((function(e){e?o.a.wxSetShareData(s):console.log("签名失败")}))}else e.$bridgefunc._appShare(e.shareDetails.name,n.a.yjUrl+"/wxweb/extend?actionUrl="+encodeURIComponent(i.a.shareUrl+"/invitation-details?shareId="+t.data.id),e.shareDetails.pic,"好友邀请您一起来开通加油家庭套餐啦，加油返利更省钱");else e.$Toast(t.info?t.info:"获取列表失败")}))},shareBtn:function(){this.inviteSignPackageRefuel()},dealData:function(){var e=this;console.log(this.allPackage),this.allPackage.forEach((function(t){e.columns.push({text:t.name,type:t.packageType}),console.log(e.$route.query.id),e.type==t.packageType&&(console.log(t),e.shareDetails=t,e.columnsPeople=e.shareDetails.canSignUpNum.split(","),e.details=e.shareDetails.packageRefuelList,e.packageRefuel=e.details[0],e.name=e.shareDetails.name,e.desc=e.packageRefuel.desc,e.peopleNum=e.columnsPeople[0],console.log(e.packageRefuel))}))},showTab:function(e){e.showClick=!0,this.tabList.forEach((function(t){e!=t&&(t.showClick=!1)}))},linkTo:function(e){e.showClick,1==e.type?this.$router.push({path:"/instructions"}):2==e.type?this.$router.push({path:"/my-invitation"}):this.$router.push({path:"/history-invitation"})},changeType:function(e,t){console.log(e),this.desc=e.desc,this.ind=t,this.packageRefuel=e},onConfirm:function(e){this.show=!1,this.type=e.type,this.columns=[],this.ind=0,this.dealData()},onConfirmPeople:function(e){this.peopleNum=e,this.showPeople=!1},openBtn:function(){2==this.type?this.showShare=!0:this.signPackageRefuel()}},components:{}},l=(s("wnQx"),s("KHd+")),r=Object(l.a)(c,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"open-allPackage",on:{click:e.cancelClickBtn}},[a("nav-top",{attrs:{title:"开通套餐"},on:{backEvent:function(t){return e.$router.go(-1)}}},[a("i",{staticClass:"iconfont mall-gengduo",on:{click:function(t){t.stopPropagation(),e.dropmenuShow=!e.dropmenuShow}}})]),e._v(" "),a("nav-content",{staticClass:"open-allPackage-container"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.dropmenuShow,expression:"dropmenuShow"}],staticClass:"dropmenu",on:{click:function(e){e.stopPropagation()}}},e._l(e.tabList,(function(t,s){return a("div",{key:s,staticClass:"dropmenu-item",on:{click:function(s){return e.linkTo(t)}}},[e._v(e._s(t.text))])})),0),e._v(" "),a("div",{staticClass:"info"},[a("div",{staticClass:"main"},[a("div",{staticClass:"card special"},[a("div",{staticClass:"left"},[e._v("套餐类型")]),e._v(" "),a("div",{staticClass:"right",on:{click:function(t){e.show=!0}}},[e._v(e._s(e.name)+" "),a("van-icon",{attrs:{size:"18px",name:"ellipsis"}})],1)]),e._v(" "),a("div",{staticClass:"card change date"},[a("div",{staticClass:"left"},[e._v("套餐选择")]),e._v(" "),a("ul",{staticClass:"type-list"},e._l(e.details,(function(t,s){return a("li",{key:s,staticClass:"type-item",class:{active:e.ind==s},on:{click:function(a){return e.changeType(t,s)}}},[a("div",{staticClass:"text"},[e._v(e._s(t.duration)+"天")])])})),0)]),e._v(" "),1==e.type?a("div",{staticClass:"card"},[a("div",{staticClass:"left"},[e._v("开通日期")]),e._v(" "),a("div",{staticClass:"right"},[e._v(e._s(e.date))])]):a("div",{staticClass:"table-view people",on:{click:function(t){e.showPeople=!0}}},[a("div",{staticClass:"table-view-cell"},[a("div",{staticClass:"table-view-cell-text"},[e._v("选择套餐人数")]),e._v(" "),a("div",{staticClass:"table-view-cell-arrow"},[e._v(e._s(e.peopleNum))])])]),e._v(" "),a("div",{staticClass:"card special code"},[a("div",{staticClass:"left"},[e._v("邀请码")]),e._v(" "),a("div",{staticClass:"right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.rfrCode,expression:"rfrCode"}],staticClass:"inp",attrs:{type:"text",placeholder:"非必填"},domProps:{value:e.rfrCode},on:{input:function(t){t.target.composing||(e.rfrCode=t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"card change"},[a("div",{staticClass:"left"},[e._v("套餐优惠规则")]),e._v(" "),a("div",{staticClass:"content",domProps:{innerHTML:e._s(e.desc)}})])]),e._v(" "),a("div",{staticClass:"btn",on:{click:e.openBtn}},[e._v(e._s(1==e.type?"一键开通":"邀请开通"))]),e._v(" "),a("van-popup",{attrs:{position:"bottom"},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[a("van-picker",{attrs:{"show-toolbar":"",title:"套餐类型选择",columns:e.columns},on:{cancel:function(t){e.show=!1},confirm:e.onConfirm}})],1),e._v(" "),a("van-popup",{attrs:{position:"bottom"},model:{value:e.showPeople,callback:function(t){e.showPeople=t},expression:"showPeople"}},[a("van-picker",{attrs:{"show-toolbar":"",title:"开通人数选择",columns:e.columnsPeople},on:{cancel:function(t){e.showPeople=!1},confirm:e.onConfirmPeople}})],1),e._v(" "),a("van-popup",{attrs:{position:"bottom"},model:{value:e.showShare,callback:function(t){e.showShare=t},expression:"showShare"}},[a("div",{staticClass:"share-content"},[a("div",{staticClass:"title"},[e._v("邀请好友一同开通家庭套餐")]),e._v(" "),a("div",{staticClass:"share-main",on:{click:e.shareBtn}},[a("div",{staticClass:"img"},[a("img",{attrs:{src:s("aO4Z"),alt:""}})]),e._v(" "),a("div",{staticClass:"text"},[e._v("微信好友")])]),e._v(" "),a("div",{staticClass:"btn",on:{click:function(t){e.showShare=!1}}},[e._v("取消")])])])],1),e._v(" "),a("div",{staticClass:"tab",on:{click:function(e){e.stopPropagation()}}},e._l(e.tabList,(function(t,s){return a("div",{key:s,staticClass:"item",on:{click:function(s){return e.showTab(t)}}},[a("div",{staticClass:"text",class:{active:t.showClick},on:{click:function(s){return e.linkTo(t)}}},[e._v(e._s(t.text.substr(0,2))),a("br"),e._v(e._s(t.text.substr(2,2)))])])})),0)])],1)}),[],!1,null,"6f5e1f8a",null);t.default=r.exports},rjmP:function(e,t,s){},wnQx:function(e,t,s){"use strict";var a=s("rjmP");s.n(a).a}}]);