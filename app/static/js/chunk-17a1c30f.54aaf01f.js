(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-17a1c30f","chunk-a8f2ea64"],{"333a":function(t,e,s){},"69f4":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"countdown",class:{quan:"theme_bg_quan"==t.type}},[0==t.d||t.hiddenDay?t._e():s("div",{staticClass:"red-div theme_font_white",class:[t.type||"theme_bg_red"]},[t._v(t._s(t.d))]),0==t.d||t.hiddenDay?t._e():s("span",[t._v("天")]),s("div",{staticClass:"red-div theme_font_white",class:[t.type||"theme_bg_red"]},[t._v(t._s(t.h))]),t._v(" : "),s("div",{staticClass:"red-div theme_font_white",class:[t.type||"theme_bg_red"]},[t._v(t._s(t.m))]),t._v(" : "),s("div",{staticClass:"red-div theme_font_white",class:[t.type||"theme_bg_red"]},[t._v(t._s(t.s))])])},a=[],n=(s("4795"),s("e25e"),s("9d5d")),r={name:"countdown",props:["endTime","type","hiddenDay","callback"],components:{},data:function(){return{d:"0",h:"00",m:"00",s:"00",trigger:!0}},methods:{parsingTime:function(){var t=this;if(this.endTime){var e=this.$store.state.severTime.currentTime,s=this.endTime,i=s-e;this.d=0,this.h="0",this.m="0",this.s="0",i<0?this.trigger&&(this.trigger=!1,setTimeout((function(){t.$emit("timeOut")}),1e3)):(this.trigger=!0,i>59?(this.s=i%60,i=parseInt(i/60),i>59?(this.m=i%60,i=parseInt(i/60),i>23?(this.h=parseInt(i%24),i=parseInt(i/24),this.d=i):this.h=i):this.m=i):i>=0&&(this.s=i),this.h<10&&(this.h="0"+this.h),this.m<10&&(this.m="0"+this.m),this.s<10&&(this.s="0"+this.s))}}},created:function(){this.parsingTime(),n["a"].heartbeat()},destroyed:function(){n["a"].removeHeartbeat()},watch:{"$store.state.severTime.currentTime":function(){this.parsingTime()}}},c=r,o=(s("d49f"),s("0c7c")),l=Object(o["a"])(c,i,a,!1,null,"65b2d2d6",null);e["default"]=l.exports},"9d5d":function(t,e,s){"use strict";s("4795"),s("e25e"),s("0d03");var i,a=s("653a"),n=0,r={heartbeat:function(){n++,i||(i=window.setInterval((function(){var t=parseInt((new Date).getTime()/1e3);a["a"].state.severTime.currentTime=t+a["a"].state.severTime.jetlag}),1e3))},removeHeartbeat:function(){n>0&&n--,0==n&&(window.clearInterval(i),i=null)}};e["a"]=r},aa8a:function(t,e,s){"use strict";s.r(e);var i,a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"oil-group-share"},[s("nav-top",{on:{backEvent:function(e){return t.$router.go(-1)}}}),t.complete?s("nav-content",{staticClass:"oil-group-share-container"},[s("div",{staticClass:"share"},[s("div",{staticClass:"group-details"},[s("div",{staticClass:"img-text"},[s("div",{staticClass:"img"},[s("img",{attrs:{src:t.shareDetail.image,alt:""}})]),s("div",{staticClass:"text"},[s("div",{staticClass:"name"},[t._v(t._s(t.shareDetail.assembleName))]),s("div",{staticClass:"tips"},[s("div",{staticClass:"left"},[t._v("拼团中("+t._s(1==t.shareDetail.assembleState?"未成团":"已成团")+")")])])])]),s("div",{staticClass:"details"},[s("div",{staticClass:"main"},[s("div",{staticClass:"info"},[s("div",{staticClass:"progress"},[s("van-progress",{attrs:{color:t.shareDetail.joinNumber<t.shareDetail.groupNumber?"#F80F16":"#009800",percentage:t.percentage,"show-pivot":t.showPivot}})],1),t.shareDetail.joinNumber<t.shareDetail.groupNumber?s("div",{staticClass:"tips"},[t._v("当前参团人数为"),s("span",{staticClass:"num"},[t._v(t._s(t.shareDetail.joinNumber))]),t._v("人，再有"),s("span",{staticClass:"num"},[t._v(t._s((t.shareDetail.groupNumber-t.shareDetail.joinNumber).toFixed(0)))]),t._v("人参加才可拼团成功")]):s("div",{staticClass:"tips"},[t._v("当前参团人数为"),s("span",{staticClass:"num"},[t._v(t._s(t.shareDetail.joinNumber))]),t._v("人，只剩"),s("span",{staticClass:"num"},[t._v(t._s((t.shareDetail.groupUpLimit-t.shareDetail.joinNumber).toFixed(0)))]),t._v("个参团名额")])])])])]),s("div",{staticClass:"group-details"},[s("div",{staticClass:"title"},[t._v("参团优惠规则")]),s("div",{staticClass:"content",domProps:{innerHTML:t._s(t.shareDetail.activityDesc)}})]),t.success?s("div",{staticClass:"tips"},[t._v("加入成功！点击"),s("span",{staticClass:"special",on:{click:t.openDetails}},[t._v("前速查看")]),t._v("可前往查看拼团详情")]):t._e(),s("div",{staticClass:"btn-show"},[s("div",{staticClass:"time"},[t._v(" 还剩："),s("countdown",{attrs:{endTime:t.$util.getDateFromString(this.shareDetail.endTime),type:"theme_bg_white"}})],1),s("div",{staticClass:"btn",on:{click:t.addAssembleUser}},[t._v("接受邀请")])])]),s("van-dialog",{attrs:{confirmButtonText:"取消"},on:{confirm:function(e){t.show=!1}},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[s("div",{staticClass:"pop-tips"},[t._v("邀请链接已失效")])])],1):t._e()],1)},n=[],r=s("ade3"),c=(s("1075"),s("f600")),o=(s("0d03"),s("a9e3"),s("e25e"),s("b0c0"),s("69f4")),l={data:function(){return{complete:!1,success:!1,show:!1,showPivot:!1,shareDetail:{},percentage:0}},mounted:function(){this.queryAssembleActivityDetail()},methods:{addAssembleUser:function(){var t=this;this.$request.post("/app/json/app_assemble_activity/addAssembleUser",{assembleId:this.shareDetail.id}).then((function(e){0==e.status?(t.queryAssembleActivityDetail(),t.$toast("参团成功"),t.success=!0):t.$Toast(e.info?e.info:"参团失败")}))},queryAssembleActivityDetail:function(){var t=this;this.$request.post("/app/json/app_assemble_activity/queryAssembleActivityDetail",{id:this.$route.query.id}).then((function(e){0==e.status?(t.shareDetail=e.data,t.dealState(),t.percentage=t.calculateProgress(),t.complete=!0):t.$Toast(e.info?e.info:"参团失败")}))},dealState:function(){var t=new Date(this.$store.state.severTime.currentTime),e=new Date(this.shareDetail.endTime);t>e&&(this.show=!0)},calculateProgress:function(){if(this.shareDetail.groupUpLimit){var t=this.shareDetail.joinNumber/this.shareDetail.groupUpLimit*100;return Number(parseInt(t))}},openDetails:function(){this.$router.push({path:"/oil-group-details",query:{id:this.$route.query.id}})}},components:(i={},Object(r["a"])(i,c["a"].name,c["a"]),Object(r["a"])(i,"countdown",o["default"]),i)},h=l,d=(s("e95d"),s("0c7c")),u=Object(d["a"])(h,a,n,!1,null,"30f164f9",null);e["default"]=u.exports},d49f:function(t,e,s){"use strict";s("333a")},da5c:function(t,e,s){},e95d:function(t,e,s){"use strict";s("da5c")}}]);