(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-14cf5472"],{"0e9c":function(t,e,n){"use strict";var r=n("b85c"),i=n("3835"),s=n("2909"),a=n("5530"),u=(n("e25e"),n("4ec9"),n("d3b7"),n("3ca3"),n("ddb0"),n("4de4"),n("b64b"),n("b8bf"),n("2f62"));e["a"]={data:function(){return{stepsValue:{IDcard:"身份证",DriverCard:"驾驶证",DrivingCard:"行驶证"},Verification:{name:"姓名",imgFront:"身份证正面",imgBehind:"身份证背面",selfImageUrl:"手持身份证",idcardNum:"身份证号",sex:"性别",imageUrl:"驾驶证首页",imageUrl2:"驾驶证副页",backImageUrl:"驾驶证背面",driveCode:"证号",driveDocNo:"档案编号",licenceCore:"驾驶证背面编号",imageUrl3:"行驶证首页",plateNum:"车牌号",ownerName:"所有人姓名",vin:"车辆识别代号",engineNum:"发动机号",vehType:"车辆类型"},groupClassify:"/app/json/user/getClusterCategoryList",industryClusterUrl:"/app/json/user/industryCluster",checkIdentifyAllDetail:"/app/json/user/checkIdentifyAllDetail",identifySubmmitUrl:"/app/json/user/identifySubmmit",driverInfoSubmmitUrl:"/app/json/user/driverInfoSubmmit",bindVehicleUrl:"/app/json/user/bindVehicle",submmitIndustryUrl:"/app/json/user/submmitIndustry",findIdentifyClusterInfoUrl:"/app/json/user/findIdentifyClusterInfo",openOrCloseIndustryUrl:"/app/json/user/openOrCloseIndustry",checkBindOilCardUrl:"/app/json/user/isOnceBind"}},computed:Object(a["a"])({},Object(u["c"])(["userInfo"])),components:{},created:function(){},methods:{regIdNo:function(t){var e=/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/;return e.test(t)},plateNumber:function(t){var e=/(^[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领A-Z]{1}[A-Z]{1}[A-Z0-9]{4}[A-Z0-9挂学警港澳]{1}$)/;return e.test(t)},newEnergy:function(t){var e=/(^[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领A-Z]{1}[A-Z]{1}(([0-9]{5}[DF])|([DF][A-HJ-NP-Z0-9][0-9]{4}))$)/;return e.test(t)},chinese:function(t){var e=/^[\u4e00-\u9fa5]+$/;return e.test(t)},englishNumbers:function(t){var e=/^[a-zA-Z0-9]{17}$/;return e.test(t)},numbers:function(t){var e=/^[0-9]{12}$/;return e.test(t)},gender:function(t){return parseInt(t.substr(16,1))%2==1?"男":"女"},mergeObj:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=new Map(Object(s["a"])(this.objToStrMap(e)).filter((function(e){var r=Object(i["a"])(e,2),s=r[0];r[1];return t.objToStrMap(n).has(s)})));return this.strMapToObj(r)},objToStrMap:function(t){for(var e=new Map,n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];e.set(i,t[i])}return e},strMapToObj:function(t){var e,n=Object.create(null),s=Object(r["a"])(t);try{for(s.s();!(e=s.n()).done;){var a=Object(i["a"])(e.value,2),u=a[0],o=a[1];n[u]=o}}catch(c){s.e(c)}finally{s.f()}return n},cardListType:function(t){var e="";switch(t){case 0:e="";break;case 1:e="已认证";break;case 2:e="已关闭";break;case 3:e="已移除";break;case 4:e="已解散";break;case 5:e="待审核";break;case 6:e="已失败";break}return e},imgBg:function(t){var e="";return e=0==t?"":1==t?"标签1@2x":5==t?"标签3@2x":"标签2@2x",e}}}},"493d":function(t,e,n){"use strict";n("b337")},"4ec9":function(t,e,n){"use strict";var r=n("6d61"),i=n("6566");t.exports=r("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),i)},"986e":function(t,e,n){"use strict";var r=n("a026");e["a"]=new r["default"]},a350:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"box"},[n("nav-top",{attrs:{title:t.enableServiceTerms?"服务条款":"行业认证"},on:{backEvent:t.backEvent}}),t.showDetail?n("nav-content",[0==t.getIndustryDetail.userClusterModel.industryState&&t.isAuthentication&&!t.enableServiceTerms?n("authentication",{attrs:{getIndustryDetail:t.getIndustryDetail}}):t._e(),!t.enableServiceTerms&&1==t.getIndustryDetail.userClusterModel.industryState||2==t.getIndustryDetail.userClusterModel.industryState||3==t.getIndustryDetail.userClusterModel.industryState||5==t.getIndustryDetail.userClusterModel.industryState||6==t.getIndustryDetail.userClusterModel.industryState?n("group",{attrs:{getIndustryDetail:t.getIndustryDetail}}):t._e(),t.enableServiceTerms&&0==t.getIndustryDetail.userClusterModel.industryState?n("div",{staticClass:"enableService"},[n("div",{staticClass:"rule-content"},[n("div",{domProps:{innerHTML:t._s(t.getIndustryDetail.userClusterModel.serviceTerms)}})]),n("div",{staticClass:"bottom-btns"},[n("p",[t._v("您需要充分阅读并理解本政策的内容")]),n("p",[t._v("若你同意，请点击下方按钮开始接受我们的服务!")]),n("span",{staticClass:"theme_bg_red",on:{click:t.enableServiceTermsBtn}},[t._v("同意并继续")])])]):t._e()],1):t._e(),n("div",{staticClass:"popup"},[n("van-popup",{staticClass:"popupCard",attrs:{"close-on-click-overlay":!1},model:{value:t.popupCardKa,callback:function(e){t.popupCardKa=e},expression:"popupCardKa"}},[n("div",{staticClass:"popupCardText"},[n("span",[t._v("您尚未绑定加油卡，")]),n("span",[t._v("需要绑定加油卡后方可参与活动！")])]),n("div",{staticClass:"popupCardBtn"},[n("span",{on:{click:function(e){return t.$router.go(-1)}}},[t._v("返回")]),n("span",{on:{click:t.openingCard}},[t._v("立即绑定")])])]),n("van-popup",{staticClass:"popupCard",attrs:{"close-on-click-overlay":!1},model:{value:t.industry,callback:function(e){t.industry=e},expression:"industry"}},[n("div",{staticClass:"popupCardText"},[n("span",[t._v("当前身份证信息和驾驶证信息不一致")]),n("span",[t._v("请重新提交！")])]),n("div",{staticClass:"popupCardBtn"},[n("span",{on:{click:function(e){return t.$router.go(-1)}}},[t._v("返回")]),n("span",{on:{click:t.industryBtn}},[t._v("确定")])])])],1)],1)},i=[],s=(n("caad"),n("2532"),n("d3b7"),n("3ca3"),n("ddb0"),n("0e9c")),a=(n("986e"),{name:"authenticationStatus",mixins:[s["a"]],data:function(){return{industry:!1,showDetail:!1,isAuthentication:!1,enableServiceTerms:!1,popupCardKa:!1,getIndustryDetail:{userClusterModel:{}},activeContent:{activeObj:{index:0,type:""},steps:[]},isActiveObj:{}}},mounted:function(){var t=this;this.$route.query.id?this.$request.post("/app/json/user/getIndustryDetailById",{id:this.$route.query.id}).then((function(e){var n=e.data;0==e.status?(t.getIndustryDetail=n||{},t.$route.query.replacePage&&(t.getIndustryDetail.userClusterModel.industryState=0),t.getIndustryDetail.userClusterModel.enableServiceTerms&&0==t.getIndustryDetail.userClusterModel.industryState?t.enableServiceTerms=!0:0==t.getIndustryDetail.userClusterModel.industryState&&t.bindOil(t.getIndustryDetail),t.showDetail=!0):t.$Toast(e.info)})):this.$Toast("未获取到群组id")},methods:{backEvent:function(){this.$router.go(-1)},enableServiceTermsBtn:function(){this.enableServiceTerms=!1,0==this.getIndustryDetail.userClusterModel.industryState&&this.bindOil(this.getIndustryDetail)},bindOil:function(t){var e=JSON.parse(t.userClusterModel.expression),n=e.cardList||[];n.includes("IDcard")&&n.includes("DriverCard")&&t.isCertificate&&t.isDrinving&&t.usercertificate.idcardNum!=t.driverInfoModel.driveCode?this.industry=!0:this.getIsoilCard(e.isoilCard)},industryBtn:function(){var t=this;this.$request.post("/app/json/user/industryRecertification",{}).then((function(e){0==e.status?(t.industry=!1,t.$router.go(-1)):t.$Toast(e.info)}))},getIsoilCard:function(t){var e=this;"1"==t?this.checkBindOilCard().then((function(t){t?e.isAuthentication=!0:e.popupCardKa=!0})):this.isAuthentication=!0},checkBindOilCard:function(){var t=this;return new Promise((function(e,n){var r={phone:t.userInfo.phone};t.$request.post(t.checkBindOilCardUrl,r).then((function(r){if(0==r.status){var i=r.data;e(i)}else n(),t.$Toast(r.info)}))}))},openingCard:function(){this.$router.push({path:"/addCard"})},activeBtn:function(t){this.$refs.stepsContent.getIdentityObj(this.isActiveObj,t)}},components:{group:function(){return n.e("chunk-ebb51c82").then(n.bind(null,"6c15"))},authentication:function(){return n.e("chunk-4e0b6dc6").then(n.bind(null,"3144"))}}}),u=a,o=(n("493d"),n("0c7c")),c=Object(o["a"])(u,r,i,!1,null,"d96967d4",null);e["default"]=c.exports},b337:function(t,e,n){},b85c:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0"),n("277d");var r=n("06c5");function i(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Object(r["a"])(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,s=function(){};return{s:s,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,o=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return u=t.done,t},e:function(t){o=!0,a=t},f:function(){try{u||null==n["return"]||n["return"]()}finally{if(o)throw a}}}}},b8bf:function(t,e,n){var r=n("23e7"),i=n("83ab"),s=n("7c73");r({target:"Object",stat:!0,sham:!i},{create:s})}}]);