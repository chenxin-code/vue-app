(window.webpackJsonp=window.webpackJsonp||[]).push([[939],{"5n7b":function(t,a,s){},NIYZ:function(t,a,s){"use strict";s.r(a);var e=s("ygAv"),i={data:function(){return{complete:!1,show:!1,showDate:!1,timeList:[1,3,4],radio:0,columns:["班结","日结"],type:"班结",currentDate:"",time:"",haveRecode:!0,haveData:!0,carddetails:""}},mounted:function(){this.time=this.$route.query.timeStrYes,this.currentDate=new Date(this.time),this.homePage()},methods:{change:function(){this.homePage()},homePage:function(){var t=this;this.$request.post("/app/json/app_employee_card/homePage",{type:"班结"==this.type?1:2,timeStr:this.time,clazzNo:"班结"==this.type?this.radio+1:""}).then((function(a){0===a.status?(t.complete=!0,t.carddetails=a.data,t.type=1==t.carddetails.type?"班结":"日结"):t.$Toast(a.info?a.info:"获取数据失败")}))},onConfirm:function(t){this.type=t,this.show=!1,this.radio=0,this.homePage()},confirmDate:function(t){console.log(t),this.time=e.a.getMyDate(t),this.showDate=!1,this.radio=0,this.homePage()},openOderRecord:function(){this.$router.push({path:"/employees-card-order-record"})}},components:{}},l=(s("ymrl"),s("KHd+")),c=Object(l.a)(i,(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"employees-card-record"},[s("nav-top",{attrs:{title:"历史记录"},on:{backEvent:function(a){return t.$router.go(-1)}}}),t._v(" "),t.complete?s("nav-content",{staticClass:"employees-card-record-container"},[s("div",{staticClass:"title"},[s("div",{staticClass:"table-view"},[s("div",{staticClass:"table-view-cell"},[s("div",{staticClass:"table-view-cell-text"},[s("div",{staticClass:"left"},[t._v("我的油站")]),t._v(" "),s("div",{staticClass:"right"},[t._v(t._s(t.carddetails.ouName||"--"))])])]),t._v(" "),s("div",{staticClass:"table-view-cell"},[s("div",{staticClass:"table-view-cell-text"},[s("div",{staticClass:"left"},[t._v("我的员工卡")]),t._v(" "),s("div",{staticClass:"right"},[t._v(t._s(t.carddetails.cardNum)+"张")])])])])]),t._v(" "),s("div",{staticClass:"title"},[s("div",{staticClass:"table-view"},[s("div",{staticClass:"table-view-cell",on:{click:function(a){t.show=!0}}},[s("div",{staticClass:"table-view-cell-text"},[s("div",{staticClass:"left"},[t._v("切换数据")]),t._v(" "),s("div",{staticClass:"right"},[t._v(t._s(t.type)),s("van-icon",{attrs:{size:"14px",name:"exchange"}})],1)])]),t._v(" "),s("div",{staticClass:"table-view-cell",on:{click:function(a){t.showDate=!0}}},[s("div",{staticClass:"table-view-cell-text"},[t._v("选择日期")]),t._v(" "),s("div",{staticClass:"table-view-cell-arrow"},[t._v(t._s(t.time))])]),t._v(" "),"班结"==t.type&&t.carddetails.clazzTime.length?s("div",{staticClass:"table-view-cell"},[s("div",{staticClass:"table-view-cell-text"},[s("van-radio-group",{on:{change:t.change},model:{value:t.radio,callback:function(a){t.radio=a},expression:"radio"}},[s("van-cell-group",t._l(t.carddetails.clazzTime,(function(a,e){return s("van-cell",{key:e,attrs:{clickable:""}},[s("div",{staticClass:"pay-label",attrs:{slot:"title"},slot:"title"},[t._v(t._s(a))]),t._v(" "),s("van-radio",{attrs:{name:e,"checked-color":"#F80F16"}})],1)})),1)],1)],1)]):"日结"==t.type&&1==t.carddetails.clazzTime.length?s("div",{staticClass:"table-view-cell"},[s("div",{staticClass:"table-view-cell-text"},[s("div",{staticClass:"left"},[t._v("时间：")]),t._v(" "),s("div",{staticClass:"right"},[t._v(t._s(t.carddetails.clazzTime[0]))])])]):s("div",{staticClass:"tips"},[t._v("无法查到历史记录")]),t._v(" "),t.carddetails.clazzTime.length?s("div",{staticClass:"table-view-cell",on:{click:t.openOderRecord}},[s("div",{staticClass:"table-view-cell-text"},[t._v("加油订单")]),t._v(" "),s("div",{staticClass:"table-view-cell-arrow"},[t._v("查看")])]):t._e()])]),t._v(" "),t.carddetails.cardNum>0?s("div",{staticClass:"have-recode"},[s("div",{staticClass:"have-data"},[t.carddetails.cardNum>1?s("div",{staticClass:"title total-show"},[s("div",{staticClass:"left"},[s("div",{staticClass:"top"},[t._v("￥"),s("span",{staticClass:"num"},[t._v(t._s(t.carddetails.refuelMoney))])]),t._v(" "),s("div",{staticClass:"bottom"},[t._v("合计加油金额")])]),t._v(" "),s("div",{staticClass:"right"},[s("div",{staticClass:"top"},[s("span",{staticClass:"num"},[t._v(t._s(t.carddetails.refuelLiter))]),t._v(" L")]),t._v(" "),s("div",{staticClass:"bottom"},[t._v("合计加油升数")])])]):t._e(),t._v(" "),s("div",{staticClass:"card-list"},t._l(t.carddetails.cards,(function(a,e){return s("div",{key:e,staticClass:"title"},[s("div",{staticClass:"table-view"},[s("div",{staticClass:"table-view-cell"},[s("div",{staticClass:"table-view-cell-text"},[s("div",{staticClass:"left"},[t._v("卡号")]),t._v(" "),s("div",{staticClass:"right"},[t._v(t._s(a.cardNo))])])]),t._v(" "),s("div",{staticClass:"table-view-cell"},[s("div",{staticClass:"table-view-cell-text"},[s("div",{staticClass:"left"},[t._v("接班余额")]),t._v(" "),s("div",{staticClass:"right"},[t._v("￥"+t._s(a.takeBalance||0))])])]),t._v(" "),s("div",{staticClass:"table-view-cell"},[s("div",{staticClass:"table-view-cell-text"},[s("div",{staticClass:"left"},[t._v("当前余额")]),t._v(" "),s("div",{staticClass:"right"},[t._v("￥"+t._s(a.currentBalance||0))])])]),t._v(" "),s("div",{staticClass:"table-view-cell"},[s("div",{staticClass:"table-view-cell-text"},[s("div",{staticClass:"left"},[t._v("加油升数")]),t._v(" "),s("div",{staticClass:"right"},[t._v(t._s(a.refuelLiter||0)+"L")])])]),t._v(" "),s("div",{staticClass:"table-view-cell"},[s("div",{staticClass:"table-view-cell-text"},[s("div",{staticClass:"left"},[t._v("加油金额")]),t._v(" "),s("div",{staticClass:"right"},[t._v("￥"+t._s(a.refuelMoney||0))])])])])])})),0)])]):s("div",{staticClass:"tips"},[t._v("无法查到班结数据")]),t._v(" "),s("van-popup",{attrs:{position:"bottom"},model:{value:t.show,callback:function(a){t.show=a},expression:"show"}},[s("van-picker",{attrs:{"show-toolbar":"",title:"选择类型",columns:t.columns},on:{cancel:function(a){t.show=!1},confirm:t.onConfirm}})],1),t._v(" "),s("van-popup",{attrs:{position:"bottom"},model:{value:t.showDate,callback:function(a){t.showDate=a},expression:"showDate"}},[s("van-datetime-picker",{attrs:{type:"date"},on:{cancel:function(a){t.showDate=!1},confirm:t.confirmDate},model:{value:t.currentDate,callback:function(a){t.currentDate=a},expression:"currentDate"}})],1)],1):t._e()],1)}),[],!1,null,"1ce91e26",null);a.default=c.exports},ymrl:function(t,a,s){"use strict";var e=s("5n7b");s.n(e).a}}]);