(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-74d3b280"],{3670:function(t,i,a){},4714:function(t,i,a){"use strict";a("3670")},eb40:function(t,i,a){"use strict";a.r(i);var s=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{staticClass:"route-map"},[a("div",{staticClass:"back-btn",on:{click:t.backEvent}},[a("i",{staticClass:"iconfont mall-fanhui"})]),a("div",{staticClass:"allmap",attrs:{id:t.randomId}}),t._m(0)])},n=[function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{staticClass:"bottm-div"},[a("div",{staticClass:"row"},[a("div",{staticClass:"info"},[a("div",{staticClass:"dian dian1"}),a("div",{staticClass:"text"},[t._v("当前定位")])]),a("div",{staticClass:"line"}),a("div",{staticClass:"info"},[a("div",{staticClass:"dian dian2"}),a("div",{staticClass:"text"},[t._v("取货店铺")])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"info"},[a("div",{staticClass:"dian dian2"}),a("div",{staticClass:"text"},[t._v("取货店铺")])]),a("div",{staticClass:"line"}),a("div",{staticClass:"info"},[a("div",{staticClass:"dian dian3"}),a("div",{staticClass:"text"},[t._v("送货地址")])])])])}],o=(a("ac1f"),a("841c"),a("09cb")),e={name:"route-map",components:{},data:function(){return{randomId:"",loadedTimes:0,bdMap:null,nowmk:null,routeData:{}}},created:function(){this.randomId=this.$util.randomString(),this.routeData=JSON.parse(this.$route.query.routeData)},mounted:function(){this.pageInit()},methods:{backEvent:function(){this.$router.go(-1)},loadRoute:function(t,i){var a=new t.Point(this.routeData.storePosx,this.routeData.storePosy),s=new t.Point(this.routeData.receiverPosx,this.routeData.receiverPosy),n=new t.DrivingRoute(this.bdMap,{renderOptions:{map:this.bdMap,autoViewport:!0}});n.search(i,s,{waypoints:[a]})},getLocation:function(t,i){i.city&&""!=i.city||(i.province=this.$store.state.globalConfig.province,i.city=this.$store.state.globalConfig.city,i.district=this.$store.state.globalConfig.district,i.longitude=this.$store.state.globalConfig.longitude,i.latitude=this.$store.state.globalConfig.latitude),this.locationinfo=i;var a=new t.Point(i.longitude,i.latitude);this.loadRoute(t,a)},loadBd:function(t){this.bdMap=new t.Map(this.randomId),this.bdMap.centerAndZoom(new t.Point(116.404,39.915),14),this.bdMap.addControl(new t.MapTypeControl({mapTypes:[BMAP_NORMAL_MAP,BMAP_HYBRID_MAP]})),this.bdMap.enableScrollWheelZoom(!0)},pageInit:function(){var t=this;this.$bridgefunc.checkLocationAuth(this.pageInit).then((function(i){Object(o["a"])().then((function(a){t.loadBd(a),t.getLocation(a,i)}))}),(function(){t.$Toast("请您开启GPS定位附近中国石化加油站")}))}}},c=e,d=(a("4714"),a("0c7c")),l=Object(d["a"])(c,s,n,!1,null,"458254de",null);i["default"]=l.exports}}]);