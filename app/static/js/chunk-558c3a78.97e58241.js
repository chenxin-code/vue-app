(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-558c3a78"],{"159a":function(a,e,t){"use strict";t("e7e5");var o=t("d399"),n=(t("99af"),t("ac1f"),t("5319"),t("a15b"),t("653a")),c=t("751a"),r=(t("c975"),!1),i="https://epay.cnooc.com.cn";window.location.href.indexOf("imtest")>-1&&(i="https://epaytest.cnooc.com.cn");var s={baseURL:r?"/":"",cardBaseURL:i,mapak:"KiG7iFx8miivMFGAoWPYIyG6CWYUHUC3"},d=t("a18c"),p=t("19e7"),u="".concat(window.location.origin,"/site/").concat(2==n["a"].state.webtype?"wx":"app");e["a"]={newsEvent:function(a){window.location.href="".concat(u,"/news/newsdetail?id=").concat(a,"&token=").concat(n["a"].state.login.token)},moreNews:function(){window.location.href="".concat(u,"/news/newslist?stationCode=").concat(n["a"].state.refuelStation.stationCode,"&token=").concat(n["a"].state.login.token)},goSurvey:function(a){window.location.href="".concat(u,"/member/personal/survey?ouName=").concat(n["a"].state.refuelStation.stationName,"&ouCode=").concat(n["a"].state.refuelStation.stationCode,"&questId=").concat(a,"&token=").concat(n["a"].state.login.token)},stationDetail:function(a){window.location.href="".concat(u,"/member/oilstationdetail?stationCode=").concat(a.stationCode,"&distance=").concat(a.distance,"&token=").concat(n["a"].state.login.token)},goRefuel:function(){window.location.href="".concat(u,"/card/onepay?token=").concat(n["a"].state.login.token)},goRegister:function(a,e,t){window.location.replace("".concat(u).concat(a,"?stationName=").concat(e,"&stationCode=").concat(t,"&fromMap=",1,"&token=").concat(n["a"].state.login.token))},signParamOfCard:function(a,e){var t=[];for(var o in a)null!==a[o]&&void 0!==a[o]&&""!==a[o]&&"token"!==o&&t.push(o+"="+a[o]);var n=t.join("&");t.push("key="+e);var c=t.join("&"),r=Object(p["a"])(c);return n=n+"&token="+a["token"]+'&wxOpenId=""&sign='+r.toUpperCase(),n},jumpCardSysPage:function(a){var e=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/cnooc-card",n="",r="",i="";c["a"].post("/app/json/card/loadToken",{}).then((function(p){var u=p.data;if(0!=u.status)return Object(o["a"])({type:"fail",duration:2500,mask:!1,message:"获取当前用户信息错误，请您联系管理员"}),!1;switch(n=u.data.userId,r=u.data.cardToken,i=u.data.key,a){case 1:var l=e.signParamOfCard({appType:"APP",token:r,userCode:n,wxOpenId:""},i);d["a"].push({path:"/cnooc-iframe",query:{pageTitle:"我的卡片",comeFromPage:t,pageUrl:s.cardBaseURL+"/HykSite/v/user/myaccount/index?"+l}});break;case 2:var f=e.signParamOfCard({appType:"APP",token:r,userCode:n,wxOpenId:""},i);d["a"].push({path:"/cnooc-iframe",query:{pageTitle:"查询服务",comeFromPage:t,pageUrl:s.cardBaseURL+"/HykSite/v/user/balance/index?"+f}});break;case 3:var g=e.signParamOfCard({appType:"APP",token:r,userCode:n,wxOpenId:""},i);d["a"].push({path:"/cnooc-iframe",query:{pageTitle:"充值服务",comeFromPage:t,pageUrl:s.cardBaseURL+"/HykSite/v/card/recharge/index?"+g}});break;case 4:c["a"].post("/app/json/card/loadAllCardNum",{}).then((function(a){var o=a.data;if(0==o.status)if(o.data>0){var c=e.signParamOfCard({appType:"APP",token:r,userCode:n,wxOpenId:""},i);d["a"].push({path:"/cnooc-iframe",query:{pageTitle:"快捷支付",comeFromPage:t,pageUrl:s.cardBaseURL+"/HykSite/v/user/onekeyrefuel/index?"+c}})}else d["a"].replace("/cnooc-card");else d["a"].replace("/cnooc-card")}))["catch"]((function(a){d["a"].replace("/cnooc-card")}));break;case 5:c["a"].post("/app/json/card/loadAllCardNum",{}).then((function(a){var o=a.data;if(0==o.status)if(o.data>0){var c=e.signParamOfCard({appType:"APP",token:r,userCode:n,wxOpenId:""},i);d["a"].replace({path:"/cnooc-iframe",query:{pageTitle:"一键加油",comeFromPage:t,pageUrl:s.cardBaseURL+"/HykSite/v/user/onekeyrefuel/index?"+c}})}else d["a"].replace("/cnooc-card");else d["a"].replace("/cnooc-card")}))["catch"]((function(a){d["a"].replace("/cnooc-card")}));break}}))["catch"]((function(a){return Object(o["a"])({type:"fail",duration:2500,mask:!1,message:"获取当前用户信息错误，请您联系管理员"}),!1}))},showHtml:function(a){return a.replace(a?/&(?!#?\w+;)/g:/&/g,"&amp;").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&amp;/g,"&").replace(/p&gt;/g,"p").replace(/&nbsp;/g," ")}}},"16e1":function(a,e,t){},"9cca":function(a,e,t){"use strict";t.r(e);var o=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{staticClass:"container"},[a._v(" 加载中··· ")])},n=[],c=(t("99af"),t("a15b"),t("159a")),r={data:function(){return{}},mounted:function(){c["a"].jumpCardSysPage(5,"/common")},methods:{getCardToken:function(){var a=this;this.$Loading.open(),this.$http.post("/app/json/card/loadToken",{}).then((function(e){a.$Loading.close();var t=e.data;0==t.status?(a.cardSysInfo=t.data||{},a.getAllCardNum()):a.$Toast(t.info)}))["catch"]((function(e){a.$Loading.close(),a.$Toast("loadToken err ".concat(e))}))},getAllCardNum:function(){var a=this;this.$Loading.open(),this.$http.post("/app/json/card/loadAllCardNum",{}).then((function(e){a.$Loading.close();var t=e.data;if(0==t.status)if(t.data>0){var o="".concat(cnoocConfig.cardBaseURL,"/HykSite/v/user/onekeyrefuel/index?").concat(a.dealwithPareStr({appType:"APP",token:a.cardSysInfo.cardToken,userCode:a.cardSysInfo.userId,wxOpenId:a.cardSysInfo.wxOpenId},a.cardSysInfo.key));a.$bridgefunc.customPush({path:o,isnativetop:"0"})}else a.$bridgefunc.customPush({path:window.location.origin+"/site/app/#/open-card?skip=1",isnativetop:"0"});else a.$Toast(t.info)}))["catch"]((function(e){a.$Loading.close(),a.$Toast("loadAllCardNum err ".concat(e))}))},dealwithPareStr:function(a,e){var t=[];for(var o in a)null!==a[o]&&void 0!==a[o]&&""!==a[o]&&t.push(o+"="+a[o]);var n=t.join("&");t.push("key="+e);var c=t.join("&"),r=MD5(c);return n=n+"&sign="+r.toUpperCase(),n}}},i=r,s=(t("bc4b"),t("0c7c")),d=Object(s["a"])(i,o,n,!1,null,"4ae8715c",null);e["default"]=d.exports},bc4b:function(a,e,t){"use strict";t("16e1")}}]);