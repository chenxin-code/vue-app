(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5452c54e"],{"12ec":function(t,e,i){"use strict";i("f616")},"3af2":function(t,e,i){},"5a47":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.moduleData?i("div",{staticClass:"mark",style:t.cornerMarkStyle},["1"==t.moduleData.cornerStyle?i("div",{staticClass:"style1"},[t._v(" "+t._s(t.getNum)+" ")]):t._e(),"2"==t.moduleData.cornerStyle?i("div",{staticClass:"style2"},[t._v(" "+t._s(t.getNum)+" ")]):t._e()]):t._e()},s=[],r=i("d881"),a=r["a"],o=(i("ac69"),i("0c7c")),h=Object(o["a"])(a,n,s,!1,null,"2927f947",null);e["a"]=h.exports},7540:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"image-ad-move"},[i("nav-top",{on:{backEvent:t.backEvent}},[i("div",{staticClass:"right-btn theme_font_red",on:{click:t.saveCodeArr}},[t._v("保存")])]),i("nav-content",[i("div",{staticClass:"move-content "},[t.isShow?i("div",{staticClass:"gndh-page"},t._l(t.gndhPageArr,(function(e,n){return i("div",{ref:t.getGndhRef(n),refInFor:!0,staticClass:"gndh-item fill-bgp moving-animation",class:{"width-5":"5"==t.moduleData.columnNum,transition:t.touchIndex!=n},style:{left:n%t.moduleData.columnNum*t.gndhCellWidth+"px",top:parseInt(n/t.moduleData.columnNum)*t.gndhCellHeight+"px"},attrs:{index:n},on:{touchstart:t.gndhTouchStart,touchmove:t.gndhTouchMove,touchend:t.gndhTouchEnd}},["imgStyle"==t.moduleData.style?i("div",[i("img",{ref:"swiperImg",refInFor:!0,staticClass:"swiper-img",style:t.swiperSlideStyle,attrs:{src:e.imgUrl}})]):t._e(),"imgTextStyle"==t.moduleData.style?i("div",{on:{click:function(i){return i.preventDefault(),t.enterNav(e)}}},[i("img",{ref:"swiperImg",refInFor:!0,staticClass:"swiper-img",style:t.swiperSlideStyle,attrs:{src:e.imgUrl}}),i("p",{staticClass:"title",style:{"background-color":t.moduleData.bgColor}},[t._v(" "+t._s(e.title)+" ")])]):t._e(),"minImgTextStyle"==t.moduleData.style?i("div",{on:{click:function(i){return i.preventDefault(),t.enterNav(e)}}},[i("div",{staticClass:"min-img-text-box"},[i("img",{ref:"swiperImg",refInFor:!0,staticClass:"swiper-img",style:t.swiperSlideStyle,attrs:{src:e.imgUrl}})]),i("p",{staticClass:"title",style:{"background-color":t.moduleData.bgColor}},[t._v(" "+t._s(e.title)+" ")])]):t._e()])})),0):t._e()])])],1)},s=[],r=i("5530"),a=(i("e25e"),i("a434"),i("2f62")),o=i("5a47"),h=i("59bc"),c={name:"image-ad-move",data:function(){return{gndhPageArr:[],moduleData:{},moduleId:"",gndhCellWidth:0,gndhCellHeight:0,swiperSlideStyle:"",touchIndex:-1,currentTouchEl:void 0,touchStartX:0,touchStartY:0,touchElX:0,touchElY:0,movingIndex:-1,isShow:!0}},components:{CornerMark:o["a"]},computed:Object(r["a"])({},Object(a["c"])(["clientWidth"])),methods:{getGndhRef:function(t){return"GndhRef"+t},backEvent:function(){this.$router.go(-1)},gndhTouchStart:function(t){t.preventDefault(),t.stopPropagation(),1==t.touches.length&&(this.currentTouchEl=t.currentTarget,this.touchStartX=t.touches[0].clientX,this.touchStartY=t.touches[0].clientY,this.touchElX=this.currentTouchEl.offsetLeft,this.touchElY=this.currentTouchEl.offsetTop,this.touchIndex=parseInt(this.currentTouchEl.getAttribute("index")))},gndhTouchMove:function(t){t.preventDefault(),t.stopPropagation(),1==t.touches.length&&this.gndhMove(t)},gndhTouchEnd:function(t){var e=this,i=JSON.parse(JSON.stringify(this.gndhPageArr));if(this.movingIndex!=this.touchIndex){var n=this.gndhPageArr[this.touchIndex];i.splice(this.touchIndex,1),i.splice(this.movingIndex,0,n)}this.isShow=!1,this.$nextTick((function(){e.gndhPageArr=i,e.isShow=!0})),this.movingIndex=-1,this.touchIndex=-1},saveCodeArr:function(){for(var t=[],e=0;e<this.gndhPageArr.length;e++){var i=this.gndhPageArr[e];t.push(i.idCode)}"2"==this.$store.state.webtype||"3"==this.$store.state.webtype?this.$bridgefunc.setItem(this.moduleId+"gndhPageArr",encodeURIComponent(JSON.stringify(t))):h["a"].set({key:this.moduleId+"gndhPageArr",value:encodeURIComponent(JSON.stringify(t)),isPublic:!0}),this.$router.go(-1)},gndhMove:function(t){var e=t.touches[0].clientX,i=t.touches[0].clientY,n=this.touchElX+e-this.touchStartX,s=this.touchElY+i-this.touchStartY;if(!(s<0||s>((this.gndhPageArr.length-1)/this.moduleData.columnNum+1)*this.gndhCellHeight)){this.currentTouchEl.style.top=s+"px",this.currentTouchEl.style.left=n+"px";var r=s+this.gndhCellHeight/2,a=n+this.gndhCellWidth/2,o=parseInt(r/this.gndhCellHeight),h=parseInt(a/this.gndhCellWidth),c=o*this.moduleData.columnNum+h;if(c!=this.movingIndex){this.movingIndex=c;for(var u=c<this.touchIndex,l=u?c:this.touchIndex+1,d=u?this.touchIndex-1:c,g=0;g<this.gndhPageArr.length;g++){var m=this.$refs[this.getGndhRef(g)][0];if(m){var f=g;g>=l&&g<=d&&(u?f+=1:f-=1),m.style.left=f%this.moduleData.columnNum*this.gndhCellWidth+"px",m.style.top=parseInt(f/this.moduleData.columnNum)*this.gndhCellHeight+"px"}}}}},initData:function(){if(this.$route.query.info){this.moduleData=JSON.parse(decodeURIComponent(this.$route.query.info)),this.moduleId=this.$route.query.moduleId,this.gndhPageArr=this.moduleData.rows;var t=this.moduleData.sidesMargin;t&&void 0!=t&&""!=t||(t=0),this.gndhCellWidth=this.clientWidth*(100-t-t)/100/this.moduleData.columnNum,this.gndhCellHeight=this.gndhCellWidth*this.moduleData.ratio,this.swiperSlideStyle="height: "+this.gndhCellHeight+"px"}}},created:function(){this.initData()}},u=c,l=(i("12ec"),i("0c7c")),d=Object(l["a"])(u,n,s,!1,null,"71b85140",null);e["default"]=d.exports},ac69:function(t,e,i){"use strict";i("3af2")},d881:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__["a"]={name:"cornerMark",props:{itemData:{type:Object},moduleData:{type:Object},code:{type:String}},data:function(){return{num:0}},computed:{cornerMarkStyle:function(){if(!this.moduleData)return"";var t=this.moduleData.cornerMarginTop,e=this.moduleData.cornerMarginRight,i={};return t&&(i.top=t+"%"),e&&(i.right=e+"%"),i},getNum:function(){return this.code?this.$market.getCartNum(this.code):this.num>99?"99+":this.num}},watch:{},methods:{getMark:function getMark(){var _this=this;if(!this.itemData)return"";var url=this.itemData.cornerMarkUrl,paramsData={ouCode:""};this.$http.post(url,paramsData).then((function(res){var data=res.data;if(0==data.status){var cornerMarkKey=_this.itemData.cornerMarkKey;_this.num=eval(cornerMarkKey)||0}}),(function(t){_this.$Message.error("网络加载较慢，请稍后重试!")}))}},created:function(){-1==this.$store.state.webtype?this.num=10:this.getMark()}}},f616:function(t,e,i){}}]);