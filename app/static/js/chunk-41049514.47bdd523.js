(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-41049514"],{"165e":function(t,i,e){},"89ac":function(t,i,e){"use strict";e("165e")},f60e:function(t,i,e){"use strict";e.r(i);var a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"stepsContent"},["IDcard"==t.activeContent.activeObj.type?e("div",[e("div",{staticClass:"certificatesBox"},[e("div",{staticClass:"certificates"},[e("div",{staticClass:"certificatesItem"},[e("div",{staticClass:"imgBox",on:{click:function(i){return t.takePictures(3,"imgFront")}}},[e("img",{staticClass:"backgroundImg",attrs:{src:t.identityObj.imgFront||"static/image/vocational-certification/rx@2x.png",alt:""}}),e("img",{staticClass:"tipsImg",attrs:{src:"static/image/vocational-certification/icon1@2x.png",alt:""}})]),e("div",{staticClass:"text"},[e("div",{staticClass:"textBox",on:{click:function(i){return t.seePictures({credName:"身份证正面",credImg:"picture2@2x"})}}},[e("span",[t._v("身份证正面")]),t._v("  "),e("van-icon",{staticClass:"question-o",attrs:{name:"question-o"}})],1)])]),e("div",{staticClass:"certificatesItem"},[e("div",{staticClass:"imgBox",on:{click:function(i){return t.takePictures(3,"imgBehind")}}},[e("img",{staticClass:"backgroundImg",attrs:{src:t.identityObj.imgBehind||"static/image/vocational-certification/gh@2x.png",alt:""}}),e("img",{staticClass:"tipsImg",attrs:{src:"static/image/vocational-certification/icon1@2x.png",alt:""}})]),e("div",{staticClass:"text"},[e("div",{staticClass:"textBox",on:{click:function(i){return t.seePictures({credName:"身份证背面",credImg:"ID@2x"})}}},[e("span",[t._v("身份证背面")]),t._v("  "),e("van-icon",{staticClass:"question-o",attrs:{name:"question-o"}})],1)])])])]),e("van-cell-group",[e("van-field",{attrs:{disabled:t.status.identityObj,label:"姓名",placeholder:"请输入姓名",required:"","input-align":"right"},model:{value:t.identityObj.name,callback:function(i){t.$set(t.identityObj,"name",i)},expression:"identityObj.name"}}),e("van-field",{attrs:{disabled:t.status.identityObj,label:"证件号",placeholder:"请输入18位身份证号",required:"","input-align":"right"},model:{value:t.identityObj.idcardNum,callback:function(i){t.$set(t.identityObj,"idcardNum",i)},expression:"identityObj.idcardNum"}})],1)],1):t._e(),"DriverCard"==t.activeContent.activeObj.type?e("div",[e("div",{staticClass:"certificatesBox"},[e("div",{staticClass:"certificates"},[e("div",{staticClass:"certificatesItem"},[e("div",{staticClass:"imgBox",on:{click:function(i){return t.takePictures(3,"imageUrl")}}},[e("img",{staticClass:"backgroundImg",attrs:{src:t.drive.imageUrl||"static/image/vocational-certification/rx@2x.png",alt:""}}),e("img",{staticClass:"tipsImg",attrs:{src:"static/image/vocational-certification/icon1@2x.png",alt:""}})]),e("div",{staticClass:"text"},[e("div",{staticClass:"textBox",on:{click:function(i){return t.seePictures({credName:"驾驶证首页",credImg:"驾驶证正"})}}},[e("span",[t._v("驾驶证首页")]),t._v("  "),e("van-icon",{staticClass:"question-o",attrs:{name:"question-o"}})],1)])]),e("div",{staticClass:"certificatesItem"},[e("div",{staticClass:"imgBox",on:{click:function(i){return t.takePictures(3,"imageUrl2")}}},[e("img",{staticClass:"backgroundImg",attrs:{src:t.drive.imageUrl2||"static/image/vocational-certification/gh@2x.png",alt:""}}),e("img",{staticClass:"tipsImg",attrs:{src:"static/image/vocational-certification/icon1@2x.png",alt:""}})]),e("div",{staticClass:"text"},[e("div",{staticClass:"textBox",on:{click:function(i){return t.seePictures({credName:"驾驶证副页",credImg:"驾驶证反"})}}},[e("span",[t._v("驾驶证副页")]),t._v("  "),e("van-icon",{staticClass:"question-o",attrs:{name:"question-o"}})],1)])])]),e("div",{staticClass:"certificates"},[e("div",{staticClass:"certificatesItem"},[e("div",{staticClass:"imgBox",on:{click:function(i){return t.takePictures("3","backImageUrl","isCheck")}}},[e("img",{staticClass:"backgroundImg",attrs:{src:t.drive.backImageUrl||"static/image/vocational-certification/gh@2x.png",alt:""}}),e("img",{staticClass:"tipsImg",attrs:{src:"static/image/vocational-certification/icon1@2x.png",alt:""}})]),e("div",{staticClass:"text"},[e("div",{staticClass:"textBox",on:{click:function(i){return t.seePictures({credName:"驾驶证背面图片",credImg:"驾驶证背面"})}}},[e("span",[t._v("驾驶证背面图片")]),t._v("  "),e("van-icon",{staticClass:"question-o",attrs:{name:"question-o"}})],1)])])])]),e("van-cell-group",[e("van-field",{attrs:{disabled:t.status.drive,label:"姓名","label-width":"100",placeholder:"请输入姓名",clearable:"",required:"","right-icon":"question-o","input-align":"right"},on:{"click-right-icon":function(i){return t.seePictures({credName:"姓名",credImg:"name@2x"})}},model:{value:t.drive.name,callback:function(i){t.$set(t.drive,"name",i)},expression:"drive.name"}}),e("van-field",{attrs:{disabled:t.status.drive,label:"证号","label-width":"100",placeholder:"请输入证号",clearable:"",required:"","right-icon":"question-o","input-align":"right"},on:{"click-right-icon":function(i){return t.seePictures({credName:"证号",credImg:"number@2x"})}},model:{value:t.drive.driveCode,callback:function(i){t.$set(t.drive,"driveCode",i)},expression:"drive.driveCode"}}),e("van-field",{attrs:{disabled:t.status.drive,maxlength:"12",label:"档案编号","label-width":"100",placeholder:"请输入档案编号",clearable:"",required:"","right-icon":"question-o","input-align":"right"},on:{"click-right-icon":function(i){return t.seePictures({credName:"档案编号",credImg:"archives@2x"})}},model:{value:t.drive.driveDocNo,callback:function(i){t.$set(t.drive,"driveDocNo",i)},expression:"drive.driveDocNo"}}),e("van-field",{attrs:{disabled:t.status.drive,label:"驾驶证背面编号","label-width":"140",placeholder:"请输入驾驶证背面编号",clearable:"","right-icon":"question-o","input-align":"right"},on:{"click-right-icon":function(i){return t.seePictures({credName:"驾驶证背面编号",credImg:"chip@2x"})}},model:{value:t.drive.licenceCore,callback:function(i){t.$set(t.drive,"licenceCore",i)},expression:"drive.licenceCore"}})],1)],1):t._e(),"DrivingCard"==t.activeContent.activeObj.type?e("div",[e("div",{staticClass:"certificatesBox"},[e("div",{staticClass:"certificates"},[e("div",{staticClass:"certificatesItem"},[e("div",{staticClass:"imgBox",on:{click:function(i){return t.takePictures(3,"imageUrl3")}}},[e("img",{staticClass:"backgroundImg",attrs:{src:t.travel.imageUrl3||"static/image/vocational-certification/rx@2x.png",alt:""}}),e("img",{staticClass:"tipsImg",attrs:{src:"static/image/vocational-certification/icon1@2x.png",alt:""}})]),e("div",{staticClass:"text"},[e("div",{staticClass:"textBox",on:{click:function(i){return t.seePictures({credName:"行驶证首页",credImg:"行驶证"})}}},[e("span",[t._v("行驶证首页")]),t._v("  "),e("van-icon",{staticClass:"question-o",attrs:{name:"question-o"}})],1)])])])]),e("van-cell-group",[e("div",{staticClass:"plateNum"},[e("div",{staticClass:"plateNumImg"},[t.isNewEnergy?e("img",{staticClass:"img",attrs:{src:"static/image/vocational-certification/button2@2x.png",alt:""},on:{click:function(i){i.stopPropagation(),t.isNewEnergy=!1}}}):e("img",{staticClass:"img",attrs:{src:"static/image/vocational-certification/button1@2x.png",alt:""},on:{click:function(i){i.stopPropagation(),t.isNewEnergy=!0}}})]),e("van-field",{attrs:{disabled:t.status.travel,maxlength:"8",label:"车牌号",placeholder:t.isNewEnergy?"请输入车牌号":"新能源车牌号",clearable:"",required:"","right-icon":"question-o","input-align":"right"},on:{focus:t.focus,"click-right-icon":function(i){return t.seePictures({credName:"车牌号",credImg:"platenumber@2x"})}},model:{value:t.travel.plateNum,callback:function(i){t.$set(t.travel,"plateNum",i)},expression:"travel.plateNum"}})],1),e("van-field",{attrs:{disabled:t.status.travel,label:"所有人姓名",placeholder:"请输入所有人姓名",clearable:"",required:"","right-icon":"question-o","input-align":"right"},on:{"click-right-icon":function(i){return t.seePictures({credName:"所有人姓名",credImg:"name2@2x"})}},model:{value:t.travel.ownerName,callback:function(i){t.$set(t.travel,"ownerName",i)},expression:"travel.ownerName"}}),e("van-field",{attrs:{disabled:t.status.travel,maxlength:"17",label:"车辆识别号",placeholder:"请输入车辆识别号",clearable:"",required:"","right-icon":"question-o","input-align":"right"},on:{"click-right-icon":function(i){return t.seePictures({credName:"车辆识别号",credImg:"VIN@2x"})}},model:{value:t.travel.vin,callback:function(i){t.$set(t.travel,"vin",i)},expression:"travel.vin"}}),e("van-field",{attrs:{disabled:t.status.travel,label:"发动机号",placeholder:"请输入发动机号",clearable:"",required:"","right-icon":"question-o","input-align":"right"},on:{"click-right-icon":function(i){return t.seePictures({credName:"发动机号",credImg:"Enginenumber@2x"})}},model:{value:t.travel.engineNum,callback:function(i){t.$set(t.travel,"engineNum",i)},expression:"travel.engineNum"}}),e("van-field",{attrs:{disabled:t.status.travel,label:"车辆类型",placeholder:"请输入车辆类型",clearable:"",required:"","right-icon":"question-o","input-align":"right"},on:{"click-right-icon":function(i){return t.seePictures({credName:"车辆类型",credImg:"type@2x"})}},model:{value:t.travel.vehType,callback:function(i){t.$set(t.travel,"vehType",i)},expression:"travel.vehType"}})],1)],1):t._e(),"qualifications"==t.activeContent.activeObj.type?e("div",[e("van-cell-group",[e("div",{on:{click:t.clickField}},[e("van-field",{attrs:{label:"选择地市:","input-align":"right",placeholder:"请选择地市",readonly:!0},model:{value:t.qualifications.ouNameNew,callback:function(i){t.$set(t.qualifications,"ouNameNew",i)},expression:"qualifications.ouNameNew"}})],1),e("van-field",{attrs:{label:"推荐人(选填):","input-align":"right",placeholder:"请填写推荐人手机号","right-icon":"scan"},on:{"click-right-icon":t.clickRightIcon},model:{value:t.qualifications.referrer,callback:function(i){t.$set(t.qualifications,"referrer",i)},expression:"qualifications.referrer"}}),t._l(t.idNameList,(function(i,a){return e("div",{key:a},[e("van-field",{attrs:{label:"证件名称:","input-align":"right",readonly:!0},model:{value:i.credName,callback:function(e){t.$set(i,"credName",e)},expression:"item.credName"}}),e("div",{staticClass:"certificatesBox"},[e("div",{staticClass:"certificates"},[e("div",{staticClass:"certificatesItem"},[e("div",{staticClass:"imgBox",on:{click:function(i){return t.takePictures("","",a)}}},[e("img",{staticClass:"backgroundImg",attrs:{src:i.newCredImg||"static/image/vocational-certification/rx@2x.png",alt:""}}),e("img",{staticClass:"tipsImg",attrs:{src:"static/image/vocational-certification/icon1@2x.png",alt:""}})]),e("div",{staticClass:"text"},[e("div",{staticClass:"textBox",on:{click:function(e){return t.seePictures(i,!0)}}},[e("span",[t._v("查看示意图")]),t._v("  "),e("van-icon",{staticClass:"question-o",attrs:{name:"question-o"}})],1)])])])])],1)}))],2)],1):t._e(),"examine"==t.activeContent.activeObj.type?e("div",[t._l(t.idNameList,(function(i,a){return e("div",{key:a},[e("van-cell-group",[e("van-field",{attrs:{label:"选择地市:","input-align":"right",placeholder:"请选择地市",readonly:!0},model:{value:t.activeContent.ouNameNew,callback:function(i){t.$set(t.activeContent,"ouNameNew",i)},expression:"activeContent.ouNameNew"}}),e("van-field",{attrs:{label:"推荐人:","input-align":"right",placeholder:"请填写推荐人手机号",readonly:!0},model:{value:t.activeContent.referrer,callback:function(i){t.$set(t.activeContent,"referrer",i)},expression:"activeContent.referrer"}}),e("van-field",{attrs:{label:"证件名称:","input-align":"right",readonly:!0},model:{value:i.credName,callback:function(e){t.$set(i,"credName",e)},expression:"item.credName"}})],1),e("div",{staticClass:"certificatesBox"},[e("div",{staticClass:"certificates"},[e("div",{staticClass:"certificatesItem"},[e("div",{staticClass:"imgBox"},[e("img",{staticClass:"backgroundImg",attrs:{src:i.newCredImg,alt:""}})]),t._m(0,!0)])])])],1)})),e("div",{staticClass:"popup"},[e("van-popup",{staticClass:"popupCard",attrs:{"close-on-click-overlay":!1},model:{value:t.isExamine,callback:function(i){t.isExamine=i},expression:"isExamine"}},[e("div",{staticClass:"popupCardText"},[e("p",[t._v("提交成功！")]),e("span",[t._v("正在进行系统审核...")])])])],1)],2):t._e(),e("virtual-keyboard",{attrs:{show:t.show},on:{input:t.inputKey,delete:t.deleteKey,blur:function(i){t.show=!1}}}),e("van-popup",{staticClass:"tips",class:t.img.type?"tipsA":"tipsB",attrs:{position:"bottom","close-on-click-overlay":!1},model:{value:t.tips,callback:function(i){t.tips=i},expression:"tips"}},[e("div",{staticClass:"tipsIcon"},[e("van-icon",{staticClass:"icon",attrs:{name:"cross"},on:{click:function(i){t.tips=!1}}})],1),e("div",{staticClass:"tipsContent"},[t.img.type?e("div",{staticClass:"topTipsContent"},[e("div",{staticClass:"topImg"},[e("img",{attrs:{src:"static/image/vocational-certification/standard@2x.png",alt:""}}),e("p",[t._v("标准")])]),e("div",{staticClass:"topImg"},[e("img",{attrs:{src:"static/image/vocational-certification/angle@2x.png",alt:""}}),e("p",[t._v("倾斜")])]),e("div",{staticClass:"topImg"},[e("img",{attrs:{src:"static/image/vocational-certification/vague@2x.png",alt:""}}),e("p",[t._v("模糊")])])]):t._e(),t.img.type?e("div",{staticClass:"topText"},[e("p",[t._v("身份证拍照正确样式")])]):t._e(),e("img",{style:{width:t.img.type?"140px":""},attrs:{src:t.img.credImg,alt:""}}),e("span",[t._v(t._s(t.img.credName))])])]),e("org-tree",{ref:"address",on:{setAddressEvent:t.setAddressEvent}}),e("div",{staticClass:"popup"},[e("van-popup",{staticClass:"examine",attrs:{"close-on-click-overlay":!1},model:{value:t.popupIDcard,callback:function(i){t.popupIDcard=i},expression:"popupIDcard"}},[e("div",{staticClass:"popupContent"},[e("van-cell-group",[e("van-field",{attrs:{label:"信息确认","input-align":"right",readonly:!0}}),e("van-field",{attrs:{label:"姓名:","input-align":"right",readonly:!0},model:{value:t.identityObj.name,callback:function(i){t.$set(t.identityObj,"name",i)},expression:"identityObj.name"}}),e("van-field",{attrs:{label:"证件号:","input-align":"right",readonly:!0},model:{value:t.identityObj.idcardNum,callback:function(i){t.$set(t.identityObj,"idcardNum",i)},expression:"identityObj.idcardNum"}})],1),e("span",{staticClass:"contentText"},[t._v("请再次确认提交的信息内容，一经提交审批，将不予进行修改")])],1),e("div",{staticClass:"popupCardBtn"},[e("span",{on:{click:function(i){t.popupIDcard=!1}}},[t._v("修改")]),e("span",{on:{click:t.popupIDcardBtn}},[t._v("确定")])])]),e("van-popup",{staticClass:"examine",attrs:{"close-on-click-overlay":!1},model:{value:t.popupDriverCard,callback:function(i){t.popupDriverCard=i},expression:"popupDriverCard"}},[e("div",{staticClass:"popupContent"},[e("van-cell-group",[e("van-field",{attrs:{label:"信息确认","input-align":"right",readonly:!0}}),e("van-field",{attrs:{label:"姓名:","input-align":"right",readonly:!0},model:{value:t.drive.name,callback:function(i){t.$set(t.drive,"name",i)},expression:"drive.name"}}),e("van-field",{attrs:{label:"证件号:","input-align":"right",readonly:!0},model:{value:t.drive.driveCode,callback:function(i){t.$set(t.drive,"driveCode",i)},expression:"drive.driveCode"}}),e("van-field",{attrs:{label:"档案编号:","input-align":"right",readonly:!0},model:{value:t.drive.driveDocNo,callback:function(i){t.$set(t.drive,"driveDocNo",i)},expression:"drive.driveDocNo"}}),e("van-field",{attrs:{label:"芯片编码:","input-align":"right",readonly:!0},model:{value:t.drive.licenceCore,callback:function(i){t.$set(t.drive,"licenceCore",i)},expression:"drive.licenceCore"}})],1),e("span",{staticClass:"contentText"},[t._v("请再次确认提交的信息内容，一经提交审批，将不予进行修改")])],1),e("div",{staticClass:"popupCardBtn"},[e("span",{on:{click:function(i){t.popupDriverCard=!1}}},[t._v("修改")]),e("span",{on:{click:t.popupDriverCardBtn}},[t._v("确定")])])]),e("van-popup",{staticClass:"examine",attrs:{"close-on-click-overlay":!1},model:{value:t.popupDrivingCard,callback:function(i){t.popupDrivingCard=i},expression:"popupDrivingCard"}},[e("div",{staticClass:"popupContent"},[e("van-cell-group",[e("van-field",{attrs:{label:"信息确认","input-align":"right",readonly:!0}}),e("van-field",{attrs:{label:"所有人姓名:","input-align":"right",readonly:!0},model:{value:t.travel.ownerName,callback:function(i){t.$set(t.travel,"ownerName",i)},expression:"travel.ownerName"}}),e("van-field",{attrs:{label:"车牌号","input-align":"right",readonly:!0},model:{value:t.travel.plateNum,callback:function(i){t.$set(t.travel,"plateNum",i)},expression:"travel.plateNum"}}),e("van-field",{attrs:{label:"车辆识别号:","input-align":"right",readonly:!0},model:{value:t.travel.vin,callback:function(i){t.$set(t.travel,"vin",i)},expression:"travel.vin"}}),e("van-field",{attrs:{label:"发动机号:","input-align":"right",readonly:!0},model:{value:t.travel.engineNum,callback:function(i){t.$set(t.travel,"engineNum",i)},expression:"travel.engineNum"}}),e("van-field",{attrs:{label:"车辆类型:","input-align":"right",readonly:!0},model:{value:t.travel.vehType,callback:function(i){t.$set(t.travel,"vehType",i)},expression:"travel.vehType"}})],1),e("span",{staticClass:"contentText"},[t._v("请再次确认提交的信息内容，一经提交审批，将不予进行修改")])],1),e("div",{staticClass:"popupCardBtn"},[e("span",{on:{click:function(i){t.popupDrivingCard=!1}}},[t._v("修改")]),e("span",{on:{click:t.popupDrivingCardBtn}},[t._v("确定")])])])],1)],1)},s=[function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"text"},[e("p",[t._v("查看示意图")])])}],n=(e("4160"),e("159b"),e("c975"),e("ac1f"),e("1276"),e("b0c0"),e("a15b"),e("4795"),e("d3b7"),e("3ca3"),e("ddb0"),e("0e9c")),r=e("986e"),c=e("f0ba"),o={name:"stepsContent",mixins:[n["a"]],props:{activeContent:{type:Object,default:function(){return{}}}},data:function(){return{initData:{title:"请选择地区"},showSelect:!1,isNewEnergy:!0,tips:!1,img:{credImg:"",credName:"",type:null},show:!1,isExamine:!1,parameterUrl:"",takeIndex:0,uploadData:{isShowUpload:!1},identityObj:{imgFront:"",imgBehind:"",name:"",idcardNum:"",sex:""},drive:{imageUrl:"",imageUrl2:"",backImageUrl:"",name:"",driveCode:"",driveDocNo:"",licenceCore:""},travel:{imageUrl3:"",plateNum:"",ownerName:"",vin:"",engineNum:"",vehType:""},qualificationsObj:{},qualifications:{papersName:"",paperImgUrl:"",clusterId:"",clusterCode:"",clusterName:"",areaName:"",areaId:"",ouCode:"",ouName:"",ouNameNew:"",referrer:""},status:{identityObj:!1,drive:!1,travel:!1},popupIDcard:!1,popupDriverCard:!1,popupDrivingCard:!1,activeTypeNew:"",isActiveObjNew:{},activeNew:{},idNameList:[]}},mounted:function(){var t=this;this.$nextTick((function(){t.qualificationsObj=t.activeContent,t.idNameList=t.activeContent.expression.idNameList,t.idNameList.forEach((function(i){t.$set(i,"newCredImg","")})),t.qualificationsObj.isCertificate&&(Object.assign(t.identityObj,t.mergeObj(t.qualificationsObj.usercertificate,t.identityObj)),t.status.identityObj=!0),t.qualificationsObj.isDrinving&&(Object.assign(t.drive,t.mergeObj(t.qualificationsObj.driverInfoModel,t.drive)),t.status.drive=!0),t.qualificationsObj.isVehicle&&(Object.assign(t.travel,t.mergeObj(t.qualificationsObj.vehicleModel,t.travel)),t.status.travel=!0),r["a"].$emit("isActive",t.status);var i=t.$store.state.mall2.selectAddress.provinceName;i&&(t.initData.initAreas=[i],t.initData.canNotReselect=!1)}))},methods:{clickRightIcon:function(){var t=this;this.$bridgefunc.scanCode((function(i){t.qualifications.referrer=i.code}))},focus:function(){this.show=!0,document.activeElement.blur()},inputKey:function(t){this.travel.plateNum=this.travel.plateNum+t},deleteKey:function(){this.travel.plateNum=this.travel.plateNum.substr(0,this.travel.plateNum.length-1)},seePictures:function(t,i){this.img={credImg:"",credName:"",type:null},this.tips=!0;var e=JSON.parse(JSON.stringify(t));i||(e.credImg="static/image/vocational-certification/".concat(e.credImg,".png")),Object.assign(this.img,e)},takePictures:function(t,i,e){var a=this;this.takeIndex=e,this.parameterUrl=i,c["a"].open({linkFunc:function(t,i){i.indexOf(",")&&(i=i.split(",")[1]),a.picturesData(t,i)},type:t,token:this.$store.state.login.token})},picturesData:function(t,i){if("qualifications"!=this.activeContent.activeObj.type)if("backImageUrl"!=this.parameterUrl){var e=0;if("imgFront"==this.parameterUrl?e=0:"imgBehind"==this.parameterUrl?e=1:"imageUrl"==this.parameterUrl?e=2:"imageUrl2"==this.parameterUrl?e=3:"imageUrl3"==this.parameterUrl&&(e=4),2==this.$store.state.globalConfig.certificate_check_type)"backImageUrl"!=this.parameterUrl&&this.ocrCertificate(e,i,this.activeContent.activeObj.type,t);else switch(this.activeContent.activeObj.type){case"IDcard":this.identityObj[this.parameterUrl]=t;break;case"DriverCard":this.drive[this.parameterUrl]=t;break;case"DrivingCard":this.travel[this.parameterUrl]=t;break}}else this.drive[this.parameterUrl]=t;else this.$set(this.idNameList[this.takeIndex],"newCredImg",t)},ocrCertificate:function(t,i,e,a){var s=this;this.$request.post("/app/json/ocr/ocrCertificate",{ocrType:t,base64Str:i}).then((function(i){var n=i.data;if(0===i.status){switch(e){case"IDcard":s.identityObj[s.parameterUrl]=a;break;case"DriverCard":s.drive[s.parameterUrl]=a;break;case"DriverCard":s.drive[s.parameterUrl]=a;break;case"DrivingCard":s.travel[s.parameterUrl]=a;break}"IDcard"==e?0==t&&(s.identityObj.idcardNum=n.idno,s.identityObj.name=n.name):"DriverCard"==e?2==t?(s.drive.name=n.name,s.drive.driveCode=n.license_no):(s.drive.driveDocNo=n.archive_no,s.drive.licenceCore=n.card_no):"DrivingCard"==e&&4==t&&(s.travel.plateNum=n.plateno,s.travel.ownerName=n.owner,s.travel.vin=n.vin,s.travel.engineNum=n.engine_no,s.travel.vehType=n.vehicle_type)}else s.$toast(i.info||"识别失败！")}))},getIdentityObj:function(t,i){var e=this,a=this.activeContent.steps[this.activeContent.steps.length-2].type;if(this.activeTypeNew=a,this.isActiveObjNew=t,this.activeNew=i,"IDcard"==this.activeContent.activeObj.type)if(this.status.identityObj)"IDcard"==a&&this.routerPush(),r["a"].$emit("isActive",t,"true",i);else{for(var s in this.identityObj){if("idcardNum"==s){if(!this.identityObj[s])return this.$Toast("".concat(this.Verification[s],"不能为空"));if(!this.regIdNo(this.identityObj[s]))return this.$Toast("请输入正确的".concat(this.Verification[s]));this.identityObj["sex"]=this.gender(this.identityObj["idcardNum"])}if("1"==this.$store.state.globalConfig.certificate_check_selfie&&!this.identityObj[s])return this.$Toast("".concat(this.Verification[s],"不能为空"));if("idcardNum"!=s&&"sex"!=s&&!this.identityObj[s])return this.$Toast("".concat(this.Verification[s],"不能为空"))}this.popupIDcard=!0}else if("DriverCard"==this.activeContent.activeObj.type)if(this.status.drive)r["a"].$emit("isActive",t,"true",i),"DriverCard"==a&&this.routerPush();else{for(var n in this.drive){if("driveDocNo"==n){if(!this.drive[n])return this.$Toast("".concat(this.Verification[n],"不能为空"));if(!this.numbers(this.drive[n]))return this.$Toast("".concat(this.Verification[n],"仅支持12位数字"))}if("driveDocNo"!=n&&"licenceCore"!=n&&!this.drive[n])return this.$Toast("".concat(this.Verification[n],"不能为空"))}this.popupDriverCard=!0}else if("DrivingCard"==this.activeContent.activeObj.type)if(this.status.travel)r["a"].$emit("isActive",t,"true",i),"DrivingCard"==a&&this.routerPush();else{for(var c in this.travel){if("plateNum"==c){if(!this.travel[c])return this.$Toast("".concat(this.Verification[c],"不能为空"));if(this.isNewEnergy){if(!this.plateNumber(this.travel[c]))return this.$Toast("请输入正确的".concat(this.Verification[c]))}else if(!this.newEnergy(this.travel[c]))return this.$Toast("请输入正确的新能源".concat(this.Verification[c]))}if("vehType"==c){if(!this.travel[c])return this.$Toast("".concat(this.Verification[c],"不能为空"));if(!this.chinese(this.travel[c]))return this.$Toast("".concat(this.Verification[c],"只能输入中文"))}if("vin"==c){if(!this.travel[c])return this.$Toast("".concat(this.Verification[c],"不能为空"));if(!this.englishNumbers(this.travel[c]))return this.$Toast("".concat(this.Verification[c],"仅支持17位的数字和字母"))}if("idcardNum"!=c&&"vehType"!=c&&"vin"!=c&&!this.travel[c])return this.$Toast("".concat(this.Verification[c],"不能为空"))}this.travel.imageUrl=this.travel.imageUrl3,this.popupDrivingCard=!0}else if("qualifications"==this.activeContent.activeObj.type){var o=!0;if(!this.qualifications.ouCode)return o=!1,this.$Toast("地市不能为空");var l=[],u=[],d=!0;this.idNameList.forEach((function(t){if(!t.newCredImg)return d=!1,e.$Toast("证件图不能为空");l.push(t.credName),u.push(t.newCredImg)})),o&&d&&(this.qualifications.ouName=this.qualifications.ouName,this.qualifications.ouCode=this.qualifications.ouCode,this.qualifications.referrer=this.qualifications.referrer,this.qualifications.papersName=l.join(","),this.qualifications.paperImgUrl=u.join(","),this.qualifications.clusterId=this.activeContent.id,this.qualifications.clusterCode=this.activeContent.clusterCode,this.qualifications.clusterName=this.activeContent.clusterName,this.$request.post(this.submmitIndustryUrl,this.qualifications).then((function(a){0===a.status?(e.$Toast("提交成功"),r["a"].$emit("isActive",t,"true",i),e.routerPush()):e.$Toast(a.info)})))}else"examine"==this.activeContent.activeObj.type&&this.submmitIndustryFun(!0)},routerPush:function(){var t=this;this.isExamine=!0;var i=this.$router.customRouterData.routerPaths.length-2;setTimeout((function(e){t.$router.go(-i)}),2e3)},onCancel:function(){this.uploadData.isShowUpload=!1},clickField:function(){this.$refs.address.initAddress()},selectedItemsEvent:function(t){var i=t.item;this.qualifications.areaName=i.name,this.qualifications.areaId=i.id,3==i.level&&(this.showSelect=!1),i.level<=2&&this._getRegionData(i.id)},setAddressEvent:function(t){this.qualifications.ouName=t.ouName,this.qualifications.ouNameNew=t.ouNameNew,this.qualifications.ouCode=t.ouCode},regionCloseEvent:function(){this.showSelect=!1},popupIDcardBtn:function(){var t=this;this.popupIDcard=!1,this.$request.post(this.identifySubmmitUrl,this.identityObj).then((function(i){0===i.status?(t.$Toast("提交成功"),r["a"].$emit("isActive",t.isActiveObjNew,"true","identityObj")):t.$Toast(i.info)}))},popupDriverCardBtn:function(){var t=this;this.popupDriverCard=!1,this.$request.post(this.driverInfoSubmmitUrl,this.drive).then((function(i){0===i.status?(t.$Toast("提交成功"),r["a"].$emit("isActive",t.isActiveObjNew,"true","drive")):t.$Toast(i.info)}))},popupDrivingCardBtn:function(){var t=this;this.popupDrivingCard=!1,this.$request.post(this.bindVehicleUrl,this.travel).then((function(i){0===i.status?(t.$Toast("提交成功"),r["a"].$emit("isActive",t.isActiveObjNew,"true","travel")):t.$Toast(i.info)}))},submmitIndustryFun:function(t){var i=this;this.qualifications.clusterId=this.activeContent.id,this.qualifications.clusterCode=this.activeContent.clusterCode,this.qualifications.clusterName=this.activeContent.clusterName,this.$request.post(this.submmitIndustryUrl,this.qualifications).then((function(e){t&&i.routerPush()}))},_getRegionData:function(t){var i=this;this.$Loading.open();var e="/app/json/area/loadAreaList",a={token:this.$store.state.login.token,parentId:t};this.$http.post(e,a).then((function(t){i.$Loading.close();var e=t.data;if(0==e.status){var a=e.data;a.length>0?i.$nextTick((function(){this.$refs.regionselect.pushCustomOptions(a)})):(i.showSelect=!1,i.getRegionText())}else i.$Toast(e.info)}),(function(t){i.$Loading.close(),i.$Toast("获取数据失败")}))},getRegionText:function(){this.$refs.regionselect.reset(null)}},components:{VirtualKeyboard:function(){return e.e("chunk-612ce34b").then(e.bind(null,"2999"))},orgTree:function(){return e.e("chunk-7cc97858").then(e.bind(null,"d667"))},RegionSelect:function(){return e.e("chunk-7baddb58").then(e.bind(null,"8431"))}}},l=o,u=(e("89ac"),e("0c7c")),d=Object(u["a"])(l,a,s,!1,null,"548f7756",null);i["default"]=d.exports}}]);