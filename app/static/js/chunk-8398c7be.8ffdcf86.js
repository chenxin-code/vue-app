(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8398c7be"],{"5fff":function(t,e,s){"use strict";var a="/account/json/acct_rewards/getPaymentBaseList";e["a"]={methods:{getPaymentBaseList:function(t){return this.$http.post(a,t)}}}},"69d4":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.complete?s("div",{staticClass:"rebate-bonus-details"},[s("nav-top",{attrs:{title:t.title},on:{backEvent:t.backEvent}}),s("nav-content",{staticClass:"rebate-bonus-details-container"},[s("div",{staticClass:"main"},[s("div",{staticClass:"integral-title",class:{one:2==t.dict.dictKey,two:3==t.dict.dictKey,"is-diesel-rebase":t.isDieselRebate}},[s("div",{staticClass:"now-integral"},[s("p",{staticClass:"explain-num"},[t._v(t._s(t.details.balanceUnit))]),s("p",{staticClass:"text"},[t._v("当前余额")])])]),s("div",{staticClass:"content"},[s("div",{staticClass:"top"},[0!=t.expireUnit?s("div",{staticClass:"tips"},[t._v("余额过期提醒：您有"),s("span",{staticClass:"num",on:{click:t.openInfo}},[t._v(" "+t._s(t.expireUnit||"0")+" ")]),t._v("余额即将过期，请尽快使用！")]):t._e(),s("div",{staticClass:"tabs"},t._l(t.tabs,(function(e){return s("div",{key:e.id,staticClass:"tab-item",class:{active:e.id===t.tabId},on:{click:function(s){return t.tabEvent(e.id)}}},[s("div",{staticClass:"text"},[t._v(" "+t._s(e.text)+" ")])])})),0)]),s("commonList",{ref:"list",attrs:{statusObj:t.statusObj,source:t.acctType}})],1)])])],1):t._e()},i=[],n=(s("d81d"),s("5fff")),o=s("2601"),c={name:"rebate-bonus-list",mixins:[n["a"]],data:function(){return{isDieselRebate:!1,complete:!1,tabId:"1",page:0,rows:10,payTypeCodes:"100,300",source:8,statusObj:{is:10,status:"1",effective:"envelopes-red",invalid:"envelopes-grey",diesel:"diesel",payTypeCodes:"100,300",totalAddUnit:"",totalConsumeUnit:"",expireBalanceUnit:"",url:"/app/json/acct/getAccountPaymentList",groupValue:""},tabs:[{text:"奖励明细",id:"1"},{text:"消费明细",id:"2"},{text:"过期明细",id:"3"}],details:"",title:"",expireUnit:"0"}},computed:{acctType:function(){var t=8;return this.isDieselRebate&&(t=21),t}},beforeRouteEnter:function(t,e,s){s((function(e){"/diesel-rebate"===t.path&&(e.isDieselRebate=!0)}))},mounted:function(){this.getlist()},methods:{getlist:function(){var t=this;this.$Loading.open();var e={token:this.$store.state.login.token,alias:"rewards_group"};this.$http.post("/app/json/app_dict/getDictByAlias",e).then((function(e){var s=e.data;if(t.$Loading.close(),0==s.status){var a=s.data||[];a.map((function(e){1==e.dictKey&&(t.dict=e,t.isDieselRebate||(t.title=e.dictValue),t.statusObj.groupValue=e.dictKey,t.getAccountBaseInfo(e.dictKey),t.getAboutExpireUnit(e.dictKey))})),t.complete=!0}else t.$Toast(s.info)}))},getAccountBaseInfo:function(t){var e=this,s={token:this.$store.state.login.token,acctType:this.acctType,groupValue:t};this.$http.post("/app/json/acct/getAccountBaseInfo",s).then((function(t){var s=t.data||{};0==s.status?(e.details=s.data,e.statusObj.totalAddUnit=e.details.totalAddUnit,e.statusObj.totalConsumeUnit=e.details.totalConsumeUnit,e.statusObj.expireBalanceUnit=e.details.expireBalanceUnit):e.$Toast(s.info?s.info:"获取失败")}))},getAboutExpireUnit:function(t){var e=this,s={token:this.$store.state.login.token,acctType:this.acctType,groupValue:t,queryDays:this.$store.state.globalConfig.Count_overdue_days};this.$http.post("/app/json/acct/getAboutExpireUnit",s).then((function(t){var s=t.data;0==s.status?e.expireUnit=s.data.aboutExpireBalanceUnit:e.$Toast("获取当前过期积分失败")}))},openInfo:function(){this.$router.push({path:"/mall2/expire-integralinfo",query:{expireUnit:this.expireUnit,acctType:this.acctType,groupValue:this.dict.dictKey,title:this.title}})},backEvent:function(){this.$router.go(-1)},tabEvent:function(t){this.tabId!=t&&(this.tabId=t,this.statusObj.status=t,1==t?this.statusObj.payTypeCodes="100,300":2==t?this.statusObj.payTypeCodes="200":3==t&&(this.statusObj.payTypeCodes="400"))}},components:{commonList:o["a"]}},u=c,l=(s("a04c"),s("0c7c")),r=Object(l["a"])(u,a,i,!1,null,"82a6c01a",null);e["default"]=r.exports},a04c:function(t,e,s){"use strict";s("f634")},f634:function(t,e,s){}}]);