(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-388c84be"],{"280c4":function(t,e,a){},"35d9":function(t,e,a){t.exports=a.p+"static/images/74fd7a0ba032d5210007b396697d0573.png"},acdd:function(t,e,a){"use strict";a("280c4")},f5be:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("nav-top",{attrs:{noTitle:!0,bgImg:t.bgImg},on:{backEvent:t.backEvent}}),a("div",{staticClass:"use-eq"},[a("p",[t._v(" 您当前正在使用“"+t._s(t.$route.query.equityName||"")+"” ")]),a("p",[t._v(" 为更好的提供服务 ")]),a("p",[t._v(" 填写下列信息即可使用权益 ")])]),a("nav-content",[a("div",{staticClass:"form"},[a("div",{staticClass:"f-input"},[a("div",{staticClass:"left"},[t._v("姓名：")]),a("div",{staticClass:"right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.userName,expression:"formData.userName"}],attrs:{type:"text",placeholder:"请填写您的姓名"},domProps:{value:t.formData.userName},on:{input:function(e){e.target.composing||t.$set(t.formData,"userName",e.target.value)}}})])]),a("div",{staticClass:"f-input"},[a("div",{staticClass:"left"},[t._v("手机号：")]),a("div",{staticClass:"right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.userPhone,expression:"formData.userPhone"}],attrs:{type:"text",placeholder:"请填写您的手机号"},domProps:{value:t.formData.userPhone},on:{input:function(e){e.target.composing||t.$set(t.formData,"userPhone",e.target.value)}}})])]),a("div",{staticClass:"f-input"},[a("div",{staticClass:"left"},[t._v("车牌号：")]),a("div",{staticClass:"right r-car"},[a("div",{staticClass:"car",on:{click:function(e){t.show=!0}}},[a("span",[t._v(t._s(t.csd))]),a("van-icon",{attrs:{name:t.show?"arrow-up":"arrow-down"}})],1),a("input",{directives:[{name:"model",rawName:"v-model",value:t.carNum,expression:"carNum"}],attrs:{type:"text",placeholder:"请填写车牌号"},domProps:{value:t.carNum},on:{input:function(e){e.target.composing||(t.carNum=e.target.value)}}})])]),a("p",[a("van-checkbox",{attrs:{shape:"square"},on:{change:t.changeCheck},model:{value:t.checkPro,callback:function(e){t.checkPro=e},expression:"checkPro"}},[t._v("活动隐私权益")])],1)]),a("div",{staticClass:"btns"},[a("van-button",{staticClass:"use-btn",attrs:{type:"primary",round:"",color:"#F02C2D",block:""},on:{click:t.submit}},[t._v("立即使用")])],1)]),a("van-popup",{style:{height:"100%",width:"100%"},attrs:{position:"right","close-icon-position":"top-left",closeable:""},model:{value:t.showPro,callback:function(e){t.showPro=e},expression:"showPro"}},[a("p",{staticClass:"proto-content",domProps:{innerHTML:t._s(t.protocal.content)}},[t._v("内容")]),a("div",{staticClass:"btns"},[a("van-button",{staticClass:"use-btn",attrs:{type:"primary",round:"",color:"#F02C2D",block:""},on:{click:t.confirm}},[t._v("确认")])],1)]),a("van-popup",{style:{height:"40%"},attrs:{"get-container":"body",position:"bottom",round:""},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("van-picker",{attrs:{title:"车属地","show-toolbar":"",columns:t.carList},on:{confirm:t.onConfirm,cancel:t.onCancel}})],1)],1)},o=[],r=a("5530"),i=(a("ac1f"),a("5319"),{data:function(){return{show:!1,showPro:!1,checkPro:!1,formData:{userName:null,userPhone:null,carNumber:null},csd:"京",protocal:{},carNum:null,infoData:{},carList:["京","津","渝","沪","冀","晋","辽","吉","黑","苏","浙","皖","闽","赣","鲁","豫","鄂","湘","粤","琼","川","贵","云","陕","甘","青","蒙","桂","宁","新","藏","使","领","警","学","港","澳"]}},created:function(){var t=this;this.$http.post("/app/json/news/getNewsList?values=71").then((function(e){var a=e.data;0==a.status?t.protocal=a.data[0]||{}:t.$toast(a.info)}))["catch"]((function(e){t.$toast("系统错误",e)}))},methods:{submit:function(){var t=this;if(this.formData.userName)if(this.formData.userPhone)if(this.carNum){if(!this.$util.checkMobile(this.formData.userPhone))return this.$toast("请输入正确的手机号码"),void(this.formData.userPhone=null);if(this.checkPro||(this.showPro=!0,this.checkPro=!0),this.formData.carNumber=this.csd+this.carNum,!this.plateNumber(this.formData.carNumber)&&!this.newEnergy(this.formData.carNumber))return this.$toast("请输入正确的车牌号码"),this.carNum=null,void(this.formData.carNumber=null);var e=this.$route.query,a=Object(r["a"])(Object(r["a"])({},this.formData),{},{equityId:e.equityId,memberEquityTypeCode:e.memberEquityTypeCode});this.$http.post("/app/json/equity_member/useMemberEquity",a).then((function(e){var a=e.data;if(0==a.status){var s={path:"/service_success"};t.$router.push(s)}else t.$router.replace("/service_list"),t.$toast(e.data.info)}))}else this.$toast("请输入车牌号");else this.$toast("请输入手机号");else this.$toast("请输入姓名")},confirm:function(){this.showPro=!1,this.checkPro=!0},changeCheck:function(t){t&&(this.showPro=!0)},plateNumber:function(t){var e=/(^[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领A-Z]{1}[A-Z]{1}[A-Z0-9]{4}[A-Z0-9挂学警港澳]{1}$)/;return e.test(t)},newEnergy:function(t){var e=/(^[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领A-Z]{1}[A-Z]{1}(([0-9]{5}[DF])|([DF][A-HJ-NP-Z0-9][0-9]{4}))$)/;return e.test(t)},backEvent:function(){this.$router.go(-1)},onConfirm:function(t){this.csd=t,this.show=!1},onCancel:function(){this.show=!1}},computed:{headImg:function(){return this.$store.state.userInfo.avtUrl},bgImg:function(){return a("35d9")}}}),n=i,c=(a("acdd"),a("0c7c")),u=Object(c["a"])(n,s,o,!1,null,"1250d0e5",null);e["default"]=u.exports}}]);