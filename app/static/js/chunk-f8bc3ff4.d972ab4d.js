(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f8bc3ff4","chunk-a8f2ea64"],{"00d6":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"scroll",staticClass:"scroll-wrapper",on:{touchstart:t.touchstart}},[i("div",{ref:"scrollContent",staticClass:"scroll-content"},[t._t("default")],2)])},a=[],n=(i("a9e3"),i("4795"),i("1fba"));i("4de4"),i("4160"),i("159b");function r(t,e){var i,s,a,n={absolute:!1,clone:!1,includeMargin:!1,display:"block"},r=[],c="";i=function(){var e=[];l(t,e),e.push(t),a=e.filter((function(t){return"none"===o(t,"display")})),c+="visibility: hidden !important; display: "+n.display+" !important; ",!0===n.absolute&&(c+="position: absolute !important; "),a.forEach((function(t,e){var i=t.getAttribute("style");r.push(i),t.setAttribute("style",i?i+";"+c:c)}))},s=function(){a.forEach((function(t,e){var i=r[e];void 0===i?t.removeAttribute("style"):t.setAttribute("style",i)}))},i();var d=0;return"width"==e?d=t.clientWidth:"height"==e&&(d=t.clientHeight),s(),d}function l(t,e){t&&t.parentElement&&(e.push(t.parentNode),l(t.parentElement,e))}function o(t,e){return t.style[e]?t.style[e]:t.currentStyle?t.currentStyle[e]:window.getComputedStyle(t,null)[e]}var c=r,d={name:"",props:{dataList:{type:Array,default:function(){return[]}},click:{type:Boolean,default:!0},percentWidth:{type:Number,default:0}},data:function(){return{}},mounted:function(){this._refresh()},methods:{touchstart:function(t){},disable:function(){this.scroll&&this.scroll.disable()},enable:function(){this.scroll&&this.scroll.enable()},_refresh:function(){var t=this;this.$nextTick((function(){setTimeout((function(){t._setWidth(),t._initScroll()}),200)}))},_setWidth:function(){if(this.$refs.scrollContent){for(var t=this.$refs.scrollContent.children,e=this.$refs.scroll.clientWidth,i=0,s=0;s<t.length;s++){var a=t[s];this.percentWidth&&(a.style.width=e*this.percentWidth/100+"px"),i+=c(a,"width")}this.$refs.scrollContent.style.width=i+10+"px"}},_initScroll:function(){this.$refs.scroll&&(this.scroll=new n["a"](this.$refs.scroll,{scrollX:!0,scrollY:!1,click:this.click,preventDefault:!1}))}},components:{},watch:{dataList:{handler:function(t){t&&t.length&&this._refresh()},immediate:!0}}},h=d,u=(i("297f"),i("0c7c")),m=Object(u["a"])(h,s,a,!1,null,"77eb9db6",null);e["a"]=m.exports},"297f":function(t,e,i){"use strict";i("6438")},"333a":function(t,e,i){},"3dee":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.$market.moduleIsShow(t.moduleData)?i("div",{staticClass:"seconds-kill",class:{"min-height":"-1"==t.$store.state.webtype}},[t.isShow&&"1"==t.moduleData.styleTempl&&t.productList.length>0?i("div",{staticClass:"style1"},[i("div",{staticClass:"content"},[i("div",{staticClass:"title-row",class:t.hotareaClass({idCode:t.moduleData.idCode+"allSecondsKill"}),on:{click:function(e){t.hotEvent("allSecondsKill"),t.allSecondsKill()}}},[i("img",{attrs:{src:"static/images/seconds-kill/miaosha.png"}}),i("div",{staticClass:"field"},[t._v(t._s(t.fieldString))]),i("div",{staticClass:"remaining"},[t._v("还剩：")]),i("Countdown",{attrs:{endTime:t.endTime,type:"theme_bg_black"},on:{timeOut:t.myTimeOut}}),i("div",{staticStyle:{flex:"1"}}),i("img",{staticClass:"arrow",attrs:{src:"static/images/my-order/all-order.png"}})],1),i("div",{staticClass:"items-row"},[i("HScroll",{ref:"hscroll1",attrs:{dataList:t.productList,click:!1}},t._l(t.productList,(function(e,s){return i("div",{key:s,staticClass:"pro-itm"},[i("div",{staticClass:"item",class:t.hotareaClass({idCode:t.moduleData.idCode+e.id}),on:{click:function(i){t.hotEvent(e.id),t.productEvent(e)}}},[i("img",{attrs:{src:e.phMainUrl},on:{load:t.loadImage}}),i("div",{staticClass:"price"},[i("span",[t._v("￥")]),i("span",{staticClass:"price-z"},[t._v(t._s(e.dpedData.integer))]),i("span",[t._v("."+t._s(e.dpedData.decimals))])]),i("div",{staticClass:"price-line",class:{"line-through":2==t.$store.state.globalConfig.priceShowType}},[1==t.$store.state.globalConfig.priceShowType?i("span",[t._v("原价:")]):t._e(),t._v("￥"+t._s(t.$market.toDecimal2(e.dpedData.linePrice)))])])])})),0)],1)])]):t._e(),t.isShow&&"2"==t.moduleData.styleTempl&&t.productList.length>0&&t.$market.moduleIsShow(t.moduleData)?i("div",{staticClass:"style2",style:t.$market.getModuleBgStyle(t.moduleData)},[i("div",{staticClass:"content"},[i("div",{staticClass:"title-row",class:t.hotareaClass({idCode:t.moduleData.idCode+"allSecondsKill"}),on:{click:function(e){t.hotEvent("allSecondsKill"),t.allSecondsKill()}}},[i("img",{staticClass:"bg-img",attrs:{src:"static/images/seconds-kill/title-bg.png"}}),i("div",{staticClass:"title-content"},[i("div",{staticClass:"field"},[t._v(t._s(t.fieldString))]),i("Countdown",{attrs:{endTime:t.endTime,type:"theme_bg_quan"},on:{timeOut:t.myTimeOut}}),i("div",{staticStyle:{flex:"1"}})],1)]),i("div",{staticClass:"items-row"},[i("HScroll",{ref:"hscroll2",attrs:{dataList:t.productList,click:!1}},t._l(t.productList,(function(e,s){return i("div",{key:s,staticClass:"pro-itm"},[i("div",{staticClass:"item",class:t.hotareaClass({idCode:t.moduleData.idCode+e.id}),on:{click:function(i){t.hotEvent(e.id),t.productEvent(e)}}},[i("img",{attrs:{src:e.phMainUrl},on:{load:t.loadImage}}),i("div",{staticClass:"price"},[i("span",[t._v("￥")]),i("span",{staticClass:"price-z"},[t._v(t._s(e.dpedData.integer))]),i("span",[t._v("."+t._s(e.dpedData.decimals))])]),i("div",{staticClass:"price-line",class:{"line-through":2==t.$store.state.globalConfig.priceShowType}},[1==t.$store.state.globalConfig.priceShowType?i("span",[t._v("原价:")]):t._e(),t._v("￥"+t._s(t.$market.toDecimal2(e.dpedData.linePrice)))])])])})),0)],1)])]):t._e()]):t._e()},a=[],n=(i("0d03"),i("ac1f"),i("5319"),i("99af"),i("e25e"),i("d3b7"),i("25f0"),i("69f4")),r=i("00d6"),l=i("03c6"),o={name:"seconds-kill",components:{Countdown:n["default"],HScroll:r["a"]},props:["myIndex","usePorpData","propData"],mixins:[l["a"]],data:function(){return{mktActivity:{},productList:[],fieldString:"",isShow:!1,endTime:0,beforeClear:!0}},computed:{pageData:function(){return 1==this.usePorpData?this.propData:this.$store.state.pageData},moduleData:function(){return this.pageData.moduleList[this.myIndex].data}},created:function(){-1!=this.$store.state.webtype||this.moduleData.idCode||(this.moduleData.idCode=this.$util.randomString()),this.beforeClear=!0,this.getProducts()},methods:{hotEvent:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.actionBtnEvent(this.pageData.pgCode,this.moduleData.idCode+t)},modeleReshow:function(){},productEvent:function(t){this.$market.secondsKillProEvent(t,this.mktActivity.id,this.moduleData.onlyDeliveryType)},allSecondsKill:function(){this.$market.customPush({path:"/mall2/seckilllist",query:{onlyDeliveryType:this.moduleData.onlyDeliveryType}})},timeToTitle:function(t){return"date"==this.$store.state.globalConfig.seckill_title_type?this.dateFilter(t):this.hourFilter(t)},dateFilter:function(t){if(t){var e=new Date(t.replace(/-/g,"/"));return e.getMonth()+1+"月"+e.getDate()+"日场"}return""},hourFilter:function(t){if(t){t=t.replace(/-/g,"/");var e=new Date(t);return"".concat(e.getHours()).concat(this._padLeft(e.getMinutes()),"场")}return""},myTimeOut:function(){this.getProducts()},_padLeft:function(t){return 0==parseInt(t)?"点":":"+"00".substr(t.toString().length)+t},getProducts:function(){var t=this;this.beforeClear&&(this.mktActivity={},this.productList=[],this.fieldString="");var e=this.$market.apiBaseURL()+"/app/json/product/getAppProSecKillList",i={fromFrontPage:"1"};"-1"==this.$store.state.webtype&&(i.fromFrontPage=""),"-1"!=this.$store.state.webtype&&(i.token=this.$store.state.login.token),i.deliverType=this.$store.state.mall2.staticDeliverType,1==this.$store.state.mall2.staticDeliverType&&(i.pickUpId=this.$store.state.mall2.zitiAddress.id),this.$http.post(e,i).then((function(e){var i=e.data;if(0==i.status){var s=i.data.mktActivityList;if(s&&s.length>0){t.mktActivity=i.data.mktActivityList[0],t.fieldString=t.timeToTitle(t.mktActivity.startDate),t.productList=[];for(var a=[],n=0;n<i.data.list.length;n++){var r=t.$market.dataProcessing(i.data.list[n]);a.push(r)}t.productList=a;var l=t.mktActivity.startDate.replace(/-/g,"/"),o=new Date(l).getTime()/1e3,c=t.$store.state.severTime.currentTime;if(o>c)t.endTime=o;else{var d=t.mktActivity.endDate.replace(/-/g,"/");t.endTime=new Date(d).getTime()/1e3}t.isShow=!0,t.$nextTick((function(){var e="";"2"==t.moduleData.styleTempl?e="hscroll2":"1"==t.moduleData.styleTempl&&(e="hscroll1");var i=t.$refs[e];i&&i._refresh()}))}else t.isShow=!1}}),(function(t){}))},loadImage:function(){if(!this.checkloaded){this.checkloaded=!0;var t="";"2"==this.moduleData.styleTempl?t="hscroll2":"1"==this.moduleData.styleTempl&&(t="hscroll1");var e=this.$refs[t];e&&e._refresh()}}}},c=o,d=(i("c61b"),i("0c7c")),h=Object(d["a"])(c,s,a,!1,null,"3ec88ad8",null);e["default"]=h.exports},6438:function(t,e,i){},"69f4":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"countdown",class:{quan:"theme_bg_quan"==t.type}},[0==t.d||t.hiddenDay?t._e():i("div",{staticClass:"red-div theme_font_white",class:[t.type||"theme_bg_red"]},[t._v(t._s(t.d))]),0==t.d||t.hiddenDay?t._e():i("span",[t._v("天")]),i("div",{staticClass:"red-div theme_font_white",class:[t.type||"theme_bg_red"]},[t._v(t._s(t.h))]),t._v(" : "),i("div",{staticClass:"red-div theme_font_white",class:[t.type||"theme_bg_red"]},[t._v(t._s(t.m))]),t._v(" : "),i("div",{staticClass:"red-div theme_font_white",class:[t.type||"theme_bg_red"]},[t._v(t._s(t.s))])])},a=[],n=(i("4795"),i("e25e"),i("9d5d")),r={name:"countdown",props:["endTime","type","hiddenDay","callback"],components:{},data:function(){return{d:"0",h:"00",m:"00",s:"00",trigger:!0}},methods:{parsingTime:function(){var t=this;if(this.endTime){var e=this.$store.state.severTime.currentTime,i=this.endTime,s=i-e;this.d=0,this.h="0",this.m="0",this.s="0",s<0?this.trigger&&(this.trigger=!1,setTimeout((function(){t.$emit("timeOut")}),1e3)):(this.trigger=!0,s>59?(this.s=s%60,s=parseInt(s/60),s>59?(this.m=s%60,s=parseInt(s/60),s>23?(this.h=parseInt(s%24),s=parseInt(s/24),this.d=s):this.h=s):this.m=s):s>=0&&(this.s=s),this.h<10&&(this.h="0"+this.h),this.m<10&&(this.m="0"+this.m),this.s<10&&(this.s="0"+this.s))}}},created:function(){this.parsingTime(),n["a"].heartbeat()},destroyed:function(){n["a"].removeHeartbeat()},watch:{"$store.state.severTime.currentTime":function(){this.parsingTime()}}},l=r,o=(i("d49f"),i("0c7c")),c=Object(o["a"])(l,s,a,!1,null,"65b2d2d6",null);e["default"]=c.exports},"9d5d":function(t,e,i){"use strict";i("4795"),i("e25e"),i("0d03");var s,a=i("653a"),n=0,r={heartbeat:function(){n++,s||(s=window.setInterval((function(){var t=parseInt((new Date).getTime()/1e3);a["a"].state.severTime.currentTime=t+a["a"].state.severTime.jetlag}),1e3))},removeHeartbeat:function(){n>0&&n--,0==n&&(window.clearInterval(s),s=null)}};e["a"]=r},b925:function(t,e,i){},c61b:function(t,e,i){"use strict";i("b925")},d49f:function(t,e,i){"use strict";i("333a")}}]);