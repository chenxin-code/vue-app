(window.webpackJsonp=window.webpackJsonp||[]).push([[928],{lidC:function(t,s,i){"use strict";var e=i("vY8Q");i.n(e).a},pDkT:function(t,s,i){"use strict";i.r(s);var e=i("ProS");i("wDdD"),i("lLGD"),i("75ce"),i("AH3D"),i("Ynxi"),i("Cm0C");var a={name:"index",methods:{createCharts:function(){},getStatisticData:function(){var t=this;this.$Loading.open();var s={token:this.$store.state.login.token},i=this;this.$http.post("/app/json/app_data_stats/queryGroupOperationDataStats",s).then((function(s){t.$Loading.close();var e=s.data;0==e.status&&(e.data.forEach((function(s){var i=t;if("operation:group:refuelamount"==s.mainKey)"1"==s.dateType?t.memberYestday=s:"3"==s.dateType&&t.isLastMouthOrThisMouth(s)&&(t.memberThisMouth=s);else if("operation:group:cardrechargeamount"==s.mainKey)"1"==s.dateType?t.cardYestday=s:"3"==s.dateType&&(t.isLastMouthOrThisMouth(s)?t.cardThisMouth=s:t.cardLastMouth=s);else if("operation:group:saleamount"==s.mainKey)"1"==s.dateType?t.shopYestday=s:"3"==s.dateType&&t.isLastMouthOrThisMouth(s)&&(t.shopThisMouth=s);else if("access:traffic:login"==s.mainKey){i.loginPersonTitle=s.value;var e=s.statsDate.split(" ")[0].split("-"),a=e[1]+"-"+e[2];i.loginPersonXAxis.push(a),i.loginPersonYAxis.push(s.value)}else"operation:group:activevisitor"==s.mainKey&&(i.activityPersonTitle=s.value,i.activityPersonXAxis.push(s.statsDate),i.activityPersonYAxis.push(s.value))})),0!=i.loginPersonYAxis.length&&i.$nextTick((function(){i.drawLine()})),0!=i.activityPersonYAxis.length&&i.$nextTick((function(){i.drawLine1()})))}),(function(s){t.$Loading.close()}))},getMemberData:function(){var t=this;this.$Loading.open();var s={token:this.$store.state.login.token},i=this;this.$http.post("/app/json/app_data_stats/getAppStat",s).then((function(s){t.$Loading.close();var e=s.data;0==e.status&&(i.memberData=e.data)}),(function(s){t.$Loading.close()}))},drawLine:function(){e.init(document.getElementById("myChart")).setOption({title:{text:"昨日:"+this.loginPersonTitle},tooltip:{},xAxis:{type:"category",data:this.loginPersonXAxis},yAxis:{},series:[{data:this.loginPersonYAxis,type:"line",smooth:!0}]})},drawLine1:function(){e.init(document.getElementById("myChart1")).setOption({title:{text:"昨日:"+this.activityPersonTitle},xAxis:{type:"category",data:this.activityPersonXAxis},yAxis:{},series:[{data:this.activityPersonYAxis,type:"line",smooth:!0}]})},isLastMouthOrThisMouth:function(t){var s=new Date,i=this.$util.getDealMonthFromAdd0(s.getFullYear(),s.getMonth()+1),e=t.statsDate;return this.$util.isDateBetweenCurrent(e,i.start,i.end)}},data:function(){return{memberYestday:{},memberThisMouth:{},cardYestday:{},cardThisMouth:{},cardLastMouth:{},shopYestday:{},shopThisMouth:{},memberData:{},loginPersonTitle:"",loginPersonXAxis:[],loginPersonYAxis:[],activityPersonTitle:"",activityPersonXAxis:[],activityPersonYAxis:[]}},created:function(){this.getStatisticData(),this.getMemberData()},mounted:function(){}},l=(i("lidC"),i("KHd+")),o=Object(l.a)(a,(function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",[i("nav-top",{on:{backEvent:function(s){return t.$router.go(-1)}}}),t._v(" "),i("nav-content",{staticClass:"statistic-content"},[i("div",{staticClass:"space"}),t._v(" "),i("div",{staticClass:"member-all-div"},[i("p",{staticClass:"member-moudle-title"},[t._v("会员总览")]),t._v(" "),i("div",{staticClass:"moudle-gridle"},[i("div",{staticClass:"moudle-item-left"},[i("div",{staticClass:"moudle-text"},[t._v("昨日注册")]),t._v(" "),i("div",{staticClass:"moudle-text-num"},[t._v(t._s(t.memberData.preDayRegNum||0))])]),t._v(" "),i("div",{staticClass:"moudle-item-right"},[i("div",{staticClass:"moudle-text"},[t._v("累计注册")]),t._v(" "),i("div",{staticClass:"moudle-text-num"},[t._v(t._s(t.memberData.totalRegNum||0))])])]),t._v(" "),i("div",{staticClass:"moudle-gridle-buttom"},[i("div",{staticClass:"moudle-item-left"},[i("div",{staticClass:"moudle-text"},[t._v("昨日绑卡")]),t._v(" "),i("div",{staticClass:"moudle-text-num"},[t._v(t._s(t.memberData.preDayBindCardNum||0))])]),t._v(" "),i("div",{staticClass:"moudle-item-right"},[i("div",{staticClass:"moudle-text"},[t._v("累计绑卡")]),t._v(" "),i("div",{staticClass:"moudle-text-num"},[t._v(t._s(t.memberData.totalBindCardNum||0))])])])]),t._v(" "),i("div",{staticClass:"space"}),t._v(" "),i("div",{staticClass:"do-business"},[i("p",{staticClass:"member-moudle-title"},[t._v("运营中心")]),t._v(" "),i("p",{staticClass:"hr-class"}),t._v(" "),i("div",{staticClass:"member-add-oil-div"},[i("p",{staticClass:"member-all-oil-title"},[t._v("会员加油(元)")]),t._v(" "),i("div",{staticClass:"moudle-gridle"},[i("div",{staticClass:"moudle-item-left"},[i("div",{staticClass:"moudle-text"},[t._v("昨日加油金额")]),t._v(" "),i("div",{staticClass:"moudle-text-num"},[t._v(t._s(t.memberYestday.value||0))])]),t._v(" "),i("div",{staticClass:"moudle-item-right"},[i("div",{staticClass:"moudle-text"},[t._v("当月加油金额")]),t._v(" "),i("div",{staticClass:"moudle-text-num"},[t._v(t._s(t.memberThisMouth.value||0))])])])]),t._v(" "),i("div",{staticClass:"member-add-oil-div"},[i("p",{staticClass:"member-all-oil-title"},[t._v("单位卡充值(万元)")]),t._v(" "),i("div",{staticClass:"moudle-gridle-three"},[i("div",{staticClass:"moudle-item-one"},[i("div",{staticClass:"moudle-text"},[t._v("昨日充值金额")]),t._v(" "),i("div",{staticClass:"moudle-text-num"},[t._v(t._s(t.cardYestday.value||0))])]),t._v(" "),i("div",{staticClass:"moudle-item-two"},[i("div",{staticClass:"moudle-text"},[t._v("当月充值金额")]),t._v(" "),i("div",{staticClass:"moudle-text-num"},[t._v(t._s(t.cardThisMouth.value||0))])]),t._v(" "),i("div",{staticClass:"moudle-item-three"},[i("div",{staticClass:"moudle-text"},[t._v("上月充值金额")]),t._v(" "),i("div",{staticClass:"moudle-text-num"},[t._v(t._s(t.cardLastMouth.value||0))])])])]),t._v(" "),i("div",{staticClass:"member-add-oil-div-buttom"},[i("p",{staticClass:"member-all-oil-title"},[t._v("商城交易(元)")]),t._v(" "),i("div",{staticClass:"moudle-gridle-buttom"},[i("div",{staticClass:"moudle-item-left"},[i("div",{staticClass:"moudle-text"},[t._v("昨日销售金额")]),t._v(" "),i("div",{staticClass:"moudle-text-num"},[t._v(t._s(t.shopYestday.value||0))])]),t._v(" "),i("div",{staticClass:"moudle-item-right"},[i("div",{staticClass:"moudle-text"},[t._v("当月销售金额")]),t._v(" "),i("div",{staticClass:"moudle-text-num"},[t._v(t._s(t.shopThisMouth.value||0))])])])])]),t._v(" "),i("div",{staticClass:"space"}),t._v(" "),i("div",[i("p",{staticClass:"member-moudle-title-activity"},[t._v("APP日活")]),t._v(" "),i("p",{staticClass:"hr-class"}),t._v(" "),i("div",{staticClass:"member-add-oil-div"},[i("p",{staticClass:"member-all-oil-title"},[t._v("登录人数")]),t._v(" "),t.loginPersonYAxis.length?i("div",{staticClass:"exchart-class"},[i("div",{style:{width:"100%",height:"300px"},attrs:{id:"myChart"}})]):i("div",{staticClass:"nonData"},[t._v("\n          暂无数据！\n        ")])]),t._v(" "),i("div",{staticClass:"member-add-oil-div"},[i("p",{staticClass:"member-all-oil-title"},[t._v("活跃人数")]),t._v(" "),t.activityPersonYAxis.length?i("div",{staticClass:"exchart-class"},[i("div",{style:{width:"100%",height:"300px"},attrs:{id:"myChart1"}})]):i("div",{staticClass:"nonData"},[t._v("\n          暂无数据！\n        ")])])])])],1)}),[],!1,null,"6bab5531",null);s.default=o.exports},vY8Q:function(t,s,i){}}]);