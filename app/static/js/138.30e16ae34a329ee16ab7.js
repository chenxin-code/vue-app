(window.webpackJsonp=window.webpackJsonp||[]).push([[138,491,724],{"4VhL":function(t,s,e){},"6C5u":function(t,s,e){},EQkO:function(t,s,e){"use strict";e.r(s),e("4X9F");var i=e("IkEG"),a=(e("5+UC"),e("05lO")),o=e("qXmS"),n=(e("L2JU"),e("2nGb")),r={name:"",mixins:[o.a],data:function(){return{resultList:[],listItem:"",i:0,flag:!1,prohibit:!1,subjectValue:0,numList:[],disappear:!0,type:{1:"green",2:"red"},answerList:[],optionsObj:{0:"A",1:"B",2:"C",3:"D",4:"E",5:"F",6:"G",7:"H",8:"I"},radio:"B",list:["a","b","c","d"],result:["a","b"],value:3,show:!1,commitModel:!1,actions:[],mktAwardList:[],id:"",url:"",paramsData:{},shareTitle:"",shareContent:"",shareImgUrl:"",shareurl:"",shareUserid:"",shareView:!0}},created:function(){this.paramsData=this.$route.query,console.log(this.paramsData),this.$route.query?this.shareUserid=this.$route.query.shareUserid:this.shareUserid="",console.log(this.$route.query),console.log(this.shareUserid)},mounted:function(){this.loadData(),this.Intercept()},methods:{loadData:function(){var t=this,s={id:t.paramsData.subId,token:this.$store.state.login.token};t.questionData(s).then((function(s){if(console.log(s),"success"===s.data.result){var e=s.data.data.subjectList;console.log(e);var i=JSON.parse(s.data.data.questionShare);console.log(i),0==i.length?t.shareView=!1:t.shareView=!0,e.forEach((function(s,e){if(1===s.kindId||2===s.kindId||3===s.kindId||4===s.kindId){s.active=0;var i=JSON.parse(s.options);2===s.kindId?(s.right=[],i.forEach((function(e,i){e.name=e.lable,e.code=t.optionsObj[i],!0===e.rightResult&&s.right.push(t.optionsObj[i])})),console.log(s.right)):i.forEach((function(e,i){e.name=e.lable,e.code=t.optionsObj[i],!0===e.rightResult&&(s.right=t.optionsObj[i])})),s.options=i}2===s.kindId?s.result=[]:6===s.kindId?(s.result=0,s.right=0):(s.result="",4===s.kindId&&(s.show=!1))})),t.answerList=e,console.log(99),console.log(t.answerList),t.listItem=t.answerList[t.i],t.shareTitle=s.data.data.shareTitle,t.shareContent=s.data.data.shareContent,t.shareImgUrl=s.data.data.shareImgUrl,console.log("hahh",t.shareImgUrl)}else console.log(s.data.info)}))},next:function(){this.i++,this.listItem=this.answerList[this.i],this.prohibit=!1,this.flag=!1,this.disappearData()},closeBtn:function(){this.commitModel=!1,this.$router.go(-1)},sharegoods:function(){var t={title:this.shareTitle,sharetext:this.shareContent,imageurl:this.shareImgUrl,detailurl:""+this.$store.state.globalConfig.wxBaseUrl+n.a.shareUrl+"/answer?shareUserid="+this.$store.state.userInfo.userId};console.log(t.detailurl),this.$bridgefunc.wechatShare(t)},disappearData:function(){console.log(this.i+1),console.log(this.answerList.length),this.i+1>=this.answerList.length&&(this.disappear=!1)},select1:function(t){t.show=!0},onSelect:function(t,s){s.result=t.code,s.show=!1},confirm:function(){var t=this;t.flag=!0,t.prohibit=!0;var s=t.answerList[t.i];2===s.kindId?s.right.sort().toString()===s.result.sort().toString()?(s.active=2,s.scoreValue=s.subjectValue,t.subjectValue=t.subjectValue+s.subjectValue):(s.active=1,s.scoreValue=0):s.result===s.right?(s.active=2,s.scoreValue=s.subjectValue,t.subjectValue=t.subjectValue+s.subjectValue):(s.active=1,s.scoreValue=0);var e={kindId:s.kindId,configId:s.configId,subjectId:s.id,kindName:s.kindName,options:JSON.stringify(s.options),title:s.title,result:s.result.toString(),orderNo:s.orderNo,score:s.scoreValue};console.log(e.toString()),e.token=this.$store.state.login.token,t.commitData(e).then((function(s){console.log(s),"success"===s.data.result?t.i+1>=t.answerList.length&&(Object(a.a)("恭喜您已经答完最后一道题了"),t.prize()):Object(a.a)(s.data.info)}))},prize:function(){var t=this,s={id:t.paramsData.subId,token:this.$store.state.login.token,shareUserid:t.shareUserid};t.prizeData(s).then((function(s){console.log(s),"success"===s.data.result?(t.mktAwardList=s.data.data.mktAwardList||[],t.mktAwardList.length>0?t.commitModel=!0:(t.commitModel=!1,t.$router.go(-1))):(console.log(s.data.info),t.commitModel=!1,t.$router.go(-1))}))},backEvent:function(){var t=this;i.a.confirm({title:"标题",message:"问卷尚未答完，确定要离开吗？",cancelButtonText:"现在离开",confirmButtonText:"继续答题"}).then((function(){})).catch((function(){t.$router.go(-1)}))},Intercept:function(){var t=this.url||window.location.href;console.log(t);var s=t.substr(t.indexOf("?"));console.log(s);var e=s.slice(1).split("=");console.log(e[1]),this.id=e[1]}},computed:{},components:{},watch:{}},l=(e("KOPv"),e("KHd+")),c=Object(l.a)(r,(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"body"}},[e("nav-top",{attrs:{title:"每日答题"},on:{backEvent:t.backEvent}},[t.shareView?e("div",{staticClass:"shareBox"},[e("div",{on:{click:t.sharegoods}},[e("i",{staticClass:"icon iconfont mall-fenxiang"})])]):t._e()]),t._v(" "),e("nav-content",[e("div",{staticClass:"content"},[e("div",{staticClass:"box"},[e("div",{staticClass:"top"},[1===t.listItem.kindId?e("div",{staticClass:"singleList"},[e("span",{staticClass:"theme_bg_red"},[t._v("单选")]),t._v(" "),e("div",{staticClass:"divObj"},[e("span",[t._v(t._s(t.listItem.orderNo)+"、"+t._s(t.listItem.title))]),t._v(" "),e("van-radio-group",{model:{value:t.listItem.result,callback:function(s){t.$set(t.listItem,"result",s)},expression:"listItem.result"}},t._l(t.listItem.options,(function(s,i){return e("van-radio",{key:i,attrs:{disabled:t.prohibit,"checked-color":"#F80F16",name:t.optionsObj[i]}},[t._v("\n                  "+t._s(t.optionsObj[i])+" 、"+t._s(s.lable)+"\n                  "),!0===s.rightResult&&!0===t.flag?e("span",{staticClass:"correct"},[t._v("正确答案")]):t._e(),!1===s.rightResult&&!0===t.flag&&t.listItem.result===s.code?e("span",{staticClass:"wrong theme_font_red"},[t._v("回答错误")]):t._e()])})),1)],1)]):t._e(),t._v(" "),2===t.listItem.kindId?e("div",{staticClass:"singleList multipleList"},[e("span",{staticClass:"theme_bg_red"},[t._v("多选")]),t._v(" "),e("div",{staticClass:"divObj"},[e("span",[t._v(t._s(t.listItem.orderNo)+"、"+t._s(t.listItem.title))]),t._v(" "),e("van-checkbox-group",{model:{value:t.listItem.result,callback:function(s){t.$set(t.listItem,"result",s)},expression:"listItem.result"}},t._l(t.listItem.options,(function(s,i){return e("van-checkbox",{key:i,attrs:{"checked-color":"#F80F16",name:t.optionsObj[i]}},[t._v("\n                  "+t._s(t.optionsObj[i])+" 、"+t._s(s.lable)+"\n                  "),!0===s.rightResult&&!0===t.flag?e("span",{staticClass:"correct"},[t._v("正确答案")]):t._e(),!1===s.rightResult&&!0===t.flag&&t.listItem.result.indexOf(s.code)>-1?e("span",{staticClass:"wrong theme_font_red",staticStyle:{"margin-left":"15px"}},[t._v("回答错误")]):t._e()])})),1)],1)]):t._e(),t._v(" "),5===t.listItem.kindId?e("div",{staticClass:"singleList"},[e("span",{staticClass:"theme_bg_red"},[t._v("问答")]),t._v(" "),e("div",{staticClass:"divObj"},[e("span",[t._v(t._s(t.listItem.orderNo)+"、"+t._s(t.listItem.title))]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.listItem.result,expression:"listItem.result"}],staticClass:"textType",staticStyle:{"min-height":"90px"},attrs:{maxlength:t.listItem.limitMax},domProps:{value:t.listItem.result},on:{input:function(s){s.target.composing||t.$set(t.listItem,"result",s.target.value)}}})])]):t._e(),t._v(" "),6===t.listItem.kindId?e("div",{staticClass:"singleList score"},[e("span",{staticClass:"theme_bg_red"},[t._v("打分")]),t._v(" "),e("div",{staticClass:"divObj"},[e("span",[t._v(t._s(t.listItem.orderNo)+"、"+t._s(t.listItem.title))]),t._v(" "),1===t.listItem.styleType?e("van-rate",{attrs:{color:"#F80F16","void-color":"#F80F16"},model:{value:t.listItem.result,callback:function(s){t.$set(t.listItem,"result",s)},expression:"listItem.result"}}):t._e(),t._v(" "),2===t.listItem.styleType?e("van-rate",{attrs:{color:"#F80F16",icon:"like","void-color":"#F80F16","void-icon":"like-o"},model:{value:t.listItem.result,callback:function(s){t.$set(t.listItem,"result",s)},expression:"listItem.result"}}):t._e(),t._v(" "),3===t.listItem.styleType?e("van-rate",{attrs:{color:"#F80F16",icon:"static/image/microShop/xiaoicon.png","void-color":"#F80F16","void-icon":"smile-o"},model:{value:t.listItem.result,callback:function(s){t.$set(t.listItem,"result",s)},expression:"listItem.result"}}):t._e()],1)]):t._e(),t._v(" "),3===t.listItem.kindId?e("div",{staticClass:"singleList"},[e("span",{staticClass:"theme_bg_red"},[t._v("图片")]),t._v(" "),e("div",{staticClass:"divObj"},[e("span",[t._v(t._s(t.listItem.orderNo)+"、"+t._s(t.listItem.title))]),t._v(" "),t._l(t.listItem.options,(function(s,i){return e("div",{key:i,staticClass:"pics"},[e("div",{staticClass:"picsDiv"},[e("span",[t._v(t._s(t.optionsObj[i])+"、")]),t._v(" "),e("img",{attrs:{src:s.imgUrl,alt:""}})]),t._v(" "),e("div",[e("van-radio-group",{model:{value:t.listItem.result,callback:function(s){t.$set(t.listItem,"result",s)},expression:"listItem.result"}},[e("van-radio",{attrs:{disabled:t.prohibit,"checked-color":"#F80F16",name:t.optionsObj[i]}},[t._v(t._s(s.lable)+"\n                      "),!0===s.rightResult&&!0===t.flag?e("span",{staticClass:"correct"},[t._v("正确答案")]):t._e(),!1===s.rightResult&&!0===t.flag&&t.listItem.result===s.code?e("span",{staticClass:"wrong theme_font_red"},[t._v("回答错误")]):t._e()])],1)],1)])}))],2)]):t._e()]),t._v(" "),e("div",{staticClass:"btn"},[e("span",{staticClass:"theme_bg_red",on:{click:t.confirm}},[e("button",{class:{grays:t.prohibit,theme_bg_red:!t.prohibit},attrs:{disabled:t.prohibit}},[t._v("确认")])]),t._v(" "),t.disappear?e("span",{on:{click:t.next}},[e("button",{class:{grays:!t.prohibit,theme_bg_red:t.prohibit},attrs:{disabled:!t.prohibit}},[t._v("下一题")])]):t._e()])]),t._v(" "),e("div",{staticClass:"bottom"},[e("div",{staticClass:"head"},[e("div",{staticClass:"div1"},[t._v("当前得分："),e("span",{staticClass:"theme_font_red"},[t._v(t._s(t.subjectValue))]),t._v("分")]),t._v(" "),e("div",{staticClass:"div2"},[t._v(t._s(t.i+1)+"/"+t._s(t.answerList.length))])]),t._v(" "),e("div",{staticClass:"result"},[e("p",{staticClass:"result-p"},[t._v("题目")]),t._v(" "),e("ul",t._l(t.answerList,(function(s,i){return e("li",{key:i,class:{red:1==s.active,green:2==s.active}},[t._v("\n              "+t._s(i+1)+"\n            ")])})),0)])])])]),t._v(" "),e("van-popup",{model:{value:t.commitModel,callback:function(s){t.commitModel=s},expression:"commitModel"}},[e("div",{staticClass:"modal"},[e("p",{staticClass:"title-p"},[t._v("恭喜您成功提交问券，您获得"+t._s(t.subjectValue)+"分，奖励如下")]),t._v(" "),e("ul",t._l(t.mktAwardList,(function(s,i){return e("li",{key:i},[e("img",{attrs:{src:s.prizeImgUrl,alt:""}}),t._v(" "),e("span",[t._v(t._s(s.prizeName)+t._s(s.prizeNum))])])})),0)]),t._v(" "),e("div",{staticClass:"btns"},[e("span",{on:{click:t.closeBtn}},[t._v("确定")]),t._v(" "),e("span",{staticClass:"theme_bg_red"},[e("router-link",{attrs:{to:"/mall2/win_record"}},[t._v("查看奖品")])],1)])])],1)}),[],!1,null,"71cc8ee4",null);s.default=c.exports},HVXx:function(t,s,e){},KOPv:function(t,s,e){"use strict";var i=e("HVXx");e.n(i).a},d7Zl:function(t,s,e){"use strict";e.r(s);var i=(e("kYya"),e("KHd+")),a=Object(i.a)({name:"rule"},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"body"},[e("nav-top",{attrs:{title:"规则说明"},on:{backEvent:function(s){return t.$router.go(-1)}}}),t._v(" "),e("nav-content",[e("div",{staticClass:"content"},[e("div",[e("p",{staticClass:"p1 theme_font_red"},[t._v("如何获取答题机会？")]),t._v(" "),e("p",{staticClass:"p2"},[t._v("1、每人都可免费获得一次游戏")])]),t._v(" "),e("div",[e("p",{staticClass:"p1 theme_font_red"},[t._v("答题都有啥奖励呢？")]),t._v(" "),e("p",{staticClass:"p2"},[t._v("1、积分、游戏机会")])]),t._v(" "),e("div",[e("p",{staticClass:"p1 theme_font_red"},[t._v("规则说明")]),t._v(" "),e("p",{staticClass:"p2"},[t._v("1、必须全部答完才可以获得奖励")])])])])],1)}),[],!1,null,"e4a41b1c",null);s.default=a.exports},hbNr:function(t,s,e){"use strict";e.r(s),e("5+UC");var i=e("05lO"),a=e("qXmS"),o=(e("EQkO"),e("d7Zl"),e("L2JU"),{name:"",mixins:[a.a],data:function(){return{url:"",id:"",paramsData:{}}},created:function(){this.paramsData=this.$route.params,console.log(this.paramsData)},mounted:function(){this.Intercept()},methods:{participate:function(){var t=this,s={id:t.paramsData.paramsId,token:this.$store.state.login.token,ouCode:t.paramsData.ouCode};t.participateData(s).then((function(s){console.log(s),"success"===s.data.result?t.$router.push({name:"answer",params:{subId:t.paramsData.paramsId}}):Object(i.a)(s.data.info)}))},Intercept:function(){var t=this.url||window.location.href;console.log(t);var s=t.substr(t.indexOf("?"));console.log(s);var e=s.slice(1).split("=");console.log(e[1]),this.id=e[1]}},computed:{},components:{},watch:{}}),n=(e("vgIo"),e("KHd+")),r=Object(n.a)(o,(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"body"},[e("nav-top",{attrs:{title:"每日答题"},on:{backEvent:function(s){return t.$router.go(-1)}}},[e("div",{staticClass:"shareBox"},[e("div",[e("i",{staticClass:"icon iconfont mall-fenxiang"})])])]),t._v(" "),e("nav-content",[e("div",{staticClass:"content"},[t._v("\n        答题共计10题，9道选择题，一个问答题，完成问卷后，可获得商城购物100元优惠券，分享游戏，可得商城10元优惠券\n      ")]),t._v(" "),e("div",{staticClass:"answer theme_bg_red",on:{click:t.participate}},[t._v("开始答题")])])],1)}),[],!1,null,"695630b7",null);s.default=r.exports},kYya:function(t,s,e){"use strict";var i=e("6C5u");e.n(i).a},qXmS:function(t,s,e){"use strict";s.a={methods:{participateData:function(t){return this.$http.post("/app/json/questionaire/startAnswer",t)},questionData:function(t){return this.$http.post("/app/json/questionaire/appUserConfig",t)},commitData:function(t){return this.$http.post("/app/json/questionaire/dailyAnswer",t)},prizeData:function(t){return this.$http.post("/app/json/questionaire/completeAct",t)},listData:function(t){return this.$http.post("/app/json/questionaire/findDailyAnswerByuserId",t)},historyData:function(t){return this.$http.post("/app/json/questionaire/historyDailyAnswerList",t)},historydetailData:function(t){return this.$http.post("/app/json/questionaire/questionaireDetail",t)}}}},vgIo:function(t,s,e){"use strict";var i=e("4VhL");e.n(i).a}}]);