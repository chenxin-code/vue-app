(window.webpackJsonp=window.webpackJsonp||[]).push([[869],{DkuS:function(t,i,e){"use strict";var a=e("RTOL");e.n(a).a},RTOL:function(t,i,e){},oJOB:function(t,i,e){"use strict";e.r(i);var a=e("L2JU"),s={name:"sign-up",data:function(){return{activiteDetail:{},activiteView:!1}},computed:(Object.assign||function(t){for(var i=1;i<arguments.length;i++){var e=arguments[i];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t})({},Object(a.c)(["userInfo"])),created:function(){var t=this;console.log(this.userInfo,this.userInfo.phone);var i={token:this.$store.state.login.token,id:this.$route.query.id};this.$http.post("/app/json/app_under_line_activity/underLineActivityDetail",i).then((function(i){console.log(i),"success"==i.data.result&&(t.activiteDetail=i.data.data||{})}))},methods:{sign:function(){this.activiteView=!0},commitBtn:function(){var t=this;if(this.userInfo.nickName)if(this.userInfo.phone){var i={token:this.$store.state.login.token,contactsPhone:this.userInfo.phone,contacts:this.userInfo.nickName,activityId:this.$route.query.id};this.$http.post("/app/json/app_under_line_activity/attendActivity",i).then((function(i){"success"==i.data.result?(t.$toast("报名成功"),t.activiteView=!1,t.$router.go(-1)):t.$toast(i.data.info)}))}else this.$toast("请填写联系人电话");else this.$toast("请填写联系人姓名")}}},n=(e("DkuS"),e("KHd+")),o=Object(n.a)(s,(function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"body"},[e("nav-top",{attrs:{title:"线下活动"},on:{backEvent:function(i){return t.$router.go(-1)}}}),t._v(" "),e("nav-content",[e("h1",[t._v("活动名称："+t._s(t.activiteDetail.activityName))]),t._v(" "),0==t.activiteDetail.state?e("p",{staticClass:"time"},[t._v(t._s(t.activiteDetail.activityStartTime)+"\n      报名人数："+t._s(t.activiteDetail.attendNumber))]):t._e(),t._v(" "),e("p",{staticClass:"contact",domProps:{innerHTML:t._s(t.activiteDetail.activityDesc)}}),t._v(" "),e("div",{staticClass:"bottom"},[0==t.activiteDetail.state?e("div",{staticClass:"singDiv",on:{click:t.sign}},[t._v("报名参加")]):t._e(),t._v(" "),1==t.activiteDetail.state?e("div",{staticClass:"singDiv singDivd"},[e("span",[t._v("我已报名")]),t._v(" "),e("span",[t._v("（"+t._s(t.activiteDetail.contacts)+" "+t._s(t.activiteDetail.contactsPhone)+"）")])]):t._e()]),t._v(" "),e("van-popup",{staticClass:"activiteView",model:{value:t.activiteView,callback:function(i){t.activiteView=i},expression:"activiteView"}},[e("div",{staticClass:"top"},[e("p",[t._v("线下活动报名")]),t._v(" "),e("img",{attrs:{src:"static/image/coupon/close-btn.png",alt:""},on:{click:function(i){t.activiteView=!1}}})]),t._v(" "),e("div",{staticClass:"middle"},[e("div",{staticClass:"div"},[e("span",[t._v("联系人姓名：")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.userInfo.nickName,expression:"userInfo.nickName"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.userInfo.nickName},on:{input:function(i){i.target.composing||t.$set(t.userInfo,"nickName",i.target.value)}}})]),t._v(" "),e("div",{staticClass:"div"},[e("span",[t._v("联系人电话：")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.userInfo.phone,expression:"userInfo.phone"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.userInfo.phone},on:{input:function(i){i.target.composing||t.$set(t.userInfo,"phone",i.target.value)}}})])]),t._v(" "),e("div",{staticClass:"commitBtn"},[e("p",{on:{click:t.commitBtn}},[t._v("确定报名")])])])],1)],1)}),[],!1,null,"c0502f1e",null);i.default=o.exports}}]);