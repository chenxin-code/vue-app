(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5afc6348"],{"084c":function(t,i,e){"use strict";var s="/app/json/user_invoice_assistant/queryUserInvoiceHeadList",n="/app/json/user_invoice_assistant/queryInvoicedList",a="/app/json/user_invoice_assistant/queryInvoiceDetails",o="/app/json/user_invoice_assistant/addOrUpdateUserInvoiceHead",r="/app/json/user_invoice_assistant/deleteUserInvoiceHead",c="/app/json/user_invoice_assistant/setDefaultUserInvoiceHead",u="/app/json/user_invoice_assistant/searchInvoiceList",p="/app/json/user_invoice_assistant/queryUserInvoiceHeadDetails",l="/app/json/user_invoice_assistant/addInvoicing",h="/app/json/user_invoice_assistant/getResultFromQrcode",d="/app/json/user_invoice_assistant/queryDefaultTittle",v="/app/json/user_invoice_assistant/unInvoicingList",f="/app/json/user_invoice_assistant/queryUserInvoiceHeadDetails",_="/app/json/user_invoice_assistant/queryInvoicedList",g="/app/json/user_invoice_assistant/queryInvoiceDetails",m="/app/json/user_invoice_assistant/invoiceModifyMailbox",D="/app/json/user_invoice_assistant/orderInvoicingInMall",y="/app/json/user_invoice_assistant/gasCardInvoice",$="/app/json/refuel_center/queryOrder",b="/app/json/app_shopping_order/queryOrder",I="/app/json/user_invoice_assistant/queryCashIn",j="/app/json/user_invoice_assistant/sinopecWalletInvoiceList",x="/app/json/user_invoice_assistant/queryUserRefuelingCardInfoList",L="/app/json/user_invoice_assistant/queryConvenienceStoreOrder",M="/app/json/user_invoice_assistant/invoiceContentDetailsList",C="/app/json/user_invoice_assistant/invoiceContentDetails",w="/app/json/user_invoice_assistant/detailsOfInvoiceList",R="/app/json/app_shopping_order/detail",T="/app/json/user_invoice_assistant/convenienceStoredetail",k="/app/json/refuel_center/detail",E="/app/json/user_invoice_assistant/detailsOfInvoiceInfo",q="/app/json/card/getUserCardList",F="/app/json/news/getNewsList",S="/app/json/user_invoice_assistant/invoiceRushRed",U="/app/json/user_invoice_assistant/cashInInvoicing",N="/app/json/user_invoice_assistant/importUserInvoiceHead";i["a"]={methods:{exportinvoiceData:function(t){return this.$http.post(N,t)},golddetailData:function(t){return this.$http.post(E,t)},invoicetipData:function(t){return this.$http.post(F,t)},refundData:function(t){return this.$http.post(S,t)},cardMoData:function(t){return this.$http.post(q,t)},mingxiData:function(t){return this.$http.post(w,t)},malldetailData:function(t){return this.$http.post(R,t)},shopdetailData:function(t){return this.$http.post(T,t)},oildetailData:function(t){return this.$http.post(k,t)},hisdetailData:function(t){return this.$http.post(C,t)},hisData:function(t){return this.$http.post(M,t)},mallData:function(t){return this.$http.post(b,t)},storeData:function(t){return this.$http.post(L,t)},appData:function(t){return this.$http.post($,t)},goldData:function(t){return this.$http.post(I,t)},walletData:function(t){return this.$http.post(j,t)},cardData:function(t){return this.$http.post(x,t)},commitselfinvoiceData:function(t){return this.$http.post(D,t)},commitselfcardinvoiceData:function(t){return this.$http.post(y,t)},commitselfgoldinvoiceData:function(t){return this.$http.post(U,t)},emailData:function(t){return this.$http.post(m,t)},histroydetailData:function(t){return this.$http.post(g,t)},histroyData:function(t){return this.$http.post(_,t)},riseData:function(t){return this.$http.post(s,t)},openedData:function(t){return this.$http.post(n,t)},commitData:function(t){return this.$http.post(o,t)},delData:function(t){return this.$http.post(r,t)},morenData:function(t){return this.$http.post(c,t)},detailData:function(t){return this.$http.post(a,t)},souData:function(t){return this.$http.post(u,t)},soudetailData:function(t){return this.$http.post(p,t)},tijiaoData:function(t){return this.$http.post(l,t)},saoData:function(t){return this.$http.post(h,t)},morentitleData:function(t){return this.$http.post(d,t)},daikaiData:function(t){return this.$http.post(v,t)},chakanData:function(t){return this.$http.post(f,t)}}}},"0957":function(t,i,e){},1148:function(t,i,e){"use strict";var s=e("a691"),n=e("1d80");t.exports=function(t){var i=String(n(this)),e="",a=s(t);if(a<0||a==1/0)throw RangeError("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(i+=i))1&a&&(e+=i);return e}},"408a":function(t,i,e){var s=e("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=s(t))throw TypeError("Incorrect invocation");return+t}},4779:function(t,i,e){"use strict";e("0957")},6189:function(t,i,e){"use strict";e.r(i);var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"body"},[e("nav-top",{attrs:{title:"便利店订单"},on:{backEvent:function(i){return t.$router.go(-1)}}}),e("nav-content",[t.$store.state.globalConfig.invoicePromptStatement?e("van-notice-bar",{attrs:{scrollable:!0}},[t._v(t._s(t.$store.state.globalConfig.invoicePromptStatement))]):e("van-notice-bar",{attrs:{scrollable:!0}},[t._v("可开票订单请尽量在"+t._s(t.$store.state.globalConfig.timeLimitInvoicing)+"个月内自助开具发票！")]),t._l(t.listData,(function(i,s){return t.listData.length>0?e("div",{key:s,staticClass:"publicInvoice"},[e("div",{staticClass:"operation"},[e("div",{staticClass:"div1"},[e("van-checkbox-group",{on:{change:t.selectData},model:{value:t.radioList,callback:function(i){t.radioList=i},expression:"radioList"}},[e("van-checkbox",{attrs:{name:i,"checked-color":"#F80F16"}})],1),e("span",[t._v("订单号："+t._s(i.shoppingOrderId))])],1),e("div",[t._l(i.itemAbstractList,(function(i,s){return e("div",{key:s,staticClass:"div2"},[e("div",{staticClass:"div2Img"},[e("img",{attrs:{src:i.phPictureUrl,alt:""}})]),e("span",[t._v(t._s(i.skuName))])])})),e("div",{staticClass:"div3"},[e("div",[t._v("合计："),e("span",[t._v(t._s(i.payAmount))]),t._v(" 元")])])],2)])]):t._e()})),0==t.listData.length?e("div",{staticClass:"publicInvoice"},[e("div",{staticClass:"emptyDiv"},[e("img",{attrs:{src:"static/image/invoice/p4@2x.png",alt:""}}),e("span",[t._v("暂无订单记录！")])])]):t._e()],2),t.listData.length>0?e("div",{staticClass:"summary"},[t._v(t._s(t.radioList.length?t.radioList.length:0)+" 个商品订单，总计 "),e("span",[t._v(t._s(t.totalMoney))]),t._v(" 元，共"),e("span",[t._v(" "+t._s(t.radioList.length)+" ")]),t._v("张发票")]):t._e(),t.listData.length>0?e("div",{staticClass:"bottomTab"},[e("div",{staticClass:"left left1"},[e("div",{staticClass:"img"},[e("van-checkbox",{attrs:{"checked-color":"#F80F16"},on:{click:t.allSelect},model:{value:t.allRadio,callback:function(i){t.allRadio=i},expression:"allRadio"}})],1),t._m(0)]),e("div",{staticClass:"left theme_bg_red right",on:{click:t.next}},[t._m(1)])]):t._e()],1)},n=[function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("span",[t._v("全选")])])},function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("span",[t._v("下一步")])])}],a=(e("4160"),e("159b"),e("a9e3"),e("b680"),e("ac1f"),e("1276"),e("0d03"),e("e25e"),e("5319"),e("4d63"),e("25f0"),e("084c")),o=(e("ad1b"),{name:"storeOrder",mixins:[a["a"]],data:function(){return{listData:[],show:!1,radio:"1",radioList:[],allRadio:!1,cardName:"",idArray:[],firstTime:"",lastTime:"",completeTime:"",totalMoney:0,orderList:[]}},created:function(){this.time()},mounted:function(){this.loadIndex()},methods:{loadIndex:function(){var t=this,i={token:this.$store.state.login.token,orderType:200002011,invoiceUse:0,state:3,completeTime:t.completeTime};t.storeData(i).then((function(i){i.data.result&&(t.listData=i.data.data||[])}))},selectData:function(){this.radioList.length==this.listData.length?this.allRadio=!0:this.radioList.length<this.listData.length&&(this.allRadio=!1);var t=this;t.totalMoney=0,t.radioList.forEach((function(i){t.totalMoney=Number((t.totalMoney+Number(i.payAmount)).toFixed(2))}))},allSelect:function(){var t=this;t.allRadio=!t.allRadio,1==t.allRadio?(t.radioList=[],t.listData.forEach((function(i){t.radioList.push(i)}))):t.radioList=[]},next:function(){var t=this;t.idArray=[],t.radioList.forEach((function(i){t.idArray.push(i.id),t.orderList.push(i)})),t.$router.push({path:"/openinvoiceDetail",query:{idArray:t.idArray,orderList:JSON.stringify(t.orderList),totalMoney:t.totalMoney,type:"storeOrder"}})},getPreMonthDay:function(t,i){var e=t.split("-"),s=e[0],n=e[1],a=e[2],o=new Date(s,n,0);o=o.getDate();var r=s,c=parseInt(n)-i;c<=0&&(r=parseInt(r)-parseInt(c/12==0?1:Math.abs(parseInt(c/12))+1),c=12-Math.abs(c)%12);var u=a,p=new Date(r,c,0);p=p.getDate(),u>p&&(u=p),c<10&&(c="0"+c);var l=r+"-"+c+"-"+u;return l},getCurrentMonthLast:function(){var t=new Date;return t},format:function(t,i){var e={"M+":i.getMonth()+1,"d+":i.getDate(),"h+":i.getHours(),"m+":i.getMinutes(),"s+":i.getSeconds(),"q+":Math.floor((i.getMonth()+3)/3),S:i.getMilliseconds()};for(var s in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(i.getFullYear()+"").substr(4-RegExp.$1.length))),e)new RegExp("("+s+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?e[s]:("00"+e[s]).substr((""+e[s]).length)));return t},time:function(){var t=this.getCurrentMonthLast(),i=this.format("yyyy-MM-dd",t),e=Number(this.$store.state.globalConfig.timeLimitInvoicing),s=this.getPreMonthDay(i,e);1==this.$store.state.globalConfig.gz_timeLimitInvoicing?(this.firstTime="20200314".replace(/-/g,"")+"000000",this.lastTime=this.format("yyyyMMdd235959",t),this.completeTime=this.firstTime+"-"+this.lastTime):(this.firstTime=s.replace(/-/g,"")+"000000",this.lastTime=this.format("yyyyMMdd235959",t),14==this.firstTime.length?this.completeTime=this.firstTime+"-"+this.lastTime:this.completeTime="")}}}),r=o,c=(e("4779"),e("0c7c")),u=Object(c["a"])(r,s,n,!1,null,"2cabf114",null);i["default"]=u.exports},ad1b:function(t,i,e){"use strict";e.d(i,"a",(function(){return s}));e("ac1f"),e("5319"),e("4d63"),e("25f0");function s(t,i){/(y+)/.test(i)&&(i=i.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length)));var e={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds()};for(var s in e)if(new RegExp("(".concat(s,")")).test(i)){var a=e[s]+"";i=i.replace(RegExp.$1,1===RegExp.$1.length?a:n(a))}return i}function n(t){return("00"+t).substr(t.length)}},b680:function(t,i,e){"use strict";var s=e("23e7"),n=e("a691"),a=e("408a"),o=e("1148"),r=e("d039"),c=1..toFixed,u=Math.floor,p=function(t,i,e){return 0===i?e:i%2===1?p(t,i-1,e*t):p(t*t,i/2,e)},l=function(t){var i=0,e=t;while(e>=4096)i+=12,e/=4096;while(e>=2)i+=1,e/=2;return i},h=function(t,i,e){var s=-1,n=e;while(++s<6)n+=i*t[s],t[s]=n%1e7,n=u(n/1e7)},d=function(t,i){var e=6,s=0;while(--e>=0)s+=t[e],t[e]=u(s/i),s=s%i*1e7},v=function(t){var i=6,e="";while(--i>=0)if(""!==e||0===i||0!==t[i]){var s=String(t[i]);e=""===e?s:e+o.call("0",7-s.length)+s}return e},f=c&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!r((function(){c.call({})}));s({target:"Number",proto:!0,forced:f},{toFixed:function(t){var i,e,s,r,c=a(this),u=n(t),f=[0,0,0,0,0,0],_="",g="0";if(u<0||u>20)throw RangeError("Incorrect fraction digits");if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(_="-",c=-c),c>1e-21)if(i=l(c*p(2,69,1))-69,e=i<0?c*p(2,-i,1):c/p(2,i,1),e*=4503599627370496,i=52-i,i>0){h(f,0,e),s=u;while(s>=7)h(f,1e7,0),s-=7;h(f,p(10,s,1),0),s=i-1;while(s>=23)d(f,1<<23),s-=23;d(f,1<<s),h(f,1,1),d(f,2),g=v(f)}else h(f,0,e),h(f,1<<-i,0),g=v(f)+o.call("0",u);return u>0?(r=g.length,g=_+(r<=u?"0."+o.call("0",u-r)+g:g.slice(0,r-u)+"."+g.slice(r-u))):g=_+g,g}})}}]);