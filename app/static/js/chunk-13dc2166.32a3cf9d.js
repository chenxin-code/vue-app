(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-13dc2166"],{"04d64":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return""!=t.$store.state.login.token?s("div",{staticClass:"member-card",style:t.getBgStyle()},[s("div",{staticClass:"card-div",style:t.getFloatUp()},[s("div",{staticClass:"img-bg"},[s("img",{staticClass:"bgimg",style:t.getInfoWidth(),attrs:{src:t.moduleData.cardImg}}),s("div",{staticClass:"info-div",style:t.getInfoWidth()},[s("div",{staticClass:"row"},[s("div",{staticClass:"user-name"},[t._v(t._s(t.$store.state.userInfo.nickName||t.getPhoneToName()))]),t.$store.state.mall2.myAssets.cardNum>0?s("div",{staticClass:"fuel-card-has"},[t._v(t._s(t.getHideNum()))]):s("div",{staticClass:"fuel-card",class:t.hotareaClass({idCode:t.moduleData.idCode+"bindCard"}),on:{click:function(e){t.hotEvent("bindCard"),t.bindCard()}}},[t._v("未绑卡")])]),s("div",{staticClass:"row"},[s("div",{staticClass:"info",class:t.hotareaClass({idCode:t.moduleData.idCode+"interestsEvent"}),on:{click:function(e){t.hotEvent("interestsEvent"),t.interestsEvent()}}},[t._v("成长值 | "+t._s(t.$store.state.mall2.myAssets.levSurplusPoints))]),s("div",{staticClass:"info",class:t.hotareaClass({idCode:t.moduleData.idCode+"youbi"}),on:{click:function(e){t.hotEvent("youbi"),t.youbi()}}},[t._v(t._s(t.getRewardName({rewardType:"100"})||"油币")+" | "+t._s(t.getRewardValue({rewardType:"100"})||"0"))]),s("div",{staticClass:"info",class:t.hotareaClass({idCode:t.moduleData.idCode+"ponitdetail"}),on:{click:function(e){t.hotEvent("ponitdetail"),t.ponitdetail()}}},[t._v("积分 | "+t._s(t.$store.state.mall2.myAssets.surplusPoints))])])])])])]):t._e()},i=[],n=s("03c6"),r={name:"member-card",components:{},props:["myIndex","usePorpData","propData","barHeight"],computed:{pageData:function(){return 1==this.usePorpData?this.propData:this.$store.state.pageData},moduleData:function(){return this.pageData.moduleList[this.myIndex].data}},mixins:[n["a"]],data:function(){return{linshiyoubigeshu:0}},methods:{hotEvent:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.actionBtnEvent(this.pageData.pgCode,this.moduleData.idCode+t)},getRewardName:function(t){if(t.rewardType)for(var e=this.$store.state.mall2.myAssets.rewardList,s=0;e&&s<e.length;s++)if(e[s].rewardsSurplusOrderType==t.rewardType)return e[s].rewardsSurplusName;return""},getRewardValue:function(t){if(t.rewardType)for(var e=this.$store.state.mall2.myAssets.rewardList,s=0;e&&s<e.length;s++)if(e[s].rewardsSurplusOrderType==t.rewardType)return e[s].rewardsSurplus;if(t.countKey){if(this.$store.state.mall2.myAssets[t.countKey])return this.$store.state.mall2.myAssets[t.countKey];if(this.$store.state.mall2.myAssets.accountInfo)return this.$store.state.mall2.myAssets.accountInfo[t.countKey]||"0"}return"0"},getyoubigeshu:function(){var t=this,e=this.$market.apiBaseURL()+"/app/json/acct/getAccountBaseInfo",s={token:this.$store.state.login.token,acctType:8,groupValue:"1"};this.$http.post(e,s).then((function(e){var s=e.data;0==s.status&&(t.linshiyoubigeshu=s.data.balanceUnit)}),(function(t){}))},getPhoneToName:function(){var t=this.$store.state.userInfo.phone;return-1!=this.$store.state.webtype&&this.$util.checkMobile(t)?t.substr(0,3)+"****"+t.substr(7,4):"未登录"},getHideNum:function(){var t=this.$store.state.mall2.myAssets.cardNos,e="";return t&&t.length>0&&(e=t[0],e.length>4&&(e=e.substring(e.length-4,e.length),e="****"+e)),e},bindCard:function(){this.$store.state.mall2.myAssets.cardNum<=0&&this.$market.customPush({path:"/refuelingCard?inway=replace"})},interestsEvent:function(){for(var t=[],e=this.$store.state.memberLevel,s=0;s<e.length;s++){var a=this.moduleData["cardImg_"+s];a&&null!=a&&""!=a?t.push(a):t.push("static/images/mycenter/my-card-bg.png")}this.$market.customPush({path:"/mall2/membershipinterests",query:{bgs:JSON.stringify(t)}})},ponitdetail:function(){this.$market.customPush({path:"/mall2/integralinfo"})},youbi:function(){this.$market.customPush({path:"/usercenter/rebatebonus"})},getInfoWidth:function(){var t="",e=this.moduleData.width;return e>0&&(t+="left: "+(30-e)+"%;width: "+(40+2*e)+"%;"),t},getBgStyle:function(){var t="",e=this.moduleData.bgImgUrl;""!=e&&(t+="background: url('"+e+"') no-repeat center center / 100% 100%;");var s=this.moduleData.bgColor;return""!=s&&(t+="background-color: "+s+";"),t},getFloatUp:function(){var t="",e=this.moduleData.floatUp;e>0&&(t+="margin-top: -"+e+"%;");var s=this.moduleData.upMargin,a=this.moduleData.downMargin;return s>0&&(t+="margin-top: "+s+"%;"),a>0&&(t+="margin-bottom: "+a+"%;"),t},modeleReshow:function(){this.getMyAssets()},getMyAssets:function(){var t=this,e=this.$market.apiBaseURL()+"/app/json/user/getUserWallet",s={token:this.$store.state.login.token};this.$http.post(e,s).then((function(e){var s=e.data;0==s.status&&(t.$store.state.mall2.myAssets=s.data)}),(function(t){}))}},created:function(){""!=this.$store.state.login.token&&this.getMyAssets()}},o=r,u=(s("b96f"),s("0c7c")),l=Object(u["a"])(o,a,i,!1,null,"0a5ff562",null);e["default"]=l.exports},"2a18":function(t,e,s){},b96f:function(t,e,s){"use strict";s("2a18")}}]);