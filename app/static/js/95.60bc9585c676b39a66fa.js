(window.webpackJsonp=window.webpackJsonp||[]).push([[95],{"3sMC":function(t,e,o){"use strict";var i=o("7sVq");o.n(i).a},"4cMt":function(t,e,o){},"7sVq":function(t,e,o){},"8Y6N":function(t,e){t.exports="data:image/png;base64,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"},"9kh8":function(t,e,o){"use strict";function i(t,e){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=null,s=void 0;return function(){var r=this,a=arguments,n=+new Date;clearTimeout(i),s||(s=n),0!==o&&n-s>=o?(t.apply(r,a),s=n):i=setTimeout((function(){t.apply(r,a)}),e)}}var s={pullText:"下拉刷新",triggerText:"释放更新",loadingText:"加载中...",doneText:"加载完成",failText:"加载失败",loadedStayTime:400,stayDistance:50,triggerDistance:70},r={pullText:"上拉加载",triggerText:"释放更新",loadingText:"加载中...",doneText:"加载完成",failText:"加载失败",loadedStayTime:400,stayDistance:50,triggerDistance:70},a={name:"vue-pull-to",props:{doSiteCallback:{type:Boolean,default:!1},distanceIndex:{type:Number,default:2},topBlockHeight:{type:Number,default:50},bottomBlockHeight:{type:Number,default:50},wrapperHeight:{type:String,default:"100%"},topLoadMethod:{type:Function},bottomLoadMethod:{type:Function},isThrottleTopPull:{type:Boolean,default:!0},isThrottleBottomPull:{type:Boolean,default:!0},isThrottleScroll:{type:Boolean,default:!1},isTopBounce:{type:Boolean,default:!0},isBottomBounce:{type:Boolean,default:!0},isBottomAutoS:{type:Boolean,default:!1},bothEventForce:{type:Boolean,default:!1},topConfig:{type:Object,default:function(){return{}}},bottomConfig:{type:Object,default:function(){return{}}}},data:function(){return{topIconSrc:"",bottomIconSrc:"",scrollEl:null,startScrollTop:0,startY:0,currentY:0,distance:0,direction:0,diff:0,beforeDiff:0,topText:"",bottomText:"",state:"",bottomReached:!1,throttleEmitTopPull:null,throttleEmitBottomPull:null,throttleEmitScroll:null,throttleOnInfiniteScroll:null,myTimer:null,lastSite:0,speed:0}},computed:{_topConfig:function(){return this.$assign({},s,this.topConfig)},_bottomConfig:function(){return this.$assign({},r,this.bottomConfig)}},watch:{state:function(t){"pull"===t?"down"===this.direction?this.topIconSrc=o("VKSr"):this.bottomIconSrc=o("GOvX"):"trigger"===t?"down"===this.direction?this.topIconSrc=o("GOvX"):this.bottomIconSrc=o("VKSr"):"loading"===t?(this.topIconSrc=o("8Y6N"),this.bottomIconSrc=o("8Y6N")):"loaded-done"===t&&(this.topIconSrc=o("p6xZ"),this.bottomIconSrc=o("p6xZ")),"down"===this.direction?this.$emit("top-state-change",t):this.$emit("bottom-state-change",t)}},methods:{siteCallBack:function(){var t=this;this.myTimer&&(clearInterval(this.myTimer),this.myTimer=null);var e=20,o=this.speed;if(!(o<5)){var i=this.scrollEl.scrollTop,s=this.scrollEl.scrollHeight-this.scrollEl.offsetHeight,r=-o/e;this.myTimer=window.setInterval((function(){if((i+=o+=r)>=220&&o>0||i>=s||i<=0)return i<0&&t.$emit("pageSite",0),void(t.myTimer&&(clearInterval(t.myTimer),t.myTimer=null));t.$emit("pageSite",i),--e<0&&t.myTimer&&(clearInterval(t.myTimer),t.myTimer=null)}),50)}},actionPull:function(){this.state="pull","down"===this.direction?this.topText=this._topConfig.pullText:this.bottomText=this._bottomConfig.pullText},actionTrigger:function(){this.state="trigger","down"===this.direction?this.topText=this._topConfig.triggerText:this.bottomText=this._bottomConfig.triggerText},actionLoading:function(){this.state="loading","down"===this.direction?(this.topText=this._topConfig.loadingText,this.topLoadMethod.call(this,this.actionLoaded),this.scrollTo(this._topConfig.stayDistance)):(this.bottomText=this._bottomConfig.loadingText,this.isBottomAutoS?this.bottomLoadMethod.call(this,this.actionLoaded):(this.scrollTo(-this._bottomConfig.stayDistance),this.bottomLoadMethod.call(this,this.actionLoaded)))},actionLoaded:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"done";this.state="loaded-"+e;var o=void 0;"down"===this.direction?(this.topText="done"===e?this._topConfig.doneText:this._topConfig.failText,o=this._topConfig.loadedStayTime,this._topConfig.stayDistance):(this.isBottomAutoS?(o=0,this.bottomText="done"===e?this._bottomConfig.doneText:this._bottomConfig.failText):(this.bottomText="done"===e?this._bottomConfig.doneText:this._bottomConfig.failText,o=this._bottomConfig.loadedStayTime),this._bottomConfig.stayDistance),setTimeout((function(){t.scrollTo(0),setTimeout((function(){t.state=""}),200)}),o)},scrollTo:function(t){var e=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200;this.$el.style.transition=o+"ms",this.diff=t,setTimeout((function(){e.$el.style.transition=""}),o)},checkBottomReached:function(){return this.scrollEl.scrollTop+this.scrollEl.offsetHeight+1>=this.scrollEl.scrollHeight},handleTouchStart:function(t){this.myTimer&&(clearInterval(this.myTimer),this.myTimer=null),this.startY=t.touches[0].clientY,this.beforeDiff=this.diff,this.startScrollTop=this.scrollEl.scrollTop,this.bottomReached=this.checkBottomReached()},handleTouchMove:function(t){if(this.currentY=t.touches[0].clientY,this.distance=(this.currentY-this.startY)/this.distanceIndex+this.beforeDiff,this.direction=this.distance>0?"down":"up",0===this.startScrollTop&&"down"===this.direction&&this.isTopBounce){if(t.preventDefault(),t.stopPropagation(),this.diff=this.distance,this.isThrottleTopPull?this.throttleEmitTopPull(this.diff):this.$emit("top-pull",this.diff),"function"!=typeof this.topLoadMethod)return;this.distance<this._topConfig.triggerDistance&&"pull"!==this.state&&"loading"!==this.state?this.actionPull():this.distance>=this._topConfig.triggerDistance&&"trigger"!==this.state&&"loading"!==this.state&&this.actionTrigger()}else if(this.bottomReached&&"up"===this.direction&&this.isBottomBounce){if(t.preventDefault(),t.stopPropagation(),this.diff=this.distance,this.isThrottleBottomPull?this.throttleEmitBottomPull(this.diff):this.$emit("bottom-pull",this.diff),"function"!=typeof this.bottomLoadMethod)return;Math.abs(this.distance)<this._bottomConfig.triggerDistance&&"pull"!==this.state&&"loading"!==this.state?this.actionPull():Math.abs(this.distance)>=this._bottomConfig.triggerDistance&&"trigger"!==this.state&&"loading"!==this.state&&this.actionTrigger()}},handleTouchEnd:function(){if(0!==this.diff){if("trigger"===this.state)return void this.actionLoading();this.scrollTo(0)}},setScrollTopValue:function(t){this.scrollEl.scrollTop=t},getScrollTopValue:function(){return this.scrollEl.scrollTop},handleScroll:function(t){this.$emit("pageSite",this.scrollEl.scrollTop),"loading"!=this.state&&this.isBottomBounce&&this.isBottomAutoS&&t.target.scrollTop+t.target.offsetHeight>t.target.scrollHeight-this.bottomBlockHeight&&(this.direction="up",this.actionLoading()),this.isThrottleScroll?this.throttleEmitScroll(t):this.$emit("scroll",t)},onInfiniteScroll:function(){this.checkBottomReached()&&this.$emit("infinite-scroll")},throttleEmit:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments[2];return i((function(){var t=[].concat(Array.prototype.slice.call(arguments));t.unshift(o),this.$emit.apply(this,t)}),t,e)},bindEvents:function(){this.isBottomAutoS?1==this.bothEventForce&&(this.scrollEl.addEventListener("touchstart",this.handleTouchStart),this.scrollEl.addEventListener("touchmove",this.handleTouchMove),this.scrollEl.addEventListener("touchend",this.handleTouchEnd)):(this.scrollEl.addEventListener("touchstart",this.handleTouchStart),this.scrollEl.addEventListener("touchmove",this.handleTouchMove),this.scrollEl.addEventListener("touchend",this.handleTouchEnd)),this.scrollEl.addEventListener("scroll",this.handleScroll)},createThrottleMethods:function(){this.throttleEmitTopPull=this.throttleEmit(200,300,"top-pull"),this.throttleEmitBottomPull=this.throttleEmit(200,300,"bottom-pull"),this.throttleEmitScroll=this.throttleEmit(100,150,"scroll"),this.throttleOnInfiniteScroll=i(this.onInfiniteScroll,400)},init:function(){this.createThrottleMethods(),this.scrollEl=this.$el.querySelector(".scroll-container"),this.bindEvents()}},mounted:function(){this.init(),console.log(this.bottomLoadMethod,this.isBottomBounce,this.isBottomAutoS)}},n=(o("z1K3"),o("KHd+")),l=Object(n.a)(a,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"vue-pull-to-wrapper",style:{height:t.wrapperHeight,transform:"translate3d(0, "+t.diff+"px, 0)"}},[t.topLoadMethod?o("div",{staticClass:"action-block",style:{height:t.topBlockHeight+"px",marginTop:-t.topBlockHeight+"px"}},[o("div",{staticClass:"top-load-wrapper"},[t.topIconSrc&&"undefined"!=t.topIconSrc?o("img",{staticClass:"refresh-icon",class:{"icon-loading":"loading"===t.state},attrs:{src:t.topIconSrc,alt:""}}):t._e(),t._v(" "),o("span",{staticClass:"refresh-span"},[t._v(t._s(t.topText))])])]):t._e(),t._v(" "),o("div",{staticClass:"scroll-container",style:{paddingBottom:t.bottomBlockHeight+"px"}},[t._t("default"),t._v(" "),"/mall2/detail/:id"!=t.$route.matched[0].path?o("div",{staticClass:"action-block",style:{height:t.bottomBlockHeight+"px"}},[o("div",{staticClass:"bottom-load-wrapper"},[t.bottomIconSrc&&"undefined"!=t.bottomIconSrc?o("img",{staticClass:"refresh-icon",class:{"icon-loading":"loading"===t.state},attrs:{src:t.bottomIconSrc,alt:""}}):t._e(),t._v(" "),o("span",{staticClass:"refresh-span"},[t._v(t._s(t.bottomText))])])]):t._e()],2),t._v(" "),"/mall2/detail/:id"!=t.$route.matched[0].path?o("div",{staticClass:"action-block",style:{height:t.bottomBlockHeight+"px"}},[o("div",{staticClass:"bottom-load-wrapper"},[t.bottomIconSrc&&"undefined"!=t.bottomIconSrc?o("img",{staticClass:"refresh-icon",class:{"icon-loading":"loading"===t.state},attrs:{src:t.bottomIconSrc,alt:""}}):t._e(),t._v(" "),o("span",{staticClass:"refresh-span"},[t._v(t._s(t.bottomText))])])]):t._e()])}),[],!1,null,null,null);e.a=l.exports},"9yU1":function(t,e,o){},Fr0Z:function(t,e,o){"use strict";var i=o("Udow");o.n(i).a},GOvX:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgEAYAAAAj6qa3AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABWWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyI+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgpMwidZAAABjUlEQVRoBe2XMU/CQBiGr9XZwbLpb3BwdtNEFoEf4G6MC3EqDDBCjAkJQ2M7u8kfMMDSycGFsJAQBxZXlzYlBKy8LUfCGR3wuIv69RnIkbv7vvfhKJQxusgAGSADZIAMKDfgHoBymb8qb2BR0FBd2A1Bo8HuQbG4Wr9ev0iuUmn1/c2NlAn4PrgYUJ0IUywte/wp+COb0+mwGzAasSMwHLIT0O2m9W17uU52Q8J+GxOwDMCP+iJ4+ApyOeMNjMfsFETR1AaFAjsGvs+/Im5y1WpC39KG0gW4h6Ba5QGMW9Bu8+DXTyCKxARXDyAIwnOQzeKcJCclmTg/EXxfceEPx9IFGHvAsgwXtFqBBfL5r4KL/fN5XBjfh+2ATEac/2vH3i4YDNx90OvpCiL9BOgKsm5dErCuub+ybltXkPcX4PvGFphM0pucrm6oLhlQbsC7BJWK7qdBbb8CsQNMM74DprY+lH/yVJAMpAbSpzzH8c5As6nLi7b/AWngfj9+BrOZLgFUlwyQATJABv6zgQ8/ndpWDmvmtwAAAABJRU5ErkJggg=="},Udow:function(t,e,o){},VKSr:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgEAYAAAAj6qa3AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAAZiS0dEAAAAAAAA+UO7fwAAAAlwSFlzAAAASAAAAEgARslrPgAAAb1JREFUaN7t1zFLw0AYBuD3SkiR5geEDI4diqUIHTpUOtTSQejkVnBM6iJtpyAObm5V0CGfo9AfoHR1EUL7HzoXF1Noe3BQSs9B6yCIDiGneM8Sslze7+W4I4CmaZqmJY5sssl2XSIiouNjVTkMVR9mRVZkxZ0dCQkJQ1kOTVMkCIMwCM/OSJIkeX6uKoe6M6DFWqy1XrMyK7Pyeq0qh6YpQjOa0ezmJpgG02B6e6sqh7r7N4cccnt7KZESKZFOq4qRUlbAL6ELUB1AtdjPAKpQhSrX12zBFmxh29zkJjePjrqj7qg7EuKn6/RKvVKvtLVlLa2ltby7gwMHzvOzO3AH7uDkJK688e+AOeaYv7xIT3rSOzzMOBkn4zw8bAb68eCRFVnR/f1mHTmREzmJorjjstgLePf2m3tx8fbm+6iiiurT08pf+Sv/4MAYGkNjGIZMMMFEOs2zPMuzu7ubwlBHHfX9fTTRRPPqyrM8y7M6nT9TwEcRnDjxy0v00Ue/3UYNNdQeHyEgILa30UADDdNEAQUUxuOkBk+sgI8iPu+IryQ0eOIFfFtEwoMrR3nKU/70dPNUnUfTNE37j14By5+5+mkAilEAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDYtMTNUMTU6NDk6NTIrMDg6MDAmrzDiAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTA2LTEzVDE1OjQ5OjUyKzA4OjAwV/KIXgAAAFV0RVh0c3ZnOmJhc2UtdXJpAGZpbGU6Ly8vaG9tZS9hZG1pbi9pY29uLWZvbnQvdG1wL2ljb25fdWV0emFxMnJsYy8lRTclQUUlQUQlRTUlQTQlQjQzLnN2ZwIn7fgAAAAASUVORK5CYII="},XDOV:function(t,e,o){t.exports=o.p+"static/img/redbag.e5728c6.png"},Zcsu:function(t,e,o){"use strict";var i=o("9yU1");o.n(i).a},nV03:function(t,e,o){"use strict";var i=o("ZToj"),s=void 0,r=0,a={heartbeat:function(){r++,s||(s=window.setInterval((function(){var t=parseInt((new Date).getTime()/1e3);i.a.state.severTime.currentTime=t+i.a.state.severTime.jetlag}),1e3))},removeHeartbeat:function(){r>0&&r--,0==r&&(window.clearInterval(s),s=null)}};e.a=a},p6xZ:function(t,e){t.exports="data:image/png;base64,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"},vWpQ:function(t,e,o){"use strict";o.r(e),o("4X9F");var i,s,r,a=o("IkEG"),n=o("nV03"),l={name:"order-pros",props:["orderItemList","watermark","tag","dataItem"],components:{},data:function(){return{endTime:""}},computed:{timeString:function(){var t=0,e=0,o=0;if(""==this.endTime)return t+"时"+e+"分"+o+"秒";var i=this.endTime-this.$store.state.severTime.currentTime;return i<=0?t+"时"+e+"分"+o+"秒":(i>3600&&(t=parseInt(i/3600),i%=3600),i>60&&(e=parseInt(i/60),i%=60),t+"时"+e+"分"+(o=i)+"秒")}},methods:{enterProductDetail:function(t){if(1!=this.$store.state.globalConfig.cut_price_strict&&"cnooc"!=this.$store.state.globalConfig.app_home_special_flag&&1!=this.watermark){var e="/mall2/detail/"+this.$util.getDataString();this.$router.push({path:e,query:{storeOuCode:t.storeOuCode,skuId:t.skuId,lastPath:this.$route.path,productType:t.productType}})}}},created:function(){if(n.a.heartbeat(),1==this.orderItemList.length&&16==this.tag){var t=this.orderItemList[0];if(8==t.productType){var e=t.paidTime;e=e.replace(/\-/g,"/");var o=new Date(e).getTime(),i=this.$store.state.globalConfig.stockup_cancel||7200,s=Math.floor(o/1e3);this.endTime=parseInt(s+i)}}},beforeDestroy:function(){n.a.removeHeartbeat()}},c=(o("Zcsu"),o("KHd+")),d=Object(c.a)(l,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"order-pros"},[t.orderItemList.length>1?o("div",{staticClass:"order-pro-row scroll-style"},t._l(t.orderItemList,(function(t){return o("div",{staticClass:"img-div"},[o("img",{attrs:{src:t.phPictureUrl}})])})),0):t._e(),t._v(" "),1==t.orderItemList.length?o("div",t._l(t.orderItemList,(function(e){return o("div",{key:e.id,staticClass:"order-pro-row"},[o("div",{staticClass:"img-div",on:{click:function(o){return o.stopPropagation(),t.enterProductDetail(e)}}},[o("img",{attrs:{src:e.phPictureUrl}})]),t._v(" "),o("div",{staticClass:"info-div"},[o("div",{staticClass:"title theme_font_black"},[t._v(t._s(e.skuName))]),t._v(" "),e.number>=1?o("div",{staticClass:"number theme_font_tint"},[o("span",[t._v("购买数量：")]),t._v(" "),o("span",[t._v(" "+t._s(e.number))])]):t._e(),t._v(" "),16==t.tag&&8==e.productType&&""!=t.endTime?o("div",{staticClass:"number theme_font_red"},[t._v(t._s(t.timeString)+"商家未接单，将自动取消订单")]):t._e()])])})),0):t._e()])}),[],!1,null,"1fc0385c",null).exports,h=o("9kh8"),p=o("YsXA"),u=o.n(p),m={name:"search",components:{},props:["code"],data:function(){return{}},methods:{backEvent:function(){this.$emit("backEvent","")}},mounted:function(){if(""!=this.code){var t=document.getElementById("codeDiv");u()(t,this.code)}}},v=(o("Fr0Z"),Object(c.a)(m,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"bottom theme_bg_white"},[o("div",{staticClass:"top-nav",style:{height:t.$store.state.barHeight+this.$market.getNavHeight()+"px"}},[o("div",{staticClass:"top-content",style:{marginTop:t.$store.state.barHeight+"px",height:this.$market.getNavHeight()+"px"}},[o("div",{staticClass:"back-div",staticStyle:{padding:"12px"},on:{click:t.backEvent}},[o("i",{staticClass:"iconfont mall-fanhui theme_font_black",staticStyle:{"font-size":"20px"}})]),t._v(" "),o("div",{staticClass:"title-div theme_font_black"},[t._v("查看提货码")])])]),t._v(" "),o("div",{staticClass:"content"},[o("div",{staticClass:"code-text"},[t._v("提货码："+t._s(t.code))]),t._v(" "),t._m(0)])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"code-div"},[e("canvas",{attrs:{id:"codeDiv"}})])}],!1,null,"30c6cde4",null).exports),g=o("lH8D"),f=o("WQzh"),A=o("ygAv"),y=o("qUbg"),b=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])}return t},_={name:"order",components:(i={OrderPros:d,PullTo:h.a,PickupCode:v,Recommend:g.a,PriceOrder:f.a},s=a.a.name,r=a.a,s in i?Object.defineProperty(i,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[s]=r,i),data:function(){return{lastPath:"",showCode:!1,showDialog:!1,formItem:{},expressNo:"",expressNoList:[],tabs:[{text:"待支付",tag:"1",type:["200015","200502"],nowPage:1,isCanLoadMore:!0},{text:"待发货",tag:"16",type:["200017"],nowPage:1,isCanLoadMore:!0},{text:"待收货",tag:"4",type:["200017"],nowPage:1,isCanLoadMore:!0},{text:"已完成",tag:"9",type:["200017"],nowPage:1,isCanLoadMore:!0},{text:"已取消",tag:"7",type:["200018"],nowPage:1,isCanLoadMore:!0}],tabIndex:0,tabSelectedItem:{},listData:[],deliveryType:"2",scrollTopValue1:"",pickUpCode:"",showNoData:!1,orderCategory:"",vipUnitUserCode:""}},computed:{},mounted:function(){},methods:{dealPushDeliveryBtn:function(t){var e=this.$store.state.globalConfig.order_delivery_remind_displaytime,o=new Date(t),i=new Date(o.getTime()+60*e*60*1e3),s=A.a.dateParse(A.a.getPayTime()).getTime(),r=A.a.getPreTime(i.getTime());return r>s?1:r==s?0:-1},selExpress:function(t){this.expressNo=t,this.formItem.expressNo=t,console.log(this.formItem)},confirmForm:function(){this.showExpress(this.formItem)},expressType:function(t){this.formItem=this.$util.deepClone(t);var e=[];this.formItem.expressNo&&"string"==typeof this.formItem.expressNo&&(e=this.formItem.expressNo.split(",")),1==e.length?this.showExpress(this.formItem):(this.showDialog=!0,this.expressNoList=e)},productNumber:function(t){for(var e=0,o=0;o<t.length;o++)e+=t[o].number;return e},getPivotalProductType:function(t){for(var e=0;e<t.length;e++){if(8==t[e].productType)return 8;if(550==t[e].productType)return 550}},consultingService:function(t){var e=this,o={userId:this.$store.state.userInfo.userId,orderId:t.id};this.$Loading.open(),this.$http.post("/app/json/home/contactUs",o).then((function(t){e.$Loading.close();var o=t.data;if(0==o.status){var i=o.data;e.$bridgefunc.customPush({path:i,isnativetop:"1"},!1)}else e.$Toast(o.info)}),(function(t){e.$Loading.close(),e.$Toast("请求数据失败！")}))},pushDelivery:function(t){var e=this;1==t.deliveryRemindState?a.a.alert({title:"提示",message:"商家已经收到发货提醒啦，请您耐心等待哟~"}).then((function(){})):this.$request.post("/app/json/app_shopping_order/sendDeliveryMsg",{orderType:t.orderType,orderId:t.id}).then((function(t){0===t.status?a.a.alert({title:"提示",message:"已发送发货提醒，商家会尽快进行发货,请耐心等待"}).then((function(){})):e.$Toast(t.info)}))},modifyAddress:function(t){this.$router.push({path:"/mall2/modifyorderaddress",query:{address:JSON.stringify({address:t.address||"",addressFull:t.addressFull||"",cityId:t.cityId||"",cityName:t.cityName||"",countryId:t.countryId||"",countryName:t.countryName||"",provinceId:t.provinceId||"",provinceName:t.provinceName||"",townId:t.townId||"",townName:t.townName||"",receiver:t.receiver||"",mobile:t.mobile||""}),orderId:t.id,tradeNo:t.tradeNo,orderType:t.orderType}})},toHistory:function(){var t=this;this.$Loading.open();var e={redirectUrl:this.$store.state.globalConfig.kshop_orderListUrl,orderCategory:this.orderCategory,vipUnitUserCode:this.vipUnitUserCode};this.$http.post("/app/json/login/redirectToKShop",e).then((function(e){t.$Loading.close();var o=e.data;if(0==o.status){var i=o.data;t.$bridgefunc.customPush({path:i,isnativetop:"1"},!1)}else t.$Toast(o.info)}),(function(e){t.$Loading.close(),t.$Toast("请求数据失败！")}))},getProductType:function(t){for(var e=t.itemAbstractList,o=0;o<e.length;o++)if(2==e[o].productType)return"2";return""},codeBack:function(){this.showCode=!1},showPickUpCode:function(){var t=this;if(0!=this.listData.length){this.$Loading.open();var e={token:this.$store.state.login.token,orderCategory:this.orderCategory,vipUnitUserCode:this.vipUnitUserCode};this.$http.post("/app/json/app_shopping_order/getBatchDeliveryCheckcode",e).then((function(e){t.$Loading.close();var o=e.data;0==o.status?(t.pickUpCode=o.data,t.showCode=!0):t.$Toast(o.info)}),(function(e){t.$Loading.close(),t.$Toast("请求数据失败！")}))}else this.$Toast("您没有待提货订单！")},showInvoice:function(){this.$Toast("暂不支持！")},deliveryTypeSelected:function(t){this.deliveryType=2,this.tabSelectedItem.nowIndex=1,this.listData=[],this.showNoData=!1,this._getTabOrders(this.tabSelectedItem,null)},isShowExpress:function(t){return 3!=t.deliverType&&(2==t.interfaceType||1==t.interfaceType||1==this.$store.state.globalConfig.enableEMS&&"1"==t.expressSendingMode||"1"==this.$store.state.globalConfig.order_ali_deliver_enable&&"0"==t.interfaceType&&"2"==t.deliverType||1!=this.$store.state.globalConfig.hide_express_btn&&(1==this.$store.state.globalConfig.hasApiForExpress100||3!=this.$store.state.webtype))},showExpress:function(t){var e=this;if(console.log(t,"item"),2==t.interfaceType||1==t.interfaceType){this.$Loading.open();var o={token:this.$store.state.login.token,orderId:t.id,orderType:t.orderType,orderCategory:this.orderCategory,vipUnitUserCode:this.vipUnitUserCode};this.$http.post("/app/json/app_shopping_order/detail",o).then((function(t){e.$Loading.close();var o=t.data;0==o.status?e.$router.push({name:"expressinfo",params:{expressinfo:encodeURIComponent(JSON.stringify(o.data.tracksList))}}):e.$Toast(o.info)}),(function(t){e.$Loading.close(),e.$Toast("请求数据失败！")}))}else if(1==this.$store.state.globalConfig.enableEMS&&0==t.interfaceType&&"1"==t.expressSendingMode)this.$router.push({path:"/mall2/orderlogistics",query:{traceNo:t.expressNo}});else if("1"==this.$store.state.globalConfig.order_ali_deliver_enable&&"0"==t.interfaceType&&"2"==t.deliverType)this.$router.push({path:"/mall2/aliexpressinfo",query:{orderType:t.orderType,orderId:t.id,logisticsOrderNo:t.expressNo}});else if(1==this.$store.state.globalConfig.hasApiForExpress100)this.$router.push({path:"/mall2/100expressinfo",query:{expressNo:t.expressNo,expressName:t.expressName}});else{var i="https://m.kuaidi100.com/index_all.html?type="+encodeURIComponent(t.expressName)+"&postid="+encodeURIComponent(t.expressNo);this.$bridgefunc.customPush({path:i,isnativetop:"1",isVuePage:!1})}},toComment:function(t){console.log(t.itemAbstractList,"toComment"),t.itemAbstractList.length>0&&(t.itemAbstractList.length>1?this.$router.push({path:"/mall2/comment2",query:{orderId:t.id}}):this.$router.push({path:"/mall2/comment",query:{skuId:t.itemAbstractList[0].skuId,orderId:t.itemAbstractList[0].id,phPictureUrl:t.itemAbstractList[0].phPictureUrl,skuName:t.itemAbstractList[0].skuName}}))},_confirmProductApi:function(t){var e=this;this.$Loading.open();var o={token:this.$store.state.login.token,orderId:t.id,orderType:t.orderType,orderCategory:this.orderCategory,vipUnitUserCode:this.vipUnitUserCode};this.$http.post("/app/json/app_shopping_order/orderConfirm",o).then((function(t){e.$Loading.close();var o=t.data;0==o.status?e.tabEvent(e.tabs[3],3):e.$Toast(o.info)}),(function(t){e.$Loading.close(),e.$Toast("请求数据失败！")}))},confirmProduct:function(t){var e=this;this.$MessageBox.confirm("您确定已经收到商品了吗？","提示").then((function(o){e._confirmProductApi(t)})).catch((function(t){}))},backEvent:function(){this.$route.query.backApp?y.a.navigatorBack({url:"0"}).then((function(t){console.log(t)})):this.$router.push("/common")},tabEvent:function(t,e){this.tabIndex=e,"2"==this.$store.state.globalConfig.order_list_tabs_type&&(3==e?this.deliveryType=1:2==e&&(this.deliveryType=2)),t.nowIndex=1,this.listData=[],this.showNoData=!1,this.tabSelectedItem=t,this._getTabOrders(t,null)},orderDetailEvent:function(t,e){var o=this;if(12!=t.orderMode)if("200202"!=t.orderType){if("200102"==t.orderType||"200117"==t.orderType){var i=t.externalOrderDetailUrl;if(i&&null!=i&&null!=i&&""!=i){var s="/app/json/home/getExoLoginUrl",r={token:this.$store.state.login.token,baseUrl:i,orderCategory:this.orderCategory,vipUnitUserCode:this.vipUnitUserCode},a=t.externalOrderType;if("1"==a)r.sysTag="ejoy";else if("2"==a)r.sysTag="elvyo";else{if("3"!=a){var n={path:s,isnativetop:"1"};return void this.$bridgefunc.customPush(n)}r.sysTag="youtoo"}return this.$Loading.open(),void this.$http.post(s,r).then((function(t){o.$Loading.close();var e=t.data;if(0==e.status){var i=e.data;if(""==i)return void o.$Toast("返回动态链接错误，请稍后重试！");var s={path:i,isnativetop:"1"};o.$bridgefunc.customPush(s)}else o.$Toast(e.info)}),(function(t){o.$Loading.close(),o.$Toast("请求数据失败！")}))}}else if("200103"==t.shoppingOrderType){var l="",c="";return"tobePay"===e?(l="/carefree_trave/tobePaidDetail",c="tobepaid"):"tobeShip"===e?(l="/carefree_trave/tobePaidDetail",c="sendGoods"):"completed"===e?(l="/carefree_trave/sendgoodsDetail",c=""):"canceled"===e&&(l="/carefree_trave/tobePaidDetail",c="cancelgood"),void this.$router.push({path:l,query:{orderId:t.id,tradeNo:t.tradeNo,orderType:t.orderType,type:c}})}var d=t.awardActivityList&&t.awardActivityList.length?t.awardActivityList[0]:{};this.$router.push({path:"/mall2/orderdetail",query:{payMode:t.payMode,tradeNo:t.tradeNo,shoppingOrderId:t.shoppingOrderId,orderPayType:t.orderPayType,orderId:t.id,tag:this.tabSelectedItem.tag,orderType:t.orderType,orderIndex:this.tabIndex,awardActivity:JSON.stringify(d),orderCategory:this.orderCategory,vipUnitUserCode:this.vipUnitUserCode}})}else this.$router.push({path:"/group_detail",query:{orderId:t.groupBuyId,mktGroupBuyId:t.groupBuyActivityId}});else{var h="";switch(e){case void 0:h="waitTakeDelivery";break;case"tobePay":h="waitPay";break;case"tobeShip":h="waitDelivery";break;case"completed":h="finish";break;case"canceled":h="cancel"}this.$router.push({path:"/orderInfo",query:{info:JSON.stringify({shoppingOrderId:t.shoppingOrderId,id:t.id,tradeNo:t.tradeNo}),pageType:h,state:t.state}})}},topRefresh:function(t){this.tabSelectedItem.nowIndex=1,this._getTabOrders(this.tabSelectedItem,t)},loadMore:function(t){this._getTabOrders(this.tabSelectedItem,t)},_getTabOrders:function(t,e){var o=this;console.log("this.$store.state.globalConfig.delivertype_default",this.tabs),this.$Loading.open();var i="/app/json/app_shopping_order/queryOrder",s={token:this.$store.state.login.token,orderType:t.type[0],orderTypeList:t.type,state:t.tag,page:{index:t.nowIndex,pageSize:10}};"512"==t.productType&&(i="/app/json/app_shopping_order/queryOrderItem",s.productType=512),4==t.tag?(s.deliverType=this.deliveryType,2==this.deliveryType&&(s.deliverTypeList=[2,3])):99==t.tag&&(s.state=4,s.deliverType=3),s.orderCategory=this.orderCategory,s.vipUnitUserCode=this.vipUnitUserCode,this.$http.post(i,s).then((function(i){o.$Loading.close();var s=i.data;if(0==s.status){if(t.nowIndex>1)for(var r=0;r<s.data.orderList.length;r++){var a=s.data.orderList[r];a.wechatMerchantCouponAmount&&a.wechatMerchantCouponAmount>0&&(a.payAmount=a.payAmount-a.wechatMerchantCouponAmount),o.$mallCommon.dataProcessing(a),o.listData.push(a)}else{for(var n=0;n<s.data.orderList.length;n++){var l=s.data.orderList[n];l.wechatMerchantCouponAmount&&l.wechatMerchantCouponAmount>0&&(l.payAmount=l.payAmount-l.wechatMerchantCouponAmount),o.$mallCommon.dataProcessing(l),o.listData.push(l)}o.listData=s.data.orderList,0==o.listData.length?o.showNoData=!0:o.showNoData=!1}o.tabSelectedItem.nowIndex+=1,s.data.page.count>o.listData.length?o.tabSelectedItem.isCanLoadMore=!0:o.tabSelectedItem.isCanLoadMore=!1}else o.$Toast(s.info);e&&e("done")}),(function(t){o.$Loading.close(),o.$Toast("请求数据失败！"),e&&e("done")}))},payEvent:function(t){this.$router.push({path:"/mall2/checkstand",query:{payInfo:JSON.stringify({orderId:t.id,orderType:t.orderType,payAmount:t.payAmount,tradeNo:t.tradeNo}),occurOuCode:t.ouCode}})},reBuy:function(t){var e=this;if(3==t.deliverType){for(var o=[],i=0;i<t.itemAbstractList.length;i++){var s=t.itemAbstractList[i];if(0==s.isGift){var r={skuId:s.skuId,storeOuCode:s.storeOuCode,number:s.number};o.push(r)}}return sessionStorage.setItem("MDPS_Carts",JSON.stringify(o)),void this.$router.push({path:"/mall2/store-delivery/list"})}this.$Loading.open();var a={token:this.$store.state.login.token,deliveryType:t.deliverType,orderCategory:this.orderCategory,vipUnitUserCode:this.vipUnitUserCode,userAddress:this.$store.state.mall2.selectAddress,pickupId:this.$store.state.mall2.zitiAddress.id,userAddressId:""};2==a.deliveryType&&this.$store.state.mall2.selectAddress.id>0&&(a.userAddressId=this.$store.state.mall2.selectAddress.id);for(var n=[],l=0;l<t.itemAbstractList.length;l++){var c=t.itemAbstractList[l],d={skuId:c.skuId,storeOuCode:c.storeOuCode,number:c.number};n.push(d)}a.carts=n,this.$http.post("/app/json/app_cart/SettleCart",a).then((function(t){e.$Loading.close();var o=t.data;if(0==o.status){var i={res:o.data,paramsData:a,deliveryType:a.deliveryType};e.$store.state.mall2.selectAddress.id>0||2!=e.detailData.deliveryType||(e.matchAddress?(e.$store.state.mall2.selectAddress=e.matchAddress,e.$bridgefunc.vuexStorage((function(){}))):i.noMatch=!0),1==e.$mallCommon.isExistCanNotAttendActivity(o.data.occur)?e.$MessageBox.confirm("部分商品不能参加活动</br>将按原价购买，是否继续？","提示",{confirmButtonText:"确定"}).then((function(t){e.$router.push({name:"填写订单",params:i})})).catch((function(t){})):e.$router.push({name:"填写订单",params:i})}else e.$Toast(o.info)}),(function(t){e.$Loading.close(),e.$Toast("请求数据失败！")}))},shareActivity:function(t){if(console.log(t),console.log(t.id),t.awardActivityList&&t.awardActivityList.length>0){var e=b({orderId:t.id},t.awardActivityList[0]);e.activityPromotionalPic=document.getElementById("img").src;var o=t.awardActivityList[0].activityDesc;o=o.replace(/<[^>]+>/g,""),e.activityDesc=o,console.log(888,e.activityDesc,e),this.$router.push({path:"/share-gift/share",query:{awardActivity:JSON.stringify(e)}})}}},created:function(){"1"==this.$store.state.globalConfig.delivertype_default?this.tabs=[{text:"待支付",tag:"1",type:["200015","200502"],nowPage:1,isCanLoadMore:!0},{text:"待提货",tag:"4",type:["200017"],nowPage:1,isCanLoadMore:!0},{text:"已完成",tag:"9",type:["200017"],nowPage:1,isCanLoadMore:!0},{text:"已取消",tag:"7",type:["200018"],nowPage:1,isCanLoadMore:!0}]:"2"==this.$store.state.globalConfig.delivertype_default?this.tabs=[{text:"待支付",tag:"1",type:["200015","200502"],nowPage:1,isCanLoadMore:!0},{text:"待发货",tag:"16",type:["200017"],nowPage:1,isCanLoadMore:!0},{text:"待收货",tag:"4",type:["200017"],nowPage:1,isCanLoadMore:!0},{text:"已完成",tag:"9",type:["200017"],nowPage:1,isCanLoadMore:!0},{text:"已取消",tag:"7",type:["200018"],nowPage:1,isCanLoadMore:!0}]:"2"==this.$store.state.globalConfig.order_list_tabs_type&&(this.tabs=[{text:"待支付",tag:"1",type:["200015","200502"],nowPage:1,isCanLoadMore:!0},{text:"待发货",tag:"16",type:["200017"],nowPage:1,isCanLoadMore:!0},{text:"待收货",tag:"4",type:["200017"],nowPage:1,isCanLoadMore:!0},{text:"待提货",tag:"4",type:["200017"],nowPage:1,isCanLoadMore:!0},{text:"已完成",tag:"9",type:["200017"],nowPage:1,isCanLoadMore:!0},{text:"已取消",tag:"7",type:["200018"],nowPage:1,isCanLoadMore:!0}]),"1"==this.$store.state.globalConfig.toBeServed&&this.tabs.splice(this.tabs.length-2,0,{text:"待服务",tag:"99",type:["200017"],nowPage:1,isCanLoadMore:!0}),"1"==this.$store.state.globalConfig.order_has_my_service&&this.tabs.splice(this.tabs.length-1,0,{text:"我的服务",tag:"9",type:["200017"],productType:"512",nowPage:1,isCanLoadMore:!0});var t=this.$route.query.selectedIndex?this.$route.query.selectedIndex:0;if(2==t){var e=this.$route.query.deliveryType;e&&""!=e&&null!=e&&(this.$store.state.mall2.staticDeliverType="1"==e?"1":"2")}this.orderCategory=this.$route.query.orderCategory,this.vipUnitUserCode=this.$route.query.vipUnitUserCode,this.lastPath=this.$route.query.lastPath,this.deliveryType=this.$store.state.mall2.staticDeliverType?this.$store.state.mall2.staticDeliverType:"2",this.tabEvent(this.tabs[t],t)},activated:function(){this.$userCenter._getMyOrder();var t=this.$store.state.mall2.order.backIndex;t>-1?(this.tabEvent(this.tabs[t],t),this.$store.state.mall2.order.backIndex=-1):this.scrollTopValue1>0&&this.$refs.scrollDiv.setScrollTopValue(this.scrollTopValue1)},beforeRouteLeave:function(t,e,o){t.path==this.lastPath?this.$keepaliveHelper.deleteCache(this):this.scrollTopValue1=this.$refs.scrollDiv.getScrollTopValue(),o()}},C=(o("3sMC"),Object(c.a)(_,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"order mall2",class:{theme_sys_base:1==t.orderCategory,theme_sys_blue:1==t.orderCategory}},[i("nav-top",{on:{backEvent:t.backEvent}},[t.$store.state.globalConfig.kshop_orderListUrl&&null!=t.$store.state.globalConfig.kshop_orderListUrl?i("div",{staticClass:"right-btn theme_font_gray",staticStyle:{right:"0px",height:"44px",top:"0px","padding-right":"10px","font-size":"12px"},on:{click:t.toHistory}},[t._v("历史订单")]):t._e()]),t._v(" "),i("nav-content",[i("div",{staticClass:"tabs"},t._l(t.tabs,(function(e,o){return i("div",{staticClass:"tab-item",on:{click:function(i){return t.tabEvent(e,o)}}},[i("div",{staticClass:"text theme_font_black",class:t.tabIndex==o&&"selected-btn-1"},[t._v(t._s(e.text))])])})),0),t._v(" "),i("div",{staticClass:"scroll-div"},[i("pull-to",{ref:"scrollDiv",attrs:{isBottomAutoS:!0,bothEventForce:!0,"top-load-method":t.topRefresh,"is-top-bounce":!0,"bottom-load-method":t.loadMore,"is-bottom-bounce":t.tabSelectedItem.isCanLoadMore}},["1"==t.tabSelectedItem.tag?i("div",t._l(t.listData,(function(e){return i("div",{key:e.id,staticClass:"block-div",on:{click:function(o){return t.orderDetailEvent(e,"tobePay")}}},[i("div",{staticClass:"flex-row"},[i("OrderPros",{attrs:{dataItem:e,orderItemList:e.itemAbstractList,watermark:"3"==e.deliverType?"1":"0"}})],1),t._v(" "),i("div",{staticClass:"flex-row"},[i("div",{staticClass:"full"}),t._v(" "),i("div",{staticClass:"font-small theme_font_tint"},[i("span",[t._v("共"+t._s(t.productNumber(e.itemAbstractList))+"件商品   需付款：")]),t._v(" "),i("PriceOrder",{attrs:{orderitem:e}})],1)]),t._v(" "),"200117"!=e.orderType?i("div",{staticClass:"flex-row flex-row-smallbottom"},[i("div",{staticClass:"full"}),t._v(" "),4==t.$store.state.deployType?i("div",{staticClass:"row-btn line_circle theme_font_common theme_border_gray",on:{click:function(o){return o.stopPropagation(),t.consultingService(e)}}},[t._v("咨询客服")]):t._e(),t._v(" "),i("div",{staticClass:"row-btn row-btn-big-space theme_font_common theme_border_gray line_circle",on:{click:function(o){return o.stopPropagation(),t.payEvent(e)}}},[t._v("付款")])]):t._e()])})),0):t._e(),t._v(" "),"16"==t.tabSelectedItem.tag?i("div",t._l(t.listData,(function(e){return i("div",{staticClass:"block-div",on:{click:function(o){return t.orderDetailEvent(e,"tobeShip")}}},[i("div",{staticClass:"flex-row"},[i("OrderPros",{attrs:{dataItem:e,orderItemList:e.orderItemList,watermark:"3"==e.deliverType?"1":"0",tag:16}})],1),t._v(" "),i("div",{staticClass:"flex-row"},[i("div",{staticClass:"full"}),t._v(" "),i("div",{staticClass:"font-small theme_font_tint"},[i("span",[t._v("共"+t._s(t.productNumber(e.itemAbstractList))+"件商品   实付款：")]),t._v(" "),i("PriceOrder",{attrs:{orderitem:e}})],1)]),t._v(" "),2!=t.getProductType(e)&&"200117"!=e.orderType&&1!=t.$store.state.globalConfig.cut_price_strict?i("div",{staticClass:"flex-row flex-row-smallbottom"},[i("div",{staticClass:"full"}),t._v(" "),4==t.$store.state.deployType?i("div",{staticClass:"row-btn line_circle theme_font_common theme_border_gray",on:{click:function(o){return o.stopPropagation(),t.consultingService(e)}}},[t._v("咨询客服")]):t._e(),t._v(" "),1==t.$store.state.globalConfig.order_delivery_remind&&-1==t.dealPushDeliveryBtn(e.paidTime)?i("div",{staticClass:"row-btn line_circle theme_font_common theme_border_gray",on:{click:function(o){return o.stopPropagation(),t.pushDelivery(e)}}},[t._v("催促发货")]):t._e(),t._v(" "),t._e(),t._v(" "),12!=e.orderMode?i("div",{staticClass:"row-btn line_circle theme_standard_font theme_standard_bdr",on:{click:function(o){return o.stopPropagation(),t.reBuy(e)}}},[t._v("再次购买")]):t._e()]):t._e()])})),0):t._e(),t._v(" "),"4"==t.tabSelectedItem.tag?i("div",t._l(t.listData,(function(e){return i("div",{staticClass:"block-div",on:{click:function(o){return t.orderDetailEvent(e)}}},[6==e.orderMode&&e.selectReceiveTime&&e.receiveEndTime&&"1"==t.deliveryType?i("div",{staticClass:"pickup-tip"},[i("span",{staticClass:"theme_font_red"},[t._v("提货时间：")]),t._v("\n                "+t._s(e.selectReceiveTime)+"到"+t._s(e.receiveEndTime)+"\n              ")]):t._e(),t._v(" "),i("div",{staticClass:"flex-row"},[i("OrderPros",{attrs:{dataItem:e,orderItemList:e.itemAbstractList,watermark:"3"==e.deliverType?"1":"0"}})],1),t._v(" "),i("div",{staticClass:"flex-row"},[i("div",{staticClass:"full"}),t._v(" "),i("div",{staticClass:"font-small theme_font_tint"},[i("span",[t._v("共"+t._s(t.productNumber(e.itemAbstractList))+"件商品   实付款：")]),t._v(" "),i("PriceOrder",{attrs:{orderitem:e}})],1)]),t._v(" "),2==t.getProductType(e)||2!=e.deliverType&&3!=e.deliverType||"200117"==e.orderType?t._e():i("div",{staticClass:"flex-row flex-row-smallbottom"},[i("div",{staticClass:"full"}),t._v(" "),4==t.$store.state.deployType?i("div",{staticClass:"row-btn line_circle theme_font_common theme_border_gray",on:{click:function(o){return o.stopPropagation(),t.consultingService(e)}}},[t._v("咨询客服")]):t._e(),t._v(" "),12!=e.orderMode?i("div",{staticClass:"row-btn line_circle theme_standard_font theme_standard_bdr",on:{click:function(o){return o.stopPropagation(),t.reBuy(e)}}},[t._v("再次购买")]):t._e(),t._v(" "),t.isShowExpress(e)&&8!=t.getPivotalProductType(e.itemAbstractList)&&12!=e.orderMode?i("div",{staticClass:"row-btn line_circle theme_standard_font theme_standard_bdr",on:{click:function(o){return o.stopPropagation(),t.expressType(e)}}},[t._v("查看物流")]):t._e(),t._v(" "),("0"==e.interfaceType||"1"==e.interfaceType&&"5"==e.interfaceOrderType)&&1!=e.deliveryConfirmType&&3!=e.deliverType&&12!=e.orderMode?i("div",{staticClass:"row-btn line_circle theme_standard_font theme_standard_bdr",on:{click:function(o){return o.stopPropagation(),t.confirmProduct(e)}}},[t._v("确认收货")]):t._e()])])})),0):t._e(),t._v(" "),"99"==t.tabSelectedItem.tag?i("div",t._l(t.listData,(function(e){return i("div",{staticClass:"block-div",on:{click:function(o){return t.orderDetailEvent(e)}}},[i("div",{staticClass:"flex-row"},[i("OrderPros",{attrs:{orderItemList:e.itemAbstractList,watermark:"3"==e.deliverType?"1":"0"}})],1),t._v(" "),i("div",{staticClass:"flex-row"},[i("div",{staticClass:"full"}),t._v(" "),i("div",{staticClass:"font-small theme_font_tint"},[i("span",[t._v("共"+t._s(t.productNumber(e.itemAbstractList))+"件商品   实付款：")]),t._v(" "),i("PriceOrder",{attrs:{orderitem:e}})],1)])])})),0):t._e(),t._v(" "),"9"==t.tabSelectedItem.tag&&512!=t.tabSelectedItem.productType?i("div",t._l(t.listData,(function(e){return i("div",{staticClass:"block-div",on:{click:function(o){return t.orderDetailEvent(e,"completed")}}},[i("div",{staticClass:"flex-row"},[i("div",{staticClass:"right-state"},[4==e.orderMode?i("p",{staticClass:"scan-buy"},[t._v("扫码购")]):t._e(),t._v(" "),6!=e.state?i("div",{staticClass:"font-small theme_standard_font"},[t._v("已完成")]):t._e(),t._v(" "),6==e.state?i("div",{staticClass:"font-small theme_standard_font"},[t._v("已拒收")]):t._e()])]),t._v(" "),i("div",{staticClass:"flex-row share-btn"},[i("OrderPros",{attrs:{dataItem:e,orderItemList:e.itemAbstractList,watermark:"3"==e.deliverType?"1":"0"}}),t._v(" "),e.awardActivityList&&e.awardActivityList.length?i("img",{staticClass:"btn",attrs:{src:o("XDOV"),alt:""},on:{click:function(o){return o.stopPropagation(),t.shareActivity(e)}}}):t._e()],1),t._v(" "),i("div",{staticClass:"flex-row"},[i("div",{staticClass:"full"}),t._v(" "),i("div",{staticClass:"font-small theme_font_tint"},[i("span",[t._v("共"+t._s(t.productNumber(e.itemAbstractList))+"件商品   实付款：")]),t._v(" "),i("PriceOrder",{attrs:{orderitem:e}})],1)]),t._v(" "),"200117"!=e.orderType&&1!=t.$store.state.globalConfig.cut_price_strict?i("div",{staticClass:"flex-row flex-row-smallbottom"},[i("div",{staticClass:"full"}),t._v(" "),4==t.$store.state.deployType?i("div",{staticClass:"row-btn line_circle theme_font_common theme_border_gray",on:{click:function(o){return o.stopPropagation(),t.consultingService(e)}}},[t._v("咨询客服")]):t._e(),t._v(" "),e.orderCanEvaluate&&12!=e.orderMode?i("div",{staticClass:"row-btn line_circle theme_font_common theme_border_gray",on:{click:function(o){return o.stopPropagation(),t.toComment(e)}}},[t._v("评价晒单")]):t._e(),t._v(" "),2!=t.getProductType(e)&&550!=t.getPivotalProductType(e.itemAbstractList)&&12!=e.orderMode?i("div",{staticClass:"row-btn line_circle theme_standard_font theme_standard_bdr",on:{click:function(o){return o.stopPropagation(),t.reBuy(e)}}},[t._v("再次购买")]):t._e()]):t._e()])})),0):t._e(),t._v(" "),"9"==t.tabSelectedItem.tag&&512==t.tabSelectedItem.productType?i("div",t._l(t.listData,(function(e){return i("div",{staticClass:"block-div",on:{click:function(o){return t.orderDetailEvent(e,"completed")}}},[i("div",{staticClass:"flex-row share-btn"},[i("OrderPros",{attrs:{orderItemList:e.itemAbstractList,watermark:"3"==e.deliverType?"1":"0"}}),t._v(" "),e.awardActivityList&&e.awardActivityList.length?i("img",{staticClass:"btn",attrs:{src:o("XDOV"),alt:""},on:{click:function(o){return o.stopPropagation(),t.shareActivity(e)}}}):t._e()],1),t._v(" "),i("div",{staticClass:"flex-row"},[i("div",{staticClass:"full"}),t._v(" "),i("div",{staticClass:"font-small theme_font_tint"},[i("span",[t._v("共"+t._s(t.productNumber(e.itemAbstractList))+"件商品   实付款：")]),t._v(" "),i("PriceOrder",{attrs:{orderitem:e}})],1)]),t._v(" "),"200117"!=e.orderType?i("div",{staticClass:"flex-row flex-row-smallbottom"},[i("div",{staticClass:"full"}),t._v(" "),4==t.$store.state.deployType?i("div",{staticClass:"row-btn line_circle theme_font_common theme_border_gray",on:{click:function(o){return o.stopPropagation(),t.consultingService(e)}}},[t._v("咨询客服")]):t._e(),t._v(" "),e.orderCanEvaluate?i("div",{staticClass:"row-btn line_circle theme_font_common theme_border_gray",on:{click:function(o){return o.stopPropagation(),t.toComment(e)}}},[t._v("评价晒单")]):t._e(),t._v(" "),2!=t.getProductType(e)?i("div",{staticClass:"row-btn line_circle theme_standard_font theme_standard_bdr",on:{click:function(o){return o.stopPropagation(),t.reBuy(e)}}},[t._v("再次购买")]):t._e()]):t._e()])})),0):t._e(),t._v(" "),"7"==t.tabSelectedItem.tag?i("div",t._l(t.listData,(function(e){return i("div",{staticClass:"block-div",on:{click:function(o){return t.orderDetailEvent(e,"canceled")}}},[i("div",{staticClass:"flex-row"},[i("OrderPros",{attrs:{orderItemList:e.itemAbstractList,watermark:"3"==e.deliverType?"1":"0"}})],1),t._v(" "),i("div",{staticClass:"flex-row"},[i("div",{staticClass:"full"}),t._v(" "),i("div",{staticClass:"font-small theme_font_tint"},[i("span",[t._v("共"+t._s(t.productNumber(e.itemAbstractList))+"件商品   需付款：")]),t._v(" "),i("PriceOrder",{attrs:{orderitem:e}})],1)]),t._v(" "),2!=t.getProductType(e)&&"200117"!=e.orderType&&550!=t.getPivotalProductType(e.itemAbstractList)?i("div",{staticClass:"flex-row flex-row-smallbottom"},[i("div",{staticClass:"full"}),t._v(" "),4==t.$store.state.deployType?i("div",{staticClass:"row-btn line_circle theme_font_common theme_border_gray",on:{click:function(o){return o.stopPropagation(),t.consultingService(e)}}},[t._v("咨询客服")]):t._e(),t._v(" "),12!=e.orderMode?i("div",{staticClass:"row-btn line_circle theme_standard_font theme_standard_bdr",on:{click:function(o){return o.stopPropagation(),t.reBuy(e)}}},[t._v("再次购买")]):t._e()]):t._e()])})),0):t._e()])],1),t._v(" "),t.showNoData?i("div",{staticClass:"no-data-div",class:{"other-top":"4"==t.tabSelectedItem.tag&&"2"!=t.$store.state.globalConfig.delivertype_default&&"1"!=t.$store.state.globalConfig.delivertype_default&&"2"!=t.$store.state.globalConfig.order_list_tabs_type}},[i("div",{staticClass:"no-data-img"},[i("img",{attrs:{src:"static/image/mall2/no-order.png"}})]),t._v(" "),"cnooc"!=t.$store.state.globalConfig.app_home_special_flag&&1!=t.$route.query.hideHotRecommend?i("div",{staticClass:"recommend-div"},[i("Recommend")],1):t._e()]):t._e(),t._v(" "),i("img",{staticStyle:{display:"none"},attrs:{id:"img",src:o("wEkp"),alt:""}})]),t._v(" "),i("van-dialog",{attrs:{title:"选择快递单号","show-cancel-button":""},on:{confirm:t.confirmForm},model:{value:t.showDialog,callback:function(e){t.showDialog=e},expression:"showDialog"}},[i("van-radio-group",{model:{value:t.expressNo,callback:function(e){t.expressNo=e},expression:"expressNo"}},[i("van-cell-group",t._l(t.expressNoList,(function(e,o){return i("van-cell",{key:o,attrs:{title:e,clickable:""},on:{click:function(o){return t.selExpress(e)}},scopedSlots:t._u([{key:"right-icon",fn:function(){return[i("van-radio",{attrs:{"checked-color":"#ee0a24",name:e}})]},proxy:!0}],null,!0)})})),1)],1)],1),t._v(" "),t.showCode?i("PickupCode",{attrs:{code:t.pickUpCode},on:{backEvent:t.codeBack}}):t._e()],1)}),[],!1,null,"2707e35f",null));e.default=C.exports},wEkp:function(t,e,o){t.exports=o.p+"static/img/1@222x.b53c8b4.png"},z1K3:function(t,e,o){"use strict";var i=o("4cMt");o.n(i).a}}]);