(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{"4++k":function(t,e,a){"use strict";var i=a("o2t0");a.n(i).a},AAUX:function(t,e,a){"use strict";a.r(e);var i=a("Wkcn"),s=a("L2JU"),r=a("KJ3S"),n=a("A8ay"),o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},l={name:"image-ad",components:{CornerMark:i.a},props:["myIndex","usePorpData","propData"],computed:o({},Object(s.c)(["clientWidth"]),{pageData:function(){return 1==this.usePorpData?this.propData:this.$store.state.pageData},moduleData:function(){return this.pageData.moduleList[this.myIndex].data},getPageLength:function(){return parseInt((this.gndhPageArr.length-1)/(this.moduleData.columnNum*this.moduleData.rowsNum))+1}}),mixins:[n.a],data:function(){var t=this;return{lbtOption:{allowSlideNext:!0,allowSlidePrev:!0,pagination:{el:".lbt .swiper-pagination",clickable:!0},loop:!0,autoplay:{delay:4e3,clickable:!0,disableOnInteraction:!1},on:{click:function(){var e=t.moduleData.rows[this.realIndex];t.hotEvent(e.idCode),t.enterNav(e)},doubleTap:function(){var e=t.moduleData.rows[this.realIndex];t.hotEvent(e.idCode),t.enterNav(e)}}},gndhPageNum:1,gndhPageArr:[],gndhOption:{allowSlideNext:!0,allowSlidePrev:!0,threshold:30,longSwipesRatio:.2,pagination:{el:".gndh .swiper-pagination",clickable:!0}},yhygOption:{slidesPerView:1,slidesPerColumn:"",allowSlideNext:!1,allowSlidePrev:!1},lbdhOption:{slidesPerView:1,slidesPerColumn:""},layout:"lbt",swiperSlideStyle:"",pageRefresh:!0,canEnterNav:!0,touchStartTime:void 0}},watch:{},created:function(){if(1==this.usePorpData&&("lbt"==this.moduleData.type||"gndh"==this.moduleData.type||"lbdh"==this.moduleData.type)){for(var t=this.moduleData.rows,e=[],a=(new Date).getTime(),i=0;i<t.length;i++){var s=t[i],r=s.seeTime;if(r&&null!=r&&2==r.length){var n=r[0];n=n.replace(/-/g,"/"),n=new Date(n).getTime();var o=r[1];if(o=o.replace(/-/g,"/"),o=new Date(o).getTime(),a<n||a>o)continue}if(s.cannotSee){var l=s.canSeenArr,d=!1;if(l&&""!=l&&null!=l)for(var u=0;u<l.length;u++){var h=l[u];if("empFlag"==h){if("1"==this.$store.state.mall2.myAssets.empFlag){e.push(s),d=!0;break}}else if(this.$store.state.mall2.myAssets.levelNo==h){e.push(s),d=!0;break}}if(d)continue;var c=s.canSeenGroups;if(c&&""!=c&&null!=c){var m=this.$store.state.mall2.myAssets.clusterIds;if(m&&null!=m&&""!=m)for(var g=0;g<c.length;g++){for(var p=c[g],v=0;v<m.length;v++)if(p==m[v]){e.push(s),d=!0;break}if(d)break}}}else e.push(s)}this.moduleData.rows=e}},mounted:function(){var t=this,e=this.moduleData.sidesMargin;e&&null!=e&&""!=e||(e=0),this.swiperSlideStyle="height: "+this.clientWidth*(100-e-e)/100*this.moduleData.ratio+"px",this.$nextTick((function(){t.resetSwiper()})),r.a.$on("refreshShowComponent",(function(){t.pageData.editingIndex==t.myIndex&&t.resetSwiper()}))},methods:{hotEvent:function(t){this.actionBtnEvent(this.pageData.pgCode,t)},modeleReshow:function(){var t=this;this.$bridgefunc.getItem(this.pageData.moduleList[this.myIndex].moduleId+"gndhPageArr",(function(e){var a=void 0;e&&e.length&&(a=JSON.parse(decodeURIComponent(e))),t.resetGndhPageArr(a)}))},getPageItems:function(t){return this.gndhPageArr.slice(this.moduleData.columnNum*this.moduleData.rowsNum*t,this.moduleData.columnNum*this.moduleData.rowsNum*(t+1))},gndhTouchStart:function(t){1==t.touches.length&&(this.touchStartTime=this.$util.getDataString())},gndhTouchEnd:function(t){this.touchStartTime=void 0},getFloatUp:function(){var t="",e=this.moduleData.bgImgUrl;""!=e&&(t+="background: url('"+e+"') no-repeat center center / 100% 100%;");var a=this.moduleData.bgColor;""!=a&&(t+="background-color: "+a+";");var i=this.moduleData.floatUp;return i>0&&(t+="margin-top: -"+i+"%;"),t},getBottomStyle:function(){var t="",e=this.moduleData.downMargin;return e>0&&(t+="padding-bottom: "+e+"%;"),t},getSidesStyle:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e="",a=this.moduleData.sidesMargin;a>0&&(e+="margin-left: "+a+"%; margin-right: "+a+"%;");var i=this.moduleData.upMargin,s=this.moduleData.downMargin;return i>0&&(e+="padding-top: "+i+"%;"),s>0&&!t&&(e+="padding-bottom: "+s+"%;"),e},getCookie:function(t){for(var e=document.cookie.split("; "),a=0;a<e.length;a++){var i=e[a].split("=");if(i[0]==t)return i[1]}return""},enterNav:function(t){console.log("nnnnnnnnnnnnnnnnnnn",t),"/mall2/list/1003"==t.link.url&&(this.$store.state.showCategory=!1);var e=t;if(/token=/.test(e.link.url)){var a;a=2==this.$store.state.webtype||3==this.$store.state.webtype?localStorage.getItem("ythToken"):this.$store.state.ythToken,e.link.url=e.link.url.replace(/token=/,"token="+a)}if(/phone=/.test(e.link.url)){var i;i=0==Object.keys(this.$store.state.ythUserInfo).length?this.getCookie("userPhone"):this.$store.state.ythUserInfo.phone,e.link.url=e.link.url.replace(/phone=/,"phone="+i)}/scToken=/.test(e.link.url)&&(e.link.url=e.link.url.replace(/scToken=/,"scToken="+this.$store.state.login.token)),this.canEnterNav?this.$market.enterNav(e,this.pageData.pgCode):this.canEnterNav=!0},resetGndhPageArr:function(t){var e=JSON.parse(JSON.stringify(this.moduleData.rows));if(t){for(var a=[],i=0;i<t.length;i++){for(var s=t[i],r=-1,n=0;n<e.length;n++)if(e[n].idCode==s){r=n;break}-1!=r&&a.push(e[r]),e.splice(r,1)}this.gndhPageArr=a.concat(e)}else this.gndhPageArr=e},resetSwiper:function(t){var e=this,a=this.moduleData.ratio,i=this.moduleData.type,s=this.moduleData;if("lbt"==i){1==this.moduleData.rows.length?(this.lbtOption.allowSlideNext=!1,this.lbtOption.allowSlidePrev=!1):(this.lbtOption.allowSlideNext=!0,this.lbtOption.allowSlidePrev=!0,this.lbtOption.autoplay.delay=1e3*this.moduleData.interval);var r=this.moduleData.sidesMargin;r&&null!=r&&""!=r||(r=0),this.swiperSlideStyle="height: "+this.clientWidth*(100-r-r)/100*a+"px"}if("gndh"==i){"-1"==this.$store.state.webtype?this.resetGndhPageArr(void 0):this.modeleReshow();var n=this.moduleData.sidesMargin;n&&null!=n&&""!=n||(n=0),this.swiperSlideStyle="height: "+this.clientWidth*(100-n-n)/100/s.columnNum*a+"px"}"yhyg"==i&&(this.swiperSlideStyle="height: auto",this.yhygOption.slidesPerColumn=s.rows.length),"lbdh"==i&&(this.lbdhOption.slidesPerColumn=s.rows.length),this.pageRefresh=!1,this.$nextTick((function(){e.pageRefresh=!0}))}}},d=(a("4++k"),a("KHd+")),u=Object(d.a)(l,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.pageRefresh&&t.$market.moduleIsShow(t.moduleData)?a("div",{ref:"box",staticClass:"image-ad",style:t.getFloatUp()},[t.usePorpData?t._e():a("div",{staticClass:"f-div"}),t._v(" "),"lbt"==t.moduleData.type?a("div",{staticClass:"swiper-box lbt",style:t.getSidesStyle()},[a("swiper",{ref:"mySwiper",attrs:{options:t.lbtOption}},[t._l(t.moduleData.rows,(function(e,i){return a("swiper-slide",{key:i,class:t.hotareaClass(e)},[a("img",{ref:"swiperImg",refInFor:!0,staticClass:"swiper-img",style:t.swiperSlideStyle,attrs:{src:e.imgUrl}}),t._v(" "),e.cornerMark?a("CornerMark",{attrs:{itemData:e,moduleData:t.moduleData}}):t._e()],1)})),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"1"!=t.moduleData.rows.length,expression:"moduleData.rows.length != '1'"}],staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2),t._v(" "),t.moduleData.notice&&""!=t.moduleData.notice?a("div",{staticClass:"notice-div"},[a("img",{staticClass:"notice-img",attrs:{src:"static/images/image-ad/notice.png",alt:""}}),t._v(" "),a("p",{staticClass:"notice-title"},[t._v("通知公告:"+t._s(t.moduleData.notice))])]):t._e()],1):"gndh"==t.moduleData.type?a("div",{staticClass:"gndh swiper-box",style:t.getSidesStyle(!0)},[a("swiper",{ref:"mySwiper",style:t.getBottomStyle(),attrs:{options:t.gndhOption}},[t._l(t.getPageLength,(function(e){return a("swiper-slide",{key:e-1},[a("div",{staticClass:"gndh-page"},t._l(t.getPageItems(e-1),(function(e,i){return a("div",{key:i,staticClass:"gndh-item fill-bgp",class:Object.assign({},{"width-5":"5"==t.moduleData.columnNum,"width-3":"3"==t.moduleData.columnNum,"width-2":"2"==t.moduleData.columnNum},t.hotareaClass(e,!0)),on:{touchstart:t.gndhTouchStart,touchend:t.gndhTouchEnd}},["imgStyle"==t.moduleData.style?a("div",{on:{click:function(a){a.preventDefault(),t.hotEvent(e.idCode),t.enterNav(e)}}},[e.cornerMark?a("CornerMark",{attrs:{itemData:e,moduleData:t.moduleData}}):t._e(),t._v(" "),a("img",{ref:"swiperImg",refInFor:!0,staticClass:"swiper-img",style:t.swiperSlideStyle,attrs:{src:e.imgUrl}})],1):t._e(),t._v(" "),"imgTextStyle"==t.moduleData.style?a("div",{on:{click:function(a){a.preventDefault(),t.hotEvent(e.idCode),t.enterNav(e)}}},[e.cornerMark?a("CornerMark",{attrs:{itemData:e,moduleData:t.moduleData}}):t._e(),t._v(" "),a("img",{ref:"swiperImg",refInFor:!0,staticClass:"swiper-img",style:t.swiperSlideStyle,attrs:{src:e.imgUrl}}),t._v(" "),a("p",{staticClass:"title",style:{"background-color":t.moduleData.bgColor}},[t._v("\n                "+t._s(e.title)+"\n              ")])],1):t._e(),t._v(" "),"minImgTextStyle"==t.moduleData.style?a("div",{on:{click:function(a){a.preventDefault(),t.hotEvent(e.idCode),t.enterNav(e)}}},[a("div",{staticClass:"min-img-text-box"},[e.cornerMark?a("CornerMark",{attrs:{itemData:e,moduleData:t.moduleData}}):t._e(),t._v(" "),a("img",{ref:"swiperImg",refInFor:!0,staticClass:"swiper-img",style:t.swiperSlideStyle,attrs:{src:e.imgUrl}})],1),t._v(" "),a("p",{staticClass:"title",style:{"background-color":t.moduleData.bgColor}},[t._v("\n                "+t._s(e.title)+"\n              ")])]):t._e()])})),0)])})),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.gndhPageArr.length>t.moduleData.columnNum*t.moduleData.rowsNum,expression:"\n          gndhPageArr.length > moduleData.columnNum * moduleData.rowsNum\n        "}],staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2)],1):"yhyg"==t.moduleData.type?a("div",{staticClass:"swiper-box",style:t.getSidesStyle()},[a("div",{ref:"mySwiper"},t._l(t.moduleData.rows,(function(e,i){return a("div",{key:i,class:t.hotareaClass(e)},[a("img",{ref:"swiperImg",refInFor:!0,staticClass:"swiper-img",style:t.swiperSlideStyle,attrs:{src:e.imgUrl},on:{click:function(a){t.hotEvent(e.idCode),t.enterNav(e)}}}),t._v(" "),i+1!==t.moduleData.rows.length?a("div",{style:{"margin-bottom":t.moduleData.space+"px"}}):t._e()])})),0)]):"lbdh"==t.moduleData.type?a("div",{staticClass:"swiper-box",style:t.getSidesStyle()},[a("swiper",{ref:"mySwiper",attrs:{options:t.lbdhOption}},t._l(t.moduleData.rows,(function(e,i){return a("swiper-slide",{key:i},[a("div",{staticClass:"cells"},[a("div",{staticClass:"cell lbdh-row fill-bgp",class:t.hotareaClass(e),on:{click:function(a){t.hotEvent(e.idCode),t.enterNav(e)}}},[a("div",{staticClass:"cell__hd padding-left relative"},[e.cornerMark?a("CornerMark",{attrs:{itemData:e,moduleData:t.moduleData}}):t._e(),t._v(" "),a("img",{ref:"swiperImg",refInFor:!0,attrs:{width:"35px",height:"35px",src:e.imgUrl}})],1),t._v(" "),a("div",{staticClass:"cell__bd padding-left"},[t._v(t._s(e.title))]),t._v(" "),a("div",{staticClass:"cell__ft padding-right"},[a("img",{attrs:{width:"15px",height:"15px",src:"static/images/icon-more.png",alt:""}})])])])])})),1)],1):t._e()]):t._e()}),[],!1,null,"d87b675e",null);e.default=u.exports},Wkcn:function(t,e,a){"use strict";var i=a("oI26").a,s=(a("Zqkb"),a("KHd+")),r=Object(s.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.moduleData?a("div",{staticClass:"mark",style:t.cornerMarkStyle},["1"==t.moduleData.cornerStyle?a("div",{staticClass:"style1"},[t._v("\n    "+t._s(t.getNum)+"\n  ")]):t._e(),t._v(" "),"2"==t.moduleData.cornerStyle?a("div",{staticClass:"style2"},[t._v("\n    "+t._s(t.getNum)+"\n  ")]):t._e()]):t._e()}),[],!1,null,"78df1dc7",null);e.a=r.exports},Zqkb:function(t,e,a){"use strict";var i=a("hJ/q");a.n(i).a},"hJ/q":function(t,e,a){},o2t0:function(t,e,a){},oI26:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a={name:"cornerMark",props:{itemData:{type:Object},moduleData:{type:Object},code:{type:String}},data:function(){return{num:0}},computed:{cornerMarkStyle:function(){if(!this.moduleData)return"";var t=this.moduleData.cornerMarginTop,e=this.moduleData.cornerMarginRight,a={};return t&&(a.top=t+"%"),e&&(a.right=e+"%"),a},getNum:function(){return this.code?this.$market.getCartNum(this.code):this.num>99?"99+":this.num}},watch:{},methods:{getMark:function getMark(){var _this=this;if(!this.itemData)return"";var url=this.itemData.cornerMarkUrl,paramsData={ouCode:""};this.$http.post(url,paramsData).then((function(res){var data=res.data;if(0==data.status){var cornerMarkKey=_this.itemData.cornerMarkKey;_this.num=eval(cornerMarkKey)||0}}),(function(t){_this.$Message.error("网络加载较慢，请稍后重试!")}))}},created:function(){-1==this.$store.state.webtype?this.num=10:this.getMark()}}}}]);