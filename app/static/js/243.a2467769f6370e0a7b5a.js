(window.webpackJsonp=window.webpackJsonp||[]).push([[243],{C18X:function(t,i,s){"use strict";var e=s("az0z");s.n(e).a},"Dw+m":function(t,i){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyVpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ4IDc5LjE2NDAzNiwgMjAxOS8wOC8xMy0wMTowNjo1NyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIxLjAgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MDU1QzNFN0QxMjRCMTFFQThDMUNFMjIyRkQxQUEzRDQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MDU1QzNFN0UxMjRCMTFFQThDMUNFMjIyRkQxQUEzRDQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDowNTVDM0U3QjEyNEIxMUVBOEMxQ0UyMjJGRDFBQTNENCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDowNTVDM0U3QzEyNEIxMUVBOEMxQ0UyMjJGRDFBQTNENCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PqkgsjQAAALfSURBVHjavFa9bhQxEP7s3ayOEBISkJCgThcQFCCQQiIh0fEIoaTIUyCavEIafgpegQbRBBaFvwIEqZIWgZDQQQgJKNzazNjeW3vj3buAEkuza3tn5rNnvpk7aK1Rk4zkHsk6SU6yFNFpkiVns+58ZHWdmNEDvXeskiy0AC04nfq4X9cVBpWGEII35mm6At1D8ekukIwhmboOZKfgxiOSlySZW++SXCa5YVdfUHSfAMVPJKdvkdOEd+fId97HcZOLJDdJrpKc15urKL6tOJ8C8tgFiONzZD+K2NDFDvT3Z1Bbb3ll9pLJaxATfBa8I8lJHpK8YUAGe10Zb6P4uEyT3dCr7CCxDqC0sltCmnexSZdWv2v6GZIzi3TIo/7uJQbkq8xj7QWw8R7obZLxTvQmajqFmpKh366C3OhF9SEpIukEMH0OmLnCO09Tesyaj68eM4PQOijP0b2tJrttK93PJeAsHzexsRwA9j+j8p1IHPI4dEAmTW7yuGtZ9nX5jvfVPYQNSzoqMX72SODgx4df6G2rUN+UhjA2Jxdv229Zh5/P+YaLPDEbJLYj2LAz+7WidaHNXKm9eVaFr896yr55zYRyfg0GYTFL11zBG2+Tk1PN8cioG50I63N8bBzo2MzoksXSFCuFL1BlDKR1n+nIiGOWKmNUlQPxuZf+CfXTrN9dbPgr3dhIm+nk+KRURWvdUIcliOtAxobthdwHoMu7MeyHRkUA/bmsDqtNnxyiLEq2IIxU4DBgjQ5B/dBG9GVj+2JgVViH9ZvUb6jKQ2rvlPvJYXky/j0zwKqlMYmwXpWq8hHpveng1iC8Yh7UM32yealpz2HJSt3Cjpg+wrxLMSRLWWlPaFoAhbu9dmhCVgwXw+bQD03Ztxp/wvw6RMhw+S91KPyj6gF16Okasun91KEesg5VPNpiWJb6dViCStlSh8IL+4B8W7/9P6m5PriRx/55zxwQaO58G5y/AgwAyHSgU05R/+sAAAAASUVORK5CYII="},MKSL:function(t,i){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyVpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ4IDc5LjE2NDAzNiwgMjAxOS8wOC8xMy0wMTowNjo1NyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIxLjAgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6M0IzRDA4NzgwOUFDMTFFQThDMERFMTdBRDNBQ0M0OTIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6M0IzRDA4NzkwOUFDMTFFQThDMERFMTdBRDNBQ0M0OTIiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDozQjNEMDg3NjA5QUMxMUVBOEMwREUxN0FEM0FDQzQ5MiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDozQjNEMDg3NzA5QUMxMUVBOEMwREUxN0FEM0FDQzQ5MiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pq5zKGMAAALRSURBVHjavFa9axRBFP/NzuXwxDQBgxHFQJA0wcoDi0TBLmiTIl38AwRb/ROCaCe2pkipIhZiOlE3iB9FQFKdBBX8QiQIEYXb23m+mZ25252bu4xI8uDdzs7+3vu9eR97CyKCp3XWO6wt1pR1OYAZpMvWpmV91H1MyGiF+uUF69IQoiWL8WXFxwrDyiKE0BtzvHwO1QY2F4GRceDENeDgSVh5xPqStW7vGYgzrBfN3e93wMcbQPYdmLkHJAZ2ln2njscxN1lvsW6YuD6vEr06bnWS6P11UtlPGiTmGWMM1tlpH4VsWN+n3QmbzPvaHQHZNujteYh8G2UheQRi4ooNMrNZGSnuv95m/DcPPwZx6glnaay83dSET3lxDndXgccPgT+fDGlQFjgt01l1r1UDHiRhvCZrHAMuLACLl/TOM03Y4YWk5hRHmWOoXJXAlEe4xae8OdyOpIR4s6WXuQ5NmvTsRvYfUvItE+yz7DuhrmHK11n82jEbH+Zne08VlaGojyscnd+pOPiyNor2Dxu3MhUrHUdgcm29WB8a1b/rGnlZL8wGq7J2Rtmgp0CnLfoi7nRECZ9YrIQSOl6C82s4mIt7Gpuscy60iZxfHkKGeo2982VaVXYP3+eGUC6Qjk2G6JqURHOg5rs9wNFBeOk0DoTZRqOKbxi/ea8dHJlICj+e1MKDo+1lkShNTNYhhbpA9DJS/Bu4Yhak0V1KqnicWIdCDGi7xCMXNjhdgiyCsBtliVSgmq4KPu8/iSOWMoKwW3Am1W8IlVdJQ6IxRFFzGK6hI9URakcq785iAFzKQKjZYghD5DESbLboGlIkCVXT6TdbVA11lGQbwnc4rObuRN1mS2LnUNnUiB7xoDmspN2Og9L2ZH386xyal4zEwDatnMIbBxVdQ5fKiDlU+eBTB/DJrq8qlcV1cWyzlT5SU9o7SUNf3jN7RJpa34bnrwADAAkX5NhO3Ld7AAAAAElFTkSuQmCC"},P0Z5:function(t,i,s){"use strict";s.r(i);var e={data:function(){return{selectIndex:"",datails:{},complete:!1,type:1}},mounted:function(){this.selectIndex=this.$route.query.selectIndex,0==this.selectIndex?this.queryRecommendRegisterAwardList():this.queryRecommendBindCardAwardList()},methods:{dealTime:function(t,i){return t||i?t.split(" ")[0]+"~"+i.split(" ")[0]:""},queryRecommendRegisterAwardList:function(){var t=this;console.log("推荐注册奖励"),this.$request.post("/app/json/app_market/queryRecommendRegisterAwardList",{}).then((function(i){0===i.status?(t.complete=!1,t.datails=i.data,t.$nextTick((function(){t.complete=!0})),t.$set(t.datails,"index",t.selectIndex)):t.$Toast(i.info?i.info:"获取列表失败")}))},queryRecommendBindCardAwardList:function(){var t=this;console.log("推荐绑卡奖励"),this.$request.post("/app/json/app_market/queryRecommendBindCardAwardList",{}).then((function(i){0===i.status?(t.complete=!1,t.datails=i.data,t.$nextTick((function(){t.complete=!0})),t.$set(t.datails,"index",t.selectIndex)):t.$Toast(i.info?i.info:"获取列表失败")}))}},components:{RecommendedGift:s("l62x").a}},n=(s("erUe"),s("KHd+")),a=Object(n.a)(e,(function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"activity-strategy"},[s("nav-top",{class:{bgImg:!0},attrs:{title:"活动攻略"},on:{backEvent:function(i){return t.$router.go(-1)}}}),t._v(" "),s("nav-content",{staticClass:"activity-strategy-container"},[s("div",{staticClass:"top"},[s("div",{staticClass:"tips"},[s("span",{staticClass:"title"},[t._v("活动描述：")]),t._v(" "),s("span",{staticClass:"text"},[t._v("获得期间内，邀请好友数量注册数量达到指定人数即可解锁奖品，完成奖品的领取！")])]),t._v(" "),s("div",{staticClass:"tips"},[s("span",{staticClass:"title"},[t._v("活动时间：")]),t._v(" "),s("span",{staticClass:"text"},[t._v(t._s(t.dealTime(t.datails.startDate,t.datails.endDate)))])])]),t._v(" "),t.complete?s("div",{staticClass:"content"},[s("RecommendedGift",{attrs:{type:t.type,datails:t.datails}})],1):t._e()])],1)}),[],!1,null,"7939153f",null);i.default=a.exports},az0z:function(t,i,s){},erUe:function(t,i,s){"use strict";var e=s("xXb1");s.n(e).a},l62x:function(t,i,s){"use strict";var e={name:"step",data:function(){return{list:[],overlay:!0,peopleNum:0,joinNum:0,showTips:!1,showAllPrice:!1,priceInfo:"",title:"",confirmButtonText:"",waitPriceList:[],nowPeople:""}},props:{datails:{},type:""},mounted:function(){this.deal(),this.stepShow()},methods:{deal:function(){var t=this;0==this.datails.index?this.title="推荐注册有礼":this.title="推荐绑卡有礼";var i=[];for(var s in this.datails.awardMap)i.push({desc:s,num:s,info:this.datails.awardMap[s]});this.list=i,console.log(i),0===this.datails.index?this.joinNum=this.datails.registerReferrals:this.joinNum=this.datails.bindCardReferrals,i.length&&(i.unshift({desc:"开始",num:0,step:0,total:0}),this.dealRebate(this.list,this.joinNum));var e=[];this.list.forEach((function(t){t.info&&10==t.info[0].state&&t.info.forEach((function(t){e.push(t)}))})),this.waitPriceList=e,this.waitPriceList.length&&this.$nextTick((function(){t.showAllPrice=!0})),console.log(e)},nowGet:function(t){var i=this;this.$request.post("/app/json/app_market/receiveAward",{awardRecId:t}).then((function(t){0===t.status?i.$Toast("领取成功"):i.$Toast(t.info?t.info:"领取失败")})).catch((function(t){i.$Toast(res.info?res.info:"领取失败")}))},tipsBtn:function(t,i){0!==t&&1!=this.type&&(console.log(this.joinNum),this.priceInfo=i,console.log(this.priceInfo),console.log(this.datails),-1==this.priceInfo.info[0].state?this.confirmButtonText="我知道了":10==this.priceInfo.info[0].state?this.confirmButtonText="领取奖品":15!=this.priceInfo.info[0].state&&20!=this.priceInfo.info[0].state&&30!=this.priceInfo.info[0].state||(this.confirmButtonText="我知道了"),this.showTips=!0)},dealRebate:function(t,i){for(var s=[].concat(t).sort((function(t,i){return t.oilLiter-i.oilLiter})),e=[],n=0;n<s.length-1;n++){var a=s[n],o=s[n+1];if(a.num<=i&&i<o.num){e.push(a),e.push(o);break}if(n===s.length-2&&i>=o.num){e.push(o);break}}this.peopleNum=e[1].num-i,this.nowPeople=e[1].num},stepShow:function(){for(var t=1;t<this.list.length;t++){var i=this.list[t],s=this.list[t-1];if(this.$set(i,"step",0),!(i.num<this.joinNum)){s.step=parseInt((this.joinNum-s.num)/(i.num-s.num)*100);break}s.step=100}},allConfirm:function(){var t=[];this.waitPriceList.forEach((function(i){t.push(i.awardRecId)})),this.nowGet(t.join(","))},partConfirm:function(){if(this.priceInfo&&10==this.priceInfo.info[0].state){var t=[];this.priceInfo.info.forEach((function(i){t.push(i.awardRecId)})),this.nowGet(t.join(","))}else this.showTips=!1},formatLineStyl:function(t){return 1==this.type?{height:t+"%"}:{width:t+"%"}},dealTime:function(t,i){return t||i?t.split(" ")[0]+"~"+i.split(" ")[0]:""}},components:{}},n=(s("C18X"),s("KHd+")),a=Object(n.a)(e,(function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"step-container"},[1!=t.type?e("div",{staticClass:"time"},[t._v("活动时间："+t._s(t.dealTime(t.datails.startDate,t.datails.endDate)))]):t._e(),t._v(" "),e("div",{staticClass:"steps-list",class:{vertical:1==t.type}},t._l(t.list,(function(i,n){return e("div",{staticClass:"step",class:{noAchieve:i.num>t.joinNum}},[e("div",{staticClass:"circle",class:{dot:0===n},on:{click:function(s){return s.stopPropagation(),t.tipsBtn(n,i)}}},[0!==n?[i.num<t.joinNum?e("img",{staticClass:"icon",attrs:{src:s("MKSL"),alt:""}}):e("img",{staticClass:"icon",attrs:{src:s("Dw+m"),alt:""}})]:t._e()],2),t._v(" "),e("div",{staticClass:"content"},[e("div",{staticClass:"left-con"},[e("p",[t._v(t._s(i.desc)),0!=n?e("span",[t._v("人")]):t._e()]),t._v(" "),1==t.type&&i.num>t.joinNum&&i.num==t.nowPeople?e("p",{staticClass:"people-num"},[t._v("差"+t._s(t.peopleNum||0)+"人")]):t._e()]),t._v(" "),1==t.type&&0!==n?e("div",{staticClass:"right-con"},[e("p",[t._v("任务描述：活动时间内，邀请新用户注册数量达到"+t._s(i.desc)+"人即可。")]),t._v(" "),e("p",[t._v("奖品描述："),t._l(i.info,(function(i,s){return e("span",{key:s},[0!=s?e("span",[t._v("+")]):t._e(),t._v(t._s(i.awardName)+"*"+t._s(i.awardNum))])}))],2)]):t._e()]),t._v(" "),e("div",{staticClass:"line-wrapper"},[e("div",{staticClass:"line"},[e("span",{staticClass:"line-inner",style:t.formatLineStyl(i.step)})])])])})),0),t._v(" "),1!=t.type?e("div",{staticClass:"from-num"},[t._v("距完成下一任务还差"+t._s(t.peopleNum||0)+"人")]):t._e(),t._v(" "),t.waitPriceList?e("div",[e("van-dialog",{attrs:{title:t.title,overlay:"overlay",confirmButtonText:"全部领取"},on:{confirm:t.allConfirm},model:{value:t.showAllPrice,callback:function(i){t.showAllPrice=i},expression:"showAllPrice"}},[e("div",{staticClass:"dialog-tips"},[e("div",{staticClass:"no-receive"},[e("div",{staticClass:"title"},[t._v("恭喜您成功邀请了"+t._s(t.joinNum)+"位好友注册APP，可立即领取奖品")]),t._v(" "),e("ul",{staticClass:"list"},t._l(t.waitPriceList,(function(i,s){return e("li",{key:s,staticClass:"item"},[t._v("奖品"+t._s(s+1)+":"+t._s(i.awardName)+"*"+t._s(i.awardNum)+"\n            ")])})),0)])])]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.showAllPrice,expression:"showAllPrice"}],staticClass:"van-overlay",staticStyle:{"z-index":"99"}})],1):t._e(),t._v(" "),t.priceInfo?e("div",[e("van-dialog",{attrs:{title:t.title,confirmButtonText:t.confirmButtonText},on:{confirm:t.partConfirm},model:{value:t.showTips,callback:function(i){t.showTips=i},expression:"showTips"}},[e("div",{staticClass:"dialog-tips"},[e("div",{staticClass:"no-receive"},[-1==t.priceInfo.info[0].state?e("div",{staticClass:"title"},[t._v("再邀请"+t._s(t.priceInfo.num-t.joinNum)+"人注册，即可领取以下奖品")]):10==t.priceInfo.info[0].state?e("div",{staticClass:"title"},[t._v("恭喜您成功邀请了"+t._s(t.joinNum)+"位好友注册APP，可立即领取奖品")]):15==t.priceInfo.info[0].state||20==t.priceInfo.info[0].state||30==t.priceInfo.info[0].state?e("div",{staticClass:"title"},[t._v("\n            奖品已经领过啦！\n          ")]):e("div",{staticClass:"title"}),t._v(" "),e("ul",{staticClass:"list"},t._l(t.priceInfo.info,(function(i,s){return e("li",{key:s,staticClass:"item"},[t._v("奖品"+t._s(s+1)+":"+t._s(i.awardName)+"*"+t._s(i.awardNum)+"\n            ")])})),0)])])])],1):t._e()])}),[],!1,null,"09c77345",null);i.a=a.exports},xXb1:function(t,i,s){}}]);