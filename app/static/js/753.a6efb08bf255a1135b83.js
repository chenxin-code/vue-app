(window.webpackJsonp=window.webpackJsonp||[]).push([[753],{"3A9O":function(t,i,a){},"60B7":function(t,i,a){"use strict";a.r(i);var s=a("CctC"),n={name:"route-map",components:{},data:function(){return{randomId:"",loadedTimes:0,bdMap:null,nowmk:null,routeData:{}}},created:function(){this.randomId=this.$util.randomString(),this.routeData=JSON.parse(this.$route.query.routeData)},mounted:function(){this.pageInit()},methods:{backEvent:function(){this.$router.go(-1)},loadRoute:function(t,i){var a=new t.Point(this.routeData.storePosx,this.routeData.storePosy),s=new t.Point(this.routeData.receiverPosx,this.routeData.receiverPosy);new t.DrivingRoute(this.bdMap,{renderOptions:{map:this.bdMap,autoViewport:!0}}).search(i,s,{waypoints:[a]})},getLocation:function(t,i){i.city&&""!=i.city||(i.province=this.$store.state.globalConfig.province,i.city=this.$store.state.globalConfig.city,i.district=this.$store.state.globalConfig.district,i.longitude=this.$store.state.globalConfig.longitude,i.latitude=this.$store.state.globalConfig.latitude),this.locationinfo=i;var a=new t.Point(i.longitude,i.latitude);this.loadRoute(t,a)},loadBd:function(t){this.bdMap=new t.Map(this.randomId),this.bdMap.centerAndZoom(new t.Point(116.404,39.915),14),this.bdMap.addControl(new t.MapTypeControl({mapTypes:[BMAP_NORMAL_MAP,BMAP_HYBRID_MAP]})),this.bdMap.enableScrollWheelZoom(!0)},pageInit:function(){var t=this;this.$bridgefunc.checkLocationAuth(this.pageInit).then((function(i){Object(s.a)().then((function(a){t.loadBd(a),t.getLocation(a,i)}))}),(function(){t.$Toast("请您开启GPS定位附近中国石化加油站")}))}}},o=(a("yyb4"),a("KHd+")),e=Object(o.a)(n,(function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"route-map"},[i("div",{staticClass:"back-btn",on:{click:this.backEvent}},[i("i",{staticClass:"iconfont mall-fanhui"})]),this._v(" "),i("div",{staticClass:"allmap",attrs:{id:this.randomId}}),this._v(" "),this._m(0)])}),[function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{staticClass:"bottm-div"},[a("div",{staticClass:"row"},[a("div",{staticClass:"info"},[a("div",{staticClass:"dian dian1"}),t._v(" "),a("div",{staticClass:"text"},[t._v("当前定位")])]),t._v(" "),a("div",{staticClass:"line"}),t._v(" "),a("div",{staticClass:"info"},[a("div",{staticClass:"dian dian2"}),t._v(" "),a("div",{staticClass:"text"},[t._v("取货店铺")])])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"info"},[a("div",{staticClass:"dian dian2"}),t._v(" "),a("div",{staticClass:"text"},[t._v("取货店铺")])]),t._v(" "),a("div",{staticClass:"line"}),t._v(" "),a("div",{staticClass:"info"},[a("div",{staticClass:"dian dian3"}),t._v(" "),a("div",{staticClass:"text"},[t._v("送货地址")])])])])}],!1,null,"257a75e0",null);i.default=e.exports},yyb4:function(t,i,a){"use strict";var s=a("3A9O");a.n(s).a}}]);