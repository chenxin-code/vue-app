(window.webpackJsonp=window.webpackJsonp||[]).push([[252,52],{AbvJ:function(t,e,a){},Wr4Z:function(t,e,a){"use strict";var s=a("AbvJ");a.n(s).a},afTz:function(t,e,a){"use strict";a.r(e);var s=a("nV03"),r={name:"countdown",props:["endTime","type","hiddenDay","callback"],components:{},data:function(){return{d:"0",h:"00",m:"00",s:"00",trigger:!0}},methods:{parsingTime:function(){var t=this;if(this.endTime){var e=this.$store.state.severTime.currentTime,a=this.endTime-e;this.d=0,this.h="0",this.m="0",this.s="0",a<0?this.trigger&&(this.trigger=!1,setTimeout((function(){t.$emit("timeOut")}),1e3)):(this.trigger=!0,a>59?(this.s=a%60,(a=parseInt(a/60))>59?(this.m=a%60,(a=parseInt(a/60))>23?(this.h=parseInt(a%24),a=parseInt(a/24),this.d=a):this.h=a):this.m=a):a>=0&&(this.s=a),this.h<10&&(this.h="0"+this.h),this.m<10&&(this.m="0"+this.m),this.s<10&&(this.s="0"+this.s))}}},created:function(){this.parsingTime(),s.a.heartbeat()},destroyed:function(){s.a.removeHeartbeat()},watch:{"$store.state.severTime.currentTime":function(){this.parsingTime()}}},i=(a("Wr4Z"),a("KHd+")),n=Object(i.a)(r,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"countdown",class:{quan:"theme_bg_quan"==t.type}},[0==t.d||t.hiddenDay?t._e():a("div",{staticClass:"red-div theme_font_white",class:[t.type||"theme_bg_red"]},[t._v(t._s(t.d))]),t._v(" "),0==t.d||t.hiddenDay?t._e():a("span",[t._v("天")]),t._v(" "),a("div",{staticClass:"red-div theme_font_white",class:[t.type||"theme_bg_red"]},[t._v(t._s(t.h))]),t._v("\n  :\n  "),a("div",{staticClass:"red-div theme_font_white",class:[t.type||"theme_bg_red"]},[t._v(t._s(t.m))]),t._v("\n  :\n  "),a("div",{staticClass:"red-div theme_font_white",class:[t.type||"theme_bg_red"]},[t._v(t._s(t.s))])])}),[],!1,null,"403fc346",null);e.default=n.exports},eVca:function(t,e,a){},iGKt:function(t,e,a){"use strict";var s=a("eVca");a.n(s).a},nV03:function(t,e,a){"use strict";var s=a("ZToj"),r=void 0,i=0,n={heartbeat:function(){i++,r||(r=window.setInterval((function(){var t=parseInt((new Date).getTime()/1e3);s.a.state.severTime.currentTime=t+s.a.state.severTime.jetlag}),1e3))},removeHeartbeat:function(){i>0&&i--,0==i&&(window.clearInterval(r),r=null)}};e.a=n},pPfL:function(t,e,a){"use strict";a.r(e);var s=a("L2JU"),r=a("afTz"),i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},n={name:"order-management",components:{Countdown:r.default},computed:i({},Object(s.c)(["getPutaggregate"])),data:function(){return{array:[],loading:!1,hasMore:!0,rewardState:"1",screenArr:[{name:"待奖励",number:"0",type:1},{name:"已奖励",number:"0",type:2},{name:"未奖励",number:"0",type:0}],params:{page:1,rows:20,distributionUserId:"",rewardState:"1",orderCode:""}}},mounted:function(){this.params.distributionUserId=this.getPutaggregate.userId,this._loadProList()},methods:{text:function(t){console.log("rewardType",t);var e="";return 3==t?e="积分":8==t?e="油滴":9==t?e="豌豆":0==t&&(e="元"),e},backEvent:function(){this.$router.go(-1)},screenBtn:function(t){this.array=[],this.params.page=0,this.rewardState=t.type,this.params.rewardState=t.type,this._loadProList()},_loadProList:function(){var t=this;this.$Loading.open(),this.loading=!0,this.params.page++,this.$http.post("/app/json/app_distribution_order/getDistributionOrders",this.params).then((function(e){if(t.$Loading.close(),0==e.data.status){var a=e.data.data||{};t.array=[].concat(function(t){if(Array.isArray(t)){for(var e=0,a=Array(t.length);e<t.length;e++)a[e]=t[e];return a}return Array.from(t)}(t.array.concat(a.distributionOrderItems||[]))),t.$set(t.screenArr[1],"number",a.rewardedNums),t.$set(t.screenArr[2],"number",a.noRewardNums),t.$set(t.screenArr[0],"number",a.waitRewardNums),t.array.length<e.data.totalRecords?t.loading=!1:t.hasMore=!1}else t.$Toast(e.data.info)}))},status:function(t){var e="";switch(t){case 1:e="未支付";break;case 2:e="支付中";break;case 3:e="已支付";break;case 4:e="待收货";break;case 5:e="已收货";break;case 6:e="拒收";break;case 7:e="已取消";break;case 8:e="已失效";break;case 9:e="已完成";break;case 10:e="退款中";break;case 11:e="已退款";break;case 12:e="支付后取消";break;case 13:e="已拆单";break;case 14:e="退货中";break;case 15:e="退货确认";break;case 16:e="待发货";break;case 17:e="待备货";break;case 18:e="已备货";break;case 19:e="备货失败"}return e}}},o=(a("iGKt"),a("KHd+")),c=Object(o.a)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"body"},[a("nav-top",{attrs:{title:"订单管理"},on:{backEvent:t.backEvent}}),t._v(" "),a("nav-content",[a("div",{staticClass:"main"},[a("div",{staticClass:"screen"},t._l(t.screenArr,(function(e,s){return a("div",{key:s,staticClass:"btn",class:{theme_standard_font_i:t.rewardState==e.type},on:{click:function(a){return t.screenBtn(e)}}},[t._v(t._s(e.name+"（"+e.number+"）"))])})),0),t._v(" "),a("div",{staticClass:"list"},[t._l(t.array,(function(e,s){return a("div",{key:s,staticClass:"row"},[a("div",{staticClass:"row-top"},[a("span",{staticClass:"row-top-left"},[a("img",{attrs:{src:t.$store.state.globalConfig.microshop_headurl,alt:""}}),t._v(" "),e.mobile?a("span",{staticClass:"row-top-left-tel"},[t._v(t._s(e.mobile.replace(/(\d{3})\d{4}(\d{4})/,"$1****$2")))]):t._e()]),t._v(" "),a("span",{staticClass:"theme_standard_font_i row-top-right"},[t._v("\n              "+t._s(t.status(e.state))+t._s(1==e.rewardState&&9==e.state?"：":"")+"\n              "),1==e.rewardState&&9==e.state?a("countdown",{attrs:{endTime:e.predictDate,type:"theme_standard_bg"}}):t._e()],1)]),t._v(" "),a("div",{staticClass:"row-time"},[a("span",[t._v(t._s(e.submitTime))]),t._v(" "),a("span",[1==e.groupBuy?a("span",{staticClass:"tuan theme_light_bg theme_standard_bdr_i theme_standard_font_i"},[t._v("团")]):t._e(),t._v(" "),a("span",[t._v("订单号："+t._s(e.orderCode))])])]),t._v(" "),a("div",{staticClass:"row-content"},[a("div",{staticClass:"row-content-left"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.picMainUrl,expression:"item.picMainUrl"}]})]),t._v(" "),a("div",{staticClass:"row-content-right"},[a("div",{staticClass:"row-content-right-top"},[t._v(t._s(e.skuName))]),t._v(" "),a("div",{staticClass:"row-content-right-bottom"},[a("span",[t._v("商品规格:"+t._s(e.specs))]),t._v(" "),a("span",[t._v("¥"+t._s(e.salePrice))]),t._v(" "),a("span",[t._v("x"+t._s(e.number))])])])]),t._v(" "),a("div",{staticClass:"row-bottom"},[a("span",[t._v("总计：¥"+t._s(e.payAmount))]),t._v(" "),a("span",[t._v("返点："+t._s(0==e.rewardType?"¥":"")+t._s(e.rebate||0)+" "+t._s(t.text(e.rewardType)))])])])})),t._v(" "),t.array.length&&!t.hasMore?a("div",{staticClass:"no-data theme_font_tint"},[t._v("没有更多数据了~")]):t._e(),t._v(" "),t.array.length?t._e():a("div",{staticClass:"no-list"},[a("div",{staticClass:"img-div"},[a("img",{attrs:{src:"static/image/mall2/no-data-img.png"}})]),t._v(" "),a("div",{staticClass:"tip theme_font_gray"},[t._v("抱歉没有找到相应订单~")])])],2)])])],1)}),[],!1,null,"a64e6524",null);e.default=c.exports}}]);