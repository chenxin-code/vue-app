(window.webpackJsonp=window.webpackJsonp||[]).push([[275,878,1005],{AXlJ:function(e,t,a){},GbMU:function(e,t,a){"use strict";var n=a("rNgp");a.n(n).a},Nfoa:function(e,t,a){"use strict";a.r(t);var n={name:"index",components:{AdPage:a("mbR2").a,PreviewComponent:function(){return a.e(23).then(a.bind(null,"v/Xm"))}},data:function(){return{adPageKey:"",pageIsShow:!1,pageData:{}}},computed:{getTopHeight:function(){return this.$store.state.barHeight}},methods:{pageShow:function(){var e=this.$refs.activity_preview;e&&e.pageShow&&e.pageShow()},setScrollSite:function(e){var t=this.$refs.activity_preview;t&&t.setScrollSite&&t.setScrollSite(e)},getScrollSite:function(){var e=this.$refs.activity_preview;return e&&e.getScrollSite?e.getScrollSite():0},getPageData:function(){var e=this,t={};"4"==this.$store.state.deployType&&(t.storeOuCode=this.$store.state.refuelStation.stationCode||"1"),t.isAppActivity="1",t.webType="1","1"==this.$store.state.webtype?t.webType="1":"2"==this.$store.state.webtype?t.webType="2":"3"==this.$store.state.webtype?t.webType="3":"4"==this.$store.state.webtype?t.webType="4":"5"==this.$store.state.webtype&&(t.webType="5"),t.cityName=this.$store.state.indexData.city?this.$store.state.indexData.city:"",t.provinceName=this.$store.state.indexData.province?this.$store.state.indexData.province:"",t.accessType=2,t.osType=3,t.appType=1,this.$STLoading.open(),this.$http.post("/app/json/app_vue_page/vueGetPageData",t).then((function(t){var a=t.data;if(e.$STLoading.close(),0==a.status){var n=a.data;if(!n.pageDataJson)return void e.$toast("布局获取失败");var o=JSON.parse(n.pageDataJson);o.pgCode=n.pgCode,e.adPageKey="",e.pageIsShow=!1,e.$nextTick((function(){e.pageIsShow=!0,e.adPageKey="AD_Key_Common_"+n.pgCode})),e.pageData=o}else e.$Toast(a.info)})).catch((function(t){e.$Toast("网络加载较慢，请稍后重试!"),e.$STLoading.close()}))}},created:function(){this.getPageData()}},o=(a("GbMU"),a("KHd+")),i=Object(o.a)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.pageIsShow?a("div",{staticClass:"index"},[a("PreviewComponent",{ref:"activity_preview",attrs:{pageData:e.pageData,barHeight:e.getTopHeight},on:{getPageData:e.getPageData}}),e._v(" "),e.adPageKey&&"4"==e.$store.state.deployType?a("AdPage",{attrs:{pageAdKeywords:e.adPageKey}}):e._e()],1):e._e()}),[],!1,null,"26e337a1",null);t.default=i.exports},chc6:function(e,t,a){"use strict";var n=a("2nGb"),o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=document.getElementsByTagName("head")[0],r=function(){function e(t,a){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.url=t||"",this.funcName=a;var o=document.createElement("script");t+=(~t.indexOf("?")?"&":"?")+"callback="+a,o.src=t,o.type="text/javascript",this.myTimer=setTimeout((function(){n.callCallback({status:1,info:"网络加载较慢！"}),n.clearup()}),1e4),window[a]=function(e){n.callCallback({status:0,data:e,info:""}),n.clearup()},o.onerror=function(){n.callCallback({status:1,info:"网络加载较慢！"}),n.clearup()},this.scriptNode=o,s.appendChild(this.scriptNode)}return i(e,[{key:"then",value:function(e){this.callbackFunc=e}},{key:"callCallback",value:function(e){var t=this;setTimeout((function(){t.callbackFunc(e)}),0)}},{key:"clearup",value:function(){this.myTimer&&clearTimeout(this.myTimer),this.myTimer=null,this.scriptNode.src="",s.removeChild(this.scriptNode)}}]),e}(),c={request:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(!e)throw new Error("url 不能为空");return 0!=e.indexOf("http")&&(e=n.a.baseURL+e),a.forEach((function(t){if("object"===(void 0===t?"undefined":o(t)))for(var a in t)e+=~e.indexOf("?")?"&":"?",e+=a+"="+t[a]})),new r(e,t)},cancelAll:function(){}};t.a=c},g2bL:function(e,t,a){"use strict";var n=a("AXlJ");a.n(n).a},mbR2:function(e,t,a){"use strict";var n=a("chc6"),o={name:"adpage",components:{ImageAd:function(){return a.e(772).then(a.bind(null,"BAEh"))}},props:["pageAdKeywords","pgCode"],data:function(){return{pageData:null,show:!1}},computed:{showAdpage:function(){var e=this.show&&null!=this.pageData&&this.pageData.adData&&""!=this.pageData.adData;return e&&null==this.pageData.adData.rows.find((function(e){return 0!=e.canSee}))&&(e=!1),e}},methods:{adPageIsShow:function(e){var t=window.localStorage.getItem(this.pageAdKeywords+e);t?(new Date).getTime()>t&&(this.show=!0):this.show=!0},adPageHide:function(){this.show=!1},getMyPageData:function(){var e=this,t="vuePageData_",a=[];a.push({appType:1}),a.push({accessType:2}),this.pgCode&&""!=this.pgCode?(t+=this.pgCode,a.push({pgCode:this.pgCode})):(a.push({pageAdKeywords:this.pageAdKeywords}),t+=this.$util.md5String(this.pageAdKeywords)),n.a.request("/appcontent/js/app_vue_page/vuePageData.js",t,a).then((function(t){if(0==t.status){var a=t.data.pageData;if(!a.pageDataJson)return;e.pageData=JSON.parse(a.pageDataJson);var n=t.data.id||"",o=e.pageData.adData;if(e.adPageIsShow(n),o&&e.show)if("1"==o.showFrequency){var i=new Date;i=i.setDate(i.getDate()+1),i=new Date(i).setHours(2,0,0,0);var s=new Date(i).getTime();window.localStorage.setItem(e.pageAdKeywords+n,s)}else if("2"==o.showFrequency){var r=new Date;r=r.setDate(r.getDate()+999);var c=new Date(r).getTime();window.localStorage.setItem(e.pageAdKeywords+n,c)}else if("3"==o.showFrequency){var p=(new Date).getTime()+36e3;window.localStorage.setItem(e.pageAdKeywords+n,p)}else if("4"==o.showFrequency){var u=(new Date).getTime()+0;window.localStorage.setItem(e.pageAdKeywords+n,u)}else{var l=(new Date).getTime()+36e5;window.localStorage.setItem(e.pageAdKeywords+n,l)}}}))}},created:function(){this.getMyPageData()}},i=(a("g2bL"),a("KHd+")),s=Object(i.a)(o,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.showAdpage?a("div",{staticClass:"adpage",on:{click:function(t){return t.stopPropagation(),e.adPageHide(t)}}},[a("div",[a("ImageAd",{attrs:{usePorpData:!0,propData:e.pageData},on:{closeEvent:e.adPageHide}})],1)]):e._e()}),[],!1,null,"52850f74",null);t.a=s.exports},rNgp:function(e,t,a){}}]);