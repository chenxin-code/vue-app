(window.webpackJsonp=window.webpackJsonp||[]).push([[964],{K6Kg:function(t,e,r){"use strict";r.r(e);var s={name:"",components:{list:r("CuaN").a},data:function(){return{paramsNew:{},loading:!1,hasMore:!0,array:[],screenArr:[{name:"综合",type:0,default:0,allScreen:!1,typeText:"sortType",sort:"sortProp",classStaId:"classStaId",classStaLevel:"classStaLevel",priceLow:"priceLow",priceHigh:"priceHigh"},{name:"销量",type:2},{name:"价格",type:1}],params:{page:1,rows:"",groupFlag:this.$route.query.groupFlag,pickUpId:this.$store.state.mall2.zitiAddress.id,storeCode:this.$route.query.storeCode||"",deliverType:this.$store.state.mall2.staticDeliverType,sortType:"asc",sortProp:"0"},styleObj:{listStyle:!1,rowStyle:2,isObject:!1,isHeight:"96",url:"/app/json/app_distribution_order/getHotSaleList"},addToCartItem:void 0,showProductImg:!1,showAddCartAn:!1,addCartBtnAn:!1}},created:function(){},methods:{backEvent:function(){this.$router.go(-1)},productEvent:function(t){var e="/micro_sho/shareDetail/"+this.$util.getDataString();2==t.productType&&(e="/micro_sho/shareTicketDetail"),this.$route.query.groupFlag&&(e="/micro_sho/sharebuyingDetail/"+this.$util.getDataString()),this.$router.push({path:e,query:{id:t.skuId,skuId:t.skuId,lastPath:this.$route.path,deliveryType:this.$store.state.mall2.staticDeliverType,productType:t.productType,profit:t.profit,listData:t,microStoreCode:this.$route.query.storeCode,proSkuDistributionId:t.proSkuDistributionId}})},addShopping:function(t){var e=this;if(this.$route.query.groupFlag)if(0==this.$store.state.microSho.groupbuyingCarts.length)this.$store.state.microSho.groupbuyingCarts.push({skuId:t.skuId,storeOuCode:t.storeOuCode,deliverType:t.deliverType,proSkuDistributionId:t.proSkuDistributionId,number:t.minPurNumber,checked:1,selfActivityId:-2});else{var r=null;this.$store.state.microSho.groupbuyingCarts.forEach((function(s,o){if(t.skuId==s.skuId)return e.$store.state.microSho.groupbuyingCarts[o].number+=1,void(r=!0)})),r||this.$store.state.microSho.groupbuyingCarts.push({skuId:t.skuId,storeOuCode:t.storeOuCode,deliverType:t.deliverType,proSkuDistributionId:t.proSkuDistributionId,number:t.minPurNumber,checked:1,selfActivityId:-2})}else if(0==this.$store.state.microSho.carts.length)this.$store.state.microSho.carts.push({skuId:t.skuId,storeOuCode:t.storeOuCode,deliverType:t.deliverType,proSkuDistributionId:t.proSkuDistributionId,number:t.saleNumBegin,checked:1,selfActivityId:-2});else{var s=null;this.$store.state.microSho.carts.forEach((function(r,o){if(t.skuId==r.skuId)return e.$store.state.microSho.carts[o].number+=1,void(s=!0)})),s||this.$store.state.microSho.carts.push({skuId:t.skuId,storeOuCode:t.storeOuCode,deliverType:t.deliverType,proSkuDistributionId:t.proSkuDistributionId,number:t.saleNumBegin,checked:1,selfActivityId:-2})}this.addToCartItem=t,this.$nextTick((function(){e.showProductImg=!0}))},productImgAfterEnter:function(t){this.showProductImg=!1,this.showAddCartAn=!0},beforeEnter:function(t){t.style.transform="translate3d(0,0,0)",t.children[0].style.opacity=0},afterEnter:function(t){var e=this,r=t.getBoundingClientRect().bottom,s=t.children[0].getBoundingClientRect().left,o=this.$refs.gouwuche.getBoundingClientRect().left,i=this.$refs.gouwuche.getBoundingClientRect().top;t.style.transform="translate3d(0,"+(i-r)+"px,0)",t.style.transition="transform .55s cubic-bezier(0.3, -0.25, 0.7, -0.15)",t.children[0].style.transform="translate3d("+(o-s)+"px,0,0)",t.children[0].style.transition="transform .55s linear",t.children[0].style.opacity=1,this.showAddCartAn=!1,t.addEventListener("transitionend",(function(){e.addCartBtnAn=!0,e.$refs.gouwuche.addEventListener("webkitAnimationEnd",(function(){e.addCartBtnAn=!1}))}))},goCart:function(){var t="/micro_sho/cart";this.$route.query.groupFlag&&(t="/micro_sho/buyingCart"),this.$router.push({path:t,query:{microStoreCode:this.$route.query.storeCode}})}}},o=(r("yTkm"),r("KHd+")),i=Object(o.a)(s,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"list"},[r("nav-top",{on:{backEvent:t.backEvent}}),t._v(" "),r("nav-content",[r("list",{class:{"list-shadow":2!=t.$store.state.webtype},attrs:{params:t.params,styleObj:t.styleObj,screenArr:t.screenArr},on:{productEvent:t.productEvent,addShopping:t.addShopping}}),t._v(" "),r("div",{ref:"gouwuche",staticClass:"cart-div theme_bg_dark_d",class:{gouwucheani:t.addCartBtnAn},on:{click:function(e){return e.stopPropagation(),t.goCart(e)}}},[t.$store.state.microSho.carts.length+t.$store.state.microSho.groupbuyingCarts.length>0?r("p",{staticClass:"cart-num theme_bg_red theme_font_white"},[t._v(t._s(t.$store.state.microSho.carts.length+t.$store.state.microSho.groupbuyingCarts.length))]):t._e(),t._v(" "),r("i",{staticClass:"iconfont mall-gouwuche theme_font_white"})]),t._v(" "),r("transition",{attrs:{name:"bounce"},on:{afterEnter:t.productImgAfterEnter}},[t.showProductImg&&t.addToCartItem?r("img",{staticClass:"productImg",attrs:{src:this.addToCartItem.picMainUrl||this.addToCartItem.mainMobilePicUrl,alt:""}}):t._e()]),t._v(" "),r("transition",{on:{"after-enter":t.afterEnter,"before-enter":t.beforeEnter}},[t.showAddCartAn&&t.addToCartItem?r("div",{staticClass:"anProductImg"},[r("img",{attrs:{src:this.addToCartItem.picMainUrl||this.addToCartItem.mainMobilePicUrl,alt:""}})]):t._e()])],1)],1)}),[],!1,null,"551ebb24",null);e.default=i.exports},kpUV:function(t,e,r){},yTkm:function(t,e,r){"use strict";var s=r("kpUV");r.n(s).a}}]);