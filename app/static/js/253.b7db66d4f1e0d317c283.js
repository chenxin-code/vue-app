(window.webpackJsonp=window.webpackJsonp||[]).push([[253,52],{AbvJ:function(t,e,s){},CqDG:function(t,e,s){},SEbP:function(t,e,s){"use strict";var i=s("CqDG");s.n(i).a},Wr4Z:function(t,e,s){"use strict";var i=s("AbvJ");s.n(i).a},afTz:function(t,e,s){"use strict";s.r(e);var i=s("nV03"),a={name:"countdown",props:["endTime","type","hiddenDay","callback"],components:{},data:function(){return{d:"0",h:"00",m:"00",s:"00",trigger:!0}},methods:{parsingTime:function(){var t=this;if(this.endTime){var e=this.$store.state.severTime.currentTime,s=this.endTime-e;this.d=0,this.h="0",this.m="0",this.s="0",s<0?this.trigger&&(this.trigger=!1,setTimeout((function(){t.$emit("timeOut")}),1e3)):(this.trigger=!0,s>59?(this.s=s%60,(s=parseInt(s/60))>59?(this.m=s%60,(s=parseInt(s/60))>23?(this.h=parseInt(s%24),s=parseInt(s/24),this.d=s):this.h=s):this.m=s):s>=0&&(this.s=s),this.h<10&&(this.h="0"+this.h),this.m<10&&(this.m="0"+this.m),this.s<10&&(this.s="0"+this.s))}}},created:function(){this.parsingTime(),i.a.heartbeat()},destroyed:function(){i.a.removeHeartbeat()},watch:{"$store.state.severTime.currentTime":function(){this.parsingTime()}}},n=(s("Wr4Z"),s("KHd+")),r=Object(n.a)(a,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"countdown",class:{quan:"theme_bg_quan"==t.type}},[0==t.d||t.hiddenDay?t._e():s("div",{staticClass:"red-div theme_font_white",class:[t.type||"theme_bg_red"]},[t._v(t._s(t.d))]),t._v(" "),0==t.d||t.hiddenDay?t._e():s("span",[t._v("天")]),t._v(" "),s("div",{staticClass:"red-div theme_font_white",class:[t.type||"theme_bg_red"]},[t._v(t._s(t.h))]),t._v("\n  :\n  "),s("div",{staticClass:"red-div theme_font_white",class:[t.type||"theme_bg_red"]},[t._v(t._s(t.m))]),t._v("\n  :\n  "),s("div",{staticClass:"red-div theme_font_white",class:[t.type||"theme_bg_red"]},[t._v(t._s(t.s))])])}),[],!1,null,"403fc346",null);e.default=r.exports},nV03:function(t,e,s){"use strict";var i=s("ZToj"),a=void 0,n=0,r={heartbeat:function(){n++,a||(a=window.setInterval((function(){var t=parseInt((new Date).getTime()/1e3);i.a.state.severTime.currentTime=t+i.a.state.severTime.jetlag}),1e3))},removeHeartbeat:function(){n>0&&n--,0==n&&(window.clearInterval(a),a=null)}};e.a=r},qoob:function(t,e,s){"use strict";s.r(e),s("EHV1");var i,a=s("9gBv"),n=s("afTz");function r(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var o={data:function(){return{complete:!1,success:!1,show:!1,showPivot:!1,shareDetail:{},percentage:0}},mounted:function(){this.queryAssembleActivityDetail()},methods:{addAssembleUser:function(){var t=this;this.$request.post("/app/json/app_assemble_activity/addAssembleUser",{assembleId:this.shareDetail.id}).then((function(e){0==e.status?(t.queryAssembleActivityDetail(),t.$toast("参团成功"),t.success=!0):t.$Toast(e.info?e.info:"参团失败")}))},queryAssembleActivityDetail:function(){var t=this;this.$request.post("/app/json/app_assemble_activity/queryAssembleActivityDetail",{id:this.$route.query.id}).then((function(e){0==e.status?(t.shareDetail=e.data,t.dealState(),t.percentage=t.calculateProgress(),t.complete=!0):t.$Toast(e.info?e.info:"参团失败")}))},dealState:function(){new Date(this.$store.state.severTime.currentTime)>new Date(this.shareDetail.endTime)&&(this.show=!0)},calculateProgress:function(){if(this.shareDetail.groupUpLimit){var t=this.shareDetail.joinNumber/this.shareDetail.groupUpLimit*100;return Number(parseInt(t))}},openDetails:function(){this.$router.push({path:"/oil-group-details",query:{id:this.$route.query.id}})}},components:(i={},r(i,a.a.name,a.a),r(i,"countdown",n.default),i)},c=(s("SEbP"),s("KHd+")),l=Object(c.a)(o,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"oil-group-share"},[s("nav-top",{on:{backEvent:function(e){return t.$router.go(-1)}}}),t._v(" "),t.complete?s("nav-content",{staticClass:"oil-group-share-container"},[s("div",{staticClass:"share"},[s("div",{staticClass:"group-details"},[s("div",{staticClass:"img-text"},[s("div",{staticClass:"img"},[s("img",{attrs:{src:t.shareDetail.image,alt:""}})]),t._v(" "),s("div",{staticClass:"text"},[s("div",{staticClass:"name"},[t._v(t._s(t.shareDetail.assembleName))]),t._v(" "),s("div",{staticClass:"tips"},[s("div",{staticClass:"left"},[t._v("拼团中("+t._s(1==t.shareDetail.assembleState?"未成团":"已成团")+")")])])])]),t._v(" "),s("div",{staticClass:"details"},[s("div",{staticClass:"main"},[s("div",{staticClass:"info"},[s("div",{staticClass:"progress"},[s("van-progress",{attrs:{color:t.shareDetail.joinNumber<t.shareDetail.groupNumber?"#F80F16":"#009800",percentage:t.percentage,"show-pivot":t.showPivot}})],1),t._v(" "),t.shareDetail.joinNumber<t.shareDetail.groupNumber?s("div",{staticClass:"tips"},[t._v("当前参团人数为"),s("span",{staticClass:"num"},[t._v(t._s(t.shareDetail.joinNumber))]),t._v("人，再有"),s("span",{staticClass:"num"},[t._v(t._s((t.shareDetail.groupNumber-t.shareDetail.joinNumber).toFixed(0)))]),t._v("人参加才可拼团成功")]):s("div",{staticClass:"tips"},[t._v("当前参团人数为"),s("span",{staticClass:"num"},[t._v(t._s(t.shareDetail.joinNumber))]),t._v("人，只剩"),s("span",{staticClass:"num"},[t._v(t._s((t.shareDetail.groupUpLimit-t.shareDetail.joinNumber).toFixed(0)))]),t._v("个参团名额")])])])])]),t._v(" "),s("div",{staticClass:"group-details"},[s("div",{staticClass:"title"},[t._v("参团优惠规则")]),t._v(" "),s("div",{staticClass:"content",domProps:{innerHTML:t._s(t.shareDetail.activityDesc)}})]),t._v(" "),t.success?s("div",{staticClass:"tips"},[t._v("加入成功！点击"),s("span",{staticClass:"special",on:{click:t.openDetails}},[t._v("前速查看")]),t._v("可前往查看拼团详情")]):t._e(),t._v(" "),s("div",{staticClass:"btn-show"},[s("div",{staticClass:"time"},[t._v("\n          还剩："),s("countdown",{attrs:{endTime:t.$util.getDateFromString(this.shareDetail.endTime),type:"theme_bg_white"}})],1),t._v(" "),s("div",{staticClass:"btn",on:{click:t.addAssembleUser}},[t._v("接受邀请")])])]),t._v(" "),s("van-dialog",{attrs:{confirmButtonText:"取消"},on:{confirm:function(e){t.show=!1}},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[s("div",{staticClass:"pop-tips"},[t._v("邀请链接已失效")])])],1):t._e()],1)}),[],!1,null,"07690840",null);e.default=l.exports}}]);