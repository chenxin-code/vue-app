(window.webpackJsonp=window.webpackJsonp||[]).push([[503],{"8JTH":function(t,a,e){"use strict";a.a={data:function(){return{lazyLoadedData:!1}},props:["isScrollPage","scrollSite"],watch:{scrollSite:function(t,a){this.lazyLoadedData||t+1.3*document.documentElement.clientHeight>this.$el.offsetTop&&(this.lazyLoadedData=!0,this.lazyLoadPageData&&this.lazyLoadPageData())}},mounted:function(){if(this.isScrollPage){if(this.lazyLoadedData)return;1.3*document.documentElement.clientHeight>this.$el.offsetTop&&(this.lazyLoadedData=!0,this.lazyLoadPageData&&this.lazyLoadPageData())}else this.lazyLoadPageData&&this.lazyLoadPageData()}}},NJ4M:function(t,a,e){"use strict";var s=e("NW4m");e.n(s).a},NW4m:function(t,a,e){},cuCu:function(t,a,e){"use strict";e.r(a);var s=e("KJ3S"),i=e("8JTH"),n=e("A8ay"),o={name:"news",components:{},props:["myIndex","usePorpData","propData"],mixins:[i.a,n.a],data:function(){return{listShowDatas:"",showIndex:1,myTimeout:null,runTime:3,show:!1}},watch:{"moduleData.styleType":function(t){this._getMyData()}},computed:{pageData:function(){return 1==this.usePorpData?this.propData:this.$store.state.pageData},moduleData:function(){return this.pageData.moduleList[this.myIndex].data}},methods:{toNews:function(t){this.$router.push({path:"/newsdetail",query:{id:t.id}})},hotEvent:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.actionBtnEvent(this.pageData.pgCode,this.moduleData.idCode+t)},modeleReshow:function(){this._getMyData()},getBgDivStyle:function(){var t="",a=this.moduleData.bgImgUrl;""!=a&&(t+="background: url('"+a+"') no-repeat center center / 100% 100%;");var e=this.moduleData.bgColor;return""!=e&&(t+="background-color: "+e+";"),t},getSidesStyle:function(){var t="",a=this.moduleData.sidesMargin;return a>0&&(t+="margin-left: "+a+"%; margin-right: "+a+"%;"),t},runEvent:function(){var t=this;this.myTimeout=setTimeout((function(){t.showIndex+=1,t.showIndex>=t.listShowDatas.length&&(t.showIndex=0),t.runEvent()}),4e3)},getNewsDataByStyle_2:function(){var t,a=this;return(t=regeneratorRuntime.mark((function t(){var e,s,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.listShowDatas=[],e=a.$market.apiBaseURL()+"/app/json/news/getPageNewsList?state=1&isEnable=1",t.next=4,a.$http.get(e);case 4:s=t.sent,0==(i=s.data).status&&(a.listShowDatas=i.data||[]);case 7:case"end":return t.stop()}}),t,a)})),function(){var a=t.apply(this,arguments);return new Promise((function(t,e){return function s(i,n){try{var o=a[i](n),r=o.value}catch(t){return void e(t)}if(!o.done)return Promise.resolve(r).then((function(t){s("next",t)}),(function(t){s("throw",t)}));t(r)}("next")}))})()},_getMyData:function(){var t=this;if(2!=this.moduleData.styleType){var a=this.$market.apiBaseURL()+"/app/json/news/defaultList",e={token:this.$store.state.login.token,provinceName:this.$store.state.indexData.province,cityName:this.$store.state.indexData.city};this.listShowDatas=[],this.myTimeout&&(clearTimeout(this.myTimeout),this.myTimeout=null),this.$http.post(a,e).then((function(a){var e=a.data;0==e.status&&(2==t.moduleData.runType?(t.listShowDatas=e.data,1==t.listShowDatas.length&&(t.listShowDatas=t.listShowDatas.concat(t.listShowDatas)),t.showIndex=0,t.runEvent()):(t.listShowDatas=e.data,t.listShowDatas.length>0&&t.$nextTick((function(){setTimeout((function(){var a=t.$refs.runDiv.clientWidth;t.runTime=Math.floor(a/50),t.runTime<3*t.listShowDatas.length&&(t.runTime=3*t.listShowDatas.length)}),300)}))))}),(function(t){}))}else this.getNewsDataByStyle_2()},lazyLoadPageData:function(){this._getMyData()}},destroyed:function(){this.myTimeout&&(clearTimeout(this.myTimeout),this.myTimeout=null)},created:function(){var t=this;s.a.$on("refreshNews",(function(){t._getMyData()}))}},r=(e("NJ4M"),e("KHd+")),l=Object(r.a)(o,(function(){var t=this,a=t.$createElement,e=t._self._c||a;return t.$market.moduleIsShow(t.moduleData)?e("div",{staticClass:"bg-div",style:t.getBgDivStyle()},[2==t.moduleData.styleType?e("div",{staticClass:"news-group"},[t._l(t.listShowDatas,(function(a){return e("div",{staticClass:"news-list",on:{click:function(e){return t.toNews(a)}}},[e("div",{staticClass:"image"},[e("img",{attrs:{src:a.picTitle,alt:""}})]),t._v(" "),e("div",{staticClass:"text"},[t._v(t._s(a.title))])])})),t._v(" "),0==t.listShowDatas.length?e("div",{staticStyle:{"text-align":"center",padding:"10px 0"}},[t._v("暂无任何数据")]):t._e()],2):t.listShowDatas.length>0||1!=t.usePorpData?e("div",{staticClass:"news",style:t.getSidesStyle()},[e("div",{staticClass:"title-img"},[e("img",{attrs:{src:t.moduleData.titleImg}})]),t._v(" "),2==t.moduleData.runType?e("div",{staticClass:"news-div",class:t.hotareaClass({idCode:t.moduleData.idCode+"toNews"}),on:{click:function(a){t.hotEvent("toNews"),t.$market.toNews()}}},[e("div",{ref:"runDiv",staticClass:"run-div-1"},[e("transition-group",{attrs:{name:"runnews"}},t._l(t.listShowDatas,(function(a,s){return e("div",{directives:[{name:"show",rawName:"v-show",value:t.showIndex==s,expression:"showIndex == idx"}],key:"runnews_"+s,staticClass:"news-item"},[e("div",{staticClass:"category"},[t._v(t._s(a.categoryName))]),t._v(" "),e("div",{staticClass:"title"},[t._v(t._s(a.title))])])})),0)],1)]):e("div",{staticClass:"news-div",class:t.hotareaClass({idCode:t.moduleData.idCode+"toNews"}),on:{click:function(a){t.hotEvent("toNews"),t.$market.toNews()}}},[e("div",{key:1,ref:"runDiv",staticClass:"run-div",style:{animationDuration:t.runTime+"s"}},t._l(t.listShowDatas,(function(a,s){return e("div",{key:s,staticClass:"news-item"},[e("div",{staticClass:"category"},[t._v(t._s(a.categoryName))]),t._v(" "),e("div",{staticClass:"title"},[t._v(t._s(a.title))])])})),0),t._v(" "),e("div",{key:2,staticClass:"run-div",style:{animationDuration:t.runTime+"s"}},t._l(t.listShowDatas,(function(a,s){return e("div",{key:s,staticClass:"news-item"},[e("div",{staticClass:"category"},[t._v(t._s(a.categoryName))]),t._v(" "),e("div",{staticClass:"title"},[t._v(t._s(a.title))])])})),0)])]):t._e()]):t._e()}),[],!1,null,"155e3d63",null);a.default=l.exports}}]);