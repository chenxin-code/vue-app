(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5caa0ffd"],{"086f":function(t,n,o){"use strict";var e=o("d055"),a=o.n(e),i=function(t){return function(){var n=Array.prototype.slice.call(arguments);return new Promise((function(o,e){n.push((function(t,n){t?e(t):o(n)})),t.apply(null,n)}))}};function s(t){return"function"===typeof t}function r(t){return"string"===typeof t}var c=i(a.a.toCanvas),l=function(t){var n=t.canvas,o=t.content,e=t.width,a=void 0===e?0:e,i=t.nodeQrCodeOptions,s=void 0===i?{}:i;return s.errorCorrectionLevel=s.errorCorrectionLevel||u(o),d(o,s).then((function(t){return s.scale=0===a?void 0:a/t*4,c(n,o,s)}))},d=function(t,n){var o=document.createElement("canvas");return c(o,t,n).then((function(){return o.width}))},u=function(t){return t.length>36?"M":t.length>16?"Q":"H"},h=function(t){var n=t.canvas,o=(t.content,t.logo);if(o){var e=n.width,a=o.logoSize,i=void 0===a?.15:a,s=o.borderColor,r=o.bgColor,c=void 0===r?s||"#ffffff":r,l=o.borderSize,d=void 0===l?.05:l,u=o.crossOrigin,h=o.borderRadius,g=void 0===h?8:h,v=o.logoRadius,m=void 0===v?0:v,p="string"===typeof o?o:o.src,w=e*i,C=e*(1-i)/2,b=e*(i+d),$=e*(1-i-d)/2,y=n.getContext("2d");f(y)($,$,b,b,g),y.fillStyle=c,y.fill();var x=new Image;(u||m)&&x.setAttribute("crossOrigin",u||"anonymous"),x.src=p;var T=function(t){y.drawImage(t,C,C,w,w)},_=function(t){var n=document.createElement("canvas");n.width=C+w,n.height=C+w,n.getContext("2d").drawImage(t,C,C,w,w),f(y)(C,C,w,w,m),y.fillStyle=y.createPattern(n,"no-repeat"),y.fill()};return new Promise((function(t,n){x.onload=function(){m?_(x):T(x),t()}}))}},f=function(t){return function(n,o,e,a,i){var s=Math.min(e,a);return i>s/2&&(i=s/2),t.beginPath(),t.moveTo(n+i,o),t.arcTo(n+e,o,n+e,o+a,i),t.arcTo(n+e,o+a,n,o+a,i),t.arcTo(n,o+a,n,o,i),t.arcTo(n,o,n+e,o,i),t.closePath(),t}},g=function(t){return l(t).then((function(){return t})).then(h)},v=function(t){var n=document.createElement("canvas");return t.canvas=n,t.logo&&(r(t.logo)&&(t.logo={src:t.logo}),t.logo.crossOrigin="Anonymous"),g(t).then((function(){var o=t.image,e=void 0===o?new Image:o,a=t.downloadName,i=void 0===a?"qr-code":a,r=t.download;if(e.src=n.toDataURL(),!0===r||s(r)){r=!0===r?function(t){return t()}:r;var c=function(){m(e,i)};r(c)}}))},m=function(t,n){var o=t.src,e=document.createElement("a");e.download=n,e.href=o,document.body.appendChild(e),e.click(),document.body.removeChild(e)},p={toCanvas:g,toImage:v};n["a"]=p},"0adc":function(t,n,o){"use strict";var e=o("653a");function a(t){var n=void 0;if("海南省"==e["a"].state.globalConfig.province&&(n="hainan"),n){var o="static/enterpriseImg/"+n+"/"+t;return o}return null}n["a"]=a},5164:function(t,n,o){"use strict";o("804e")},"804e":function(t,n,o){},aa7b:function(t,n,o){t.exports=o.p+"static/images/5e2f4560d3cac91765efe62b51865968.png"},cf48:function(t,n,o){"use strict";o.r(n);var e=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"downloadshare login2",style:{backgroundImage:"url("+t.bgImg+")"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:!t.isWx&&!t.hideTop,expression:"!isWx && !hideTop"}],staticClass:"qrcode-top ",style:{height:this.$store.state.barHeight+this.$market.getNavHeight()+"px"},on:{backEvent:t.backEvent}},[e("div",{staticClass:"navcontent",style:{top:this.$store.state.barHeight+"px",height:this.$market.getNavHeight()+"px","line-height":this.$market.getNavHeight()+"px"}},[e("div",{staticClass:"title-div theme_font_white"},[t._v(t._s(t.$t("downloadshareTitle")))]),e("div",{staticClass:"nav-back-btn",on:{click:t.backEvent}},[e("i",{staticClass:"iconfont mall-fanhui theme_font_white",staticStyle:{"margin-left":"10px","font-size":"20px"}})]),e("span",{staticClass:"share-btn",on:{click:t.shareClick}},[e("i",{staticClass:"iconfont mall-fenxiang"})])])]),e("nav-content",[e("div",{staticClass:"scroll-div"},[t.showDownloadTip?e("div",{staticClass:"tip"},[t._v("可点击右上角，选择在浏览器打开")]):t._e(),e("div",{staticClass:"show-content",class:{"wx-height":t.isWx}},[e("div",{staticClass:"show-img"},[e("img",{attrs:{src:t.$store.state.globalConfig.downloadImgUrl,alt:""}})]),e("div",{staticClass:"qr-code"},[e("div",{staticClass:"img-content"},[e("canvas",{staticClass:"img qr-code-content",attrs:{id:"downloadUrl"}})]),e("p",{staticClass:"theme_font_white desc"},[t._v(t._s(t.$t("downloadshareLang.downloadTip")))]),e("p",{staticClass:"theme_font_white desc"},[t._v(' "'+t._s(t.$store.state.globalConfig.downloadName)+'"APP ')]),t.showDownloadBtn?e("div",{staticClass:"download-btn",on:{click:function(n){return n.stopPropagation(),t.downloadHandler.apply(null,arguments)}}},[e("img",{staticClass:"img",attrs:{src:o("aa7b"),alt:""}})]):t._e()])])])])],1)},a=[],i=(o("e17f"),o("2241")),s=o("76a0"),r=o("086f"),c=o("0adc"),l=(o("da71"),{name:"index",components:{Toast:s["Toast"]},data:function(){return{hideTop:!1,downloadUrl:""}},computed:{isWx:function(){return 2==this.$store.state.webtype},bgImg:function(){return this.$store.state.globalConfig.downloadBgImgUrl},showDownloadBtn:function(){return 1!=this.$store.state.webtype},showDownloadTip:function(){return 2==this.$store.state.webtype||this.$util.isQQ()}},methods:{backEvent:function(){this.$router.go(-1)},getData:function(){var t=this;this.$Loading.open();var n="/app/json/home/getVersion",o={};o.appSysType=this.$util.isIos()?1:2,this.$http.post(n,o).then((function(n){t.$Loading.close();var o=n.data;0===o.status?t.downloadUrl=o.data.downloadUrl||"":t.$Toast(o.info)}),(function(n){t.$Loading.close(),t.$Toast("系统运行过程中遇到问题，请稍候再试")}))},shareClick:function(){var t={};t.title=this.$store.state.globalConfig.shareTitle||"",t.sharetext=this.$store.state.globalConfig.shareDesc||"",t.imageurl=this.$store.state.globalConfig.downloadImgUrl||"",t.detailurl=window.location.href,this.$bridgefunc.share(t)},downloadHandler:function(){this.downloadUrl?window.location.href=this.downloadUrl:this.$Toast("下载地址错误！")}},mounted:function(){this.isWx&&i["a"].confirm({title:"下载提示",message:"请在默认浏览器中打开",showCancelButton:!1,confirmButtonText:"知道了"}),this.getData();var t={canvas:document.getElementById("downloadUrl"),content:location.href,nodeQrCodeOptions:{margin:0}},n=Object(c["a"])("qr-logo.png");n&&(t.logo={src:n}),r["a"].toCanvas(t)},created:function(){"1"==this.$route.query.fromCoupon&&(this.hideTop=!0)}}),d=l,u=(o("5164"),o("0c7c")),h=Object(u["a"])(d,e,a,!1,null,"f0079a4c",null);n["default"]=h.exports}}]);