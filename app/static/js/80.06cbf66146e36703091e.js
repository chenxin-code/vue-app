(window.webpackJsonp=window.webpackJsonp||[]).push([[80,52,61],{"0Q3P":function(t,e,i){"use strict";var s=i("TP/v");i.n(s).a},"22sX":function(t,e,i){"use strict";var s=i("oYWQ");i.n(s).a},"43od":function(t,e,i){"use strict";var s=i("myR9");i.n(s).a},"4cMt":function(t,e,i){},5:function(t,e){},"5CqX":function(t,e,i){"use strict";i("KD6U");var s=i("WQzh"),a={name:"card-list",props:{listData:Array,cartProducts:Array,isOpen:{type:Boolean,default:!0}},components:{PriceOrder:s.a},data:function(){return{leftArray:[],rightArray:[],dataArray:[]}},computed:{showSales:function(){return 1!=this.$store.state.globalConfig.app_prolist_sales_hide},showComments:function(){return 1!=this.$store.state.globalConfig.app_prolist_comments_hide}},methods:{getNumber:function(t){if(!this.cartProducts||0==this.cartProducts.length)return 0;for(var e=0;e<this.cartProducts.length;e++){var i=this.cartProducts[e];if(i.skuId==t.skuId)return i.number}},getSkuNameStr:function(t){var e=t.skuName;return"2"==t.interfaceType?e='<span style="padding: 1px 3px;font-size: 8px;background-color: #ff0000;border-radius: 2px;color: #ffffff;margin-right: 6px;">'+(this.$store.state.globalConfig.interface_type_name_1||"京东")+"</span>"+e:"1"==t.interfaceType&&(e='<span style="padding: 1px 3px;font-size: 8px;background-color: #ff0000;border-radius: 2px;color: #ffffff;margin-right: 6px;">'+(this.$store.state.globalConfig.interface_type_name_2||"有路")+"</span>"+e),e},dataProcessing:function(t){var e=this.$mallCommon.priceFromItem(t);t.dpedData=e;var i=[];if(t.activityTypes){for(var s=0;s<t.activityTypes.length;s++){var a=t.activityTypes[s],o=t.activityTags.length>s?t.activityTags[s]:"";~i.indexOf(a)||-1!=o.indexOf("不显示")||i.push(a)}t.showActivities=i}},productEvent:function(t){this.$emit("productEvent",t)},addToCart:function(t){""!=t.stockNum&&"0"!=t.stockNum&&null!=t.stockNum?this.$emit("addToCart",t):this.$Toast("商品缺货！")},addToWishList:function(t,e){var i=this;this.$Loading.open(),this.$http.post("/app/json/wish_order/addWishOrder",{skuId:t.skuId,storeOuCode:t.storeOuCode}).then((function(t){var s=t.data;0==s.status?(e.target.classList.toggle("is-add-wish"),1==s.data?i.$Toast("已将宝贝添加至心愿单啦~"):i.$Toast("已将宝贝移除心愿单~")):i.$Toast(s.info),i.$Loading.close()})).catch((function(t){i.$Toast(t),i.$Loading.close()}))},initData:function(){var t=[],e=[];this.dataArray=[];for(var i=this.$store.state.globalConfig.product_list_type,s=0;s<this.listData.length;s++){var a=this.listData[s];this.dataProcessing(a),"1"==i?this.dataArray.push(a):s%2?t.push(a):e.push(a)}this.rightArray=t,this.leftArray=e}},watch:{listData:{handler:function(){this.initData()},deep:!0}},created:function(){this.$store.state.globalConfig.product_big_corner="1",this.initData()}},o=(i("43od"),i("KHd+")),n=Object(o.a)(a,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card-list"},["1"==t.$store.state.globalConfig.product_list_type?s("div",[s("div",{staticClass:"equal-div"},t._l(t.dataArray,(function(e,a){return s("div",{staticClass:"card",class:{"no-stock":(""==e.stockNum||"0"==e.stockNum)&&"1"==t.$store.state.globalConfig.showNoStockCover},on:{click:function(i){return t.productEvent(e)}}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.isOpen||a<1,expression:"isOpen || index < 1"}],staticStyle:{height:"100%"}},[s("div",{staticClass:"card-content theme_bg_white",class:{"big-corner":"1"==t.$store.state.globalConfig.product_big_corner}},[s("div",{staticClass:"img-div"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.phMainUrl+"?x-oss-process=image/format,jpg",expression:"item.phMainUrl+'?x-oss-process=image/format,jpg'"}]}),t._v(" "),1==e.supportPreSale?s("div",{staticClass:"presale"},[t._v("预售")]):t._e()]),t._v(" "),s("div",{staticClass:"title theme_font_black double-line",domProps:{innerHTML:t._s(t.getSkuNameStr(e))}}),t._v(" "),s("div",{staticClass:"info-row"},[s("PriceOrder",{attrs:{listitem:e}})],1),t._v(" "),s("div",{staticClass:"info-row activity single-line"},[t._l(e.showActivities,(function(e,i){return i<2?s("div",{staticClass:"act-item theme_font_red theme_border_red single-line"},[t._v(t._s(e))]):t._e()})),t._v(" "),1==e.hasCou?s("div",{staticClass:"act-item theme_font_red theme_border_red single-line"},[t._v("券")]):t._e()],2),t._v(" "),s("div",{staticClass:"info-row num-info"},[t.showSales?s("span",{staticClass:"font-small theme_font_tint"},[t._v("销量："+t._s(""!=e.salesNum?e.salesNum:"0"))]):t._e(),t._v(" "),t.showComments?s("span",{staticClass:"font-small theme_font_tint"},[t._v("评价："+t._s(""!=e.commentsNum?e.commentsNum:"0"))]):t._e(),t._v(" "),2!=e.productType?s("div",{staticClass:"car-c"},[t.getNumber(e)>0?s("div",{staticClass:"number theme_bg_red"},[t._v(t._s(t.getNumber(e)))]):t._e(),t._v(" "),"wish"!==t.$route.query.entryType?s("i",{staticClass:"iconfont mall-gouwuche theme_font_red car-size",class:{theme_font_gray_i:""==e.stockNum||"0"==e.stockNum||null==e.stockNum},on:{click:function(i){return i.stopPropagation(),t.addToCart(e)}}}):s("div",[1==e.productType&&2==e.deliverType?s("div",{staticClass:"wish-icon-c",class:{"is-add-wish":e.isAddWishOrder},on:{click:function(i){return i.stopPropagation(),t.addToWishList(e,i)}}},[s("img",{staticClass:"wish-icon",attrs:{src:i("FJt8"),alt:""}}),t._v(" "),s("img",{staticClass:"wish-icon",attrs:{src:i("FCp+"),alt:""}})]):t._e()])]):t._e()])])])])})),0)]):s("div",[s("div",{staticClass:"left-div"},t._l(t.leftArray,(function(e,a){return s("div",{staticClass:"card",class:{"no-stock":(""==e.stockNum||"0"==e.stockNum)&&"1"==t.$store.state.globalConfig.showNoStockCover},on:{click:function(i){return t.productEvent(e)}}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.isOpen||a<1,expression:"isOpen || index < 1"}]},[s("div",{staticClass:"card-content theme_bg_white",class:{"big-corner":"1"==t.$store.state.globalConfig.product_big_corner}},[s("div",{staticClass:"img-div"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.phMainUrl+"?x-oss-process=image/format,jpg",expression:"item.phMainUrl+'?x-oss-process=image/format,jpg'"}]}),t._v(" "),1==e.supportPreSale?s("div",{staticClass:"presale"},[t._v("预售")]):t._e()]),t._v(" "),s("div",{staticClass:"title theme_font_black double-line",domProps:{innerHTML:t._s(t.getSkuNameStr(e))}}),t._v(" "),s("div",{staticClass:"info-row"},[s("PriceOrder",{attrs:{listitem:e}})],1),t._v(" "),""!=e.activityTypes||1==e.hasCou?s("div",{staticClass:"info-row activity single-line"},[t._l(e.showActivities,(function(e,i){return i<2?s("div",{staticClass:"act-item theme_font_red theme_border_red single-line"},[t._v(t._s(e))]):t._e()})),t._v(" "),1==e.hasCou?s("div",{staticClass:"act-item theme_font_red theme_border_red single-line"},[t._v("券")]):t._e()],2):t._e(),t._v(" "),s("div",{staticClass:"info-row num-info"},[t.showSales?s("span",{staticClass:"font-small theme_font_tint"},[t._v("销量："+t._s(""!=e.salesNum?e.salesNum:"0"))]):t._e(),t._v(" "),t.showComments?s("span",{staticClass:"font-small theme_font_tint"},[t._v("评价："+t._s(""!=e.commentsNum?e.commentsNum:"0"))]):t._e(),t._v(" "),2!=e.productType?s("div",{staticClass:"car-c"},[t.getNumber(e)>0?s("div",{staticClass:"number theme_bg_red"},[t._v(t._s(t.getNumber(e)))]):t._e(),t._v(" "),"wish"!==t.$route.query.entryType?s("i",{staticClass:"iconfont mall-gouwuche theme_font_red car-size",class:{theme_font_gray_i:""==e.stockNum||"0"==e.stockNum||null==e.stockNum},on:{click:function(i){return i.stopPropagation(),t.addToCart(e)}}}):s("div",[1==e.productType&&2==e.deliverType?s("div",{staticClass:"wish-icon-c",class:{"is-add-wish":e.isAddWishOrder},on:{click:function(i){return i.stopPropagation(),t.addToWishList(e,i)}}},[s("img",{staticClass:"wish-icon",attrs:{src:i("FJt8"),alt:""}}),t._v(" "),s("img",{staticClass:"wish-icon",attrs:{src:i("FCp+"),alt:""}})]):t._e()])]):t._e()])])])])})),0),t._v(" "),s("div",{staticClass:"right-div"},t._l(t.rightArray,(function(e,a){return s("div",{staticClass:"card",class:{"no-stock":(""==e.stockNum||"0"==e.stockNum)&&"1"==t.$store.state.globalConfig.showNoStockCover},on:{click:function(i){return t.productEvent(e)}}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.isOpen||a<1,expression:"isOpen || index < 1"}]},[s("div",{staticClass:"card-content theme_bg_white",class:{"big-corner":"1"==t.$store.state.globalConfig.product_big_corner}},[s("div",{staticClass:"img-div"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.phMainUrl+"?x-oss-process=image/format,jpg",expression:"item.phMainUrl+'?x-oss-process=image/format,jpg'"}]}),t._v(" "),1==e.supportPreSale?s("div",{staticClass:"presale"},[t._v("预售")]):t._e()]),t._v(" "),s("div",{staticClass:"title theme_font_black double-line",domProps:{innerHTML:t._s(t.getSkuNameStr(e))}}),t._v(" "),s("div",{staticClass:"info-row"},[s("PriceOrder",{attrs:{listitem:e}})],1),t._v(" "),""!=e.activityTypes||1==e.hasCou?s("div",{staticClass:"info-row activity single-line"},[t._l(e.showActivities,(function(i,a){return a<3&&""!=e.activityTypes?s("div",{staticClass:"act-item theme_font_red theme_border_red theme_bg_ml_red single-line"},[t._v(t._s(i))]):t._e()})),t._v(" "),1==e.hasCou?s("div",{staticClass:"act-item theme_font_red theme_border_red single-line"},[t._v("券")]):t._e()],2):t._e(),t._v(" "),s("div",{staticClass:"info-row num-info"},[t.showSales?s("span",{staticClass:"font-small theme_font_tint"},[t._v("销量："+t._s(""!=e.salesNum?e.salesNum:"0"))]):t._e(),t._v(" "),t.showComments?s("span",{staticClass:"font-small theme_font_tint"},[t._v("评价："+t._s(""!=e.commentsNum?e.commentsNum:"0"))]):t._e(),t._v(" "),2!=e.productType?s("div",{staticClass:"car-c"},[t.getNumber(e)>0?s("div",{staticClass:"number theme_bg_red"},[t._v(t._s(t.getNumber(e)))]):t._e(),t._v(" "),"wish"!==t.$route.query.entryType?s("i",{staticClass:"iconfont mall-gouwuche theme_font_red car-size",class:{theme_font_gray_i:""==e.stockNum||"0"==e.stockNum||null==e.stockNum},on:{click:function(i){return i.stopPropagation(),t.addToCart(e)}}}):s("div",[1==e.productType&&2==e.deliverType?s("div",{staticClass:"wish-icon-c",class:{"is-add-wish":e.isAddWishOrder},on:{click:function(i){return i.stopPropagation(),t.addToWishList(e,i)}}},[s("img",{staticClass:"wish-icon",attrs:{src:i("FJt8"),alt:""}}),t._v(" "),s("img",{staticClass:"wish-icon",attrs:{src:i("FCp+"),alt:""}})]):t._e()])]):t._e()])])])])})),0)])])}),[],!1,null,"67b9045c",null);e.a=n.exports},"8Y6N":function(t,e){t.exports="data:image/png;base64,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"},"9iDk":function(t,e,i){},"9kh8":function(t,e,i){"use strict";function s(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=null,a=void 0;return function(){var o=this,n=arguments,l=+new Date;clearTimeout(s),a||(a=l),0!==i&&l-a>=i?(t.apply(o,n),a=l):s=setTimeout((function(){t.apply(o,n)}),e)}}var a={pullText:"下拉刷新",triggerText:"释放更新",loadingText:"加载中...",doneText:"加载完成",failText:"加载失败",loadedStayTime:400,stayDistance:50,triggerDistance:70},o={pullText:"上拉加载",triggerText:"释放更新",loadingText:"加载中...",doneText:"加载完成",failText:"加载失败",loadedStayTime:400,stayDistance:50,triggerDistance:70},n={name:"vue-pull-to",props:{doSiteCallback:{type:Boolean,default:!1},distanceIndex:{type:Number,default:2},topBlockHeight:{type:Number,default:50},bottomBlockHeight:{type:Number,default:50},wrapperHeight:{type:String,default:"100%"},topLoadMethod:{type:Function},bottomLoadMethod:{type:Function},isThrottleTopPull:{type:Boolean,default:!0},isThrottleBottomPull:{type:Boolean,default:!0},isThrottleScroll:{type:Boolean,default:!1},isTopBounce:{type:Boolean,default:!0},isBottomBounce:{type:Boolean,default:!0},isBottomAutoS:{type:Boolean,default:!1},bothEventForce:{type:Boolean,default:!1},topConfig:{type:Object,default:function(){return{}}},bottomConfig:{type:Object,default:function(){return{}}}},data:function(){return{topIconSrc:"",bottomIconSrc:"",scrollEl:null,startScrollTop:0,startY:0,currentY:0,distance:0,direction:0,diff:0,beforeDiff:0,topText:"",bottomText:"",state:"",bottomReached:!1,throttleEmitTopPull:null,throttleEmitBottomPull:null,throttleEmitScroll:null,throttleOnInfiniteScroll:null,myTimer:null,lastSite:0,speed:0}},computed:{_topConfig:function(){return this.$assign({},a,this.topConfig)},_bottomConfig:function(){return this.$assign({},o,this.bottomConfig)}},watch:{state:function(t){"pull"===t?"down"===this.direction?this.topIconSrc=i("VKSr"):this.bottomIconSrc=i("GOvX"):"trigger"===t?"down"===this.direction?this.topIconSrc=i("GOvX"):this.bottomIconSrc=i("VKSr"):"loading"===t?(this.topIconSrc=i("8Y6N"),this.bottomIconSrc=i("8Y6N")):"loaded-done"===t&&(this.topIconSrc=i("p6xZ"),this.bottomIconSrc=i("p6xZ")),"down"===this.direction?this.$emit("top-state-change",t):this.$emit("bottom-state-change",t)}},methods:{siteCallBack:function(){var t=this;this.myTimer&&(clearInterval(this.myTimer),this.myTimer=null);var e=20,i=this.speed;if(!(i<5)){var s=this.scrollEl.scrollTop,a=this.scrollEl.scrollHeight-this.scrollEl.offsetHeight,o=-i/e;this.myTimer=window.setInterval((function(){if((s+=i+=o)>=220&&i>0||s>=a||s<=0)return s<0&&t.$emit("pageSite",0),void(t.myTimer&&(clearInterval(t.myTimer),t.myTimer=null));t.$emit("pageSite",s),--e<0&&t.myTimer&&(clearInterval(t.myTimer),t.myTimer=null)}),50)}},actionPull:function(){this.state="pull","down"===this.direction?this.topText=this._topConfig.pullText:this.bottomText=this._bottomConfig.pullText},actionTrigger:function(){this.state="trigger","down"===this.direction?this.topText=this._topConfig.triggerText:this.bottomText=this._bottomConfig.triggerText},actionLoading:function(){this.state="loading","down"===this.direction?(this.topText=this._topConfig.loadingText,this.topLoadMethod.call(this,this.actionLoaded),this.scrollTo(this._topConfig.stayDistance)):(this.bottomText=this._bottomConfig.loadingText,this.isBottomAutoS?this.bottomLoadMethod.call(this,this.actionLoaded):(this.scrollTo(-this._bottomConfig.stayDistance),this.bottomLoadMethod.call(this,this.actionLoaded)))},actionLoaded:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"done";this.state="loaded-"+e;var i=void 0;"down"===this.direction?(this.topText="done"===e?this._topConfig.doneText:this._topConfig.failText,i=this._topConfig.loadedStayTime,this._topConfig.stayDistance):(this.isBottomAutoS?(i=0,this.bottomText="done"===e?this._bottomConfig.doneText:this._bottomConfig.failText):(this.bottomText="done"===e?this._bottomConfig.doneText:this._bottomConfig.failText,i=this._bottomConfig.loadedStayTime),this._bottomConfig.stayDistance),setTimeout((function(){t.scrollTo(0),setTimeout((function(){t.state=""}),200)}),i)},scrollTo:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200;this.$el.style.transition=i+"ms",this.diff=t,setTimeout((function(){e.$el.style.transition=""}),i)},checkBottomReached:function(){return this.scrollEl.scrollTop+this.scrollEl.offsetHeight+1>=this.scrollEl.scrollHeight},handleTouchStart:function(t){this.myTimer&&(clearInterval(this.myTimer),this.myTimer=null),this.startY=t.touches[0].clientY,this.beforeDiff=this.diff,this.startScrollTop=this.scrollEl.scrollTop,this.bottomReached=this.checkBottomReached()},handleTouchMove:function(t){if(this.currentY=t.touches[0].clientY,this.distance=(this.currentY-this.startY)/this.distanceIndex+this.beforeDiff,this.direction=this.distance>0?"down":"up",0===this.startScrollTop&&"down"===this.direction&&this.isTopBounce){if(t.preventDefault(),t.stopPropagation(),this.diff=this.distance,this.isThrottleTopPull?this.throttleEmitTopPull(this.diff):this.$emit("top-pull",this.diff),"function"!=typeof this.topLoadMethod)return;this.distance<this._topConfig.triggerDistance&&"pull"!==this.state&&"loading"!==this.state?this.actionPull():this.distance>=this._topConfig.triggerDistance&&"trigger"!==this.state&&"loading"!==this.state&&this.actionTrigger()}else if(this.bottomReached&&"up"===this.direction&&this.isBottomBounce){if(t.preventDefault(),t.stopPropagation(),this.diff=this.distance,this.isThrottleBottomPull?this.throttleEmitBottomPull(this.diff):this.$emit("bottom-pull",this.diff),"function"!=typeof this.bottomLoadMethod)return;Math.abs(this.distance)<this._bottomConfig.triggerDistance&&"pull"!==this.state&&"loading"!==this.state?this.actionPull():Math.abs(this.distance)>=this._bottomConfig.triggerDistance&&"trigger"!==this.state&&"loading"!==this.state&&this.actionTrigger()}},handleTouchEnd:function(){if(0!==this.diff){if("trigger"===this.state)return void this.actionLoading();this.scrollTo(0)}},setScrollTopValue:function(t){this.scrollEl.scrollTop=t},getScrollTopValue:function(){return this.scrollEl.scrollTop},handleScroll:function(t){this.$emit("pageSite",this.scrollEl.scrollTop),"loading"!=this.state&&this.isBottomBounce&&this.isBottomAutoS&&t.target.scrollTop+t.target.offsetHeight>t.target.scrollHeight-this.bottomBlockHeight&&(this.direction="up",this.actionLoading()),this.isThrottleScroll?this.throttleEmitScroll(t):this.$emit("scroll",t)},onInfiniteScroll:function(){this.checkBottomReached()&&this.$emit("infinite-scroll")},throttleEmit:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments[2];return s((function(){var t=[].concat(Array.prototype.slice.call(arguments));t.unshift(i),this.$emit.apply(this,t)}),t,e)},bindEvents:function(){this.isBottomAutoS?1==this.bothEventForce&&(this.scrollEl.addEventListener("touchstart",this.handleTouchStart),this.scrollEl.addEventListener("touchmove",this.handleTouchMove),this.scrollEl.addEventListener("touchend",this.handleTouchEnd)):(this.scrollEl.addEventListener("touchstart",this.handleTouchStart),this.scrollEl.addEventListener("touchmove",this.handleTouchMove),this.scrollEl.addEventListener("touchend",this.handleTouchEnd)),this.scrollEl.addEventListener("scroll",this.handleScroll)},createThrottleMethods:function(){this.throttleEmitTopPull=this.throttleEmit(200,300,"top-pull"),this.throttleEmitBottomPull=this.throttleEmit(200,300,"bottom-pull"),this.throttleEmitScroll=this.throttleEmit(100,150,"scroll"),this.throttleOnInfiniteScroll=s(this.onInfiniteScroll,400)},init:function(){this.createThrottleMethods(),this.scrollEl=this.$el.querySelector(".scroll-container"),this.bindEvents()}},mounted:function(){this.init(),console.log(this.bottomLoadMethod,this.isBottomBounce,this.isBottomAutoS)}},l=(i("z1K3"),i("KHd+")),r=Object(l.a)(n,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"vue-pull-to-wrapper",style:{height:t.wrapperHeight,transform:"translate3d(0, "+t.diff+"px, 0)"}},[t.topLoadMethod?i("div",{staticClass:"action-block",style:{height:t.topBlockHeight+"px",marginTop:-t.topBlockHeight+"px"}},[i("div",{staticClass:"top-load-wrapper"},[t.topIconSrc&&"undefined"!=t.topIconSrc?i("img",{staticClass:"refresh-icon",class:{"icon-loading":"loading"===t.state},attrs:{src:t.topIconSrc,alt:""}}):t._e(),t._v(" "),i("span",{staticClass:"refresh-span"},[t._v(t._s(t.topText))])])]):t._e(),t._v(" "),i("div",{staticClass:"scroll-container",style:{paddingBottom:t.bottomBlockHeight+"px"}},[t._t("default"),t._v(" "),"/mall2/detail/:id"!=t.$route.matched[0].path?i("div",{staticClass:"action-block",style:{height:t.bottomBlockHeight+"px"}},[i("div",{staticClass:"bottom-load-wrapper"},[t.bottomIconSrc&&"undefined"!=t.bottomIconSrc?i("img",{staticClass:"refresh-icon",class:{"icon-loading":"loading"===t.state},attrs:{src:t.bottomIconSrc,alt:""}}):t._e(),t._v(" "),i("span",{staticClass:"refresh-span"},[t._v(t._s(t.bottomText))])])]):t._e()],2),t._v(" "),"/mall2/detail/:id"!=t.$route.matched[0].path?i("div",{staticClass:"action-block",style:{height:t.bottomBlockHeight+"px"}},[i("div",{staticClass:"bottom-load-wrapper"},[t.bottomIconSrc&&"undefined"!=t.bottomIconSrc?i("img",{staticClass:"refresh-icon",class:{"icon-loading":"loading"===t.state},attrs:{src:t.bottomIconSrc,alt:""}}):t._e(),t._v(" "),i("span",{staticClass:"refresh-span"},[t._v(t._s(t.bottomText))])])]):t._e()])}),[],!1,null,null,null);e.a=r.exports},AbvJ:function(t,e,i){},"FCp+":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyVpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ4IDc5LjE2NDAzNiwgMjAxOS8wOC8xMy0wMTowNjo1NyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIxLjAgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RDFFRjI2Njk1NEI0MTFFQUJDODBCQTIxMEEzN0VFQzAiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RDFFRjI2NkE1NEI0MTFFQUJDODBCQTIxMEEzN0VFQzAiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpEMUVGMjY2NzU0QjQxMUVBQkM4MEJBMjEwQTM3RUVDMCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpEMUVGMjY2ODU0QjQxMUVBQkM4MEJBMjEwQTM3RUVDMCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PjsKS2IAAANNSURBVHjaxFhZS1VRFF6eerCwCKIHH0rypRzzobJsIMQ0qWigwjQDrQjCiqLoB9RTPdW1Ih+CoocSepIQs0lKzatWRA4XQknJ9DpFhUUDu2959o2Lnr3POddzbws+7rDWWfs7e1jDjhOUSC5lKVAArAdSgCRgntR9BT4AXcALoA7odeM8ziGhWcA+oAJYy8859C+AZqASqAb+eEEoD/ABy2lm0g0cBx7pjAyNLh64AdR7QIakj3rpM97tDC0CHgCrKDrSCmwFhp0QYjLPgWUUXQkAG6aSmrpkc4GaGJAhOUaNHFNJ6DKQTbGTbDmm5ZLlyU33P2Rz6PQZYTN1RW0/m+hMGdHrWqKfiHtigKinkejSWegSwuwSzP9Yxza/+ojeIDaeKzd9qMUnYx1HrkTGfkBYYkG6EM0vhVK6A0Kk5Jjg7yppbRNiYYZQjmNy+LdkHObXWYappvuIzTbbqqPT/ExL1du1+InW7MGX31baJuZgyNyUY+mgosieTIiIHZnJLbya6GSRSsspKZkJbVHmppK93m/fYqVP5lBgWC+VlKwV3hPKzNBpJ5csTZ3N4r0npPeZyoQWK9WjY94TGhnVaZOMsOJquvj93hNqadFpEwztw7fuek/ott6nIctOa7n3kOjxM+/IsK9qbX32jQn1a52UniL6ODBzMp8GicpP21n1MaFOvaMhol2lREPByMnw4dhZguEG7Sw7DJk2bOo7NBH5CPm9ve7J9GMBChEM/V1OrBsN2aoIW9O371HQ7iB62uCcTAPedeU284WcdSh1TKhHJjYHUz9ClIvl813D45p3YJ3vOtGmYqLgsFP63C71hI79VeevjUx94gLRwSNE45+nq8fGiQ4chs15VVZXSWV4xcjF0TvX7U5aMtEdzFZWpvm77RXIHEP53hdJz5bOjaQHJewcxJaLKAhREe7mY/09knOYHxp7aht0EyiLcT3NYx5S9WXckjyJYefBiS0XmFC1QazYLpu4aEtAjjVh19vzOd0ItEeRTLscY9jpZUNQtrlVUSBTJe+Wgm5vP/i4HJUnIODREuVLnz8iuY4JSb0sc4tlNBUuifAzJdKHbViJi/BKr1BOOwfSJcB8qfvCJYQMdJy0a91e6f0VYACbBjEgb6MNQgAAAABJRU5ErkJggg=="},FJt8:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyVpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ4IDc5LjE2NDAzNiwgMjAxOS8wOC8xMy0wMTowNjo1NyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIxLjAgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RDFFRjI2NkQ1NEI0MTFFQUJDODBCQTIxMEEzN0VFQzAiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RDFFRjI2NkU1NEI0MTFFQUJDODBCQTIxMEEzN0VFQzAiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpEMUVGMjY2QjU0QjQxMUVBQkM4MEJBMjEwQTM3RUVDMCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpEMUVGMjY2QzU0QjQxMUVBQkM4MEJBMjEwQTM3RUVDMCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Ps+JWVoAAAPESURBVHjavJhfSNNRFMe333KLzGjaH7VitK1FW2CwLSIMLUENKpBZunyYuErfCiRffe+hetTqQRSxCcqkIhXmwByIKejcHEUucps6Z+JqUzf/1LlwB8t+f91vHvg86Dn39/vud8+995wrFHC3Y4AaUAJ5QA4gwb4Y8BNYAL4BM8Ayl4cLWcYRgBa4Dsg5jPsDeAE7MAHs8CHoAlAN5ApSs0XgLeDZq6AMoAq4JuDXPgEWYJPMKaIYlAU8AQoE/JsM5+AUEGcjCIl5CpwWpM+O4h87vlvUbkFi4HGaxSTsMHAOGAO2qQTdT9M0UZkUOAI4k5dz8moqFOy/FeJ3/yNIiFcUeYZnZYlaWlou+f3+uzs7Ow83NzfNTqfzVm1t7ankOPQ3+j/yQ9yjQCBwD41D4xlEVSe0JJa9HnhAFqlSqQ4NDg7elMlkOWT+1tbWsYaGhkn04vr6+stkMT6fb6W8vPzjzMxMlEbUG+BzQlAToNgdIZFICJfLdUepVJ6g+3k2m+1rSUmJii7G6/WG1Gp1XywWo9qtZ4FnInw2Gcg2yebmZlVFRYWGKQnkcnkOY/ZKpZlCoTAyNDS0TJPgo2jeNFQ7dmVlpYrP7DUYDCqGU0NDkE1VwhQKxXE+BbF4ngIJyqfyisXiA3wKysjIYFpt+UhQNpU3Eols8CkoHA6vM4RkE0nF1X8GK2yRT0Eej4fpeRKCztvZ2fmFT0Ht7e2Mz0OZ/RzIpApwu923Yf/IS1UMbIoLGo3mHUNYFH2hFboIo9FoTzWXotForKamxs4idIXABTmlwdkUMZlM/fF4fGsvYuBc26qrqxuYnJyMsAifJ3B3QGu9vb1LVVVV79fW1mJcxGxsbMTNZnN/d3c328UxiwS5cXdAa1ardam0tLQvGAyG2Tw5FAr9Kisrs3Z0dMxz6FDcBO6bvGxGOByOVb1eb52enqZ9CfLrdDrr8PDwKocPijQsJ5a9ne0oKCViWq32Q09Pj5PMb7FYppB/bm6O60KwJ5ewaI51uM5lNCi+BJAXfiglwkVFRWdEIhGBkr6pqcnW2NjoQv499GxdaNpESfMXBK5wecrIyMjKxMSEr7i4OA+qxYG2trbAHncGVJyFyBpFE3B1n2tqB9rEqboODy64pfsk5jvwmq4N2sYdZQHbfErBUIq8BNaZOtc47ijP4w4zHfYDeAH8ZtvbI1GjuK2WpeGy4dXuL8P1OsYInORhirpSuY4hu7C6AZzlME6QdGE1zteFFdmV3kV8pZeLS+CDifMUlzOL+NB2cb3S+yvAANeGQ9tIXEWcAAAAAElFTkSuQmCC"},GOvX:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgEAYAAAAj6qa3AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABWWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyI+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgpMwidZAAABjUlEQVRoBe2XMU/CQBiGr9XZwbLpb3BwdtNEFoEf4G6MC3EqDDBCjAkJQ2M7u8kfMMDSycGFsJAQBxZXlzYlBKy8LUfCGR3wuIv69RnIkbv7vvfhKJQxusgAGSADZIAMKDfgHoBymb8qb2BR0FBd2A1Bo8HuQbG4Wr9ev0iuUmn1/c2NlAn4PrgYUJ0IUywte/wp+COb0+mwGzAasSMwHLIT0O2m9W17uU52Q8J+GxOwDMCP+iJ4+ApyOeMNjMfsFETR1AaFAjsGvs+/Im5y1WpC39KG0gW4h6Ba5QGMW9Bu8+DXTyCKxARXDyAIwnOQzeKcJCclmTg/EXxfceEPx9IFGHvAsgwXtFqBBfL5r4KL/fN5XBjfh+2ATEac/2vH3i4YDNx90OvpCiL9BOgKsm5dErCuub+ybltXkPcX4PvGFphM0pucrm6oLhlQbsC7BJWK7qdBbb8CsQNMM74DprY+lH/yVJAMpAbSpzzH8c5As6nLi7b/AWngfj9+BrOZLgFUlwyQATJABv6zgQ8/ndpWDmvmtwAAAABJRU5ErkJggg=="},GUvc:function(t,e,i){"use strict";var s={name:"index",components:{CardList:i("5CqX").a},props:["skuId","deliveryType"],data:function(){return{listData:[]}},methods:{getScrollSite:function(){return this.$refs.sroll_list?this.$refs.sroll_list.scrollTop:0},setScrollSite:function(t){t>0&&(this.$refs.sroll_list.scrollTop=t)},productEvent:function(t){console.log(t);var e="/mall2/detail/"+this.$util.getDataString();2==t.productType&&(e="/mall2/ticketdetail"),this.$router.push({path:e,query:{id:t.id,skuId:t.skuId,lastPath:this.$route.path,productType:t.productType}})},_getRecommendData:function(){var t=this,e={token:this.$store.state.login.token,skuId:this.skuId,lng:this.$store.state.currentLocation.posx,lat:this.$store.state.currentLocation.posy,deliverType:this.deliveryType};this.$http.post("/app/json/product/getAppHotProSkuSaleListModel",e).then((function(e){var i=e.data;0==i.status?t.listData=i.data.list:t.$Toast(i.info)}),(function(e){t.$Toast("请求数据失败！")}))}},created:function(){this._getRecommendData()}},a=(i("Q1dr"),i("KHd+")),o=Object(a.a)(s,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"index"},[this._m(0),this._v(" "),e("div",{ref:"sroll_list",staticClass:"list"},[e("CardList",{attrs:{listData:this.listData},on:{productEvent:this.productEvent}})],1)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"recommend-row"},[e("div",{staticClass:"title theme_border_red"},[this._v("同店好货")])])}],!1,null,"c49898e2",null);e.a=o.exports},Q1dr:function(t,e,i){"use strict";var s=i("xqti");i.n(s).a},Sfaw:function(t,e,i){"use strict";var s=(i("0Q3P"),i("KHd+")),a=Object(s.a)({name:"judgement",props:["skuId"],components:{},data:function(){return{pageShow:!1,comments:[],commentTabs:[]}},methods:{showBigImageEvent:function(t){var e=this.getCommentImgs(t);this.$emit("showBigImgs",e)},getCommentImgs:function(t){return""!=t?t.split(","):[]},getCommentUserStr:function(t){if(""!=t.userName)return t.userName;var e=t.userPhone+"";if(11==e.length){var i=e.split("");return i.splice(1,9,"*********"),i.join("")}return"未知用户"},clickItem:function(t,e){for(var i=[],s=0;s<this.commentTabs.length;s++){var a=this.commentTabs[s];a.selected=e==s,i.push(a)}this.commentTabs=i,this._getComments(t.type)},likeEvent:function(t){var e=this,i={token:this.$store.state.login.token,id:t.id,hasThumbsUp:t.hasThumbsUp};this.$http.post("/app/json/evaluate/userThumbsUpSkuEvaluate",i).then((function(i){var s=i.data;0==s.status?1==t.hasThumbsUp?(t.hasThumbsUp=0,t.thumbsUpCount-=1):(t.hasThumbsUp=1,t.thumbsUpCount+=1):e.$Toast(s.info)}),(function(t){e.$Toast("请求数据失败！")}))},_getComments:function(t){var e=this,i={token:this.$store.state.login.token,scoreType:t,skuId:this.skuId};this.$http.post("/app/json/evaluate/loadSkuDetailTwoEvaluateList",i).then((function(t){var i=t.data;0==i.status?(e.pageShow=!0,e.comments=i.data):e.$Toast(i.info)}),(function(t){e.$Toast("请求数据失败！")}))},_getCommentTabs:function(t){var e=this,i={token:this.$store.state.login.token,skuId:this.skuId};this.$http.post("/app/json/evaluate/loadSkuEvaluateCount",i).then((function(t){var i=t.data;0==i.status?e.commentTabs=i.data:e.$Toast(i.info)}),(function(t){e.$Toast("请求数据失败！")}))}},created:function(){this._getComments(""),this._getCommentTabs()}},(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.pageShow?i("div",{staticClass:"judgement"},[i("div",{staticClass:"options"},t._l(t.commentTabs,(function(e,s){return i("div",{staticClass:"name theme_font_common theme_bg_white_ef",class:{"border-con  theme_bg_ml_red_i theme_font_red_i":e.selected},on:{click:function(i){return t.clickItem(e,s)}}},[t._v(t._s(e.typeName)+"（"+t._s(e.count)+"）\n    ")])})),0),t._v(" "),0==t.comments.length?i("div",{staticClass:"tip"},[i("img",{attrs:{src:"static/image/mall2/noComment.png"}})]):t._e(),t._v(" "),i("div",{staticClass:"scroll-con"},t._l(t.comments,(function(e,s){return i("div",{staticClass:"judgementcell shadow-cell"},[i("div",{staticClass:"mem-info "},[i("div",{staticClass:"left-info"},[i("img",{staticClass:"image-con",attrs:{src:""!=e.userAvtUrl?e.userAvtUrl:"static/image/mall2/header.png"}}),t._v(" "),i("p",{staticClass:"nickname-con theme_font_black"},[t._v(t._s(t.getCommentUserStr(e)))]),t._v(" "),i("i",{staticClass:"levelimage iconfont mall-huangguan theme_font_red"}),t._v(" "),i("p",{staticClass:"level-con theme_font_red"},[t._v(t._s(e.userLevelNo))])]),t._v(" "),i("div",{staticClass:"right-star"},t._l(5,(function(t){return i("i",{staticClass:"levelimage iconfont mall-xingxing theme_font_tint",class:{theme_font_red:e.score>=t}})})),0)]),t._v(" "),i("P",{staticClass:"remark-con theme_font_gray"},[t._v(t._s(e.evaluateContent))]),t._v(" "),""!=e.evaluateImages?i("div",{staticClass:"imgs"},t._l(t.getCommentImgs(e.evaluateImages),(function(s,a){return i("div",{staticClass:"s-img-div",on:{click:function(i){return t.showBigImageEvent(e.evaluateImages)}}},[i("img",{attrs:{src:s}})])})),0):t._e(),t._v(" "),""!=e.evaluateReply?i("div",{staticClass:"reply"},[i("div",{staticClass:"theme_font_common",staticStyle:{"line-height":"1.4"}},[t._v("商家回复：")]),t._v(" "),i("div",{staticClass:"theme_font_common",staticStyle:{"line-height":"1.4",flex:"1"}},[t._v(t._s(e.evaluateReply))])]):t._e(),t._v(" "),i("div",{staticClass:"date-con theme_font_gray"},[i("p",{staticClass:"left-con"},[t._v("评价日期："+t._s(e.evaluateTime))]),t._v(" "),i("div",{staticClass:"like",on:{click:function(i){return t.likeEvent(e)}}},[i("span",[t._v(t._s(e.thumbsUpCount))]),t._v(" "),i("i",{staticClass:"levelimage iconfont mall-dianzan theme_font_tint",class:{theme_font_red_i:1==e.hasThumbsUp}})])])],1)})),0)]):t._e()}),[],!1,null,"2a1246f7",null);e.a=a.exports},"TP/v":function(t,e,i){},VKSr:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgEAYAAAAj6qa3AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAAZiS0dEAAAAAAAA+UO7fwAAAAlwSFlzAAAASAAAAEgARslrPgAAAb1JREFUaN7t1zFLw0AYBuD3SkiR5geEDI4diqUIHTpUOtTSQejkVnBM6iJtpyAObm5V0CGfo9AfoHR1EUL7HzoXF1Noe3BQSs9B6yCIDiGneM8Sslze7+W4I4CmaZqmJY5sssl2XSIiouNjVTkMVR9mRVZkxZ0dCQkJQ1kOTVMkCIMwCM/OSJIkeX6uKoe6M6DFWqy1XrMyK7Pyeq0qh6YpQjOa0ezmJpgG02B6e6sqh7r7N4cccnt7KZESKZFOq4qRUlbAL6ELUB1AtdjPAKpQhSrX12zBFmxh29zkJjePjrqj7qg7EuKn6/RKvVKvtLVlLa2ltby7gwMHzvOzO3AH7uDkJK688e+AOeaYv7xIT3rSOzzMOBkn4zw8bAb68eCRFVnR/f1mHTmREzmJorjjstgLePf2m3tx8fbm+6iiiurT08pf+Sv/4MAYGkNjGIZMMMFEOs2zPMuzu7ubwlBHHfX9fTTRRPPqyrM8y7M6nT9TwEcRnDjxy0v00Ue/3UYNNdQeHyEgILa30UADDdNEAQUUxuOkBk+sgI8iPu+IryQ0eOIFfFtEwoMrR3nKU/70dPNUnUfTNE37j14By5+5+mkAilEAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDYtMTNUMTU6NDk6NTIrMDg6MDAmrzDiAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTA2LTEzVDE1OjQ5OjUyKzA4OjAwV/KIXgAAAFV0RVh0c3ZnOmJhc2UtdXJpAGZpbGU6Ly8vaG9tZS9hZG1pbi9pY29uLWZvbnQvdG1wL2ljb25fdWV0emFxMnJsYy8lRTclQUUlQUQlRTUlQTQlQjQzLnN2ZwIn7fgAAAAASUVORK5CYII="},Wr4Z:function(t,e,i){"use strict";var s=i("AbvJ");i.n(s).a},afTz:function(t,e,i){"use strict";i.r(e);var s=i("nV03"),a={name:"countdown",props:["endTime","type","hiddenDay","callback"],components:{},data:function(){return{d:"0",h:"00",m:"00",s:"00",trigger:!0}},methods:{parsingTime:function(){var t=this;if(this.endTime){var e=this.$store.state.severTime.currentTime,i=this.endTime-e;this.d=0,this.h="0",this.m="0",this.s="0",i<0?this.trigger&&(this.trigger=!1,setTimeout((function(){t.$emit("timeOut")}),1e3)):(this.trigger=!0,i>59?(this.s=i%60,(i=parseInt(i/60))>59?(this.m=i%60,(i=parseInt(i/60))>23?(this.h=parseInt(i%24),i=parseInt(i/24),this.d=i):this.h=i):this.m=i):i>=0&&(this.s=i),this.h<10&&(this.h="0"+this.h),this.m<10&&(this.m="0"+this.m),this.s<10&&(this.s="0"+this.s))}}},created:function(){this.parsingTime(),s.a.heartbeat()},destroyed:function(){s.a.removeHeartbeat()},watch:{"$store.state.severTime.currentTime":function(){this.parsingTime()}}},o=(i("Wr4Z"),i("KHd+")),n=Object(o.a)(a,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"countdown",class:{quan:"theme_bg_quan"==t.type}},[0==t.d||t.hiddenDay?t._e():i("div",{staticClass:"red-div theme_font_white",class:[t.type||"theme_bg_red"]},[t._v(t._s(t.d))]),t._v(" "),0==t.d||t.hiddenDay?t._e():i("span",[t._v("天")]),t._v(" "),i("div",{staticClass:"red-div theme_font_white",class:[t.type||"theme_bg_red"]},[t._v(t._s(t.h))]),t._v("\n  :\n  "),i("div",{staticClass:"red-div theme_font_white",class:[t.type||"theme_bg_red"]},[t._v(t._s(t.m))]),t._v("\n  :\n  "),i("div",{staticClass:"red-div theme_font_white",class:[t.type||"theme_bg_red"]},[t._v(t._s(t.s))])])}),[],!1,null,"403fc346",null);e.default=n.exports},csf6:function(t,e,i){"use strict";var s=i("N4/4"),a=i("ZToj"),o=i("dRp0"),n=i("VQwz"),l=i("mfrH"),r=(i("ygAv"),{checkIsInitialLoad:function(t){"cnooc"!=a.a.state.globalConfig.app_home_special_flag?0==a.a.state.mall2.pickupAddressChecked?(a.a.state.mall2.pickupAddressChecked=!0,s.a.vuexStorage(),r.getLocation(t)):t(null):t()},getLocation:function(t){s.a.getLocation((function(e){e.city&&""!=e.city?(a.a.state.currentLocation.posx=e.longitude,a.a.state.currentLocation.posy=e.latitude,r.loadNeerPickupAddress(t)):t(null)}))},loadNeerPickupAddress:function(t){var e={posx:a.a.state.currentLocation.posx,posy:a.a.state.currentLocation.posy,page:{index:1,pageSize:1}};o.a.post("/app/json/user_address/searchSelfliftAddressList",e).then((function(e){var i=e.data;if(console.log("自提站点列表:",i),0==i.status)if(i.data&&i.data.length>0){var s=i.data[0];r.checkEqualAndDistance(s,t)}else t(null);else t(null)}),(function(e){t(null),console.log("自提站点",e)}))},checkEqualAndDistance:function(t,e){t.id!=a.a.state.mall2.zitiAddress.id&&t.distance<500?n.a.confirm("距离您最近的自提点是："+t.storeName+",是否切换到最近自提点","提示").then((function(i){console.log(i),r.reSelectPickupAddress(t,e)})).catch((function(t){e(null)})):e(null)},reSelectPickupAddress:function(t,e){a.a.state.mall2.zitiAddress=t,s.a.vuexStorage((function(){e(t)})),a.a.state.login.token&&""!=a.a.state.login.token&&(l.a._addToMyPickupAddress(t.id),l.a._setDefaultPickupAddress(t.id))}});e.a=r},gbei:function(t,e,i){"use strict";var s=(i("vITN"),i("KHd+")),a=Object(s.a)({name:"index",props:["picUrls","initIndex"],components:{},data:function(){var t=this;return{swiperOption1:{autoHeight:!1,spaceBetween:0,speed:300,autoplay:!1,loop:!0,paginationShow:!0,initialSlide:t.initIndex?t.initIndex:0,observer:!0,observeParents:!0,scrollbarDraggable:!0,scrollbarSnapOnRelease:!0,scrollbarHide:!1,on:{slideChange:function(){t.proImgIndex=this.realIndex+1}}},proImgIndex:1}},methods:{closeEvent:function(){this.$emit("closeEvent","")}},created:function(){}},(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"index theme_bg_white",on:{click:function(e){return e.stopPropagation(),t.closeEvent(e)}}},[i("div",{staticClass:"index-div"},[i("span",{staticClass:"cindex"},[t._v(t._s(t.proImgIndex))]),t._v(" "),i("span",[t._v("/")]),t._v(" "),i("span",{staticClass:"total"},[t._v(t._s(t.picUrls.length))])]),t._v(" "),i("swiper",{staticClass:"swiper-arr",attrs:{options:t.swiperOption1}},t._l(t.picUrls,(function(t,e){return i("swiper-slide",{key:e,staticClass:"swiper-arr"},[i("div",{staticClass:"swiper-arr-div"},[i("img",{attrs:{src:t}})])])})),1)],1)}),[],!1,null,"7c2bb39c",null);e.a=a.exports},hDEW:function(t,e,i){"use strict";i.r(e);var s={name:"",props:{initData:{type:Object,default:{}}},data:function(){return{popShow:!1,selectedIndexs:[],selectedItems:[],dataCache:[],cusOptions:[],cusIndex:0,initAreas:[],myTimeout:null}},methods:{close:function(){var t=this;this.popShow=!1,this.myTimeout&&(clearTimeout(this.myTimeout),this.myTimeout=null),this.myTimeout=setTimeout((function(){t.$emit("closeEvent","")}),240)},reSelect:function(t){if(1!=this.initData.canNotReselect){var e=this.selectedItems.length-t;console.log(e),this.selectedItems.splice(t,e),this.selectedIndexs.splice(t,e);var i=this.dataCache[t];this.dataCache.splice(t+1,e),this.cusOptions=i}},selectOption:function(t,e){this.cusIndex=e,this.selectedItems.push(t),this.selectedIndexs.push(e),this.cusOptions=[];var i={item:t,selecteds:this.selectedItems};this.$emit("selectedItemsEvent",i)},pushCustomOptions:function(t){if(0==this.selectedIndexs.length&&(this.selectedIndexs=[],this.selectedItems=[],this.dataCache=[],this.cusIndex=0),this.dataCache.push(t),this.cusOptions=t,this.initAreas&&this.initAreas.length>0){for(var e=this.initAreas.shift(),i=!1,s=0;s<t.length;s++){var a=t[s];if(this.$util.areaEqual(e,a.name)){i=!0,this.selectOption(a,s);break}}0==i&&(this.initAreas=[])}},reset:function(t){this.selectedIndexs=[],this.selectedItems=[],this.cusIndex=0,t?(this.dataCache=[],this.dataCache.push(t),this.cusOptions=t):(this.cusOptions=this.dataCache[0],this.dataCache=[],this.dataCache.push(this.cusOptions))}},created:function(){try{this.initAreas=JSON.parse(JSON.stringify(this.initData.initAreas))}catch(t){this.initAreas=[]}},mounted:function(){this.popShow=!0}},a=(i("22sX"),i("KHd+")),o=Object(a.a)(s,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"region-select"},[i("div",{staticClass:"other-div",on:{click:t.close}}),t._v(" "),i("transition",{attrs:{name:"pop_transiton"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.popShow,expression:"popShow"}],staticClass:"select-content"},[i("div",{staticClass:"close-btn",on:{click:t.close}},[i("img",{attrs:{src:"static/image/mall/close.png"}})]),t._v(" "),i("div",{staticClass:"font-medium-l-x title"},[t._v(t._s(t.initData.title?t.initData.title:"请选择区域"))]),t._v(" "),i("div",{staticClass:"selected-item font-medium"},[t._l(t.selectedItems,(function(e,s){return i("div",{staticClass:"item-div",on:{click:function(e){return t.reSelect(s)}}},[i("div",{staticClass:"item-text"},[t._v(t._s(e.name))])])})),t._v(" "),t.cusOptions.length>0?i("div",{staticClass:"item-div"},[i("div",{staticClass:"item-text item-selected theme_font_red"},[t._v("请选择")])]):t._e()],2),t._v(" "),i("div",{staticClass:"options-div"},t._l(t.cusOptions,(function(e,s){return i("div",{staticClass:"option",on:{click:function(i){return t.selectOption(e,s)}}},[t._v(t._s(e.name))])})),0)])])],1)}),[],!1,null,"60a4d13e",null);e.default=o.exports},lJyb:function(t,e,i){"use strict";var s=i("9iDk");i.n(s).a},myR9:function(t,e,i){},nV03:function(t,e,i){"use strict";var s=i("ZToj"),a=void 0,o=0,n={heartbeat:function(){o++,a||(a=window.setInterval((function(){var t=parseInt((new Date).getTime()/1e3);s.a.state.severTime.currentTime=t+s.a.state.severTime.jetlag}),1e3))},removeHeartbeat:function(){o>0&&o--,0==o&&(window.clearInterval(a),a=null)}};e.a=n},oYWQ:function(t,e,i){},p6xZ:function(t,e){t.exports="data:image/png;base64,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"},tn6m:function(t,e,i){"use strict";i.r(e);var s=i("L2JU"),a=(i("/aIJ"),i("1tPa")),o=i("9kh8"),n=i("WQzh"),l=i("2nGb"),r=i("W34l"),c=(i("7ny5"),i("csf6")),d=i("Ziuy"),h=i("hlqo"),u=i("A+eP"),m=i("gbei"),v=i("MxEj"),p=i("Sfaw"),g=i("GUvc"),f=i("hDEW"),_=i("afTz"),A=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},C={name:"detail",components:{Countdown:_.default,Judgement:p.a,RegionSelect:f.default,Recommend:g.a,PullTo:o.a,BigImage:m.a,PriceOrder:n.a,videoPlayer:a.videoPlayer},data:function(){var t=this;return{id:"",skuId:"",productType:"",toptab:1,proImgIndex:1,proView:1,page1ScrollTop:0,deliveryType:2,collectName:"",mainSwiper:{autoHeight:!1,spaceBetween:0,speed:200,autoplay:!1,loop:!1,paginationShow:!0,initialSlide:0,observer:!0,observeParents:!0,scrollbarDraggable:!0,scrollbarSnapOnRelease:!0,scrollbarHide:!1,on:{slideChange:function(){if(t.toptab=this.realIndex+1,3==t.toptab?t.load3=!0:4==t.toptab&&(t.load4=!0),0==this.realIndex){if(t.page1ScrollTop<200){var e=t.page1ScrollTop/200;return void(e<.2?(t.$refs.detailTop2.style.visibility="visible",t.$refs.detailTop1.style.visibility="hidden",t.$refs.detailTop2.style.opacity=1):e<1&&(t.$refs.detailTop2.style.visibility="visible",t.$refs.detailTop1.style.visibility="visible",t.$refs.detailTop2.style.opacity=1-e,t.$refs.detailTop1.style.opacity=e))}t.$refs.detailTop2.style.visibility="visible",t.$refs.detailTop1.style.visibility="visible",t.$refs.detailTop2.style.opacity=0,t.$refs.detailTop1.style.opacity=1}else t.$refs.detailTop2.style.visibility="visible",t.$refs.detailTop1.style.visibility="visible",t.$refs.detailTop2.style.opacity=0,t.$refs.detailTop1.style.opacity=1}}},swiperOption:{autoHeight:!1,spaceBetween:0,speed:500,autoplay:{delay:3e3,clickable:!0,disableOnInteraction:!1},loop:!0,paginationShow:!0,initialSlide:0,observer:!0,observeParents:!0,scrollbarDraggable:!0,scrollbarSnapOnRelease:!0,scrollbarHide:!1,on:{slideChange:function(){t.proImgIndex=this.realIndex}}},introductionIndex:1,showPop:!1,selectedText:"",itemSelected:1,selectedNum:1,stepNum:1,maxNum:1,minNum:1,stockNum:1,detailData:{},detailShow:!1,popFlag:"addToCart",detailComment:{},commentListShow:!1,selectedAddress:"",showSelect:!1,regionText:"请选择配送区域",region:[],initData:{title:"请选择地区"},recommendListShow:!1,showActivity:!1,myFeatures:[],introduction1:"",introduction2:"",introduction3:"",isCollect:"false",scrollTopValue2:0,scrollTopValue3:0,scrollTopValue4:0,scrollTopValue5:0,load3:!1,load4:!1,showProductImg:!1,showAddCartAn:!1,addressies:[],backLoadStock:!1,showBigImage:!1,picUrls:[],showPicUrls:!1,lastPath:"",featureRefresh:!0,canSale:!0,matchAddress:null,mktStockNum:-1,activityId:"",singleActivities_2:[],curSingleActivity:null,showSelectDeliveryType:!1,videoUrl:"",playerOptions:{playbackRates:[.7,1,1.5,2],autoplay:!1,muted:!1,loop:!0,preload:"auto",language:"zh-CN",aspectRatio:"1:1",fluid:!0,sources:[{type:"video/mp4",src:""}],poster:"",notSupportedMessage:"此视频暂无法播放，请稍后再试",controlBar:{timeDivider:!0,durationDisplay:!0,remainingTimeDisplay:!0,fullscreenToggle:!0}},arrLen:0,storeName:"",storeID:"",proSkuDistributionId:"",microStoreCode:""}},computed:A({},Object(s.c)(["getPutaggregate"])),methods:{changeDelivery:function(t){this.showSelectDeliveryType=!1,this.$store.state.mall2.staticDeliverType=t,this.$bridgefunc.vuexStorage(),this.deliveryType=this.$route.query.deliveryType,2==this.$store.state.webtype?this.getWechatDatas():this.getDatas()},selectDeliveryType:function(){this.showSelectDeliveryType=!0},removeSingleActivity:function(){this.activityId="-2",this._getProductDetail()},reviseSingleActivity:function(){for(var t=this,e=[],i=0;i<this.singleActivities_2.length;i++){var s=this.singleActivities_2[i];e.push({mktActivityId:s.activityId,title:s.activityTitle,checked:s.activityId==this.curSingleActivity.activityId})}e.push({mktActivityId:"-2",title:"不参加兑换活动",checked:!1}),v.a.open({listData:e,sureFunc:function(e){t.activityId=e.mktActivityId,t._getProductDetail()}})},joinSingleActivity:function(t){this.activityId=t.activityId,this._getProductDetail()},noticeIsShow:function(){return!(!this.detailData.noticeActivityDetail||""==this.detailData.noticeActivityDetail||!this.detailData.noticeActivityDetail.activityPrice||""==this.detailData.noticeActivityDetail.activityPrice)&&new Date(this.detailData.noticeActivityDetail.startTime.replace(/\-/g,"/")).getTime()>1e3*this.$store.state.severTime.currentTime},getNoticeTime:function(){var t=this.detailData.noticeActivityDetail.startTime.replace(/\-/g,"/"),e=new Date(t),i=e.getMonth()+1,s=e.getDate(),a=e.getHours(),o=e.getMinutes();return this.$util.getzf(i)+"月"+this.$util.getzf(s)+"日"+this.$util.getzf(a)+":"+this.$util.getzf(o)},getNoticePrice:function(){var t=this.detailData.noticeActivityDetail.activityPrice;return this.detailData.noticeActivityDetail.activityType+"价￥"+this.$util.toDecimal2(t)},getScrollTop:function(){return"top: "+this.$store.state.barHeight+"px;"},canNotSaleEvent:function(){this.$Toast("当前区域不可售")},noStockEvent:function(){this.$Toast("当前地区没有库存！")},descartesInList:function(t,e){for(var i=!1,s=0;s<e.length;s++){var a=e[s].split(",");if(t.length==a.length){for(var o=0;o<a.length;o++){var n=t[o];if("*"!=n){if(n!=a[o]){i=!1;break}i=!0}else i=!0}if(i)return!1}}return!0},getCanSelectWith:function(t,e){if(e.selected)return!1;for(var i=this.detailData.kyList,s=this.detailData.featureList,a=[],o=0;o<s.length;o++)if(o!=t){for(var n=s[o],l=!1,r=0;r<n.featureValueList.length;r++){var c=n.featureValueList[r];if(c.selected){l=!0,a.push(c.featureValueId);break}}l||a.push("*")}else a.push(e.featureValueId);return this.descartesInList(a,i)},productPickageEvent:function(t){console.log(t);var e="/mall2/detail/"+this.$util.getDataString();2==t.productType&&(e="/mall2/ticketdetail"),this.$router.push({path:e,query:{id:t.id,skuId:t.skuId,lastPath:this.$route.path,productType:t.productType}})},getSelectedTabStyle:function(t){if(t==this.toptab)return{fontWeight:"600",fontSize:"18px"}},showBigImgsEvent:function(t){this.picUrls=t,this.showPicUrls=!0},getCommentImgs:function(t){return""!=t?t.split(","):[]},closeBigImage:function(){this.showBigImage=!1,this.showPicUrls=!1},showBigImageEvent:function(){this.showBigImage=!0},productImgAfterEnter:function(t){this.showProductImg=!1,this.showAddCartAn=!0},beforeEnter:function(t){t.style.transform="translate3d(0,0,0)",t.children[0].style.opacity=0},afterEnter:function(t){var e=t.getBoundingClientRect().bottom,i=t.children[0].getBoundingClientRect().left,s=this.$refs.gouwuche.getBoundingClientRect().left,a=this.$refs.gouwuche.getBoundingClientRect().top;t.style.transform="translate3d(0,"+(a-e)+"px,0)",t.style.transition="transform .55s cubic-bezier(0.3, -0.25, 0.7, -0.15)",t.children[0].style.transform="translate3d("+(s-i)+"px,0,0)",t.children[0].style.transition="transform .55s linear",t.children[0].style.opacity=1,this.showAddCartAn=!1},_setDefaultPickupAddress:function(t){var e={token:this.$store.state.login.token,selfId:t};this.$http.post("/app/json/user_address/addDefaultAddress",e).then((function(t){}),(function(t){}))},selectPickUpAddress:function(){var t=this;u.a.open({initData:{selectedId:this.$store.state.mall2.zitiAddress.id,token:this.$store.state.login.token,posx:this.$store.state.currentLocation.posx,posy:this.$store.state.currentLocation.posy,skuIds:[this.detailData.skuId]},addressEvent:function(e){u.a.close(),e&&(t.$store.state.mall2.zitiAddress=e,t.$bridgefunc.vuexStorage(),t._getProductDetail(),t._setDefaultPickupAddress(e.id))},otherAddressEvent:function(){t.backLoadStock=!0;var e=[t.detailData.skuId];t.$router.push({path:"/mall2/selfliftingsite",query:{skuIds:JSON.stringify(e)}}),u.a.close()}})},touchend:function(){var t=this.$refs.scrollView1.scrollTop,e=this.$refs.scrollView1.scrollHeight-this.$refs.scrollView1.offsetHeight;console.log(t,e),t>e+50&&(this.proView=2)},pageSite:function(){var t=this.$refs.scrollView1.scrollTop;this.pullScrollEvent(t)},pullScrollEvent:function(t){if(1==this.proView){if(this.page1ScrollTop=t,t<200){var e=t/200;return void(e<.5?(this.$refs.detailTop2.style.visibility="visible",this.$refs.detailTop1.style.visibility="hidden",this.$refs.detailTop2.style.opacity=1):e<1&&(this.$refs.detailTop2.style.visibility="visible",this.$refs.detailTop1.style.visibility="visible",this.$refs.detailTop2.style.opacity=1-e,this.$refs.detailTop1.style.opacity=e))}this.$refs.detailTop2.style.visibility="visible",this.$refs.detailTop1.style.visibility="visible",this.$refs.detailTop2.style.opacity=0,this.$refs.detailTop1.style.opacity=1}else this.scrollTopValue2=t},getCommentUserStr:function(t){if(""!=t.userName)return t.userName;var e=t.userPhone+"";if(11==e.length){var i=e.split("");return i.splice(1,9,"*********"),i.join("")}return"未知用户"},bottomPull:function(t){t("done"),this.proView=2},topPull:function(t){t("done"),this.proView=1},toCart:function(){var t="/micro_sho/cart";1==this.$store.state.globalConfig.microshop_groupbuying_exhibition&&(t="/micro_sho/buyingCart"),this.$router.push({path:t,query:{microStoreCode:this.microStoreCode}})},backEvent:function(){2!=this.proView?this.$router.go(-1):this.proView=1},activityProducts:function(t){this.showActivity=!1;var e="/mall2/list/"+this.$util.getDataString();this.$router.push({path:e,query:{pageType:"activity",activity:t.id,delivertype:this.deliveryType,skuId:this.detailData.skuId,storeOuCode:this.detailData.storeOuCode,lastPath:this.$route.path}})},couponProducts:function(t){console.log(t);var e="/mall2/list/"+this.$util.getDataString();this.$router.push({path:e,query:{pageType:"coupon",coupon:t.couTypeCode,couThresholdAmount:t.couThresholdAmount,couFaceValue:t.couFaceValue,skuId:this.detailData.skuId,lastPath:this.$route.path,storeOuCode:this.detailData.storeOuCode,endTime:this.$util.getDateFromString(t.validEndDate)}})},couponEvent:function(){var t=this;""!=this.detailData.couponInList?d.a.open({initData:{listData:this.detailData.couponInList,skuId:this.detailData.skuId,storeOuCode:this.detailData.storeOuCode,type:"receive",categoryId:this.detailData.categoryId,token:this.$store.state.login.token},selectedCoupon:function(t){console.log(t),d.a.close()},getedCoupon:function(e){for(var i=0;i<t.detailData.couponInList.length;i++)if(t.detailData.couponInList[i].couTypeNo==e.couTypeNo){""==e.validEndDate&&(e.validEndDate=(new Date).getTime()+2592e6),t.detailData.couponInList.splice(i,1,e);break}},couponProducts:function(e){t.couponProducts(e),d.a.close()}}):this.$Toast("当前商品没有可领优惠券！")},getServerText:function(t){return 1==t.key?t.days+"天换货":2==t.key?t.days+"天退货":3==t.key?t.days+"天维修":void 0},proSelectEvent:function(){this.popFlag="addToCart",this.showPop=!0},subFeatureEvent:function(t,e){var i=this;if(this.getCanSelectWith(e,t))this.$Toast("当前规格组合没有商品!");else{if(t.selected)return t.selected=!1,this.featureRefresh=!1,void this.$nextTick((function(){i.featureRefresh=!0}));for(var s=this.detailData.featureList[e],a=0;a<s.featureValueList.length;a++)s.featureValueList[a].selected=!1;t.selected=!0,this.generateSelectedText(),this.myFeatures.length==this.detailData.featureList.length&&this._getProductDetail()}},numChange:function(){this.generateSelectedText()},generateSelectedText:function(){this.selectedText="",this.myFeatures=[];for(var t=0;t<this.detailData.featureList.length;t++)for(var e=this.detailData.featureList[t],i=0;i<e.featureValueList.length;i++){var s=e.featureValueList[i];if(s.selected){this.selectedText+=s.featureValue+"，",this.myFeatures.push(s.featureValueId);break}}this.selectedText+=this.selectedNum+(this.detailData.metric?this.detailData.metric:"件")},dataProcessing:function(t){var e=this.$mallCommon.priceFromItem(t);t.dpedData=e},_getCustomStock:function(){var t=this;if((2!=this.deliveryType||""!=this.$store.state.mall2.selectAddress.id&&null!=this.$store.state.mall2.selectAddress.id)&&(1!=this.deliveryType||""!=this.$store.state.mall2.zitiAddress.id&&null!=this.$store.state.mall2.zitiAddress.id)){var e={token:this.$store.state.login.token,productList:[{skuId:this.detailData.skuId}],areaAddress:{province:this.$store.state.mall2.selectAddress.provinceId,city:this.$store.state.mall2.selectAddress.cityId,area:this.$store.state.mall2.selectAddress.countryId,town:this.$store.state.mall2.selectAddress.townId},deliverType:this.deliveryType,selfPickStore:this.$store.state.mall2.zitiAddress.id,storeCode:this.detailData.storeOuCode};this.$http.post("/app/json/app_stock/querySkuStockByApp",e).then((function(e){var i=e.data;if(0==i.status){t.canSale=!0;var s=i.data.productList;s.length>0&&(t.stockNum=s[0].stockCurrentNumber,-1!=t.mktStockNum&&(t.stockNum=t.mktStockNum<t.stockNum?t.mktStockNum:t.stockNum),t.maxNum=""!=t.detailData.saleNumMax?t.detailData.saleNumMax:-1,null!=t.detailData.discountGoodsCntPerOrder&&""!=t.detailData.discountGoodsCntPerOrder&&t.maxNum>t.detailData.discountGoodsCntPerOrder&&(t.maxNum=t.detailData.discountGoodsCntPerOrder),t.maxNum=t.maxNum>t.stockNum?t.stockNum:t.maxNum)}else 2201==i.errorCode?t.canSale=!1:t.$Toast(i.info)}),(function(e){t.$Toast("请求数据失败！")}))}},selectArea:function(){var t=this;h.a.open({initData:{selectedId:this.$store.state.mall2.selectAddress.id,token:this.$store.state.login.token},addressEvent:function(e,i){t.matchAddress=i,t.$store.state.mall2.selectAddress=e,t.$bridgefunc.vuexStorage(),t._getCustomStock(),h.a.close()}})},selectedItemsEvent:function(t){var e=t.item;if(this.selectedItems=t.selecteds,4==this.selectedItems.length)return this.showSelect=!1,this.region=this.selectedItems,void this.getRegionText();this._getRegionData(e.id)},regionCloseEvent:function(){this.showSelect=!1},_getRegionData:function(t){var e=this;this.$Loading.open();var i={token:this.$store.state.login.token,parentId:t};this.$http.post("/app/json/area/loadAreaList",i).then((function(t){e.$Loading.close();var i=t.data;if(0==i.status){var s=i.data;console.log(s),s.length>0?e.$nextTick((function(){console.log(this.$refs.regionselect),this.$refs.regionselect.pushCustomOptions(s)})):(e.showSelect=!1,e.region=e.selectedItems,e.getRegionText())}else e.$Toast(i.info)}),(function(t){e.$Loading.close(),console.log("获取失败",t),e.$Toast("获取数据失败")}))},getRegionText:function(){for(var t="",e={provinceId:"",provinceName:"",cityId:"",cityName:"",countryId:"",countryName:"",townId:"",townName:"",id:"-1"},i=0;i<this.region.length;i++){var s=this.region[i];t+=s.name,0==i?(e.provinceId=s.id,e.provinceName=s.name):1==i?(e.cityId=s.id,e.cityName=s.name):2==i?(e.countryId=s.id,e.countryName=s.name):3==i&&(e.townId=s.id,e.townName=s.name)}e.addressFull=e.provinceName+e.cityName+e.countryName+e.townName,this.$store.state.mall2.selectAddress=e,this.$bridgefunc.vuexStorage(),this._getCustomStock(),this.regionText=t,this.$refs.regionselect.reset(null)},allCommentEvent:function(){this.commentListShow=!0,this.toptabEvent(3)},toptabEvent:function(t){this.toptab=t,3==this.toptab?this.load3=!0:4==this.toptab&&(this.load4=!0),console.log(this.$refs.mySwiper),this.$refs.mySwiper.swiper.slideTo(t-1)},introductionSelected:function(t){this.introductionIndex=t},addToCart:function(t){var e=this;if(0==this.$store.state.microSho.carts.length)this.$store.state.microSho.carts.push({skuId:t.skuId,storeOuCode:t.storeOuCode,deliverType:this.$store.state.mall2.staticDeliverType,proSkuDistributionId:this.proSkuDistributionId,number:this.selectedNum,checked:1,selfActivityId:-2});else{var i=null;this.$store.state.microSho.carts.forEach((function(s,a){if(t.skuId==s.skuId)return e.$store.state.microSho.carts[a].number+=1,void(i=!0)})),i||this.$store.state.microSho.carts.push({skuId:t.skuId,storeOuCode:t.storeOuCode,deliverType:this.$store.state.mall2.staticDeliverType,proSkuDistributionId:this.proSkuDistributionId,number:this.selectedNum,checked:1,selfActivityId:-2})}this.showPop=!1,this.showProductImg=!0},buyNowEvent:function(){if(3==this.detailData.mktActivityPriceLevel&&this.detailData.soldNum>=100&&this.$Toast("该商品已抢光，将会使用原价购买！"),""!=this.$store.state.login.token||2!=this.$store.state.webtype){if(2==this.deliveryType){if(""==this.$store.state.mall2.selectAddress.id)return void this.$Toast("请选择配送区域")}else if(""==this.$store.state.mall2.zitiAddress.id)return void this.$Toast("请选择自提点");this.popFlag="buyNow",this.showPop=!0}else this.bindWechat()},popClose:function(){this.showPop=!1},popSureEvent:function(t){"addToCart"==this.popFlag?this._addToCart(t):"buyNow"==this.popFlag&&this._buyNow(),this.showPop=!1},_getProductDetail:function(){var t=this;this.$Loading.open();var e={token:this.$store.state.login.token,productType:this.productType,skuId:this.skuId,featureValueIds:this.myFeatures,lng:this.$store.state.currentLocation.posx,lat:this.$store.state.currentLocation.posy,deliverType:this.deliveryType};this.id&&""!=this.id||(e.storeOuCode=this.$route.query.storeOuCode?this.$route.query.storeOuCode:"",e.pickupStoreOuCode=this.$route.query.storeOuCode?this.$route.query.storeOuCode:""),""!=this.activityId&&(e.activityId=this.activityId),1==this.deliveryType&&(e.pickUpId=this.$store.state.mall2.zitiAddress.id,e.pickupStoreOuCode=this.$store.state.mall2.zitiAddress.storeCode?this.$store.state.mall2.zitiAddress.storeCode:this.$route.query.storeOuCode?this.$route.query.storeOuCode:""),this.$http.post("/app/json/product/getAppProDetail",e).then((function(e){t.$Loading.close();var i=e.data;if(0==i.status){t.detailData=i.data,0===t.detailData.remainNum&&t.$Toast("活动商品库存已售空，需原价购买！");var s=t.detailData.skuId,a=t.$route.query.deliveryType;1!=t.detailData.deliveryType&&2!=t.detailData.deliveryType||(a=t.detailData.deliveryType),t.deliveryType=a,t.$store.state.mall2.staticDeliverType=a,1==a&&c.a.checkIsInitialLoad((function(e){e&&t._getProductDetail()})),s&&a&&t.$mallCommon.pushBrowsingHistory(s,a),t.selectedNum<t.detailData.saleNumBegin&&(t.selectedNum=""!=t.detailData.saleNumBegin?t.detailData.saleNumBegin:1),t.stepNum=""!=t.detailData.saleNumStep?t.detailData.saleNumStep:1,t.minNum=""!=t.detailData.saleNumBegin?t.detailData.saleNumBegin:1,t.maxNum=""!=t.detailData.saleNumMax?t.detailData.saleNumMax:-1,null!=t.detailData.discountGoodsCntPerOrder&&""!=t.detailData.discountGoodsCntPerOrder&&t.maxNum>t.detailData.discountGoodsCntPerOrder&&(t.maxNum=t.detailData.discountGoodsCntPerOrder,console.log(t.maxNum)),t.mktStockNum=""!=t.detailData.mktStockNum?t.detailData.mktStockNum:-1;for(var o=0;o<t.detailData.featureList.length;o++)for(var n=t.detailData.featureList[o],l=0;l<n.featureValueList.length;l++)for(var r=n.featureValueList[l],d=0;d<t.detailData.myFeatureValueList.length;d++){var h=t.detailData.myFeatureValueList[d];if(r.featureValueId==h.featureValueId){r.selected=!0;break}}t.generateSelectedText(),t.singleActivities_2=[],t.curSingleActivity=null;for(var u=t.detailData.activityDetail||{},m=t.detailData.skuActivityList,v=0;v<m.length;v++)m[v].activityId,u.activityId;var p=t.$mallCommon.priceFromItem(t.detailData);t.detailData.dpedData=p,t.introduction1=t.detailData.proSkuMediaModel.mobileDetail,t.introduction2=t.detailData.proSkuMediaModel.mobileParam,t.introduction3=t.detailData.afterHelp,t.id=t.detailData.id,t.skuId!=t.detailData.skuId&&(t.skuId=t.detailData.skuId,t.load3=!1,t._getDetailComment(t.skuId)),t.detailShow=!0,t._getCustomStock(),t._getCollectState(),t.setWxShareArgs(),t.arrLen=t.detailData.picUrls.length;var g=t.detailData.proSkuMediaModel.videoUrl;g&&null!=g&&""!=g&&(t.arrLen++,t.videoUrl=g,t.playerOptions.sources[0].src=g,t.swiperOption.autoplay=!1,t.swiperOption.loop=!1,t.proImgIndex=0)}else t.$Toast(i.info)}),(function(e){t.$Loading.close(),t.$Toast("请求数据失败！")}))},_getDetailComment:function(t){var e=this,i={token:this.$store.state.login.token,skuId:t};this.$http.post("/app/json/evaluate/loadSkuDetailTwoEvaluate",i).then((function(t){var i=t.data;0==i.status?e.detailComment=i.data:e.$Toast(i.info)}),(function(t){e.$Toast("请求数据失败！")}))},_addToCart:function(t){var e=this;if(0==this.$store.state.microSho.carts.length)this.$store.state.microSho.carts.push({skuId:t.skuId,storeOuCode:t.storeOuCode,deliverType:this.$store.state.mall2.staticDeliverType,proSkuDistributionId:this.proSkuDistributionId,number:this.selectedNum,checked:1,selfActivityId:-2});else{var i=null;this.$store.state.microSho.carts.forEach((function(s,a){if(t.skuId==s.skuId)return e.$store.state.microSho.carts[a].number+=1,void(i=!0)})),i||this.$store.state.microSho.carts.push({skuId:t.skuId,storeOuCode:t.storeOuCode,deliverType:this.$store.state.mall2.staticDeliverType,proSkuDistributionId:this.proSkuDistributionId,number:this.selectedNum,checked:1,selfActivityId:-2})}},_buyNow:function(){var t=this;if(this.stockNum<this.selectedNum)this.$Toast("当前商品库存不足！");else{this.$Loading.open();var e={token:this.$store.state.login.token,carts:[{skuId:this.detailData.skuId,storeOuCode:this.detailData.storeOuCode,number:this.selectedNum,proSkuDistributionId:this.proSkuDistributionId,selfActivityId:this.activityId,checked:"1"}],microStoreCode:this.microStoreCode,deliveryType:this.$store.state.mall2.staticDeliverType,userAddress:this.$store.state.mall2.selectAddress,pickupId:this.$store.state.mall2.zitiAddress.id,userAddressId:""};2==this.deliveryType&&this.$store.state.mall2.selectAddress.id>0&&(e.userAddressId=this.$store.state.mall2.selectAddress.id),this.$http.post("/app/json/app_cart/SettleCart",e).then((function(i){t.$Loading.close();var s=i.data;if(0==s.status){var a={res:s.data,paramsData:e,deliveryType:t.detailData.deliveryType};t.$store.state.mall2.selectAddress.id>0||2!=t.detailData.deliveryType||(t.matchAddress?(t.$store.state.mall2.selectAddress=t.matchAddress,t.$bridgefunc.vuexStorage((function(){}))):a.noMatch=!0),1==t.$mallCommon.isExistCanNotAttendActivity(s.data.occur)?t.$MessageBox.confirm("部分商品不能参加活动</br>将按原价购买，是否继续？","提示",{confirmButtonText:"确定"}).then((function(e){t.$router.push({name:"填写订单",params:a})})).catch((function(t){})):t.$router.push({name:"填写订单",params:a})}else t.$Toast(s.info)}),(function(e){t.$Loading.close(),t.$Toast("请求数据失败！")}))}},_getCollectState:function(){var t=this;if(""!=this.$store.state.login.token){var e={token:this.$store.state.login.token,productId:this.id};this.$http.post("/app/json/user_pro_collect/checkUserHasCollectPro",e).then((function(e){var i=e.data;0==i.status?(t.isCollect=i.data,t.$nextTick((function(){t.collectName="collectName"}))):(t.$Toast(i.info),t.collectName="collectName")}),(function(e){t.$Toast("请求数据失败！")}))}},collectEvent:function(){var t=this;if(""!=this.$store.state.login.token||2!=this.$store.state.webtype){var e={token:this.$store.state.login.token,id:this.id,skuId:this.detailData.skuId,deliveryType:this.detailData.deliveryType,storeOuCode:this.detailData.storeOuCode};this.$http.post("/app/json/user_pro_collect/addOrCancelUserProCollect",e).then((function(e){var i=e.data;0==i.status?"false"==t.isCollect?t.isCollect="true":t.isCollect="false":t.$Toast(i.info)}),(function(e){t.$Toast("请求数据失败！")}))}else this.bindWechat()},getDatas:function(){this._getProductDetail(),""!=this.$store.state.login.token&&(this._getDetailComment(this.skuId),this.$userCenter._getCartCount())},getWechatDatas:function(){var t=this;1==this.deliveryType?null==this.$store.state.mall2.zitiAddress.id||""==this.$store.state.mall2.zitiAddress.id?this.getSysStoreById():this.getDatas():""==this.$store.state.mall2.selectAddress.id||"undefined"==this.$store.state.mall2.selectAddress.id?this.$store.state.login.token&&this.$store.state.login.token.length?this.$userCenter._getUserLocalhistory((function(){""==t.$store.state.mall2.selectAddress.id||"undefined"==t.$store.state.mall2.selectAddress.id?t.getWechatSignature():t.getDatas()})):this.getWechatSignature():this.getDatas()},getSysStoreById:function(){var t=this;this.$Loading.open();var e={id:this.$route.query.storeOuCodeNew};this.$http.post("/app/json/user_address/getSysStoreById",e).then((function(e){t.$Loading.close();var i=e.data;0==i.status?(t.$store.state.mall2.zitiAddress=i.data,t.getDatas()):t.$Toast(i.info)}),(function(e){t.$Loading.close(),t.$Toast("请求数据失败！")}))},getWechatSignature:function(){var t=this;r.a.getWechatSignature((function(e){e?r.a.wxGetLocation((function(e){t.$mallCommon.addressAnalysis((function(e){t.getDatas()}),e)})):(console.log("签名失败"),t.getDatas())}))},bindWechat:function(t){t&&(this.$store.state.pushData.pushData=t,this.$store.state.pushData.pushType=0,this.$store.state.indexData.selectedIndex="",this.$bridgefunc.vuexStorage((function(){}))),this.$util.wechatBind()},setWxShareArgs:function(){if(2==this.$store.state.webtype){var t={};(t={}).title=this.detailData.skuName,t.sharetext=this.detailData.skuName,t.imageurl=this.detailData.phMainUrl,t.detailurl=this.$store.state.globalConfig.wxBaseUrl+l.a.shareUrl+this.$route.fullPath,1==this.detailData.deliveryType&&(t.detailurl=t.detailurl+"&storeID="+this.$store.state.mall2.zitiAddress.id),this.$store.state.login.token&&""!=this.$store.state.login.token&&(t.detailurl=t.detailurl+"&recommend="+this.$store.state.userInfo.userId,t.detailurl=t.detailurl+"&recommendPhone="+this.$store.state.login.phone),r.a.getWechatSignature((function(e){e?r.a.wxSetShareData(t):console.log("签名失败")}))}}},created:function(){this.microStoreCode=this.$route.query.microStoreCode?this.$route.query.microStoreCode:"",this.lastPath=this.$route.query.lastPath?this.$route.query.lastPath:"",this.id=this.$route.query.id?this.$route.query.id:"",this.skuId=this.$route.query.skuId?this.$route.query.skuId:"",this.storeName=this.$route.query.storeName?this.$route.query.storeName:"",this.storeID=this.$route.query.storeID?this.$route.query.storeID:"",this.proSkuDistributionId=this.$route.query.proSkuDistributionId?this.$route.query.proSkuDistributionId:"",this.$route.query.deliveryType&&(this.$store.state.mall2.staticDeliverType=this.$route.query.deliveryType),this.deliveryType=this.$store.state.mall2.staticDeliverType,this.productType=this.$route.query.productType?this.$route.query.productType:"",this.activityId=this.$route.query.activityId?this.$route.query.activityId:"",""==this.id&&""==this.skuId||(2==this.$store.state.webtype?this.getWechatDatas():this.getDatas())},activated:function(){0!=this.scrollTopValue3&&(this.$refs.scrollView2.scrollTop=this.scrollTopValue3),0!=this.scrollTopValue4&&(this.$refs.scrollView3.scrollTop=this.scrollTopValue4),0!=this.scrollTopValue5&&(this.$refs.scrollView4.scrollTop=this.scrollTopValue5),0!=this.scrollTopValue2&&this.$refs.pullTo2.setScrollTopValue(this.scrollTopValue2),0!=this.page1ScrollTop&&this.$refs.pullTo1.setScrollTopValue(this.page1ScrollTop),this.backLoadStock&&this._getCustomStock()},beforeRouteLeave:function(t,e,i){t.path==this.lastPath?this.$keepaliveHelper.deleteCache(this):(this.$refs.scrollView2&&(this.scrollTopValue3=this.$refs.scrollView2.scrollTop),this.$refs.scrollView3&&(this.scrollTopValue4=this.$refs.scrollView3.scrollTop),this.$refs.scrollView4&&(this.scrollTopValue5=this.$refs.scrollView4.scrollTop)),i()},beforeDestroy:function(){}},y=(i("lJyb"),i("KHd+")),b=Object(y.a)(C,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"detail mall2"},[i("div",{ref:"detailTop2",staticClass:"detail-top",style:{height:t.$store.state.barHeight+t.$market.getNavHeight(!0)+"px"}},[i("div",{staticClass:"navcontent",style:{top:t.$store.state.barHeight+"px",height:t.$market.getNavHeight(!0)+"px","line-height":t.$market.getNavHeight(!0)+"px"}},[2!=t.$store.state.webtype?i("div",{staticClass:"nav-back-btn",staticStyle:{left:"10px",top:"5px",width:"34px",height:"34px",padding:"5px"},on:{click:t.backEvent}},[i("img",{staticStyle:{display:"block",width:"100%",height:"100%"},attrs:{src:"static/image/mall2/back.png"}})]):t._e()])]),t._v(" "),t.detailShow?i("div",{ref:"detailTop1",staticClass:"detail-top",staticStyle:{visibility:"hidden"},style:{height:t.$store.state.barHeight+t.$market.getNavHeight(!0)+"px"}},[i("nav-top",{attrs:{isMust:"true",noBack:2==t.$store.state.webtype,noTitle:!0},on:{backEvent:t.backEvent}},[i("transition",{attrs:{name:"transition1"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:1==t.proView,expression:"proView == 1"}],staticClass:"detail-tab",staticStyle:{left:"20%",right:"20%","font-size":"16px"}},[i("div",{staticClass:"btn-div",style:t.getSelectedTabStyle(1),on:{click:function(e){return t.toptabEvent(1)}}},[t._v("\n            商品\n          ")]),t._v(" "),i("div",{staticClass:"btn-div",style:t.getSelectedTabStyle(2),on:{click:function(e){return t.toptabEvent(2)}}},[t._v("\n            详情\n          ")]),t._v(" "),i("div",{staticClass:"btn-div",style:t.getSelectedTabStyle(3),on:{click:function(e){return t.toptabEvent(3)}}},[t._v("\n            评价\n          ")]),t._v(" "),i("div",{staticClass:"btn-div",style:t.getSelectedTabStyle(4),on:{click:function(e){return t.toptabEvent(4)}}},[t._v("\n            推荐\n            ")])])]),t._v(" "),i("transition",{attrs:{name:"transition2"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:2==t.proView,expression:"proView == 2"}],staticStyle:{position:"absolute",left:"20%",right:"20%","font-size":"18px","font-weight":"500","text-align":"center"}},[t._v("\n          图文详情\n        ")])])],1)],1):t._e(),t._v(" "),t.detailShow?i("div",{ref:"scrollView",staticClass:"scroll-div theme_bg_white",style:t.getScrollTop()},[i("swiper",{ref:"mySwiper",staticClass:"main-swiper",attrs:{options:t.mainSwiper}},[i("swiper-slide",{class:{"swiper-no-swiping":2==t.proView}},[i("div",{staticClass:"main-swiper",staticStyle:{position:"relative"}},[i("transition",{attrs:{name:"transition1"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:1==t.proView,expression:"proView == 1"}],staticClass:"main-swiper theme_bg_white_f5",staticStyle:{position:"absolute"}},[i("pull-to",{ref:"pullTo1",attrs:{bottomConfig:{pullText:"",triggerText:"释放显示商品详情",loadingText:"加载中...",doneText:"加载完成",failText:"加载失败",loadedStayTime:400,stayDistance:40,triggerDistance:50},"bottom-load-method":t.bottomPull,"top-load-method":t.topPull,"is-bottom-bounce":!0,"is-top-bounce":!1,doSiteCallback:!0},on:{pageSite:t.pullScrollEvent}},[i("div",[i("div",{staticClass:"swiper-div theme_bg_white"},[i("swiper",{attrs:{options:t.swiperOption}},[""!=t.videoUrl?i("swiper-slide",[i("video-player",{ref:"videoPlayer",staticClass:"video-player vjs-custom-skin",attrs:{playsinline:!0,options:t.playerOptions}})],1):t._e(),t._v(" "),t._l(t.detailData.picUrls,(function(e,s){return i("swiper-slide",{key:s},[i("div",{staticClass:"swiper-img-div",on:{click:t.showBigImageEvent}},[i("img",{attrs:{src:e}})])])}))],2),t._v(" "),i("div",{staticClass:"swiper-index"},t._l(t.arrLen,(function(e,s){return i("div",{staticClass:"si-item theme_bg_white_ef",class:{"cus-index":t.proImgIndex==s,theme_bg_red_i:t.proImgIndex==s}})})),0)],1),t._v(" "),i("div",{staticClass:"base-info theme_bg_white"},[3==t.detailData.mktActivityPriceLevel?i("div",{staticClass:"seconds-kill"},[i("div",{staticClass:"left-div"},[i("div",{staticClass:"sk-row"},[i("div",{staticClass:"price theme_font_white"},[i("span",[t._v("￥")]),t._v(" "),i("span",{staticClass:"price-z"},[t._v(t._s(t.detailData.dpedData.integer))]),t._v(" "),i("span",[t._v("."+t._s(t.detailData.dpedData.decimals))])]),t._v(" "),i("div",{staticClass:"progress"},[i("mt-progress",{attrs:{value:t.detailData.soldNum||0,"bar-height":16}})],1),t._v(" "),t.detailData.soldNum<100?i("div",{staticClass:"progress-text theme_font_white"},[t._v("\n                            已抢"+t._s(t.detailData.soldNum||0)+"%\n                          ")]):i("div",{staticClass:"progress-text theme_font_white"},[t._v("\n                            已抢光\n                          ")])]),t._v(" "),i("div",{staticClass:"sk-row"},[i("div",{staticClass:"sk-icon"},[i("i",{staticClass:"iconfont mall-icon-test theme_bg_white theme_font_red"}),t._v(" "),i("span",{staticClass:"theme_font_white"},[t._v("秒杀价")])]),t._v(" "),i("div",{staticClass:"o-price theme_font_white",class:{"line-through":2==t.$store.state.globalConfig.priceShowType}},[1==t.$store.state.globalConfig.priceShowType?i("span",[t._v("原价:")]):t._e(),t._v(":￥"+t._s(t.$util.toDecimal2(t.$util.toDecimal2(t.detailData.dpedData.linePrice)))+"\n                          ")])])]),t._v(" "),i("div",{staticClass:"right-div theme_bg_light_red"},[i("div",{staticClass:"skr-row theme_font_red"},[t._v("\n                          距离结束还剩:\n                        ")]),t._v(" "),i("div",{staticClass:"skr-row"},[i("Countdown",{attrs:{endTime:t.$util.getDateFromString(t.detailData.mktEndDate)}})],1)])]):t._e(),t._v(" "),3!=t.detailData.mktActivityPriceLevel?i("div",{staticClass:"price"},[i("PriceOrder",{attrs:{detailitem:t.detailData}}),t._v(" "),t.detailData.dpedData.linePrice?i("span",{staticClass:"price-small theme_font_tint left-m-8",class:{"line-through":2==t.$store.state.globalConfig.priceShowType}},[1==t.$store.state.globalConfig.priceShowType?i("span",[t._v("原价:")]):t._e(),t._v("￥"+t._s(t.$util.toDecimal2(t.$util.toDecimal2(t.detailData.dpedData.linePrice))))]):t._e()],1):t._e(),t._v(" "),t.noticeIsShow()?i("div",{staticClass:"row"},[i("div",{staticClass:"activity-notice"},[i("div",{staticClass:"sk-icon"},[i("i",{staticClass:"iconfont mall-icon-test theme_bg_red theme_font_white"}),t._v(" "),i("span",{staticClass:"theme_font_red"},[t._v(t._s(t.detailData.noticeActivityDetail.activityType)+"价")])]),t._v(" "),i("div",{staticClass:"notice-price theme_font_red"},[t._v("\n                          "+t._s(t.getNoticeTime()+" "+t.getNoticePrice())+"\n                        ")])])]):t._e(),t._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"title theme_font_black",domProps:{innerHTML:t._s(t.detailData.showTitle)}})])]),t._v(" "),4==t.productType?i("div",{staticClass:"block-div theme_bg_white"},[i("div",{staticClass:"flex-row"},[i("div",{staticClass:"title theme_font_black"},[t._v("套装明细")])]),t._v(" "),t._l(t.detailData.packageSkuList,(function(e){return i("div",{staticClass:"pro-row"},[i("div",{staticClass:"img-div"},[i("img",{attrs:{src:e.phMainUrl}})]),t._v(" "),i("div",{staticClass:"info-div"},[i("div",{staticClass:"title pro-title-height double-line theme_font_black",domProps:{innerHTML:t._s(e.showTitle)}}),t._v(" "),i("div",{staticClass:"feature-names double-line theme_font_tint"},[t._v(t._s(e.featureNames))]),t._v(" "),i("div",{staticClass:"price"},[i("span",{staticClass:"font-small theme_font_tint",staticStyle:{float:"right"}},[t._v("x "+t._s(e.skuNum)+" "+t._s(e.metric))]),t._v(" "),i("span",{staticClass:"font-small theme_font_red"},[t._v("￥")]),t._v(" "),i("span",{staticClass:"price-mid theme_font_red full"},[t._v(t._s(e.salePrice))])])])])}))],2):t._e(),t._v(" "),t.singleActivities_2.length>0&&null!=t.curSingleActivity?i("div",{staticClass:"block-div theme_bg_white"},[i("div",{staticClass:"flex-row"},[i("p",{staticClass:"sl-tag theme_border_red_i theme_font_red"},[t._v(t._s(t.curSingleActivity.activityType))]),t._v(" "),i("p",{staticClass:"sl-title single-line"},[t._v(t._s(t.curSingleActivity.activityTitle))]),t._v(" "),t.singleActivities_2.length>1?i("p",{staticClass:"good-salespro-right",on:{click:function(e){return t.reviseSingleActivity()}}},[t._v("修改")]):t._e(),t._v(" "),1==t.singleActivities_2.length?i("p",{staticClass:"good-salespro-right",on:{click:function(e){return t.removeSingleActivity()}}},[t._v("不参加")]):t._e()])]):t._e(),t._v(" "),t.singleActivities_2.length>0&&null==t.curSingleActivity?i("div",{staticClass:"block-div theme_bg_white"},t._l(t.singleActivities_2,(function(e){return i("div",{staticClass:"flex-row"},[i("p",{staticClass:"sl-tag theme_border_red_i theme_font_red"},[t._v(t._s(e.activityType))]),t._v(" "),i("p",{staticClass:"sl-title single-line"},[t._v(t._s(e.activityTitle))]),t._v(" "),i("p",{staticClass:"good-salespro-right",on:{click:function(i){return t.joinSingleActivity(e)}}},[t._v("参加")])])})),0):t._e(),t._v(" "),i("div",{staticClass:"block-div theme_bg_white"},[i("div",{staticClass:"flex-row",on:{click:t.couponEvent}},[i("div",{staticClass:"label-middle theme_font_gray"},[t._v("领券")]),t._v(" "),""==t.detailData.couponModels?i("div",{staticClass:"font-small theme_font_tint"},[t._v("暂无可用优惠券")]):t._e(),t._v(" "),t._l(t.detailData.couponModels,(function(e,s){return""!=t.detailData.couponModels&&s<2?i("div",{staticClass:"act-item-full theme_standard_bg theme_font_white"},[t._v(t._s(e.couTypeTitle)+"\n                      ")]):t._e()})),t._v(" "),i("div",{staticClass:"full"}),t._v(" "),i("div",[i("i",{staticClass:"iconfont mall-gengduo more-icon theme_font_tint"})])],2),t._v(" "),t._l(t.detailData.activityList,(function(e,s){return i("div",{staticClass:"flex-row",on:{click:function(e){t.showActivity=!0}}},[i("div",{staticClass:"label-middle theme_font_gray"},[t._v(t._s(0==s?"促销":""))]),t._v(" "),i("div",{staticClass:"act-item-empty theme_standard_font theme_standard_bdr single-line"},[t._v(t._s(e.type))]),t._v(" "),i("div",{staticClass:"activity-text theme_font_common full single-line"},[t._v(t._s(e.title))]),t._v(" "),0==s?i("div",[i("i",{staticClass:"iconfont mall-gengduo more-icon theme_font_tint"})]):t._e()])}))],2),t._v(" "),i("div",{staticClass:"block-div theme_bg_white"},[i("div",{staticClass:"flex-row",on:{click:t.proSelectEvent}},[i("div",{staticClass:"label-middle theme_font_gray"},[t._v("已选")]),t._v(" "),i("div",{staticClass:"theme_font_black",staticStyle:{"font-weight":"500"}},[t._v(t._s(t.selectedText))]),t._v(" "),i("div",{staticClass:"full"}),t._v(" "),i("div",[i("i",{staticClass:"iconfont mall-gengduo more-icon theme_font_tint"})])])]),t._v(" "),5!=t.detailData.productType?i("div",{staticClass:"block-div no-padding-bottom theme_bg_white"},["2"==t.detailData.deliveryType?i("div",{staticClass:"flex-row",staticStyle:{"align-items":"flex-start"},on:{click:t.selectArea}},[i("div",{staticClass:"label-middle theme_font_gray"},[t._v("送至")]),t._v(" "),""==t.$store.state.mall2.selectAddress.id?i("div",{staticClass:"theme_font_black full address-div"},[t._v("\n                        "+t._s(t.regionText)+"\n                      ")]):t._e(),t._v(" "),""!=t.$store.state.mall2.selectAddress.id?i("div",{staticClass:"theme_font_black full address-div"},[t._v("\n                        "+t._s(t.$store.state.mall2.selectAddress.addressFull)+"\n                      ")]):t._e(),t._v(" "),i("div",[i("i",{staticClass:"iconfont mall-gengduo more-icon theme_font_tint"})])]):t._e(),t._v(" "),"1"==t.detailData.deliveryType?i("div",{staticClass:"flex-row",on:{click:t.selectPickUpAddress}},[i("div",{staticClass:"label-middle theme_font_gray"},[t._v("自提点")]),t._v(" "),i("div",{staticClass:"theme_font_black"},[t._v(t._s(t.$store.state.mall2.zitiAddress.storeName))]),t._v(" "),i("div",{staticClass:"full"}),t._v(" "),i("div",[i("i",{staticClass:"iconfont mall-gengduo more-icon theme_font_tint"})])]):t._e(),t._v(" "),i("div",{staticClass:"color-row theme_bg_dark"},t._l(t.detailData.saleServices,(function(e){return parseInt(e.days)>0?i("div",{staticClass:"server-item"},[i("i",{staticClass:"iconfont mall-dui theme_standard_font icon-font"}),t._v(" "),i("span",[t._v(t._s(t.getServerText(e)))])]):t._e()})),0)]):t._e(),t._v(" "),t.detailComment.evaluateCount>0?i("div",{staticClass:"block-div theme_bg_white"},[i("div",{staticClass:"flex-row",on:{click:t.allCommentEvent}},[0==t.detailComment.evaluateCount?i("div",{staticClass:"title theme_font_black"},[t._v("暂无评价")]):t._e(),t._v(" "),t.detailComment.evaluateCount>0?i("div",{staticClass:"title theme_font_black"},[t._v("\n                        评价（"+t._s(t.detailComment.evaluateCount)+"）\n                      ")]):t._e(),t._v(" "),i("div",{staticClass:"full"}),t._v(" "),t.detailComment.evaluateCount>0?i("div",{staticClass:"font-small right-margin theme_font_common"},[i("span",[t._v("好评率")]),t._v(" "),i("span",{staticClass:"theme_standard_font"},[t._v(t._s(t.detailComment.evaluateGoodRate))])]):t._e(),t._v(" "),i("div",[i("i",{staticClass:"iconfont mall-gengduojiantou icon-font theme_font_common"})])]),t._v(" "),t._l(t.detailComment.evaluateList,(function(e){return i("div",{staticClass:"comment-div"},[i("div",{staticClass:"flex-row comment-row theme_font_common"},[i("div",{staticClass:"header-img right-margin"},[i("img",{attrs:{src:""!=e.userAvtUrl?e.userAvtUrl:"static/image/mall2/header.png"}})]),t._v(" "),i("div",{staticClass:"right-margin full"},[t._v(t._s(t.getCommentUserStr(e)))]),t._v(" "),i("div",{},t._l(5,(function(t){return i("i",{staticClass:"iconfont mall-xingxing icon-level theme_font_tint",class:{theme_standard_font_i:e.score>=t}})})),0)]),t._v(" "),i("div",{staticClass:"flex-row comment-row theme_font_gray"},[i("div",{staticStyle:{"line-height":"1.4"}},[t._v(t._s(e.evaluateContent))])]),t._v(" "),""!=e.evaluateImages?i("div",{staticClass:"imgs"},t._l(t.getCommentImgs(e.evaluateImages),(function(e,s){return s<4?i("div",{staticClass:"s-img-div"},[i("img",{attrs:{src:e}})]):t._e()})),0):t._e()])}))],2):t._e(),t._v(" "),t.detailData.packageList.length>0?i("div",{staticClass:"block-div theme_bg_white"},[i("div",{staticClass:"flex-row"},[i("div",{staticClass:"title theme_font_black"},[t._v("组合套装")])]),t._v(" "),i("div",{staticClass:"recommend-div padding-bottom-8"},t._l(t.detailData.packageList,(function(e){return i("div",{staticClass:"pro-div",on:{click:function(i){return t.productPickageEvent(e)}}},[t._v("\n                        "+t._s(t.dataProcessing(e))+"\n                        "),i("div",{staticClass:"img-div"},[i("img",{attrs:{src:e.phMainUrl}})]),t._v(" "),i("div",{staticClass:"title single-line theme_font_black"},[t._v(t._s(e.skuName))]),t._v(" "),i("div",{staticClass:"price single-line"},[i("span",{staticClass:"font-small theme_font_red"},[t._v("￥")]),t._v(" "),i("span",{staticClass:"left-no-space price-z theme_font_red"},[t._v(t._s(e.dpedData.integer))]),t._v(" "),i("span",{staticClass:"left-no-space font-small theme_font_red"},[t._v("."+t._s(e.dpedData.decimals))]),t._v(" "),e.dpedData.linePrice&&e.activityPrice<e.salePrice?i("span",{staticClass:"font-small theme_font_tint left-m-8",class:{"line-through":2==t.$store.state.globalConfig.priceShowType}},[1==t.$store.state.globalConfig.priceShowType?i("span",[t._v("原价:")]):t._e(),t._v("￥"+t._s(t.$util.toDecimal2(e.dpedData.linePrice)))]):t._e()])])})),0)]):t._e(),t._v(" "),i("div",{staticClass:"load-next theme_bg_white"},[i("img",{attrs:{src:"static/image/mall2/load-next.png"}}),t._v(" "),i("span",{staticClass:"theme_font_tint"},[t._v("上拉加载图文详情")])])])])],1)]),t._v(" "),i("transition",{attrs:{name:"transition2"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:2==t.proView,expression:"proView == 2"}],staticClass:"main-swiper",staticStyle:{position:"absolute",top:"44px"}},[i("div",{staticClass:"btns-div theme_bg_white"},[i("div",{staticClass:"btn-item theme_font_gray",class:{theme_standard_font_i:1==t.introductionIndex},on:{click:function(e){return t.introductionSelected(1)}}},[t._v("商品介绍\n                ")]),t._v(" "),i("div",{staticClass:"btn-item theme_font_gray",class:{theme_standard_font_i:2==t.introductionIndex},on:{click:function(e){return t.introductionSelected(2)}}},[t._v("规格参数\n                ")]),t._v(" "),i("div",{staticClass:"btn-item theme_font_gray",class:{theme_standard_font_i:3==t.introductionIndex},on:{click:function(e){return t.introductionSelected(3)}}},[t._v("售后包装\n                ")])]),t._v(" "),i("div",{staticClass:"detail-div detail-div-1"},[i("pull-to",{ref:"pullTo2",attrs:{topConfig:{pullText:"",triggerText:"释放显示商品介绍",loadingText:"加载中...",doneText:"加载完成",failText:"加载失败",loadedStayTime:400,stayDistance:40,triggerDistance:50},"top-load-method":t.topPull,"is-bottom-bounce":!1,"is-top-bounce":!0}},[i("div",{staticClass:"detail-content detail-bottom"},[1==t.introductionIndex?i("div",{staticClass:"tip"},[i("span",{staticClass:"line"}),t._v(" "),i("span",{staticClass:"text"},[t._v("商品信息")]),t._v(" "),i("span",{staticClass:"line"})]):t._e(),t._v(" "),1==t.introductionIndex?i("div",{staticClass:"introduction-div",domProps:{innerHTML:t._s(t.introduction1)}}):t._e(),t._v(" "),2==t.introductionIndex?i("div",{staticClass:"introduction-div",domProps:{innerHTML:t._s(t.introduction2)}}):t._e(),t._v(" "),3==t.introductionIndex?i("div",{staticClass:"introduction-div",domProps:{innerHTML:t._s(t.introduction3)}}):t._e()])])],1)])])],1)]),t._v(" "),i("swiper-slide",[i("div",{staticClass:"main-swiper",staticStyle:{position:"relative"}},[i("div",{ref:"scrollView2",staticClass:"main-swiper-scroll-content enable-scroll",staticStyle:{top:"44px"}},[i("div",{staticClass:"detail-div"},[i("div",{staticClass:"btns-div theme_bg_white"},[i("div",{staticClass:"btn-item theme_font_gray",class:{theme_standard_font_i:1==t.introductionIndex},on:{click:function(e){return t.introductionSelected(1)}}},[t._v("商品介绍\n                ")]),t._v(" "),i("div",{staticClass:"btn-item theme_font_gray",class:{theme_standard_font_i:2==t.introductionIndex},on:{click:function(e){return t.introductionSelected(2)}}},[t._v("规格参数\n                ")]),t._v(" "),i("div",{staticClass:"btn-item theme_font_gray",class:{theme_standard_font_i:3==t.introductionIndex},on:{click:function(e){return t.introductionSelected(3)}}},[t._v("售后包装\n                ")])]),t._v(" "),i("div",{staticClass:"detail-content"},[1==t.introductionIndex?i("div",{staticClass:"tip"},[i("span",{staticClass:"line"}),t._v(" "),i("span",{staticClass:"text"},[t._v("商品信息")]),t._v(" "),i("span",{staticClass:"line"})]):t._e(),t._v(" "),1==t.introductionIndex?i("div",{staticClass:"introduction-div",domProps:{innerHTML:t._s(t.introduction1)}}):t._e(),t._v(" "),2==t.introductionIndex?i("div",{staticClass:"introduction-div",domProps:{innerHTML:t._s(t.introduction2)}}):t._e(),t._v(" "),3==t.introductionIndex?i("div",{staticClass:"introduction-div",domProps:{innerHTML:t._s(t.introduction3)}}):t._e()])])])])]),t._v(" "),i("swiper-slide",[i("div",{staticClass:"main-swiper",staticStyle:{position:"relative"}},[i("div",{ref:"scrollView3",staticClass:"main-swiper-scroll-content enable-scroll",staticStyle:{top:"44px"}},[t.load3?i("Judgement",{directives:[{name:"show",rawName:"v-show",value:3==t.toptab,expression:"toptab == 3"}],attrs:{skuId:this.skuId},on:{showBigImgs:t.showBigImgsEvent}}):t._e()],1)])]),t._v(" "),i("swiper-slide",[i("div",{staticClass:"main-swiper",staticStyle:{position:"relative"}},[i("div",{ref:"scrollView4",staticClass:"main-swiper-scroll-content enable-scroll",staticStyle:{top:"44px"}},[t.load4?i("Recommend",{directives:[{name:"show",rawName:"v-show",value:4==t.toptab,expression:"toptab == 4"}],attrs:{deliveryType:this.deliveryType,skuId:this.skuId}}):t._e()],1)])])],1)],1):t._e(),t._v(" "),0==t.canSale?i("div",{staticClass:"bottom-tip theme_bg_yl theme_standard_font_i"},[t._v("该商品在该地区暂不支持配送，非常抱歉！")]):t._e(),t._v(" "),t.detailShow?i("div",{staticClass:"bottom-btns"},[i("div",{ref:"gouwuche",staticClass:"btn full",on:{click:t.toCart}},[t.$store.state.microSho.carts.length+t.$store.state.microSho.groupbuyingCarts.length>0?i("p",{staticClass:"cart-num theme_bg_red theme_font_white"},[t._v("\n        "+t._s(t.$store.state.microSho.carts.length+t.$store.state.microSho.groupbuyingCarts.length))]):t._e(),t._v(" "),i("i",{staticClass:"iconfont mall-gouwuche btn-icon theme_font_gray"}),t._v(" "),i("p",{staticClass:"text"},[t._v("购物车")])]),t._v(" "),i("div",{staticClass:"btn full",on:{click:t.collectEvent}},["false"==t.isCollect?i("i",{staticClass:"iconfont mall-shoucang btn-icon theme_font_gray"}):t._e(),t._v(" "),i("transition",{attrs:{name:t.collectName}},["true"==t.isCollect?i("img",{staticClass:"btn-img",attrs:{src:"static/image/mall2/collect.png"}}):t._e()]),t._v(" "),i("p",{staticClass:"text"},[t._v("收藏")])],1),t._v(" "),0!=t.stockNum&&1==t.canSale&&"0"!=t.detailData.status?i("div",{staticClass:"btn theme_standard_bg theme_font_white",on:{click:function(e){return t.addToCart(t.detailData)}}},[i("p",{staticClass:"title"},[t._v("加入购物车")])]):t._e(),t._v(" "),0!=t.stockNum&&1==t.canSale&&"0"!=t.detailData.status?i("div",{staticClass:"btn theme_bg_y theme_font_white",on:{click:t.buyNowEvent}},[i("p",{staticClass:"title"},[t._v("立即购买")])]):t._e(),t._v(" "),0==t.stockNum&&1==t.canSale&&"0"!=t.detailData.status?i("div",{staticClass:"btn big-btn theme_bg_y theme_font_white",on:{click:t.noStockEvent}},[i("p",{staticClass:"title"},[t._v("商品缺货")])]):t._e(),t._v(" "),1==t.canSale&&"0"==t.detailData.status?i("div",{staticClass:"btn big-btn theme_bg_y theme_font_white",on:{click:t.canNotSaleEvent}},[i("p",{staticClass:"title"},[t._v("商品已下架")])]):t._e(),t._v(" "),0==t.canSale?i("div",{staticClass:"btn big-btn theme_bg_y theme_font_white",on:{click:t.canNotSaleEvent}},[i("p",{staticClass:"title"},[t._v("不在可售区域")])]):t._e()]):t._e(),t._v(" "),t.showPop?i("pop-view",{on:{closeEvent:t.popClose}},[i("div",{staticClass:"pop-body"},[i("div",{staticClass:"pro-row"},[i("div",{staticClass:"img-div"},[i("img",{attrs:{src:t.detailData.phMainUrl}})]),t._v(" "),i("div",{staticClass:"info-div"},[i("div",{staticClass:"title theme_font_black",domProps:{innerHTML:t._s(t.detailData.showTitle)}}),t._v(" "),i("div",{staticClass:"price"},[i("PriceOrder",{attrs:{listitem:t.detailData}})],1)])]),t._v(" "),i("div",{staticClass:"pop-scroll-div"},[t._l(t.detailData.featureList,(function(e,s){return t.featureRefresh?i("div",{staticClass:"items-div"},[i("div",{staticClass:"title theme_font_common"},[t._v(t._s(e.featureName))]),t._v(" "),t._l(e.featureValueList,(function(e){return i("div",{staticClass:"item theme_font_common theme_bg_white_ef",class:{"theme_light_bg_i theme_standard_font_i theme_standard_bdr_i":e.selected,theme_font_tint_i:t.getCanSelectWith(s,e)},on:{click:function(i){return t.subFeatureEvent(e,s)}}},[t._v("\n            "+t._s(e.featureValue)+"\n          ")])}))],2):t._e()})),t._v(" "),i("div",{staticClass:"count-line"},[i("div",{staticClass:"full theme_font_common"},[t._v("购买数量（库存 "+t._s(t.stockNum)+"）")]),t._v(" "),i("van-stepper",{attrs:{min:t.minNum,max:t.maxNum,step:t.stepNum,integer:""},on:{change:t.numChange},model:{value:t.selectedNum,callback:function(e){t.selectedNum=e},expression:"selectedNum"}})],1)],2),t._v(" "),"addToCart"==t.popFlag?i("div",{staticClass:"bottom-btn theme_font_white theme_bg_red",on:{click:function(e){return t.popSureEvent(t.detailData)}}},[t._v("加入购物车\n      ")]):t._e(),t._v(" "),"buyNow"==t.popFlag?i("div",{staticClass:"bottom-btn theme_font_white theme_bg_red",on:{click:t.popSureEvent}},[t._v("立即购买\n      ")]):t._e()])]):t._e(),t._v(" "),t.showActivity?i("pop-view",{on:{closeEvent:function(e){t.showActivity=!1}}},[i("div",{staticClass:"pop-body"},[i("div",{staticClass:"pop-title theme_font_common"},[t._v("促销")]),t._v(" "),i("div",{staticClass:"pop-scroll-div"},t._l(t.detailData.activityList,(function(e,s){return i("div",{staticClass:"activity-div",on:{click:function(i){return t.activityProducts(e)}}},[i("div",{staticClass:"act-item-empty theme_border_red theme_font_red"},[t._v(t._s(e.type))]),t._v(" "),i("div",{staticClass:"activity-text theme_font_common full"},[t._v(t._s(e.title))]),t._v(" "),i("i",{staticClass:"iconfont mall-gengduojiantou more-icon theme_font_tint"})])})),0)])]):t._e(),t._v(" "),t.showSelectDeliveryType?i("pop-view",{on:{closeEvent:function(e){t.showSelectDeliveryType=!1}}},[i("div",{staticClass:"pop-body"},[i("div",{staticClass:"pop-title theme_font_common"},[t._v("切换配送方式")]),t._v(" "),i("div",{staticClass:"pop-scroll-div"},[i("div",{staticClass:"activity-div",on:{click:function(e){return t.changeDelivery("1")}}},[i("div",{staticClass:"act-item-empty theme_border_red theme_font_red"},[t._v("自提")]),t._v(" "),i("div",{staticClass:"activity-text theme_font_common full"},[t._v("您需要到选中的自提点提货")]),t._v(" "),i("i",{staticClass:"iconfont more-icon",class:"1"==t.detailData.deliveryType?["mall-xuanzhong","theme_font_red"]:["mall-weixuanzhong","theme_font_tint"]})]),t._v(" "),i("div",{staticClass:"activity-div",on:{click:function(e){return t.changeDelivery("2")}}},[i("div",{staticClass:"act-item-empty theme_border_red theme_font_red"},[t._v("配送")]),t._v(" "),i("div",{staticClass:"activity-text theme_font_common full"},[t._v("将会送至您指定的位置")]),t._v(" "),i("i",{staticClass:"iconfont more-icon",class:"2"==t.detailData.deliveryType?["mall-xuanzhong","theme_font_red"]:["mall-weixuanzhong",t.theme_font_tint]})])])])]):t._e(),t._v(" "),t.showSelect?i("RegionSelect",{ref:"regionselect",attrs:{initData:t.initData},on:{selectedItemsEvent:t.selectedItemsEvent,closeEvent:t.regionCloseEvent}}):t._e(),t._v(" "),i("transition",{attrs:{name:"bounce"},on:{afterEnter:t.productImgAfterEnter}},[t.showProductImg?i("img",{staticClass:"productImg",attrs:{src:this.detailData.phMainUrl,alt:""}}):t._e()]),t._v(" "),i("transition",{on:{"after-enter":t.afterEnter,"before-enter":t.beforeEnter}},[t.showAddCartAn?i("div",{staticClass:"anProductImg"},[i("img",{attrs:{src:this.detailData.phMainUrl,alt:""}})]):t._e()]),t._v(" "),t.showBigImage?i("BigImage",{attrs:{initIndex:""!=t.videoUrl?t.proImgIndex-1:t.proImgIndex,picUrls:t.detailData.picUrls},on:{closeEvent:t.closeBigImage}}):t._e(),t._v(" "),t.showPicUrls?i("BigImage",{attrs:{picUrls:t.picUrls},on:{closeEvent:t.closeBigImage}}):t._e()],1)}),[],!1,null,"0ca38f26",null);e.default=b.exports},vITN:function(t,e,i){"use strict";var s=i("wqSU");i.n(s).a},wqSU:function(t,e,i){},xqti:function(t,e,i){},z1K3:function(t,e,i){"use strict";var s=i("4cMt");i.n(s).a}}]);