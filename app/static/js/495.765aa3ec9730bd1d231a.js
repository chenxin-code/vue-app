(window.webpackJsonp=window.webpackJsonp||[]).push([[495],{"8VFa":function(t,e,i){"use strict";var a=i("eKiX");i.n(a).a},Ml61:function(t,e,i){"use strict";i.r(e),i("5+UC");var a=i("05lO"),s=i("eX/C"),n=(i("L2JU"),i("wd/R")),o=i.n(n),l={name:"answerList",mixins:[s.a],data:function(){return{url:"",id:"",detailData1:!1,answerList:[],createTime:"",validityTime:"",jiangList:[],detailId:"",ouCode:"",orderId:""}},mounted:function(){this.loadData(),this.Intercept()},methods:{detail:function(t){this.detailData1=!0,-1==t.indexOf("&quot")?this.jiangList=JSON.parse(t)||[]:this.jiangList=[]},dati:function(t){var e=this,i=this;i.detailId=t.configId,i.ouCode=t.ouCode,i.orderId=t.orderId,console.log(111,t),this.$Loading.open();var s={id:i.detailId,token:this.$store.state.login.token,ouCode:i.ouCode,orderId:i.orderId};i.participateData(s).then((function(t){e.$Loading.close(),console.log(t),"success"===t.data.result?i.$router.push({path:"/subject",query:{subId:i.detailId,orderId:i.orderId}}):Object(a.a)(t.data.info)}))},closeDetail:function(){this.detailData1=!1},formatDate:function(t){var e;return(e=new Date(t)).getFullYear()+"/"+(e.getMonth()+1)+"/"+e.getDate()},loadData:function(){var t=this,e={token:this.$store.state.login.token};t.listData(e).then((function(e){e.data.result&&(t.answerList=e.data.data||[],t.answerList.forEach((function(e){e.createTime=o()(e.createTime).format("YYYY/MM/DD HH:mm:ss"),e.questionStartTime=o()(e.questionStartTime).format("YYYY/MM/DD HH:mm:ss"),e.questionEndTime=o()(e.questionEndTime).format("YYYY/MM/DD HH:mm:ss"),t.validityTime=e.questionStartTime+"至"+e.questionEndTime})))}))},Intercept:function(){var t=this.url||window.location.href;console.log(t);var e=t.substr(t.indexOf("?"));console.log(e);var i=e.slice(1).split("=");console.log(i[1]),this.id=i[1]}},computed:{},components:{},watch:{}},r=(i("8VFa"),i("KHd+")),c=Object(r.a)(l,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"body"},[i("nav-top",{attrs:{title:"问卷列表"},on:{backEvent:function(e){return t.$router.go(-1)}}},[i("div",{staticClass:"shareBox"},[i("div",[i("router-link",{attrs:{to:"/historyList"}},[i("i",{staticClass:"icon iconfont mall-dingdan"})])],1)])]),t._v(" "),i("nav-content",[i("div",{staticClass:"containDiv"},[t.answerList.length>0?i("div",{staticClass:"contain"},t._l(t.answerList,(function(e,a){return i("div",[2===e.serviceType?i("div",{staticClass:"publicInvoice"},[i("p",{staticClass:"p"},[i("span",[t._v(t._s(e.title))]),i("span",[t._v("未填写")])]),t._v(" "),i("van-cell-group",[i("van-field",{attrs:{disabled:"",label:"派发时间"},model:{value:e.createTime,callback:function(i){t.$set(e,"createTime",i)},expression:"item.createTime"}}),t._v(" "),i("van-field",{attrs:{disabled:"",label:"订单编号"},model:{value:e.ouCode,callback:function(i){t.$set(e,"ouCode",i)},expression:"item.ouCode"}}),t._v(" "),i("van-field",{attrs:{disabled:"",label:"订单类型"},model:{value:e.orderType,callback:function(i){t.$set(e,"orderType",i)},expression:"item.orderType"}}),t._v(" "),i("van-field",{attrs:{disabled:"",label:"有效期"},model:{value:t.validityTime,callback:function(e){t.validityTime=e},expression:"validityTime"}}),t._v(" "),i("div",{staticClass:"publicInvoiceDiv",on:{click:function(i){return t.detail(e.questionPrize)}}},[i("van-field",{attrs:{label:"问卷奖品",disabled:""}}),t._v(" "),i("span",{staticClass:"img"},[i("img",{attrs:{src:"static/image/invoice/arrows.png",alt:""}})])],1),t._v(" "),i("van-field",{staticClass:"neirong",attrs:{disabled:"",label:"问卷说明"},model:{value:e.remark,callback:function(i){t.$set(e,"remark",i)},expression:"item.remark"}})],1),t._v(" "),i("div",{staticClass:"answerd",on:{click:function(i){return t.dati(e)}}},[i("a",{staticClass:"theme_bg_red"},[t._v("填写问卷")])])],1):t._e(),t._v(" "),1===e.serviceType||4===e.serviceType?i("div",{staticClass:"publicInvoice"},[i("p",{staticClass:"p"},[i("span",[t._v(t._s(e.title))]),i("span",[t._v("未填写")])]),t._v(" "),i("van-cell-group",[i("van-field",{attrs:{disabled:"",label:"开始时间"},model:{value:e.questionStartTime,callback:function(i){t.$set(e,"questionStartTime",i)},expression:"item.questionStartTime"}}),t._v(" "),i("van-field",{attrs:{disabled:"",label:"结束时间"},model:{value:e.questionEndTime,callback:function(i){t.$set(e,"questionEndTime",i)},expression:"item.questionEndTime"}}),t._v(" "),i("div",{staticClass:"publicInvoiceDiv",on:{click:function(i){return t.detail(e.questionPrize)}}},[i("van-field",{attrs:{label:"问卷奖品",disabled:""}}),t._v(" "),i("span",{staticClass:"img"},[i("img",{attrs:{src:"static/image/invoice/arrows.png",alt:""}})])],1),t._v(" "),i("van-field",{staticClass:"neirong",attrs:{disabled:"",label:"问卷说明"},model:{value:e.remark,callback:function(i){t.$set(e,"remark",i)},expression:"item.remark"}})],1),t._v(" "),i("div",{staticClass:"answerd",on:{click:function(i){return t.dati(e)}}},[i("a",{staticClass:"theme_bg_red"},[t._v("填写问卷")])])],1):t._e()])})),0):t._e(),t._v(" "),0==t.answerList.length?i("div",{staticClass:"contain"},[i("span",{staticClass:"emptyState"},[t._v("暂无列表")])]):t._e()]),t._v(" "),t.detailData1?i("div",{staticClass:"detailModal"},[i("div",{staticClass:"detailDiv"},[i("div",{staticClass:"divTitle"},[i("p",{staticClass:"title-p"},[t._v("问卷奖品")]),t._v(" "),i("div",{staticClass:"closeBtn",on:{click:t.closeDetail}},[i("img",{attrs:{src:"static/image/invoice/close-btn.png",alt:""}})])]),t._v(" "),i("ul",[t._l(t.jiangList,(function(e,a){return t.jiangList.length>0?i("li",{key:a},[i("img",{attrs:{src:e.prizeImgUrl?e.prizeImgUrl:"static/image/invoice/jiang.png",alt:""}}),t._v(" "),i("span",[t._v(t._s(e.prizeName))]),t._v(" "),i("span",[t._v(t._s(e.prizeNum))])]):t._e()})),t._v(" "),0==t.jiangList.length?i("p",{staticClass:"pNull"},[t._v("暂无奖品")]):t._e()],2)])]):t._e()])],1)}),[],!1,null,"15e27138",null);e.default=c.exports},eKiX:function(t,e,i){},"eX/C":function(t,e,i){"use strict";e.a={methods:{participateData:function(t){return this.$http.post("/app/json/questionaire/startAnswer",t)},questionData:function(t){return this.$http.post("/app/json/questionaire/appUserConfig",t)},commitData:function(t){return this.$http.post("/app/json/questionaire/submit",t)},prizeData:function(t){return this.$http.post("/app/json/questionaire/completeAct",t)},listData:function(t){return this.$http.post("/app/json/questionaire/findQuestionaireByuserId",t)},historyData:function(t){return this.$http.post("/app/json/questionaire/historyQuestionaireList",t)},historydetailData:function(t){return this.$http.post("/app/json/questionaire/questionaireDetail",t)}}}}}]);