(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-08e1ed21"],{2248:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"iddetail"},[a("nav-top",{on:{backEvent:function(e){return t.$router.go(-1)}}}),a("nav-content",[a("div",{staticClass:"content"},[a("div",{staticClass:"list"},[a("div",{staticClass:"list-con"},[0==this.carditem.cateType?a("div",{staticClass:"row"},[a("div",{staticClass:"label"},[t._v("姓名")]),a("div",{staticClass:"labelvalue"},[t._v(t._s(t.carditem.realName))])]):t._e(),0==this.carditem.cateType?a("div",{staticClass:"row line_top"},[a("div",{staticClass:"label"},[t._v("身份证号")]),a("div",{staticClass:"labelvalue"},[t._v(t._s(t.$util.dealIds(t.carditem.idcardNum)))])]):t._e(),1==this.carditem.cateType?a("div",[a("div",{staticClass:"row line_top"},[a("div",{staticClass:"label"},[t._v("普通护照号")]),a("div",{staticClass:"labelvalue"},[a("van-field",{staticClass:"van",attrs:{size:"16",type:"phone","input-align":"right"},on:{focus:t.focusEn,blur:t.blurEn},model:{value:t.passportNum,callback:function(e){t.passportNum=e},expression:"passportNum"}})],1)]),a("div",{staticClass:"row line_top"},[a("div",{staticClass:"label"},[t._v("公务护照号")]),a("div",{staticClass:"labelvalue"},[a("van-field",{staticClass:"van",attrs:{size:"16",type:"phone","input-align":"right"},on:{focus:t.focusEn,blur:t.blurEn},model:{value:t.pubPassportNum,callback:function(e){t.pubPassportNum=e},expression:"pubPassportNum"}})],1)])]):t._e()])]),a("div",{staticClass:"empty"}),t.canEdit?a("div",{staticClass:"submit",on:{click:t.queryBtn}},[t._v("保存")]):t._e()])])],1)},s=[],r=a("5530"),c=(a("0d03"),a("ac1f"),a("1276"),a("4160"),a("159b"),a("b0c0"),a("2f62")),n={computed:Object(r["a"])({},Object(c["c"])(["userInfo"])),data:function(){return{mindate:new Date(1900,1,1),maxdate:new Date(2050,1,1),passportNum:"",pubPassportNum:"",cateType:"",idData:{},carditem:{},cardList:[],currentDate:new Date,showTimePicker:!1,pickerType:"",canEdit:!1}},watch:{currentEndDate:function(t,e){if("未填写"!=this.currentEffectDate&&"未填写"!=this.currentEndDate&&""==this.carditem.expiryDate){var a=new Date(this.currentEffectDateTime),i=new Date(this.currentEndDateTime);a>=i&&(this.currentEndDate="未填写")}},currentEffectDate:function(t,e){if("未填写"!=this.currentEffectDate&&"未填写"!=this.currentEndDate&&""==this.carditem.effectDate){var a=new Date(this.currentEffectDateTime),i=new Date(this.currentEndDateTime);a>=i&&(this.currentEffectDate="未填写")}}},methods:{getIdCate:function(t){return 0==t?"身份证":3==t?"台胞证":2==t?"港澳通行证":1==t?"护照":4==t?"边民证":"其他"},focusEn:function(){this.canEdit=!0},blurEn:function(){""==this.passportNum&&(this.passportNum="未填写"),""==this.pubPassportNum&&this.pubPassportNum},pickerClick:function(t){this.canEdit=!0,1==t||2==t?(this.mindate=new Date(1900,1,1),this.maxdate=new Date):3==t&&(this.mindate=new Date,this.maxdate=new Date(2050,1,1)),0!=this.carditem.cateType?(this.pickerType=t,this.showTimePicker||(this.showTimePicker=!this.showTimePicker)):this.$Toast(this.$i18n.t("loginRegisterLang.birthinputToast"))},confirmClick:function(t){var e=t,a=e.getMonth()+1,i=e.getDate();a>=1&&a<=9&&(a="0"+a),i>=0&&i<=9&&(i="0"+i);var s=e.getFullYear()+"-"+a+"-"+i;1==this.pickerType?this.birthday=s:2==this.pickerType?(this.currentEffectDate=s,this.currentEffectDateTime=t):3==this.pickerType&&(this.currentEndDate=s,this.currentEndDateTime=t),this.currentDate=new Date,this.showTimePicker=!1},cancleClick:function(){this.showTimePicker=!1},timeFormat:function(t){if(""!=t)return t.split(" ")[0]},idcardList:function(t){var e=this,a={idType:t},i="/app/json/user/getUserCertificateList";this.$Loading.open(),this.$http.post(i,a).then((function(a){e.$Loading.close();var i=a.data,s=i.status,r=(i.result,i.info);0==s?(a.data.data&&a.data.data.forEach((function(a){if(a.cateType==t)return e.carditem=a,(!e.carditem.realName||e.carditem.realName.length<=0)&&(e.carditem.realName=e.carditem.name),!1})),e.carditem.name||(e.carditem.name=e.$store.state.userInfo.realName),e.carditem.realName||(e.carditem.realName=e.carditem.name),e.passportNum=e.carditem.passportNum?e.carditem.passportNum:"未填写",e.pubPassportNum=e.carditem.pubPassportNum?e.carditem.pubPassportNum:"未填写"):e.$Toast(r)}))["catch"]((function(t){e.$Loading.close()}))},queryBtn:function(){var t=this;if(""!=this.passportNum)return 0==this.$util.checkPassport(this.passportNum)?(this.passportNum="",void this.$Toast("护照号填写有误")):void this.$request.post("/app/json/user/passportSubmmit",{cateType:1,pubPassportNum:this.pubPassportNum,passportNum:this.passportNum}).then((function(e){0===e.status?t.$router.go(-1):t.$Toast(e.info?e.info:"提交失败")}));thsi.$Toast("护照号不能为空")}},created:function(){this.cateType=this.$route.query.type,this.idData=this.$route.query.idData||{},this.idcardList(this.cateType)}},u=n,o=(a("8c21"),a("0c7c")),p=Object(o["a"])(u,i,s,!1,null,"1ce4df2c",null);e["default"]=p.exports},"8c21":function(t,e,a){"use strict";a("b56e")},b56e:function(t,e,a){}}]);