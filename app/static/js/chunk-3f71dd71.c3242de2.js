(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3f71dd71"],{"41c5":function(e,a,n){"use strict";n.r(a);var t,s=function(){var e=this,a=e.$createElement,n=e._self._c||a;return n("div",[n("nav-top",{on:{backEvent:function(a){return e.$router.go(-1)}}}),n("nav-content",{staticClass:"travel"},[n("div",{staticClass:"info"},[n("div",{staticClass:"info-con",on:{click:e.instruction}},[n("span",{staticClass:"icon"},[e._v("?")]),e._v(" "),n("span",[e._v("说明")])])]),n("div",{staticClass:"form"},[n("van-form",{ref:"form",attrs:{"validate-first":""},on:{failed:e.onFailed,submit:e.save}},[n("van-field",{attrs:{name:"serviceType",label:"产品类型"},scopedSlots:e._u([{key:"input",fn:function(){return[n("van-radio-group",{attrs:{direction:"horizontal"},model:{value:e.serviceType,callback:function(a){e.serviceType=a},expression:"serviceType"}},[n("van-radio",{attrs:{name:"1"},scopedSlots:e._u([{key:"icon",fn:function(a){return[n("img",{staticClass:"img-icon",class:{checked:1==e.serviceType}})]}}])},[e._v(" 出境游 ")]),n("van-radio",{attrs:{name:"2"},scopedSlots:e._u([{key:"icon",fn:function(a){return[n("img",{staticClass:"img-icon",class:{checked:2==e.serviceType}})]}}])},[e._v(" 国内游 ")])],1)]},proxy:!0}])}),n("van-field",{attrs:{name:"useStartPlace",label:"出发城市",required:"",placeholder:"请输入出发城市",rules:[{required:!0,message:"请输入出发城市"}]},model:{value:e.useStartPlace,callback:function(a){e.useStartPlace=a},expression:"useStartPlace"}}),n("van-field",{attrs:{name:"useEndPlace",required:"",label:"目的地",placeholder:"请输入目的地",rules:[{required:!0,message:"请输入目的地"}]},model:{value:e.useEndPlace,callback:function(a){e.useEndPlace=a},expression:"useEndPlace"}}),n("van-field",{attrs:{label:"出发日期",required:"",name:"useBeginTime",placeholder:"请选择出发日期",rules:[{required:!0,message:"请选择出发日期"}]},on:{click:function(a){e.showCalendar=!0}},model:{value:e.useBeginTime,callback:function(a){e.useBeginTime=a},expression:"useBeginTime"}}),n("van-field",{attrs:{name:"useEndTime",label:"返回日期",required:"",placeholder:"请选择返回日期",rules:[{required:!0,message:"请选择返回日期"}]},on:{click:function(a){e.showCalendar2=!0}},model:{value:e.useEndTime,callback:function(a){e.useEndTime=a},expression:"useEndTime"}}),n("van-field",{attrs:{name:"useNumber",label:"出游人数",required:"",placeholder:"请输入出游人数",rules:[{required:!0,message:"请输入出游人数"}]},model:{value:e.useNumber,callback:function(a){e.useNumber=a},expression:"useNumber"}}),n("van-field",{attrs:{name:"averageAmount",label:"人均预算",required:"",placeholder:"请输入人均预算",rules:[{required:!0,message:"请输入人均预算"}]},model:{value:e.averageAmount,callback:function(a){e.averageAmount=a},expression:"averageAmount"}}),n("van-field",{attrs:{name:"userName",label:"联系人姓名",placeholder:"请输入联系人姓名",disabled:"",required:"",rules:[{required:!0,message:"请输入联系人姓名"}]},model:{value:e.userName,callback:function(a){e.userName=a},expression:"userName"}}),n("van-field",{attrs:{name:"userPhone",label:"手机号",placeholder:"请输入手机号",required:"",rules:[{required:!0,message:"请输入手机号"},{pattern:e.patternPhone,message:"请输入有效手机号"}]},model:{value:e.userPhone,callback:function(a){e.userPhone=a},expression:"userPhone"}}),n("van-field",{attrs:{name:"useEmailAddress",label:"邮箱地址",placeholder:"请输入邮箱地址",required:"",rules:[{required:!0,message:"请输入邮箱地址"},{pattern:e.pattern,message:"邮箱不合法"}]},model:{value:e.useEmailAddress,callback:function(a){e.useEmailAddress=a},expression:"useEmailAddress"}}),n("van-field",{staticClass:"gray",attrs:{name:"userMessage",label:"备注信息",type:"textarea",maxlength:"150",placeholder:"航班时间，酒店星级，特殊要求，最多不超过150字。","label-class":"spacial"},model:{value:e.userMessage,callback:function(a){e.userMessage=a},expression:"userMessage"}})],1),n("van-calendar",{attrs:{"max-date":e.maxDate,"show-confirm":!1},on:{confirm:e.onConfirm},model:{value:e.showCalendar,callback:function(a){e.showCalendar=a},expression:"showCalendar"}}),n("van-calendar",{attrs:{"min-date":e.minDate,"show-confirm":!1},on:{confirm:e.onConfirm2},model:{value:e.showCalendar2,callback:function(a){e.showCalendar2=a},expression:"showCalendar2"}})],1),n("div",{staticClass:"tips"},[e._v(" *为必填项，出发日期为第三天及以后，截止日期不能早于出发日期，请您确认好订单 ")]),n("div",{staticClass:"handle-con"},[n("van-button",{staticClass:"btn cancel",attrs:{round:"",type:"default"},on:{click:e.cancel}},[e._v("取消")]),n("van-button",{staticClass:"btn save",attrs:{round:"",type:"info","native-type":"submit"},on:{click:e.save1}},[e._v(" 提交需求 ")])],1),n("van-action-sheet",{attrs:{title:"说明",round:!1},model:{value:e.show,callback:function(a){e.show=a},expression:"show"}},[n("div",{staticClass:"line"}),n("div",{staticClass:"content",domProps:{innerHTML:e._s(e.content)}},[e._v(" "+e._s(e.content)+" ")]),n("van-button",{staticClass:"sliver",attrs:{type:"info","native-type":"submit"},on:{click:function(a){e.show=!1}}},[e._v(" 我知道了 ")])],1)],1),n("CheckPaidMember",{on:{failHandler:e.failHandler}})],1)},i=[],r=n("ade3"),l=(n("6d73"),n("473d")),o=(n("38d5"),n("772a")),u=(n("b0c0"),n("d3b7"),n("3ca3"),n("ddb0"),n("0d03"),n("ac1f"),n("5319"),{name:"customTravel",components:(t={},Object(r["a"])(t,o["a"].name,o["a"]),Object(r["a"])(t,l["a"].name,l["a"]),Object(r["a"])(t,"CheckPaidMember",(function(){return n.e("chunk-2d0db310").then(n.bind(null,"6f8b"))})),t),data:function(){return{content:null,userMessage:"",useEmailAddress:null,userPhone:null,userName:null,averageAmount:null,useNumber:null,useEndTime:null,useBeginTime:null,useEndPlace:null,useStartPlace:null,serviceType:1,form:{},pattern:/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,patternPhone:/^(13[0-9]|14[0-9]|15[0-9]|16[0-9]|17[0-9]|18[0-9]|19[0-9])\d{8}$/,showCalendar:!1,showCalendar2:!1,show:!1,minDate:new Date,maxDate:new Date("2100-12-30")}},methods:{failHandler:function(){this.$router.go(-1)},onFailed:function(e){},onConfirm:function(e){this.useBeginTime=this.$util.getMyDate(e).replace(/-/g,"/"),this.showCalendar=!1,this.minDate=new Date(e)},onConfirm2:function(e){this.useEndTime=this.$util.getMyDate(e).replace(/-/g,"/"),this.showCalendar2=!1,this.maxDate=new Date(e)},instruction:function(){this.show=!0},save1:function(){this.$refs.form.submit()},cancel:function(){this.$router.go(-1)},save:function(e){var a=this,n=Object.assign(e,{serviceType:this.serviceType,equityMemberId:this.$route.query.id,memberId:this.$route.query.memberId,memberName:this.$route.query.memberName});this.$http.post("/app/json/equity_use_travel/addTravel",n).then((function(e){var n=e.data;0==n.status?a.$router.push({path:"/benefits/success",query:{id:n.data}}):a.$Toast(n.info)}))["catch"]((function(e){a.$Toast(e)}))},getInfo:function(){var e=this,a={};this.$http.post("/app/json/news/getNewsList?values=57",a).then((function(a){var n=a.data;0==n.status?e.content=a.data.data[0].content:e.$Toast(n.info)}))["catch"]((function(a){e.$Toast(a)}))}},created:function(){this.userName=this.$route.query.memberName,this.userPhone=this.$route.query.memberPhone,this.getInfo()},mounted:function(){document.getElementsByName("useBeginTime")[0].addEventListener("focus",(function(){document.activeElement.blur()})),document.getElementsByName("useEndTime")[0].addEventListener("focus",(function(){document.activeElement.blur()}))},beforeDestroy:function(){document.getElementsByName("useBeginTime")[0].removeEventListener("focus",(function(){document.activeElement.blur()})),document.getElementsByName("useEndTime")[0].removeEventListener("focus",(function(){document.activeElement.blur()}))}}),c=u,d=(n("f499"),n("0c7c")),m=Object(d["a"])(c,s,i,!1,null,"314eb5d8",null);a["default"]=m.exports},"8d7d":function(e,a,n){},f499:function(e,a,n){"use strict";n("8d7d")}}]);