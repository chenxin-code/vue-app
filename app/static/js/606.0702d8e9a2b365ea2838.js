(window.webpackJsonp=window.webpackJsonp||[]).push([[606],{"3AAs":function(t,e,a){},Qqnb:function(t,e,a){"use strict";a.r(e);var i=a("YsXA"),s=a.n(i),o=a("0FX9"),l=a.n(o),n=a("Qcq2"),r=a("WQzh"),c=a("sxGJ"),d=a.n(c),v=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},_={name:"orderdetail",components:{PriceOrder:r.a},data:function(){return{orderId:"",orderType:"",orderIndex:"",detailData:null,timeString:"",timeValue:0,myTimer:null,showCode:!1,personList:[],awardActivity:{},orderCategory:"",vipUnitUserCode:"",copyBtn:null,brightnessResult:{},limitType:""}},mounted:function(){var t="";(this.$store.state.globalConfig.acctList||[]).forEach((function(e){"LimitWallet"==e.acctType&&(t=e.startUsing)})),this.limitType=t},computed:{isShowExpress:function(){return 3!=this.$store.state.webtype}},methods:{copyExpressNo:function(){var t=this;this.copyBtn.on("success",(function(e){t.$Toast("物流单号已复制成功")})),this.copyBtn.on("error",(function(t){console.log(t)}))},getIsShowBottomBtns:function(){return!!this.detailData&&(2!=this.getProductType(this.detailData)||"7"!=this.tag)&&"200117"!=this.orderType},getPayTitle:function(){return"1"==this.tag?"需付款":"7"==this.tag?"共":"实付款"},getProductType:function(t){for(var e=t.orderItemList,a=0;a<e.length;a++)if(2==e[a].productType)return"2";return""},getImgArrs:function(t){for(var e=[],a=0;a<t.length;a++)e.push(t[a].phPictureUrl);return e},showFreightDetail:function(){var t=[],e={};e.proImgs=this.getImgArrs(this.detailData.orderItemList),e.freightAmount=this.detailData.freightAmount,e.freightDiscountAmount=this.detailData.freightDiscountAmount,1==this.tag||7==this.tag?e.storeName=this.detailData.ouName:e.storeName=this.detailData.storeName,t.push(e),n.a.open({initData:{listData:t},sureEvent:function(){n.a.close()}})},getPayWayText:function(t){return"200"==t?"支付宝支付":"210"==t?"微信支付":""},hasCommonPro:function(t){for(var e=0;e<t.length;e++)if(1==t[e].productType||4==t[e].productType)return!0;return!1},hasDateProduct:function(t){for(var e=0;e<t.length;e++)if(2==t[e].productType)return!0;return!1},hasCouponPro:function(t){for(var e=0;e<t.length;e++)if(5==t[e].productType)return!0;return!1},showExpress:function(){if(2==this.detailData.interfaceType)this.$router.push({path:"/mall2/expressinfo",query:{expressinfo:encodeURIComponent(JSON.stringify(this.detailData.tracksList))}});else if(1==this.$store.state.globalConfig.enableEMS&&"1"==this.detailData.expressSendingMode)this.$router.push({path:"/mall2/orderlogistics",query:{traceNo:this.detailData.expressNo}});else{var t="https://m.kuaidi100.com/index_all.html?type="+encodeURIComponent(this.detailData.expressName)+"&postid="+encodeURIComponent(this.detailData.expressNo);this.$bridgefunc.customPush({path:t,isnativetop:"1",isVuePage:!1})}},codeBack:function(){this.showCode=!1},showCodeFunc:function(){this.showCode=!0},toComment:function(){this.$router.push({path:"/mall2/commentcenter"})},getPeisongString:function(t){return"0"==t?"快递配送":"2"==t?"京东配送":"快递配送"},_confirmProductApi:function(){var t=this;this.$Loading.open();var e={token:this.$store.state.login.token,orderId:this.orderId,orderType:this.orderType,orderCategory:this.orderCategory,vipUnitUserCode:this.vipUnitUserCode};this.$http.post("/app/json/app_shopping_order/orderConfirm",e).then((function(e){t.$Loading.close();var a=e.data;0==a.status?(t.$store.state.mall2.order.backIndex=3,t.backEvent()):t.$Toast(a.info)}),(function(e){t.$Loading.close(),t.$Toast("请求数据失败！")}))},confirmProduct:function(){var t=this;this.$MessageBox.confirm("您确定已经收到商品了吗？","提示").then((function(e){t._confirmProductApi()})).catch((function(t){}))},reBuy:function(){var t=this;this.$Loading.open();for(var e={token:this.$store.state.login.token,carts:[],deliveryType:this.detailData.deliverType,orderCategory:this.orderCategory,vipUnitUserCode:this.vipUnitUserCode},a=[],i=0;i<this.detailData.orderItemList.length;i++){var s=this.detailData.orderItemList[i],o={skuId:s.skuId,storeOuCode:s.storeOuCode,number:s.number};a.push(o)}e.carts=a,this.$http.post("/app/json/app_cart/addCart",e).then((function(e){t.$Loading.close();var a=e.data;0==a.status?(t.$store.state.mall2.staticDeliverType=t.detailData.deliverType,t.$store.state.mall2.cartNum=a.data,t.$router.push({path:"/mall2/cart",query:{orderCategory:t.orderCategory,vipUnitUserCode:t.vipUnitUserCode}})):t.$Toast(a.info)}),(function(e){t.$Loading.close(),t.$Toast("请求数据失败！")}))},timerCreated:function(){var t=this;this.myTimer&&window.clearInterval(this.myTimer),this.myTimer=window.setInterval((function(){t.timeValue<=0?t.myTimer&&window.clearInterval(t.myTimer):(t.timeValue--,t.timeValueString())}),1e3)},timeValueString:function(){var t,e=this.timeValue,a=0,i=0;e>3600&&(a=parseInt(e/3600),e%=3600),e>60&&(i=parseInt(e/60),e%=60),t=e,this.timeString=a+"时"+i+"分"+t+"秒"},backEvent:function(){this.$router.go(-1)},getInvoiceTypeText:function(){return 0==this.detailData.invoiceType?"电子发票":1==this.detailData.invoiceType?"普通发票":2==this.detailData.invoiceType?"增值税发票":""},payEvent:function(){this.$router.push({path:"/mall2/checkstand",query:{payInfo:JSON.stringify({orderId:this.orderId,orderType:this.orderType,payAmount:this.detailData.payAmount,tradeNo:this.detailData.tradeNo}),occurOuCode:this.detailData.ouCode}})},applyOrder:function(){var t=this,e="申请退款将不退还优惠券！现金会在7-14个工作日内到账，请问是否确认退款？";"cnooc"==this.$store.state.globalConfig.app_home_special_flag&&(e="现金会在7-14个工作日内到账，请问是否确认退款？"),this.$MessageBox.confirm(e,"提示").then((function(e){t.refund()})).catch((function(t){}))},refund:function(){var t=this;this.$Loading.open();var e={token:this.$store.state.login.token,orderType:this.orderType,orderId:this.orderId,orderCategory:this.orderCategory,vipUnitUserCode:this.vipUnitUserCode};this.$http.post("/app/json/app_shopping_order/cancelOrder",e).then((function(e){t.$Loading.close();var a=e.data;0==a.status?(t.$Toast("申请成功"),t.$store.state.mall2.order.backIndex=t.orderIndex,t.backEvent()):t.$Toast(a.info)}),(function(e){t.$Loading.close(),t.$Toast("请求数据失败！")}))},cancelOrder:function(){var t=this;this.$Loading.open();var e={token:this.$store.state.login.token,orderType:this.orderType,orderId:this.orderId,orderCategory:this.orderCategory,vipUnitUserCode:this.vipUnitUserCode};this.$http.post("/app/json/app_shopping_order/cancelOrder",e).then((function(e){t.$Loading.close();var a=e.data;0==a.status?(t.$Toast("取消成功"),t.$store.state.mall2.order.backIndex=t.orderIndex,t.backEvent()):t.$Toast(a.info)}),(function(e){t.$Loading.close(),t.$Toast("请求数据失败！")}))},_getOrderDetail:function(){var t=this;this.$Loading.open();var e={token:this.$store.state.login.token,orderType:this.orderType,orderId:this.orderId,orderCategory:this.orderCategory,vipUnitUserCode:this.vipUnitUserCode};this.$http.post("/app/json/app_shopping_order/detail",e).then((function(e){t.$Loading.close();var a=e.data;if(0==a.status){var i=a.data;if(t.$mallCommon.dataProcessing(i),t.detailData=i,i.orderItemList.length){var o=i.orderItemList[0].bookingGuestJson;if(o.length){var n=JSON.parse(decodeURIComponent(o));t.personList=n}}t.$nextTick((function(){if(""!=i.deliverCheckcode){var e=document.getElementById("codeDiv");"cloudpos"==t.$store.state.globalConfig.webpos_type?l.a.toCanvas(e,i.deliverCheckcode||"",{width:160,margin:0}):s()(e,i.deliverCheckcode,{height:60,displayValue:!1})}t.$refs.copybtn&&(t.copyBtn=new d.a(t.$refs.copybtn))})),"1"==t.tag&&(t.timeValue=i.cancelRemainTime,t.timeValueString(),t.timerCreated())}else t.$Toast(a.info)}),(function(e){t.$Loading.close(),t.$Toast("请求数据失败！")}))},shareActivity:function(){this.$router.push({path:"/share-gift/share",query:{awardActivity:JSON.stringify(this.awardActivity)}})}},created:function(){var t=this;this.orderId=this.$route.query.orderId?this.$route.query.orderId:"",this.orderType=this.$route.query.orderType?this.$route.query.orderType:"",this.tag=this.$route.query.tag?this.$route.query.tag:"",this.orderIndex=this.$route.query.orderIndex?this.$route.query.orderIndex:"0",this.awardActivity=v({orderId:this.orderId},JSON.parse(this.$route.query.awardActivity)),this.orderCategory=this.$route.query.orderCategory,this.vipUnitUserCode=this.$route.query.vipUnitUserCode,this._getOrderDetail(),this.$bridgefunc.brightness(1,0,(function(e){t.brightnessResult=e}))},beforeRouteLeave:function(t,e,a){this.$keepaliveHelper.deleteCache(this),a()},destroyed:function(){this.$bridgefunc.brightness(this.brightnessResult.value,this.brightnessResult.isauto,(function(t){}))}},f=(a("kDnu"),a("KHd+")),u=Object(f.a)(_,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"orderdetail mall2",class:{theme_sys_base:1==t.orderCategory,theme_sys_blue:1==t.orderCategory}},[a("nav-top",{on:{backEvent:t.backEvent}}),t._v(" "),a("nav-content",[t.detailData?a("div",{staticClass:"scroll-div",class:{bottom0:!t.getIsShowBottomBtns()}},[a("div",{staticClass:"top-div"},["1"==t.tag?a("div",{staticClass:"order-info"},[a("div",{staticClass:"row theme_font_white"},[a("div",{staticClass:"title"},[t._v("等待买家付款")]),t._v(" "),a("div",{staticClass:"tip"},[t._v("剩余"+t._s(t.timeString)+"自动关闭订单")])]),t._v(" "),a("div",{staticClass:"row theme_font_white"},[a("div",{staticClass:"price"},[a("span",[t._v("需付款： ￥")]),t._v(" "),a("span",{staticClass:"price-z"},[t._v(t._s(t.detailData.dpedData.integer))]),t._v(" "),a("span",{staticClass:"left-no-space"},[t._v("."+t._s(t.detailData.dpedData.decimals))]),t._v(" "),a("span",[t._v("元")])])])]):t._e(),t._v(" "),"16"==t.tag?a("div",{staticClass:"order-info order-info-top"},[a("div",{staticClass:"row theme_font_white"},[a("div",{staticClass:"icon-div"},[a("i",{staticClass:"iconfont mall-dianpudaochu"})]),t._v(" "),a("div",{staticClass:"title"},[t._v("待发货")])])]):t._e(),t._v(" "),"4"==t.tag&&2==t.detailData.deliverType?a("div",{staticClass:"order-info order-info-top"},[a("div",{staticClass:"row theme_font_white"},[a("div",{staticClass:"icon-div"},[a("i",{staticClass:"iconfont mall-dianpu"})]),t._v(" "),a("div",{staticClass:"title"},[t._v("等待收货")])])]):t._e(),t._v(" "),"4"==t.tag&&1==t.detailData.deliverType?a("div",{staticClass:"order-info order-info-top"},[a("div",{staticClass:"row theme_font_white"},[a("div",{staticClass:"icon-div"},[a("i",{staticClass:"iconfont mall-dianpu"})]),t._v(" "),a("div",{staticClass:"title"},[t._v("等待买家提货")])])]):t._e(),t._v(" "),"9"==t.tag?a("div",{staticClass:"order-info order-info-top"},[a("div",{staticClass:"row theme_font_white"},[a("div",{staticClass:"icon-div"},[a("i",{staticClass:"iconfont mall-xuanzhong"})]),t._v(" "),6!=t.detailData.state?a("div",{staticClass:"title"},[t._v("已完成")]):t._e(),t._v(" "),6==t.detailData.state?a("div",{staticClass:"title"},[t._v("已拒收")]):t._e()])]):t._e(),t._v(" "),"7"==t.tag?a("div",{staticClass:"order-info order-info-top"},[a("div",{staticClass:"row theme_font_white"},[a("div",{staticClass:"icon-div"},[a("i",{staticClass:"iconfont mall-xuanzhong"})]),t._v(" "),a("div",{staticClass:"title"},[t._v("已取消")])])]):t._e(),t._v(" "),a("img",{attrs:{src:"static/image/mall2/order-bg.png"}})]),t._v(" "),a("div",{staticClass:"place block-div theme_bg_white"},["1"==t.tag?a("div",[t.hasDateProduct(t.detailData.orderItemList)?a("div",[a("div",{staticClass:"flex-row"},[a("i",{staticClass:"iconfont mall-ren-copy"}),t._v(" "),a("div",{staticClass:"label-text theme_font_black"},[t._v("手机号:")]),t._v(" "),a("div",{staticClass:"theme_font_black full"},[t._v(t._s(t.detailData.virtualUserPhone))])]),t._v(" "),a("div",{staticClass:"flex-row"},[a("div",{staticClass:"left-space label-text theme_font_black"},[t._v("身份证号:")]),t._v(" "),a("div",{staticClass:"theme_font_black full"},[t._v(t._s(t.detailData.virtualUserIdcard))])])]):t._e(),t._v(" "),2==t.detailData.deliverType?a("div",[t.hasCommonPro(t.detailData.orderItemList)?a("div",[a("div",{staticClass:"flex-row"},[a("i",{staticClass:"iconfont mall-dingwei"}),t._v(" "),a("div",{staticClass:"title right-margin theme_font_black"},[t._v(t._s(t.detailData.receiver))]),t._v(" "),a("div",{staticClass:"title theme_font_black"},[t._v(t._s(t.detailData.mobile))])]),t._v(" "),a("div",{staticClass:"flex-row"},[a("div",{staticClass:"left-space theme_font_tint full"},[t._v("\n                  收货地址："+t._s(t.detailData.provinceName+t.detailData.cityName+t.detailData.countryName+t.detailData.townName+t.detailData.address)+"\n                ")])])]):t._e()]):t._e(),t._v(" "),t.hasCouponPro(t.detailData.orderItemList)?a("div",[a("div",{staticClass:"flex-row"},[a("i",{staticClass:"iconfont mall-dianhua theme_font_common"}),t._v(" "),a("div",{staticClass:"label-text theme_font_black"},[t._v("预留号码:")]),t._v(" "),a("div",{staticClass:"theme_font_black full"},[t._v(t._s(t.detailData.virtualUserPhone))])]),t._v(" "),a("div",{staticClass:"flex-row"},[a("div",{staticClass:"left-space theme_font_tint full"},[t._v("商品相关信息将以短信的形式发放给您")])])]):t._e(),t._v(" "),1==t.detailData.deliverType?a("div",[a("div",{staticClass:"flex-row"},[a("i",{staticClass:"iconfont mall-time theme_font_black"}),t._v(" "),a("div",{staticClass:"label-text theme_font_black"},[t._v("提货时间:")]),t._v(" "),a("div",{staticClass:"theme_font_black full"},[t._v(t._s(t.detailData.selectReceiveTime))])]),t._v(" "),a("div",{staticClass:"flex-row"},[a("i",{staticClass:"iconfont mall-dianpu theme_font_black"}),t._v(" "),a("div",{staticClass:"label-text theme_font_black"},[t._v("提货店铺:")]),t._v(" "),a("div",{staticClass:"theme_font_black full"},[t._v(t._s(t.detailData.pickupName))])]),t._v(" "),a("div",{staticClass:"flex-row"},[a("i",{staticClass:"iconfont mall-ren-copy"}),t._v(" "),a("div",{staticClass:"label-text theme_font_black"},[t._v("联系电话:")]),t._v(" "),a("div",{staticClass:"theme_font_black full"},[t._v(t._s(t.detailData.storePhone))])]),t._v(" "),a("div",{staticClass:"flex-row"},[a("i",{staticClass:"iconfont mall-dingwei theme_font_tint"}),t._v(" "),a("div",{staticClass:"label-text theme_font_black"},[t._v("提货地址:")]),t._v(" "),a("div",{staticClass:"theme_font_black full"},[t._v(t._s(t.detailData.address))])])]):t._e()]):t._e(),t._v(" "),"16"==t.tag?a("div",[t.hasDateProduct(t.detailData.orderItemList)?a("div",[a("div",{staticClass:"flex-row"},[a("i",{staticClass:"iconfont mall-peisong"}),t._v(" "),a("div",{staticClass:"title theme_font_black"},[t._v("订单已提交，等待商家备货")])]),t._v(" "),a("div",{staticClass:"flex-row"},[a("div",{staticClass:"left-space theme_font_tint full"},[t._v(t._s(t.detailData.paidTime))])])]):t._e(),t._v(" "),2==t.detailData.deliverType?a("div",[t.hasCommonPro(t.detailData.orderItemList)?a("div",[""!=t.detailData.stockupFinishTime?a("div",{staticClass:"flex-row"},[a("i",{staticClass:"iconfont mall-peisong"}),t._v(" "),a("div",{staticClass:"title theme_font_black"},[t._v("备货已完成，等待商家发货")])]):t._e(),t._v(" "),""!=t.detailData.stockupFinishTime?a("div",{staticClass:"flex-row"},[a("div",{staticClass:"left-space theme_font_tint full"},[t._v(t._s(t.detailData.stockupFinishTime))])]):t._e(),t._v(" "),a("div",{staticClass:"flex-row"},[""==t.detailData.stockupFinishTime?a("i",{staticClass:"iconfont mall-peisong"}):t._e(),t._v(" "),a("div",{staticClass:"title theme_font_black",class:{"left-space":""!=t.detailData.stockupFinishTime}},[t._v("订单已提交，等待商家备货")])]),t._v(" "),a("div",{staticClass:"flex-row"},[a("div",{staticClass:"left-space theme_font_tint full"},[t._v(t._s(t.detailData.paidTime))])])]):t._e()]):t._e()]):t._e(),t._v(" "),"4"==t.tag?a("div",[2==t.detailData.deliverType?a("div",[t.hasCommonPro(t.detailData.orderItemList)?a("div",[a("div",{staticClass:"flex-row"},[a("i",{staticClass:"iconfont mall-peisong"}),t._v(" "),a("div",{staticClass:"title theme_font_black"},[t._v("快递公司已发货，请密切注意物流信息")])]),t._v(" "),a("div",{staticClass:"flex-row"},[a("div",{staticClass:"left-space theme_font_tint full"},[t._v("物流公司："+t._s(2==t.detailData.interfaceType?t.getPeisongString(t.detailData.interfaceType):t.detailData.expressName))]),t._v(" "),2==t.detailData.interfaceType?a("div",{staticClass:"copy-btn",on:{click:t.showExpress}},[t._v("查看物流")]):t._e()]),t._v(" "),2!=t.detailData.interfaceType?a("div",{staticClass:"flex-row"},[a("div",{staticClass:"left-space theme_font_tint full"},[t._v("物流单号："+t._s(t.detailData.expressNo))]),t._v(" "),t.detailData.expressNo&&t.detailData.expressNo.length?a("div",{ref:"copybtn",staticClass:"copy-btn",attrs:{"data-clipboard-text":t.detailData.expressNo},on:{click:t.copyExpressNo}},[t._v("复制")]):t._e()]):t._e(),t._v(" "),a("div",{staticClass:"flex-row"},[a("div",{staticClass:"left-space theme_font_tint full"},[t._v("发货时间："+t._s(2==t.detailData.interfaceType?t.detailData.thirdpartySplitTime:t.detailData.deliveryTime))])]),t._v(" "),2!=t.detailData.interfaceType?a("div",[a("div",{staticClass:"flex-row"},[a("div",{staticClass:"left-space title theme_font_black"},[t._v("备货已完成，等待商家发货")])]),t._v(" "),a("div",{staticClass:"flex-row"},[a("div",{staticClass:"left-space theme_font_tint full"},[t._v(t._s(t.detailData.stockupFinishTime))])]),t._v(" "),a("div",{staticClass:"flex-row"},[a("div",{staticClass:"left-space title theme_font_black"},[t._v("订单已提交，等待商家备货")])]),t._v(" "),a("div",{staticClass:"flex-row"},[a("div",{staticClass:"left-space theme_font_tint full"},[t._v(t._s(t.detailData.paidTime))])])]):t._e()]):t._e()]):t._e(),t._v(" "),1==t.detailData.deliverType?a("div",[a("div",{staticClass:"flex-row"},[a("i",{staticClass:"iconfont mall-time theme_font_black"}),t._v(" "),a("div",{staticClass:"label-text theme_font_black"},[t._v("提货时间:")]),t._v(" "),a("div",{staticClass:"theme_font_black full"},[t._v(t._s(t.detailData.selectReceiveTime))])]),t._v(" "),a("div",{staticClass:"flex-row"},[a("i",{staticClass:"iconfont mall-dianpu theme_font_black"}),t._v(" "),a("div",{staticClass:"label-text theme_font_black"},[t._v("提货店铺:")]),t._v(" "),a("div",{staticClass:"theme_font_black full"},[t._v(t._s(t.detailData.pickupName))])]),t._v(" "),a("div",{staticClass:"flex-row"},[a("i",{staticClass:"iconfont mall-ren-copy"}),t._v(" "),a("div",{staticClass:"label-text theme_font_black"},[t._v("联系电话:")]),t._v(" "),a("div",{staticClass:"theme_font_black full"},[t._v(t._s(t.detailData.storePhone))])]),t._v(" "),a("div",{staticClass:"flex-row"},[a("i",{staticClass:"iconfont mall-dingwei theme_font_tint"}),t._v(" "),a("div",{staticClass:"label-text theme_font_black"},[t._v("提货地址:")]),t._v(" "),a("div",{staticClass:"theme_font_black full"},[t._v(t._s(t.detailData.address))])]),t._v(" "),"4"==t.tag&&1==t.detailData.deliverType?a("div",{staticClass:"flex-row"},[a("i",{staticClass:"iconfont mall-scan theme_font_tint"}),t._v(" "),a("div",{staticClass:"label-text theme_font_black"},[t._v("提货码:")]),t._v(" "),"cloudpos"!=t.$store.state.globalConfig.webpos_type?a("div",{staticClass:"theme_font_black full"},[t._v(t._s(t.detailData.deliverCheckcode))]):t._e()]):t._e(),t._v(" "),"4"==t.tag&&1==t.detailData.deliverType?a("div",{staticClass:"flex-row",staticStyle:{"justify-content":"center","flex-direction":"column","padding-bottom":"0px"}},[a("div",{staticClass:"code-div"},[a("canvas",{attrs:{id:"codeDiv"}})]),t._v(" "),a("div",{staticClass:"refresh-div",on:{click:t._getOrderDetail}},[a("img",{attrs:{src:"static/image/mall2/shuaxin.png",alt:""}})])]):t._e()]):t._e()]):t._e(),t._v(" "),"9"==t.tag?a("div",[t.hasDateProduct(t.detailData.orderItemList)?a("div",[a("div",{staticClass:"flex-row"},[a("i",{staticClass:"iconfont mall-peisong"}),t._v(" "),a("div",{staticClass:"title theme_font_black"},[t._v("感谢购物，欢迎您再次光临！")])]),t._v(" "),a("div",{staticClass:"flex-row",staticStyle:{"align-items":"flex-start"}},[a("i",{staticClass:"iconfont mall-youhuiquan-xianxing"}),t._v(" "),a("div",{staticClass:"label-text theme_font_black"},[t._v("券码:")]),t._v(" "),a("div",{staticClass:"theme_font_black full"},[t._v(t._s(t.detailData.orderItemList[0].eleCode))])])]):t._e(),t._v(" "),t.hasCommonPro(t.detailData.orderItemList)?a("div",[a("div",{staticClass:"flex-row"},[a("i",{staticClass:"iconfont mall-peisong"}),t._v(" "),a("div",{staticClass:"title theme_font_black"},[t._v("感谢购物，欢迎您再次光临！")])])]):t._e(),t._v(" "),t.hasCouponPro(t.detailData.orderItemList)?a("div",[a("div",{staticClass:"flex-row"},[a("i",{staticClass:"iconfont mall-peisong"}),t._v(" "),a("div",{staticClass:"title theme_font_black"},[t._v("感谢购物，欢迎您再次光临！")])])]):t._e()]):t._e(),t._v(" "),"7"==t.tag?a("div",["12"==t.detailData.state?a("div",[a("div",{staticClass:"flex-row"},[a("i",{staticClass:"iconfont mall-tuikuan theme_font_black"}),t._v(" "),a("div",{staticClass:"theme_font_black"},[t._v("商家已退款，请注意查收")])]),t._v(" "),a("div",{staticClass:"flex-row"},[a("div",{staticClass:"left-space theme_font_tint"},[t._v(t._s(t.detailData.createTime))])]),t._v(" "),a("div",{staticClass:"flex-row"},[a("i",{staticClass:"iconfont mall-qian"}),t._v(" "),a("div",{staticClass:"label-text theme_font_black"},[t._v("退款金额:")]),t._v(" "),a("div",{staticClass:"theme_standard_font full"},[t._v("￥"+t._s(t.$util.toDecimal2(t.detailData.payAmount)))])])]):t._e(),t._v(" "),"12"!=t.detailData.state?a("div",[a("div",{staticClass:"flex-row"},[a("i",{staticClass:"iconfont mall-dingdan"}),t._v(" "),a("div",{staticClass:"title theme_font_black"},[t._v("您的订单已取消")])]),t._v(" "),a("div",{staticClass:"flex-row"},[a("div",{staticClass:"left-space title theme_font_tint"},[t._v(t._s(t.detailData.cancelTime))])])]):t._e()]):t._e()]),t._v(" "),"9"==t.tag&&t.awardActivity.activityId?a("div",{staticClass:"share-img"},[a("div",{staticClass:"share",on:{click:t.shareActivity}},[a("div",{staticClass:"text"},[t._v("\n            分享可得\n            "),a("span",{staticClass:"num"},[t._v(t._s(t.awardActivity.awardAmount))]),t._v("\n            元"+t._s(t.awardActivity.awardName)+"\n          ")])])]):t._e(),t._v(" "),a("div",{staticClass:"block-div"},[a("div",{staticClass:"flex-row"},["1"==t.tag?a("div",{staticClass:"name full"},[t._v(t._s(t.detailData.ouName))]):t._e(),t._v(" "),"16"==t.tag||"4"==t.tag||"9"==t.tag?a("div",{staticClass:"name full"},[a("i",{staticClass:"iconfont mall-dianpu",staticStyle:{"margin-right":"2px"}}),t._v("\n            "+t._s(t.detailData.storeName)+"\n          ")]):t._e()]),t._v(" "),t._l(t.detailData.itemAbstractList,(function(e){return a("div",[a("div",{staticClass:"pro-row"},[a("div",{staticClass:"img-div"},[a("img",{attrs:{src:e.phPictureUrl}})]),t._v(" "),a("div",{staticClass:"info-div"},[a("div",{staticClass:"title theme_font_black"},[t._v(t._s(e.skuName))]),t._v(" "),a("div",{staticClass:"title theme_font_black"},[a("span",[t._v(t._s(e.specs))]),t._v(" "),a("span",{staticStyle:{float:"right"}},[t._v("x "+t._s(e.number))])]),t._v(" "),a("div",{staticClass:"price"},[a("PriceOrder",{attrs:{orderdetailp:e}})],1)])]),t._v(" "),a("div",{staticClass:"package-wrapper"},t._l(e.packageItem,(function(i){return a("div",{staticClass:"pro-row"},[a("div",{staticClass:"img-div"},[a("img",{attrs:{src:i.phPictureUrl}})]),t._v(" "),a("div",{staticClass:"info-div"},[a("div",{staticClass:"title theme_font_black"},[t._v(t._s(i.skuName))]),t._v(" "),a("div",{staticClass:"title theme_font_black"},[a("span",[t._v(t._s(i.specs))]),t._v(" "),a("span",{staticStyle:{float:"right"}},[t._v("x "+t._s(i.number))])]),t._v(" "),a("div",{staticClass:"price"},[a("PriceOrder",{attrs:{orderdetailp:e}})],1)])])})),0)])}))],2),t._v(" "),t.detailData.orderItemList.length&&2==t.detailData.orderItemList[0].productType?a("div",{staticClass:"block-div"},[a("div",{staticClass:"title flex-row"},[t._v("出行人信息")]),t._v(" "),t._l(t.personList,(function(e){return a("div",{staticClass:"border-top"},[a("div",{staticClass:"flex-row"},[a("div",{staticClass:"label theme_font_tint"},[t._v("姓名")]),t._v(" "),a("div",[t._v(t._s(e.name))])]),t._v(" "),a("div",{staticClass:"flex-row"},[a("div",{staticClass:"label theme_font_tint"},[t._v("身份证号")]),t._v(" "),a("div",[t._v(t._s(e.phone))])]),t._v(" "),a("div",{staticClass:"flex-row"},[a("div",{staticClass:"label theme_font_tint"},[t._v("手机号码")]),t._v(" "),a("div",[t._v(t._s(e.idcard))])])])}))],2):t._e(),t._v(" "),"1"==t.detailData.invoiceUse?a("div",{staticClass:"block-div"},[a("div",{staticClass:"flex-row top-padding"},[a("div",{staticClass:"label theme_font_tint"},[t._v("发票类型")]),t._v(" "),a("div",[t._v(t._s(t.getInvoiceTypeText()))])]),t._v(" "),a("div",{staticClass:"flex-row"},[a("div",{staticClass:"label theme_font_tint"},[t._v("发票抬头")]),t._v(" "),a("div",[t._v(t._s(t.detailData.invoiceTitle))])]),t._v(" "),""!=t.detailData.invoiceUserOrgTaxNo?a("div",{staticClass:"flex-row"},[a("div",{staticClass:"label theme_font_tint"},[t._v("发票税号")]),t._v(" "),a("div",[t._v(t._s(t.detailData.invoiceUserOrgTaxNo))])]):t._e(),t._v(" "),""!=t.detailData.invoiceUserMobile?a("div",{staticClass:"flex-row"},[a("div",{staticClass:"label theme_font_tint"},[t._v("发票手机号")]),t._v(" "),a("div",[t._v(t._s(t.detailData.invoiceUserMobile))])]):t._e()]):t._e(),t._v(" "),a("div",{staticClass:"block-div"},[a("div",{staticClass:"flex-row"},[a("div",{staticClass:"label theme_font_tint"},[t._v("订单号")]),t._v(" "),a("div",[t._v(t._s(t.detailData.id))])]),t._v(" "),a("div",{staticClass:"flex-row"},[a("div",{staticClass:"label theme_font_tint"},[t._v("下单时间")]),t._v(" "),a("div",[t._v(t._s(t.detailData.submitTime))])]),t._v(" "),""!=t.detailData.payMode?a("div",{staticClass:"flex-row"},[a("div",{staticClass:"label theme_font_tint"},[t._v("支付方式")]),t._v(" "),a("div",[t._v(t._s(t.getPayWayText(t.detailData.payMode)))])]):t._e(),t._v(" "),""!=t.detailData.paidTime?a("div",{staticClass:"flex-row"},[a("div",{staticClass:"label theme_font_tint"},[t._v("支付完成时间")]),t._v(" "),a("div",[t._v(t._s(t.detailData.paidTime))])]):t._e(),t._v(" "),""!=t.detailData.receiver&&1==t.detailData.deliverType?a("div",{staticClass:"flex-row"},[a("div",{staticClass:"label theme_font_tint"},[t._v("自提人")]),t._v(" "),a("div",[t._v(t._s(t.detailData.receiver))])]):t._e(),t._v(" "),""!=t.detailData.mobile&&1==t.detailData.deliverType?a("div",{staticClass:"flex-row"},[a("div",{staticClass:"label theme_font_tint"},[t._v("自提人电话")]),t._v(" "),a("div",[t._v(t._s(t.detailData.mobile))])]):t._e(),t._v(" "),2==t.detailData.deliverType&&t.hasCommonPro(t.detailData.orderItemList)?a("div",{staticClass:"flex-row"},[a("div",{staticClass:"label theme_font_tint"},[t._v("配送方式")]),t._v(" "),a("div",[t._v(t._s(t.getPeisongString(t.detailData.interfaceType)))])]):t._e(),t._v(" "),""==t.detailData.deliveryTime||t.hasDateProduct(t.detailData.orderItemList)?t._e():a("div",{staticClass:"flex-row"},[a("div",{staticClass:"label theme_font_tint"},[t._v("配送时间")]),t._v(" "),a("div",[t._v(t._s(t.detailData.deliveryTime))])])]),t._v(" "),t.detailData.rfrCode?a("div",{staticClass:"block-div"},[a("div",{staticClass:"flex-row"},[a("div",{staticClass:"label theme_font_tint"},[t._v("推荐码")]),t._v(" "),a("div",[t._v(t._s(t.detailData.rfrCode))])])]):t._e(),t._v(" "),1==t.detailData.deliverType||!t.hasDateProduct(t.detailData.orderItemList)||16!=t.tag&&9!=t.tag&&"12"!=t.detailData.state?t._e():a("div",{staticClass:"block-div"},[a("div",{staticClass:"flex-row"},[a("i",{staticClass:"iconfont mall-ren-copy left-icon"}),t._v(" "),a("div",{staticClass:"label-text theme_font_black"},[t._v("手机号:")]),t._v(" "),a("div",{staticClass:"theme_font_black full"},[t._v(t._s(t.detailData.virtualUserPhone))])]),t._v(" "),a("div",{staticClass:"flex-row"},[a("div",{staticClass:"left-space label-text theme_font_black"},[t._v("身份证号:")]),t._v(" "),a("div",{staticClass:"theme_font_black full"},[t._v(t._s(t.detailData.virtualUserIdcard))])])]),t._v(" "),1==t.detailData.deliverType||!t.hasCommonPro(t.detailData.orderItemList)||16!=t.tag&&4!=t.tag&&9!=t.tag&&"12"!=t.detailData.state?t._e():a("div",{staticClass:"block-div"},[a("div",{staticClass:"flex-row"},[a("i",{staticClass:"iconfont mall-dingwei left-icon"}),t._v(" "),a("div",{staticClass:"title right-margin theme_font_black"},[t._v(t._s(t.detailData.receiver))]),t._v(" "),a("div",{staticClass:"title theme_font_black"},[t._v(t._s(t.detailData.mobile))])]),t._v(" "),a("div",{staticClass:"flex-row"},[a("div",{staticClass:"left-space theme_font_tint full"},[t._v("\n            收货地址："+t._s(t.detailData.provinceName+t.detailData.cityName+t.detailData.countryName+t.detailData.townName+t.detailData.address)+"\n          ")])])]),t._v(" "),1==t.detailData.deliverType||!t.hasCouponPro(t.detailData.orderItemList)||9!=t.tag&&"12"!=t.detailData.state?t._e():a("div",{staticClass:"block-div"},[a("div",{staticClass:"flex-row"},[a("i",{staticClass:"iconfont mall-dianhua theme_font_common left-icon"}),t._v(" "),a("div",{staticClass:"label-text theme_font_black"},[t._v("预留号码:")]),t._v(" "),a("div",{staticClass:"theme_font_black full"},[t._v(t._s(t.detailData.virtualUserPhone))])]),t._v(" "),a("div",{staticClass:"flex-row"},[a("div",{staticClass:"left-space theme_font_tint full"},[t._v("商品相关信息将以短信的形式发放给您")])])]),t._v(" "),1==t.detailData.deliverType&&"12"==t.detailData.state?a("div",{staticClass:"block-div"},[a("div",{staticClass:"flex-row"},[a("i",{staticClass:"iconfont mall-time theme_font_black"}),t._v(" "),a("div",{staticClass:"label-text theme_font_black"},[t._v("提货时间:")]),t._v(" "),a("div",{staticClass:"theme_font_black full"},[t._v(t._s(t.detailData.selectReceiveTime))])]),t._v(" "),a("div",{staticClass:"flex-row"},[a("i",{staticClass:"iconfont mall-dianpu theme_font_black"}),t._v(" "),a("div",{staticClass:"label-text theme_font_black"},[t._v("提货店铺:")]),t._v(" "),a("div",{staticClass:"theme_font_black full"},[t._v(t._s(t.detailData.pickupName))])]),t._v(" "),a("div",{staticClass:"flex-row"},[a("i",{staticClass:"iconfont mall-ren-copy"}),t._v(" "),a("div",{staticClass:"label-text theme_font_black"},[t._v("联系电话:")]),t._v(" "),a("div",{staticClass:"theme_font_black full"},[t._v(t._s(t.detailData.storePhone))])]),t._v(" "),a("div",{staticClass:"flex-row"},[a("i",{staticClass:"iconfont mall-dingwei theme_font_tint"}),t._v(" "),a("div",{staticClass:"label-text theme_font_black"},[t._v("提货地址:")]),t._v(" "),a("div",{staticClass:"theme_font_black full"},[t._v(t._s(t.detailData.address))])]),t._v(" "),"4"==t.tag&&1==t.detailData.deliverType?a("div",{staticClass:"flex-row"},[a("i",{staticClass:"iconfont mall-scan theme_font_tint"}),t._v(" "),a("div",{staticClass:"label-text theme_font_black"},[t._v("提货码:")]),t._v(" "),a("div",{staticClass:"theme_font_black full"},[t._v(t._s(t.detailData.deliverCheckcode))])]):t._e()]):t._e(),t._v(" "),a("div",{staticClass:"block-div"},[a("div",{staticClass:"flex-row"},[a("div",{staticClass:"label full theme_font_common"},[t._v("商品金额")]),t._v(" "),a("div",{staticClass:"theme_font_black"},[t._v("￥"+t._s(t.$util.toDecimal2(t.detailData.totalAmount)))])]),t._v(" "),5!=t.detailData.productType?a("div",{staticClass:"flex-row"},[a("div",{staticClass:"label full theme_font_common"},[t._v("立减")]),t._v(" "),a("div",{staticClass:"theme_standard_font"},[t._v("-￥"+t._s(t.$util.toDecimal2(t.detailData.discountAmount)))])]):t._e(),t._v(" "),2==t.detailData.deliverType&&t.hasCommonPro(t.detailData.orderItemList)?a("div",{staticClass:"flex-row",on:{click:t.showFreightDetail}},[a("div",{staticClass:"label full theme_font_common"},[t._v("\n            运费\n            "),a("i",{staticClass:"iconfont mall-info theme_font_gray",staticStyle:{"margin-left":"3px"}})]),t._v(" "),a("div",{staticClass:"theme_standard_font"},[t._v("\n            +￥"+t._s(t.$util.toDecimal2(parseFloat(t.detailData.freightAmount)-parseFloat(t.detailData.freightDiscountAmount)))+"\n          ")])]):t._e(),t._v(" "),a("div",{staticClass:"flex-row"},[a("div",{staticClass:"label full theme_font_common"},[t._v("优惠券")]),t._v(" "),a("div",{staticClass:"theme_standard_font"},[t._v("-￥"+t._s(t.$util.toDecimal2(t.detailData.couponAmount)))])]),t._v(" "),a("div",{staticClass:"flex-row"},[a("div",{staticClass:"label full theme_font_common"},[t._v("积分")]),t._v(" "),a("div",{staticClass:"theme_standard_font"},[t._v("-￥"+t._s(t.$util.toDecimal2(t.detailData.pointsAmount)))])]),t._v(" "),"true"==t.limitType?a("div",{staticClass:"flex-row bottom-line"},[a("div",{staticClass:"label full theme_font_common"},[t._v("易捷卡")]),t._v(" "),a("div",{staticClass:"theme_standard_font"},[t._v("-￥"+t._s(t.$util.toDecimal2(t.detailData.payLimitWallet)))])]):t._e(),t._v(" "),a("div",{staticClass:"flex-row top-padding"},[a("div",{staticClass:"full"}),t._v(" "),a("div",{staticClass:"price theme_font_common"},[a("span",[t._v("共"+t._s(t.detailData.orderItemList.length)+"件商品，"+t._s(t.getPayTitle())+":")]),t._v(" "),a("PriceOrder",{attrs:{orderitem:t.detailData}})],1)])])]):t._e(),t._v(" "),t.getIsShowBottomBtns()?a("div",{staticClass:"bottom-btns"},[a("div",{staticClass:"full"}),t._v(" "),"1"==t.tag?a("div",{staticClass:"row-btn line_circle theme_font_common theme_border_gray",on:{click:t.cancelOrder}},[t._v("取消订单")]):t._e(),t._v(" "),!(""==t.detailData.stockupFinishTime&&"16"==t.tag||"4"==t.tag&&1==t.detailData.deliverType)||null!=t.detailData.allowPaidCancel&&1!=t.detailData.allowPaidCancel?t._e():a("div",{staticClass:"row-btn line_circle theme_font_common theme_border_gray",on:{click:t.applyOrder}},[t._v("申请退款")]),t._v(" "),"1"==t.tag?a("div",{staticClass:"row-btn line_circle row-btn-big-space theme_font_common theme_border_gray",on:{click:t.payEvent}},[t._v("付款")]):t._e(),t._v(" "),"4"==t.tag&&2==t.detailData.deliverType&&t.isShowExpress?a("div",{staticClass:"row-btn line_circle theme_font_common theme_border_gray",on:{click:t.showExpress}},[t._v("查看物流")]):t._e(),t._v(" "),"4"==t.tag&&2==t.detailData.deliverType?a("div",{staticClass:"row-btn line_circle theme_font_common theme_border_gray",on:{click:t.confirmProduct}},[t._v("确认收货")]):t._e(),t._v(" "),"9"==t.tag&&6!=t.detailData.state?a("div",{staticClass:"row-btn line_circle theme_font_common theme_border_gray",on:{click:t.toComment}},[t._v("晒单评价")]):t._e(),t._v(" "),"9"==t.tag&&"false"!=t.$store.state.globalConfig.invoice_shopping_enable?a("div",{staticClass:"row-btn line_circle theme_font_common theme_border_gray",on:{click:function(t){}}},[t._v("查看发票")]):t._e(),t._v(" "),"16"!=t.tag&&"4"!=t.tag&&"7"!=t.tag&&"9"!=t.tag||2==t.getProductType(t.detailData)?t._e():a("div",{staticClass:"row-btn line_circle theme_standard_font theme_standard_bdr",on:{click:t.reBuy}},[t._v("再次购买")])]):t._e()])],1)}),[],!1,null,"758be1dc",null);e.default=u.exports},kDnu:function(t,e,a){"use strict";var i=a("3AAs");a.n(i).a},sxGJ:function(t,e,a){
/*!
 * clipboard.js v2.0.4
 * https://zenorocha.github.io/clipboard.js
 * 
 * Licensed MIT © Zeno Rocha
 */
var i;i=function(){return function(t){var e={};function a(i){if(e[i])return e[i].exports;var s=e[i]={i:i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,a),s.l=!0,s.exports}return a.m=t,a.c=e,a.d=function(t,e,i){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)a.d(i,s,function(e){return t[e]}.bind(null,s));return i},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a(a.s=0)}([function(t,e,a){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=function(){function t(t,e){for(var a=0;a<e.length;a++){var i=e[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,a,i){return a&&t(e.prototype,a),i&&t(e,i),e}}(),o=r(a(1)),l=r(a(3)),n=r(a(4));function r(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function e(t,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return i.resolveOptions(a),i.listenClick(t),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,l.default),s(e,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText,this.container="object"===i(t.container)?t.container:document.body}},{key:"listenClick",value:function(t){var e=this;this.listener=(0,n.default)(t,"click",(function(t){return e.onClick(t)}))}},{key:"onClick",value:function(t){var e=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new o.default({action:this.action(e),target:this.target(e),text:this.text(e),container:this.container,trigger:e,emitter:this})}},{key:"defaultAction",value:function(t){return d("action",t)}},{key:"defaultTarget",value:function(t){var e=d("target",t);if(e)return document.querySelector(e)}},{key:"defaultText",value:function(t){return d("text",t)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],e="string"==typeof t?[t]:t,a=!!document.queryCommandSupported;return e.forEach((function(t){a=a&&!!document.queryCommandSupported(t)})),a}}]),e}();function d(t,e){var a="data-clipboard-"+t;if(e.hasAttribute(a))return e.getAttribute(a)}t.exports=c},function(t,e,a){"use strict";var i,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){function t(t,e){for(var a=0;a<e.length;a++){var i=e[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,a,i){return a&&t(e.prototype,a),i&&t(e,i),e}}(),l=(i=a(2))&&i.__esModule?i:{default:i},n=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.resolveOptions(e),this.initSelection()}return o(t,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=t.action,this.container=t.container,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var t=this,e="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return t.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[e?"right":"left"]="-9999px";var a=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=a+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,l.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,l.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var t=void 0;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)}},{key:"handleResult",value:function(t){this.emitter.emit(t?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(t){if(void 0!==t){if(!t||"object"!==(void 0===t?"undefined":s(t))||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(t.hasAttribute("readonly")||t.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=t}},get:function(){return this._target}}]),t}();t.exports=n},function(t,e){t.exports=function(t){var e;if("SELECT"===t.nodeName)t.focus(),e=t.value;else if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName){var a=t.hasAttribute("readonly");a||t.setAttribute("readonly",""),t.select(),t.setSelectionRange(0,t.value.length),a||t.removeAttribute("readonly"),e=t.value}else{t.hasAttribute("contenteditable")&&t.focus();var i=window.getSelection(),s=document.createRange();s.selectNodeContents(t),i.removeAllRanges(),i.addRange(s),e=i.toString()}return e}},function(t,e){function a(){}a.prototype={on:function(t,e,a){var i=this.e||(this.e={});return(i[t]||(i[t]=[])).push({fn:e,ctx:a}),this},once:function(t,e,a){var i=this;function s(){i.off(t,s),e.apply(a,arguments)}return s._=e,this.on(t,s,a)},emit:function(t){for(var e=[].slice.call(arguments,1),a=((this.e||(this.e={}))[t]||[]).slice(),i=0,s=a.length;i<s;i++)a[i].fn.apply(a[i].ctx,e);return this},off:function(t,e){var a=this.e||(this.e={}),i=a[t],s=[];if(i&&e)for(var o=0,l=i.length;o<l;o++)i[o].fn!==e&&i[o].fn._!==e&&s.push(i[o]);return s.length?a[t]=s:delete a[t],this}},t.exports=a},function(t,e,a){var i=a(5),s=a(6);t.exports=function(t,e,a){if(!t&&!e&&!a)throw new Error("Missing required arguments");if(!i.string(e))throw new TypeError("Second argument must be a String");if(!i.fn(a))throw new TypeError("Third argument must be a Function");if(i.node(t))return function(t,e,a){return t.addEventListener(e,a),{destroy:function(){t.removeEventListener(e,a)}}}(t,e,a);if(i.nodeList(t))return function(t,e,a){return Array.prototype.forEach.call(t,(function(t){t.addEventListener(e,a)})),{destroy:function(){Array.prototype.forEach.call(t,(function(t){t.removeEventListener(e,a)}))}}}(t,e,a);if(i.string(t))return function(t,e,a){return s(document.body,t,e,a)}(t,e,a);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}},function(t,e){e.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},e.nodeList=function(t){var a=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===a||"[object HTMLCollection]"===a)&&"length"in t&&(0===t.length||e.node(t[0]))},e.string=function(t){return"string"==typeof t||t instanceof String},e.fn=function(t){return"[object Function]"===Object.prototype.toString.call(t)}},function(t,e,a){var i=a(7);function s(t,e,a,s,o){var l=function(t,e,a,s){return function(a){a.delegateTarget=i(a.target,e),a.delegateTarget&&s.call(t,a)}}.apply(this,arguments);return t.addEventListener(a,l,o),{destroy:function(){t.removeEventListener(a,l,o)}}}t.exports=function(t,e,a,i,o){return"function"==typeof t.addEventListener?s.apply(null,arguments):"function"==typeof a?s.bind(null,document).apply(null,arguments):("string"==typeof t&&(t=document.querySelectorAll(t)),Array.prototype.map.call(t,(function(t){return s(t,e,a,i,o)})))}},function(t,e){if("undefined"!=typeof Element&&!Element.prototype.matches){var a=Element.prototype;a.matches=a.matchesSelector||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector||a.webkitMatchesSelector}t.exports=function(t,e){for(;t&&9!==t.nodeType;){if("function"==typeof t.matches&&t.matches(e))return t;t=t.parentNode}}}])},t.exports=i()}}]);