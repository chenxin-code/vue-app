(window.webpackJsonp=window.webpackJsonp||[]).push([[71,1005],{"+QSX":function(e,t,i){"use strict";var r=i("foX9");i.n(r).a},"+lIg":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAoCAYAAACFFRgXAAADeklEQVRYR+2Zz24URxDGv2/WkiVs4522lLwCJy6AIjAcCQqyEowDKHCw8YEDwjg8RnIzgiAuYHPgAJh/QYCUY6JEJOQJELccgkR3z2KvFUs7U1FjDxoPs5pea4y9kvs02q6u+nVNTVVvNZEZSqkDInKB5IiI9JEMsvMVPccA3pC81Wq1fmw0GrYTvVwVplLqGoBzANLfOtGzLlkReRsEwVGt9V++Ct7DKaVuApjwXVSlnIhYkruNMf/46HWePQLg2af0bAHYrDHmrBdwGIZPSX6VCotIAuA6yVcA3HPVQwG4BGAgY3PZWrvDxx7DMPyPZG+6mOSU1vpK1ZRZfYODg3tqtZqL2+z3MmyM+b3MrgsJ58UPC+M4Vp1+uWVGiubDMNQknbfTccIYc69MlwOWrJAxpgeASz0bOpRS/wL4PGPklDHmTpnRbeAyD6XzBR4+aYy5W7Z+K3m462L4W2PMfGUeXp6cHhMGswD6pKR8E3AfcpOSTPTemCmEKAiJaoGXxsabArjkjhWegpE7hVC4tGN+rq9INA9Mckxrfb8yDy8eHmkmkgKvqE352uAjIJb6f3niC3xca/2gMuDoi0NjkNYsBX0ibU50qztwISFkE6xN1F/86hUSJEe11g8rAy5T1Ol8QUh0F3CSJMeiKHpUtvEtk4eTJPkmiqLHXQMsIl9ba3/eysBvAHxWBrg67xLRgoic2cyQaAGoeQKnYgvewMuTF0fBnjmB9OcrnUtjBBchrfHeG5dLc6mznj+He4KLN7BPpSPaV7Y8UP4c7gkMb+CFwyNNKal0JJYG2lQ2D2B3TnmakxsGMJ39zRv43f6Do9KK5wD05yvd+8MOucieYHznH7/5hkS+on9vjJnJwoVh+B3J2+sC9n1lvnIFIbEN7Os8L7mu9zDJaa315a6J4W1gr8DsQCgfw0mSTEZR5LqoH0a7tLamVZUkSRhFUdSB7XWJKqVcdynbMP8ordXr9akgCLJxnRQ1A89qrV3V2dARhuFbkkOpERH521q7N2tUKfUngH0ZGe2A17RbATRE5LS1Nl8mK93A0NDQVRE5n1P6UkRcNRWS41lYJyciP7nS/CWA5wUN7XZ/hqsE7+R6Iq7Vars2/crAc/ciIlPW2qubeinjCRuLyLSDdfJrXkn22su1pHJfsaf+SsRcOLoscjOO4x8ajcbrVOv/ZWkJsVtYTnAAAAAASUVORK5CYII="},"0DyX":function(e,t,i){e.exports=i.p+"static/img/tourism.8b460ee.png"},"1hJj":function(e,t,i){var r=i("Z0cm");e.exports=function(){if(!arguments.length)return[];var e=arguments[0];return r(e)?e:[e]}},"1hMs":function(e,t,i){},"38hy":function(e,t,i){e.exports=i.p+"static/img/bag.458a5ba.png"},"3gIA":function(e,t,i){"use strict";var r=i("1hMs");i.n(r).a},"3tWz":function(e,t){var i=Array.prototype.join;e.exports=function(e,t){return null==e?"":i.call(e,t)}},"4LF/":function(e,t,i){e.exports=i.p+"static/img/property.ee935d9.png"},"5LU6":function(e,t,i){"use strict";var r=i("cVah");i.n(r).a},"5wzL":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAFMN540AAAAAXNSR0IArs4c6QAAArFJREFUSA3dVtuKE0EU3ExQ3/It+Q1RUdYnRVkEJQZ8yOU7ciEPZrOsIPqgZBRF9iU/kZ9IPiEBMdnEqnGq7e6Z3pmwgmhg6O5zqs6pPn1JHx3l/Xq93p72/X5fMX4ZE4M8jtFA1XG84YHg/X5/p75asX7rgEfGTqcTVSqVRKsIibOcPEMp0akSMxgMTmez2YXwTFOr1RrJmE5+HMARSaRRLudut2t0u93EHilUvV5/RUcURRPZEud0Or05n883YihKQmcOOciiE7ndgijcH2md2Uhwu91+6UdnCbCgl7RrnQxZYOq1g2Cy1cVisbVJwmbIcihIHkmYDHkymdxYrVY/RBoOh2NbiYhsDXk0Gt3abDbfRfL3npRwETM1QTFOUBQTzM5g94Eb2+O/2Mf2anCLFcmG5DN85vAmGxeLfkbtdIQCIPgb+F6gkAmWeFMgkhRVO4gA/mB/C/+JX2lDJigvAIjvYX/iE4l3yH4AjD/ge5RHJDZDptFWECISZ64BDvTDborV59ZkMI3tNkNGVb8A/JAZWTiCQ6vgRAToG4j3bKn2FPxVMGQQLwC8YxMlMRRAsr6GiAzAE2ZPQUFNi7m+NoNAhwqA+3VNBzD/oJlTQuHHnN515aeLNM4rkxM8TWiue654q9Vq+ldhkaA0IU/9c2ER4xSL3TRjddSSpItatrICwI1wos7RPiviOjMWmO0hAtKEvKaeKkaR2GBiBbhKQBzH0XK5fAfMY+GLEgpXmFjAPAHysS2bUJzM5SWH33KD8ZEEu7kVhTk0KXmlZsxXwnq9/ohZH9vJ2OeVbNvKnoIrE6cJYyS8HwqetwRlKpCbmM9LvLg+I9ndUELZ1R4qwEnMN9R2u+Uf1G0FLKNeWLZlBTiJcfgfgPgJX/XQhHZyXwA3Jn5NvMPNy93H///jn7F9J4R5jRZtAAAAAElFTkSuQmCC"},"6odi":function(e,t,i){"use strict";var r=i("umhk");i.n(r).a},"6ql6":function(e,t,i){"use strict";i.r(t);var r=i("qUbg"),s=i("Wbz3"),a=i("KK7d"),o={data:function(){return{adapterTop:"0.426667rem",showPopover:!1,actions:[{text:"历史缴费记录",className:"history"},{text:"发票查询",className:"invoice"}],moreIcon:i("+lIg"),backIndex:!1}},created:function(){var e=window.screen.height/window.screen.width,t=window.screen.height==window.screen.availHeight?1.8:1.65;this.adapterTop=e<t?"1.173333rem":"0.426667rem",this.$route.query.backIndex&&(this.backIndex=!0)},methods:{onSelect:function(e){"history"==e.className&&this.navToMicroapp("com.times.microapp.AppcPrepay","/bill/index",!1),"invoice"==e.className&&this.navToMicroapp("com.times.microapp.AppcInvoice","/",!0)},goBack:function(){var e=this;this.backIndex?this.$router.replace({path:"/common"}):s.a.get({key:"LLBIsHomeView",isPublic:!0}).then((function(t){var i=t.result;if(console.log("appLocalstorage_result",i),!i||""==i||"null"==i||null==i)return console.log("appLocalstorage_result",i),void r.a.navigatorBack({url:"0"}).then((function(e){console.log(e)}));"1"==i?e.$router.replace({path:"/common"}):"0"==i?r.a.navigatorBack({url:"0"}).then((function(e){console.log(e)})):"2"==i&&r.a.navigatorBack({url:"0"}).then((function(e){console.log(e)}))}))},navToMicroapp:function(e,t,i){a.a.openTargetRouter({type:"microapp",uri:e,path:t,hideNavbar:i})},navToHistory:function(){this.navToMicroapp("com.times.microapp.AppcPrepay","/bill/index",!1),console.log("跳到历史欠缴记录页面")}}},n=(i("FDFq"),i("KHd+")),l=Object(n.a)(o,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"nav-top",style:{"padding-top":this.adapterTop}},[t("div",{on:{click:this.goBack}},[t("i",{staticClass:"icon"}),this._v(" "),t("span",{staticClass:"title"},[this._v("我的订单")])]),this._v(" "),t("span",{staticClass:"history",on:{click:this.navToHistory}},[this._v("历史缴费记录")])])}),[],!1,null,"3bebd263",null).exports,d={props:["productItem","billId","billType"],data:function(){return{xImg:i("5wzL"),goodsAmount:"0.00",amount:{integer:"0",decimal:"00"}}},created:function(){this.goodsAmount=this.productItem.billAmount},methods:{gotoProductDetail:function(e){if(1!=this.$store.state.globalConfig.cut_price_strict&&"cnooc"!=this.$store.state.globalConfig.app_home_special_flag&&1!=this.watermark){var t="/mall2/detail/"+this.$util.getDataString();"11"==this.billType?this.$router.push({path:t,query:{storeOuCode:e.storeOuCode,skuId:e.skuId,lastPath:"/order/3",productType:e.productType}}):window.location.href="x-engine-json://yjzdbill/queryBillDetail?args="+encodeURIComponent(JSON.stringify({billId:this.billId,payType:"no",isRefund:"no"}))}}},watch:{goodsAmount:function(e,t){var i=this.$util.toDecimal2(e).toString().split(".");this.amount.integer=i[0],this.amount.decimal=i[1]}},computed:{billCenterImg:{get:function(){switch(this.productItem.billType){case 1:return i("4LF/");case 2:return i("JzQd");case 3:return i("9PdW");case 4:return i("Ixm7");case 5:return i("4LF/");case 6:return i("m6vV");case 7:return i("0DyX");case 8:return i("vYwg");case 9:return i("38hy");case 10:return i("WS5e");case 14:return i("S89Z");default:return i("4LF/")}},set:function(){}},billTypeName:function(){var e="";switch(this.billType){case 11:e="邻里星选";break;case 1:e="物业缴费";break;case 2:e="月保续费";break;case 3:e="临停缴费";break;case 6:e="预缴费";break;case 4:e="临时缴费";break;case 7:e="旅游";break;case 8:e="家政";break;case 9:e="拎包";break;case 10:e="押金";break;case 12:e="美居";break;case 14:e="维修服务费"}return e}}},c=(i("tkvz"),Object(n.a)(d,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"product-item"},[i("div",{staticClass:"content"},[i("div",{staticClass:"img"},[11==e.productItem.billType?i("img",{attrs:{src:e.productItem.billImg},on:{click:function(t){return t.stopPropagation(),e.gotoProductDetail(e.productItem)}}}):e._e(),e._v(" "),11!=e.productItem.billType?i("div",{staticClass:"billImg",style:{width:"2.4rem",height:"2.4rem","background-image":"url("+e.billCenterImg+")","background-size":"2.4rem 2.4rem","background-repeat":"no-repeat"},on:{click:function(t){return t.stopPropagation(),e.gotoProductDetail(e.productItem)}}}):e._e(),e._v(" "),11==e.productItem.billType?i("p",{staticClass:"text"},[e._v("\n         "+e._s(e.productItem.billName)+"\n       ")]):e._e(),e._v(" "),11!=e.productItem.billType?i("div",{staticClass:"desc"},[i("strong",[e._v(e._s(e.productItem.itemTypeName))]),e._v(" "),i("p",[e._v(e._s(e.productItem.billName))]),e._v(" "),i("p",{staticClass:"info"},[e._v(e._s(e.productItem.info))]),e._v(" "),i("p",[e._v(e._s(e.productItem.snapshotTime))])]):e._e()]),e._v(" "),11==e.productItem.billType||7==e.productItem.billType||8==e.productItem.billType?i("div",{staticClass:"price"},[i("p",{staticClass:"pr"},[e._v("\n         ￥"+e._s(e.amount.integer)+"."),i("span",{staticClass:"decimal"},[e._v(e._s(e.amount.decimal))])]),e._v(" "),i("div",{staticClass:"billNum"},[i("p",{staticClass:"am"},[i("img",{directives:[{name:"show",rawName:"v-show",value:""!==e.productItem.billNum,expression:"productItem.billNum !== ''"}],staticClass:"xImg",attrs:{src:e.xImg,alt:""}})]),e._v(" "),i("span",{staticClass:"num"},[e._v(e._s(e.productItem.billNum))])])]):e._e()])])}),[],!1,null,"3cbe1df8",null).exports),p=(i("chc6"),i("+aEH"),"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}),u={props:["pageType","amount","billType","submitTime","dataList","params","res","orderType","payInfo","billDetailObj","orderItem","type","billId","orderStateType","state","orderCanEvaluate","orderMode","shoppingOrderId","bulkOrderType","id","tradeNo"],data:function(){return{isChecked:!1,isDisabled:!1,isShow:!1,showDialog:!1,expressNo:"",expressNoList:[],formItem:{},smallDataList:[],showMore:!1,vipUnitUserCode:"",itemAmount:"0",goodsAmount:{integer:"0",decimal:"00"},isBulk:!1}},created:function(){this.dataList.length>=3?(this.smallDataList.push(this.dataList[0]),this.smallDataList.push(this.dataList[1])):this.smallDataList=this.dataList,this.itemAmount=this.amount,"12"==this.orderMode||"200501"==this.bulkOrderType?this.isBulk=!0:this.isBulk=!1},computed:{stateText:function(){if("finish"!=this.pageType)return"";if("11"!=this.billType)return"支付已完成";switch(this.state){case 16:case 17:case 18:case 19:return"支付已完成 · 待发货";case 4:return"支付已完成 · 待收货";case 9:return"订单已完成";case 7:case 12:return"订单已取消"}},moneyText:function(){var e="";switch(this.pageType){case"waitPay":e="需付款";break;default:e="实付款"}return e},amountTotal:function(){var e=0;return this.dataList.forEach((function(t){e+=t.billNum})),e},isChangeOrder:function(){return("waitDelivery"==this.pageType||"allOrder"==this.pageType||"finish"==this.pageType&&"200017"==this.params.orderStateType&&17==this.params.state)&&11==this.billType},isEvalute:function(){return("finish"==this.pageType&&this.orderCanEvaluate&&"12"!=this.state&&"16"!=this.state&&"17"!=this.state&&"18"!=this.state&&"19"!=this.state&&"4"!=this.state||"allOrder"==this.pageType&&"200017"==this.params.orderStateType&&9==this.params.state)&&11==this.billType},isBuyAgain:function(){return("waitDelivery"==this.pageType||"waitTakeDelivery"==this.pageType||"cancel"==this.pageType||"finish"==this.pageType||"allOrder"==this.pageType&&("200017"==this.params.orderStateType&&17==this.params.state||"200017"==this.params.orderStateType&&4==this.params.state||"200017"==this.params.orderStateType&&9==this.params.state||"200017"==this.params.orderStateType&&7==this.params.state))&&11==this.billType},isFinish:function(){return("finish"==this.pageType||"allOrder"==this.pageType&&"200017"==this.params.orderStateType&&9==this.params.state)&&11!=this.billType},isViewLogistics:function(){return("waitTakeDelivery"==this.pageType||"allOrder"==this.pageType||"finish"==this.pageType&&"200017"==this.params.orderStateType&&4==this.params.state)&&11==this.billType},isWaitTakeDelivery:function(){return("waitTakeDelivery"==this.pageType||"allOrder"==this.pageType||"finish"==this.pageType&&"200017"==this.params.orderStateType&&4==this.params.state)&&11==this.billType},isPayAtOnce:function(){return"waitPay"==this.pageType||"allOrder"==this.pageType&&"200015"==this.params.orderStateType&&1==this.params.state},isWaitPay:function(){return"waitPay"==this.pageType},billTypeName:function(){var e="";switch(this.billType){case 11:e="邻里星选";break;case 1:e="物业缴费";break;case 2:e="月保续费";break;case 3:e="临停缴费";break;case 4:e="临时缴费";break;case 5:e="零售";break;case 6:e="预缴费";break;case 7:e="旅游";break;case 8:e="家政";break;case 9:e="拎包";break;case 10:e="押金";break;case 12:e="美居";break;case 14:e="维修服务费"}return e},iconClass:function(){var e="";switch(this.billType){case 11:case 12:case 5:e="icon1";break;case 1:e="icon7";break;case 2:e="icon8";break;case 3:e="icon5";break;case 6:case 4:e="icon4";break;case 7:e="icon6";break;case 8:e="icon2";break;case 9:e="icon3";break;case 10:e="icon4";break;case 14:e="icon14"}return e}},watch:{itemAmount:function(e,t){var i=this.$util.toDecimal2(e).toString().split(".");0!==i.length&&(this.goodsAmount.integer=i[0],this.goodsAmount.decimal=i[1])}},components:{productItem:c},methods:{payAtOnce:function(e){var t="";"200001"!==this.orderType&&"200501"!==this.orderType&&11==this.billType?(t="/app-vue/app/index.html#/group_detail?orderId="+this.billDetailObj.groupBuyId+"&mktGroupBuyId="+this.billDetailObj.groupBuyActivityId+"&formPaySuccess='1'&ret={ret}",this.enginePay(e,t)):11==this.billType?this.initPayInfo(e,"mall"):this.initPayInfo(e,"bill")},initPayInfo:function(e,t){var i,r={state:3,orderId:e.orderId,orderType:e.orderType,tradeNo:e.tradeNo,tag:1,deliverCheckcode:e.deliverCheckcode,deviceCode:this.$route.query.deviceCode,storeOuCode:this.$route.query.storeOuCode,stationName:this.$route.query.stationName};localStorage.setItem("currentOrderDetails",JSON.stringify(r)),i="mall"==t?"/app-vue/app/index.html#/mall2/paysuccess?selectedIndex=1&isBill="+(11!=this.billType)+"&orderCategory="+e.orderCategory+"&vipUnitUserCode="+this.$route.query.vipUnitUserCode+"&type="+this.$route.query.type+"&ret={ret}":"/app-vue/app/index.html#/order/2?time="+Date.now(),this.enginePay(e,i)},enginePay:function(e,t){console.log("唤起邻里邦支付平台",e),window.location.href="x-engine-json://yjzdbill/YJBillPayment?args="+encodeURIComponent(JSON.stringify({businessCstNo:e.businessCstNo,platMerCstNo:e.platMerCstNo,tradeMerCstNo:e.tradeMerCstNo,billNo:e.billNo,appScheme:"x-engine-c",payType:!1}))+"&callback="+encodeURIComponent(location.origin+t)},switchProductList:function(){this.isShow=!this.isShow,this.showMore=!this.showMore},gotoBillDetail:function(){if(console.log("billId------------------",this.billId),"11"==this.billType)if(console.log("orderType--------------",this.orderType),"200001"!==this.orderType&&"200015"!=this.orderType&&"200017"!=this.orderType&&"200018"!=this.orderType&&"200501"!=this.orderType)this.$router.push({path:"/group_detail",query:{orderId:this.billDetailObj.groupBuyId,mktGroupBuyId:this.billDetailObj.groupBuyActivityId}});else if("200501"==this.bulkOrderType||"12"==this.orderMode)this.$router.push({path:"/orderInfo",query:{info:JSON.stringify({shoppingOrderId:this.shoppingOrderId,id:this.id,tradeNo:this.tradeNo}),pageType:this.pageType,state:this.state?this.state:""}});else{var e=this.billDetailObj.awardActivityList&&this.billDetailObj.awardActivityList.length?this.billDetailObj.awardActivityList[0]:{};this.$router.push({path:"/mall2/orderdetail",query:{payMode:this.billDetailObj.payMode,tradeNo:this.billDetailObj.tradeNo,shoppingOrderId:this.billDetailObj.shoppingOrderId,orderPayType:this.billDetailObj.orderPayType,orderId:this.billDetailObj.id,tag:this.billDetailObj.tag,orderType:this.orderStateType?this.orderStateType:this.orderType,orderIndex:this.billDetailObj.tabIndex,awardActivity:JSON.stringify(e)}})}else console.log("--------------------跳转账单中心详情----------------------"),console.log("--------------------跳转账单中心详情----------------------",this.billId,this.billDetailObj.isRefund,this.billDetailObj.businessCstNo),window.location.href="x-engine-json://yjzdbill/queryBillDetail?args="+encodeURIComponent(JSON.stringify({billId:this.billId,payType:"0",isRefund:this.billDetailObj.isRefund,businessCstNo:this.billDetailObj.businessCstNo}))},checkEvent:function(e,t){t.checked=e,this.$emit("checkEvent",t)},buyAgain:function(){var e=this;if(3==this.params.deliverType){for(var t=[],i=0;i<this.dataList.length;i++){var r=this.dataList[i];if(0==r.isGift){var s={skuId:r.skuId,storeOuCode:r.storeOuCode,number:r.billNum};t.push(s)}}return sessionStorage.setItem("MDPS_Carts",JSON.stringify(t)),void this.$router.push({path:"/mall2/store-delivery/list"})}this.$Loading.open();var a={token:this.$store.state.login.token,deliveryType:this.params.deliverType,orderCategory:this.params.orderCategory,vipUnitUserCode:"",userAddress:this.$store.state.mall2.selectAddress,pickupId:this.$store.state.mall2.zitiAddress.id,userAddressId:""};2==a.deliveryType&&this.$store.state.mall2.selectAddress.id>0&&(a.userAddressId=this.$store.state.mall2.selectAddress.id);for(var o=[],n=0;n<this.dataList.length;n++){var l=this.dataList[n],d={skuId:l.skuId,storeOuCode:l.storeOuCode,number:l.billNum};o.push(d)}a.carts=o,this.$http.post("/app/json/app_cart/SettleCart",a).then((function(t){e.$Loading.close();var i=t.data;if(0==i.status){if(""!==i.data.invalidCart||i.data.occur.length<=0)return void e.$MessageBox.confirm("抱歉，订单中的商品已经下架啦！再看看其他商品吧~","提示",{confirmButtonText:"确定",showCancelButton:!1}).then((function(e){})).catch((function(e){}));var r={res:i.data,paramsData:a,deliveryType:a.deliveryType};e.$store.state.mall2.selectAddress.id>0||2!=e.detailData.deliveryType||(e.matchAddress?(e.$store.state.mall2.selectAddress=e.matchAddress,e.$bridgefunc.vuexStorage((function(){}))):r.noMatch=!0),1==e.$mallCommon.isExistCanNotAttendActivity(i.data.occur)?e.$MessageBox.confirm("部分商品不能参加活动</br>将按原价购买，是否继续？","提示",{confirmButtonText:"确定"}).then((function(t){e.$router.push({name:"填写订单",params:r})})).catch((function(e){})):e.$router.push({name:"填写订单",params:r})}else e.$Toast(i.info)}),(function(t){e.$Loading.close(),e.$Toast("请求数据失败！")}))},expressType:function(e){var t,i=this;return(t=regeneratorRuntime.mark((function t(){var r,s,a,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"/app/json/app_shopping_order/detail",r={token:i.$store.state.login.token,orderPayType:i.params.orderPayType,orderType:i.orderType,orderId:i.params.orderId,orderCategory:i.params.orderCategory,vipUnitUserCode:i.vipUnitUserCode},i.$route.query.payUserId&&(r.payUserId=i.$route.query.payUserId),t.prev=3,t.next=6,i.$http.post("/app/json/app_shopping_order/detail",r);case 6:s=t.sent,a=s.data.data,e.expressNo=a.expressNo,e.expressName=a.expressName,e.orderType=a.orderType,e.id=a.id,e.interfaceType=a.interfaceType,i.formItem=i.$util.deepClone(e),o=[],console.log(i.formItem),console.log(i.formItem.expressNo),console.log(p(i.formItem.expressNo)),i.formItem.expressNo&&"string"==typeof i.formItem.expressNo&&(o=i.formItem.expressNo.split(",")),1==o.length?i.showExpress(i.formItem):(i.showDialog=!0,i.expressNoList=o),t.next=25;break;case 22:t.prev=22,t.t0=t.catch(3),i.$Toast(t.t0);case 25:case"end":return t.stop()}}),t,i,[[3,22]])})),function(){var e=t.apply(this,arguments);return new Promise((function(t,i){return function r(s,a){try{var o=e[s](a),n=o.value}catch(e){return void i(e)}if(!o.done)return Promise.resolve(n).then((function(e){r("next",e)}),(function(e){r("throw",e)}));t(n)}("next")}))})()},selExpress:function(e){this.expressNo=e,this.formItem.expressNo=e,console.log(this.formItem)},confirmForm:function(){this.showExpress(this.formItem)},showExpress:function(e){var t=this;if(console.log(e,"item"),2==e.interfaceType||1==e.interfaceType){this.$Loading.open();var i={token:this.$store.state.login.token,orderId:e.id,orderType:e.orderType,orderCategory:this.params.orderCategory,vipUnitUserCode:this.vipUnitUserCode};this.$http.post("/app/json/app_shopping_order/detail",i).then((function(e){t.$Loading.close();var i=e.data;0==i.status?t.$router.push({name:"expressinfo",params:{expressinfo:encodeURIComponent(JSON.stringify(i.data.tracksList))}}):t.$Toast(i.info)}),(function(e){t.$Loading.close(),t.$Toast("请求数据失败！")}))}else if(1==this.$store.state.globalConfig.enableEMS&&0==e.interfaceType&&"1"==e.expressSendingMode)this.$router.push({path:"/mall2/orderlogistics",query:{traceNo:e.expressNo}});else if("1"==this.$store.state.globalConfig.order_ali_deliver_enable&&"0"==e.interfaceType&&"2"==e.deliverType)this.$router.push({path:"/mall2/aliexpressinfo",query:{orderType:e.orderType,orderId:e.id,logisticsOrderNo:e.expressNo}});else if(1==this.$store.state.globalConfig.hasApiForExpress100)this.$router.push({path:"/mall2/100expressinfo",query:{expressNo:e.expressNo,expressName:e.expressName}});else{var r="https://m.kuaidi100.com/index_all.html?type="+encodeURIComponent(e.expressName)+"&postid="+encodeURIComponent(e.expressNo);this.$bridgefunc.customPush({path:r,isnativetop:"1",isVuePage:!1})}},confirmProduct:function(){var e=this;this.$MessageBox.confirm("您确定已经收到商品了吗？","提示").then((function(t){e._confirmProductApi()})).catch((function(e){}))},_confirmProductApi:function(){var e=this;this.$Loading.open();var t={token:this.$store.state.login.token,orderId:this.params.orderId,orderType:this.params.orderType,orderCategory:this.params.orderCategory,vipUnitUserCode:this.vipUnitUserCode};this.$http.post("/app/json/app_shopping_order/orderConfirm",t).then((function(t){e.$Loading.close();var i=t.data;0==i.status?e.$router.push({name:"我的订单",params:{id:5},query:{time:Date.now()}}):e.$Toast(i.info)}),(function(t){e.$Loading.close(),e.$Toast("请求数据失败！")}))},toComment:function(e){this.dataList.length>0&&(this.dataList.length>1?this.$router.push({path:"/mall2/comment2",query:{orderId:this.params.orderId}}):this.$router.push({path:"/mall2/comment",query:{skuId:this.dataList[0].skuId,orderId:this.dataList[0].itemOrderId,phPictureUrl:this.dataList[0].billImg,skuName:this.dataList[0].billName}}))},modifyAddress:function(e){console.log("params",this.params),this.$router.push({path:"/mall2/modifyorderaddress",query:{address:JSON.stringify({address:e.address||"",addressFull:e.addressFull||"",cityId:e.cityId||"",cityName:e.cityName||"",countryId:e.countryId||"",countryName:e.countryName||"",provinceId:e.provinceId||"",provinceName:e.provinceName||"",townId:e.townId||"",townName:e.townName||"",receiver:e.receiver||"",mobile:e.mobile||""}),orderId:this.params.orderId,tradeNo:this.params.tradeNo,orderType:this.params.orderType}})}}},h=(i("lSWK"),Object(n.a)(u,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"order-item"},[i("div",{staticClass:"title"},[e.isWaitPay?i("van-checkbox",{attrs:{disabled:e.isDisabled,"checked-color":"#f80f16","icon-size":"18px"},on:{change:function(t){return e.checkEvent(t,e.orderItem)}},model:{value:e.isChecked,callback:function(t){e.isChecked=t},expression:"isChecked"}}):e._e(),e._v(" "),i("i",{staticClass:"icon",class:e.iconClass}),e._v(" "),i("span",[e._v(e._s(e.billTypeName))]),e._v(" "),i("div",{staticClass:"stateText"},[e._v(e._s(e.stateText))])],1),e._v(" "),i("div",{staticClass:"product-box",class:[e.isShow?"show":""],on:{click:function(t){return t.stopPropagation(),e.gotoBillDetail(t)}}},e._l(e.showMore?e.dataList:e.smallDataList,(function(t,r){return i("product-item",{key:r,attrs:{productItem:t,billType:e.billType,billId:e.billId}})})),1),e._v(" "),e.dataList.length>=3?i("div",{staticClass:"show-product-btn",on:{click:function(t){return t.stopPropagation(),e.switchProductList(t)}}},[i("p",{directives:[{name:"show",rawName:"v-show",value:!e.isShow,expression:"!isShow"}]},[e._v("显示剩余"+e._s(e.dataList.length-2)+"件商品")]),e._v(" "),i("p",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}]},[e._v("收起商品")]),e._v(" "),i("i",{directives:[{name:"show",rawName:"v-show",value:!e.isShow,expression:"!isShow"}],staticClass:"downIco"}),e._v(" "),i("i",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],staticClass:"upIco"})]):e._e(),e._v(" "),11!=e.billType?i("div",{staticClass:"need-pay"},[i("p",{staticClass:"time"},[e._v(e._s(e.submitTime))]),e._v(" "),i("p",{staticClass:"pr"},[i("i",[e._v(e._s(e.moneyText)+":")]),i("span",{staticClass:"smallRMB"},[e._v("￥")]),e._v(e._s(e.goodsAmount.integer)),i("span",{staticClass:"decimal"},[e._v("."+e._s(e.goodsAmount.decimal))])])]):e._e(),e._v(" "),11==e.billType?i("div",{staticClass:"total"},[i("span",{staticClass:"to"},[e._v("共"),i("i",[e._v(e._s(e.amountTotal))]),e._v("件商品")]),e._v(" "),i("span",{staticClass:"pr"},[i("i",[e._v(e._s(e.moneyText)+":")]),i("span",{staticClass:"smallRMB"},[e._v("￥")]),e._v(e._s(e.goodsAmount.integer)),i("span",{staticClass:"decimal"},[e._v("."+e._s(e.goodsAmount.decimal))])])]):e._e(),e._v(" "),i("div",{staticClass:"btn-box"},[e._e(),e._v(" "),e.isEvalute&&!e.isBulk?i("div",{staticClass:"btn",on:{click:function(t){return t.stopPropagation(),e.toComment(t)}}},[i("p",[e._v("立即评价")])]):e._e(),e._v(" "),e.isBuyAgain&&!e.isBulk?i("div",{staticClass:"btn",on:{click:function(t){return t.stopPropagation(),e.buyAgain(t)}}},[i("p",[e._v("再次购买")])]):e._e(),e._v(" "),e.isViewLogistics&&!e.isBulk?i("div",{staticClass:"btn",on:{click:function(t){return t.stopPropagation(),e.expressType(e.dataList[0])}}},[i("p",[e._v("查看物流")])]):e._e(),e._v(" "),e.isWaitTakeDelivery&&!e.isBulk?i("div",{staticClass:"btn",on:{click:function(t){return t.stopPropagation(),e.confirmProduct()}}},[i("p",[e._v("确认收货")])]):e._e(),e._v(" "),e.isFinish?i("div",{staticClass:"btn"},[i("p",[e._v("已完成")])]):e._e(),e._v(" "),e.isPayAtOnce?i("div",{staticClass:"btn",on:{click:function(t){return e.payAtOnce(e.payInfo)}}},[i("p",[e._v("立即付款")])]):e._e()])]),e._v(" "),i("van-dialog",{attrs:{title:"选择快递单号","show-cancel-button":""},on:{confirm:e.confirmForm},model:{value:e.showDialog,callback:function(t){e.showDialog=t},expression:"showDialog"}},[i("van-radio-group",{model:{value:e.expressNo,callback:function(t){e.expressNo=t},expression:"expressNo"}},[i("van-cell-group",e._l(e.expressNoList,(function(t,r){return i("van-cell",{key:r,attrs:{title:t,clickable:""},on:{click:function(i){return i.stopPropagation(),e.selExpress(t)}},scopedSlots:e._u([{key:"right-icon",fn:function(){return[i("van-radio",{attrs:{"checked-color":"#ee0a24",name:t}})]},proxy:!0}],null,!0)})})),1)],1)],1)],1)}),[],!1,null,"c40b02f2",null).exports),y=i("bfkV"),m={name:"allOrder",data:function(){return{loading:!1,finished:!1,error:!1,refreshing:!1,orderList:[],currentPage:0,totalPage:0,page:0,showEmpty:!1,currentOrderList:[]}},components:{OrderItem:h,Empty:y.a},created:function(){this.onLoad()},watch:{currentOrderList:function(e,t){0!==e.length?this.showEmpty=!1:this.showEmpty=!0}},methods:{onLoad:function(){var e=this;this.loading=!0;var t=this.currentPage;t+=1,this.currentPage=t,this.refreshing=!1;var i={page:{index:t,pageSize:10},airDefenseNo:this.$store.state.userRoomId};console.log("---------------this.$store.state.userRoomId----------",this.$store.state.userRoomId),this.$http.post("/app/json/app_shopping_order/findOrderFormList",i).then((function(i){var r;if(r=0==i.data.data.pages?1:i.data.data.pages,t<r||t==r)if(i.data.data.pages==t&&(e.finished=!0),0==i.data.status){var s=i.data.data.records;e.orderList=e.orderList.concat(s),e.page=i.data.data.pages,0!==e.orderList.length?e.initData():e.currentOrderList=[],e.loading=!1}else e.loading=!1,e.error=!0;else e.finished=!0})).catch((function(t){e.$toast("请求失败，点击重新加载"),e.loading=!1,e.error=!0}))},onRefresh:function(){var e=this;this.page=1,this.finished=!1,this.loading=!0,this.currentPage=1;var t={page:{index:1,pageSize:10},airDefenseNo:this.$store.state.userRoomId};this.$http.post("/app/json/app_shopping_order/findOrderFormList",t).then((function(t){0==t.data.status&&(e.orderList=t.data.data.records,e.totalPage=t.data.data.pages,0!==e.orderList.length&&e.initData(),e.$toast("刷新成功"),e.loading=!1,e.refreshing=!1)})).catch((function(t){e.$toast("网络繁忙,请稍后再试~")}))},initData:function(){var e=this;this.currentOrderList=this.orderList.map((function(t){return{billType:t.billType,billId:t.billId,amount:t.totalPrice,submitTime:t.submitTime,orderType:t.orderStateType,orderStateType:t.orderStateType,params:{deliverType:t.deliverType,orderId:t.id,orderType:t.orderStateType,orderPayType:t.orderPayType,orderCategory:t.orderCategory,orderCanEvaluate:t.orderCanEvaluate,orderStateType:t.orderStateType,state:t.state,tradeNo:t.tradeNo},billDetailObj:{businessCstNo:t.loginUserPhone,groupBuyActivityId:t.groupBuyActivityId,groupBuyId:t.groupBuyId,payMode:t.payMode,tradeNo:t.tradeNo,shoppingOrderId:t.shoppingOrderId,orderPayType:t.orderPayType,id:t.id,tag:e.getTag(t.state,t.orderStateType),tabIndex:0,awardActivityList:t.awardActivityList,isRefund:t.isRefund},payInfo:{businessCstNo:t.loginUserPhone,platMerCstNo:t.platMerCstNo,tradeMerCstNo:t.tradeMerCstNo,billNo:t.billNo,orderId:t.id,orderCategory:t.orderCategory,orderType:t.orderType,tradeNo:t.tradeNo,deliverCheckcode:t.deliverCheckcode},dataList:t.orderFormItemList.map((function(e){return{billType:t.billType,billImg:e.iconUrl,billName:e.name,billAmount:e.unitPrice,billNum:e.quantity,skuId:e.itemId,storeOuCode:e.storeOuCode,id:e.itemId,expressNo:t.expressNo,expressName:t.expressName,interfaceType:t.interfaceType,deliverType:t.deliverType,address:t.address,cityId:t.cityId,countryId:t.countryId,countryName:t.countryName,provinceId:t.provinceId,provinceName:t.provinceName,townId:t.townId,townName:t.townName,receiver:t.receiver,mobile:t.mobile,info:e.info,itemTypeName:e.itemTypeName,snapshotTime:e.snapshotTime}}))}})),console.log(this.currentOrderList)},getTag:function(e,t){return 1==e&&"200015"==t?"1":17==e&&"200017"==t?"16":4==e&&"200017"==t?"4":9==e&&"200017"==t?"9":7==e&&"200018"==t?"7":void 0}}},f=(i("K/Lt"),Object(n.a)(m,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"allOrder"},[i("van-pull-refresh",{on:{refresh:e.onRefresh},model:{value:e.refreshing,callback:function(t){e.refreshing=t},expression:"refreshing"}},[i("van-list",{attrs:{finished:e.finished,"finished-text":e.showEmpty?"":"- 亲, 没有更多订单了 -",error:e.error,"error-text":"请求失败，点击重新加载","immediate-check":!1},on:{load:e.onLoad,"update:error":function(t){e.error=t}},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[e._l(e.currentOrderList,(function(e,t){return i("div",{key:t,staticClass:"scroll"},[i("OrderItem",{attrs:{pageType:"allOrder",billType:e.billType,dataList:e.dataList,amount:e.amount,submitTime:e.submitTime,params:e.params,billId:e.billId,billDetailObj:e.billDetailObj,orderType:e.orderType,payInfo:e.payInfo,orderStateType:e.orderStateType}})],1)})),e._v(" "),i("Empty",{directives:[{name:"show",rawName:"v-show",value:e.showEmpty,expression:"showEmpty"}]})],2)],1)],1)}),[],!1,null,"6ad01f1b",null).exports),g={name:"cancel",data:function(){return{loading:!1,finished:!1,error:!1,refreshing:!1,orderList:[],currentPage:0,totalPage:0,queryBadge:{},page:0,showEmpty:!1,currentOrderList:[],tabs:{text:"已取消",tag:"7",type:["200018"]}}},components:{OrderItem:h,Empty:y.a},created:function(){this.onLoad()},watch:{currentOrderList:function(e,t){0!==e.length?this.showEmpty=!1:this.showEmpty=!0}},methods:{onLoad:function(){var e=this;this.loading=!0;var t=this.currentPage;t+=1,this.currentPage=t,this.refreshing=!1;var i={orderType:this.tabs.type[0],orderTypeList:this.tabs.type,state:this.tabs.tag,page:{index:t,pageSize:30}};this.$http.post("/app/json/app_shopping_order/queryOrder",i).then((function(i){if(t<i.data.data.page.totalPages||t==i.data.data.page.totalPages)if(i.data.data.page.totalPages==t&&(e.finished=!0),0==i.data.status){var r=i.data.data.orderList;e.orderList=e.orderList.concat(r),e.orderList.length>0?(e.orderList.forEach((function(e){e.billType=11,e.itemAbstractList.forEach((function(e){e.billType=11}))})),e.initData()):e.currentOrderList=[],e.page=i.data.data.page.totalPages,e.loading=!1}else e.loading=!1,e.error=!0;else e.finished=!0})).catch((function(t){e.$toast("请求失败，点击重新加载"),e.loading=!1,e.error=!0}))},onRefresh:function(){var e=this;this.page=1,this.finished=!1,this.loading=!0,this.currentPage=1;var t={orderType:this.tabs.type[0],orderTypeList:this.tabs.type,state:this.tabs.tag,page:{index:1,pageSize:10}};this.$http.post("/app/json/app_shopping_order/queryOrder",t).then((function(t){0==t.data.status&&(e.orderList=t.data.data.orderList,e.orderList.length>0&&(e.orderList.forEach((function(e){e.billType=11,e.itemAbstractList.forEach((function(e){e.billType=11}))})),e.initData()),e.totalPage=t.data.totalPages,e.$toast("刷新成功"),e.loading=!1,e.refreshing=!1)})).catch((function(t){e.$toast("网络繁忙,请稍后再试~")}))},initData:function(){this.currentOrderList=this.orderList.map((function(e){return{billType:e.billType,amount:e.realAmount,submitTime:e.submitTime,deliverType:e.deliverType,orderId:e.id,orderType:e.orderType,orderCategory:e.orderCategory,orderMode:e.orderMode,shoppingOrderId:e.shoppingOrderId,bulkOrderType:e.orderType,id:e.id,tradeNo:e.tradeNo,params:{deliverType:e.deliverType,orderId:e.id,orderType:e.orderType,orderCategory:e.orderCategory,orderStateType:e.orderStateType,state:e.state},billDetailObj:{groupBuyActivityId:e.groupBuyActivityId,groupBuyId:e.groupBuyId,payMode:e.payMode,tradeNo:e.tradeNo,shoppingOrderId:e.shoppingOrderId,orderPayType:e.orderPayType,id:e.id,tag:"7",tabIndex:6,awardActivityList:e.awardActivityList},dataList:e.itemAbstractList.map((function(t){return{billType:t.billType,billImg:t.phPictureUrl,billName:t.skuName,billAmount:t.salePrice,billNum:t.number,skuId:t.skuId,id:t.id,storeOuCode:e.storeOuCode,expressNo:e.expressNo,expressName:e.expressName,interfaceType:e.interfaceType,deliverType:e.deliverType}}))}}))}}},v=(i("5LU6"),Object(n.a)(g,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"cancel"},[i("van-pull-refresh",{on:{refresh:e.onRefresh},model:{value:e.refreshing,callback:function(t){e.refreshing=t},expression:"refreshing"}},[i("van-list",{attrs:{finished:e.finished,"finished-text":e.showEmpty?"":"- 亲, 没有更多订单了 -",error:e.error,"error-text":"请求失败，点击重新加载","immediate-check":!1},on:{load:e.onLoad,"update:error":function(t){e.error=t}},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[e._l(e.currentOrderList,(function(e,t){return i("div",{key:t,staticClass:"scroll"},[i("OrderItem",{attrs:{dataList:e.dataList,params:e.params,billType:e.billType,amount:e.amount,submitTime:e.submitTime,billDetailObj:e.billDetailObj,orderType:e.orderType,pageType:"cancel",orderMode:e.orderMode,shoppingOrderId:e.shoppingOrderId,bulkOrderType:e.bulkOrderType,id:e.id,tradeNo:e.tradeNo}})],1)})),e._v(" "),i("Empty",{directives:[{name:"show",rawName:"v-show",value:e.showEmpty,expression:"showEmpty"}]})],2)],1)],1)}),[],!1,null,"f0b5d704",null).exports),b=i("3tWz"),T=i.n(b),I={props:["results","pageName","isDisAll","isDis"],data:function(){return{isShowPropertyBill:!1,isDisabled:!1,isDisabledItem:!1,isChecked:!1,activeNames:["1"],isOpen:!0,query:this.$route.query}},computed:{checkAllBill:{get:function(){return JSON.parse(JSON.stringify(this.results)).every((function(e){return e.checked}))},set:function(e){var t=JSON.parse(JSON.stringify(this.results));t.forEach((function(t){t.checked=e})),this.results=t}}},created:function(){"true"==this.query.orderPage||null==this.query.orderPage?this.isOpen=!1:this.isOpen=!0},methods:{checkEvent:function(e,t){t.checked=e,t.billType=1,this.$emit("checkEvent",t)},onClickBill:function(e){this.isOpen=!e,console.log("this.isOpen",this.isOpen)},titleIcon:function(e){return"1"==e?"house":"2"==e?"car":""},checkDetail:function(e,t){console.log("checkDetail",e),console.log("data",t);var i=t.customerRoomId,r=T()(i,",");this.$router.push({path:"/bill/detail",query:{billDetailType:"waitPay"===e?0:1,airDefenseNo:r,houseName:t.spaceFullName}})}}},k=(i("3gIA"),{name:"finish",data:function(){return{userRoomId:"",loading:!1,finished:!1,error:!1,errorText:"请求失败，点击重新加载",properWorng:!1,refreshing:!1,orderList:[],currentPage:1,totalPage:0,queryBadge:{},page:0,index:0,showEmpty:!1,currentOrderList:[],tabs:{text:"已完成",tag:"9",type:["200017"]},isLoadPropertyBill:!1,billResults:[],reqBillType:"2,3,4,5,6,7,8,9,10,11,14"}},components:{propertyBill:Object(n.a)(I,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.results?i("div",{staticClass:"property-bill"},[i("div",{staticClass:"property-box",class:{isactive:e.isOpen}},[i("van-checkbox",{directives:[{name:"show",rawName:"v-show",value:"waitPay"===e.pageName,expression:"pageName === 'waitPay'"}],attrs:{disabled:e.isDisAll,"checked-color":"#f80f16","icon-size":"18px"},model:{value:e.checkAllBill,callback:function(t){e.checkAllBill=t},expression:"checkAllBill"}}),e._v(" "),i("div",{staticClass:"property-title",class:{finish:"waitPay"!==e.pageName},on:{click:function(t){return e.onClickBill(e.isOpen)}}},[e._v("\n      您的物业缴费账单\n      "),i("div",{staticClass:"down-up-icon"})])],1),e._v(" "),i("transition",{attrs:{name:"sub-comments"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.isOpen,expression:"isOpen"}],staticClass:"list"},[i("div",{staticClass:"content"},e._l(e.results,(function(t,r){return i("div",{key:r,staticClass:"content-list"},[i("div",{staticClass:"title"},[i("van-checkbox",{directives:[{name:"show",rawName:"v-show",value:"waitPay"===e.pageName,expression:"pageName === 'waitPay'"}],attrs:{disabled:e.isDis,"checked-color":"#f80f16","icon-size":"18px"},on:{change:function(i){return e.checkEvent(i,t)}},model:{value:t.checked,callback:function(i){e.$set(t,"checked",i)},expression:"item.checked"}}),e._v(" "),i("i",{staticClass:"icon",class:{house:"1"==t.type,car:"2"==t.type,finish:"waitPay"!==e.pageName}}),e._v(" "),i("span",{staticClass:"title-name"},[e._v("物业缴费")])],1),e._v(" "),i("div",{staticClass:"hd",on:{click:function(i){return e.checkDetail(e.pageName,t)}}},[i("div",{staticClass:"icon",class:e.titleIcon(t.type)}),e._v(" "),i("div",{staticClass:"detail"},[i("div",{staticClass:"project"},[e._v(e._s(t.spaceFullName))]),e._v(" "),i("div",{staticClass:"total"},[i("span",[e._v("待缴纳总金额")]),e._v(" "),i("span",[e._v("￥"+e._s("waitPay"===e.pageName?t.totalPayableAmount:"0.00"))])]),e._v(" "),i("div",{staticClass:"check"},[e._v("\n                查账单 "),i("van-icon",{staticClass:"arrow-icon",attrs:{name:"arrow"}})],1)])]),e._v(" "),i("div",{staticClass:"inline"})])})),0)])])],1):e._e()}),[],!1,null,"71863056",null).exports,OrderItem:h,Empty:y.a},created:function(){this.getRoomId()},mounted:function(){this.onLoad()},methods:{getRoomId:function(){var e=this;s.a.get({key:"LLBUserRoomId",isPublic:!0}).then((function(t){t.hasOwnProperty("result")?(console.log("我的订单人房id获取成功",t),e.userRoomId=t.result):(console.log("我的订单人房id获取失败",t),e.userRoomId="")}))},propertyFn:function(){var e,t=this,i={airDefenseNo:(this.userRoomId?this.userRoomId:this.$store.state.userRoomId).replace(/\|/gi,","),memberId:this.$store.state.userInfo.phone?this.$store.state.userInfo.phone:"",status:90,type:1,pageNo:"",pageTimes:""};return e="development"==this.$store.state.environment?"http://m-center-uat.linli.timesgroup.cn/times/charge-bff/order-center/api-c/v1/getList":"https://m-center-prod-linli.timesgroup.cn/times/charge-bff/order-center/api-c/v1/getList",new Promise((function(r,s){t.$http.get(e,{params:i}).then((function(e){r(e)}),(function(e){s(e)}))}))},orderFn:function(){var e=this,t={orderType:this.tabs.type[0],orderTypeList:this.tabs.type,page:{index:this.currentPage,pageSize:30},airDefenseNo:this.userRoomId?this.userRoomId:this.$store.state.userRoomId,billType:this.reqBillType};return new Promise((function(i,r){e.$http.post("/app/json/app_shopping_order/findOrderFormList",t).then((function(e){i(e)}),(function(e){r(e)}))}))},onLoad:function(){var e=this;this.loading=!0;var t,i=!1,r=!1;t=this.currentPage>1&&!this.properWorng?[this.orderFn()]:[this.propertyFn(),this.orderFn()],Promise.allSettled(t).then((function(t){var s="",a="";if(2==t.length?(s=t[0],a=t[1]):(s="",a=t[0]),s&&"fulfilled"===s.status){var o=s.value.data;200===o.code?e.billResults=o.data.finish:e.billResults=[],e.billResults.length?e.isLoadPropertyBill=!0:e.isLoadPropertyBill=!1}else s?(e.loading=!1,e.error=!0,r=!0,e.properWorng=!0):(e.loading=!1,e.error=!1,r=!1,e.properWorng=!1);if(a&&"fulfilled"===a.status){var n,l=a.value.data,d=l.data;if(n=0==d.pages?1:d.pages,e.currentPage<=n){if(d.pages==e.currentPage&&(e.finished=!0),0==l.status){var c=d.records;e.orderList=1==e.currentPage?c:e.orderList.concat(c),e.page=d.pages,0!==e.orderList.length?e.initData():(e.currentOrderList=[],e.finished=!0),e.loading=!1}else e.loading=!1,e.error=!0;e.currentPage++}else e.finished=!0}else e.loading=!1,e.error=!0,i=!0;r&&i?(e.finished=!1,e.errorText="物业账单和订单请求失败，点击重新加载",e.$toast("物业账单和订单请求失败，点击重新加载")):r&&!i?(e.finished=!1,e.errorText="物业账单请求失败，点击重新加载",e.$toast("物业账单请求失败，点击重新加载")):!r&&i&&(e.finished=!1,e.errorText="订单请求失败，点击重新加载",e.$toast("订单请求失败，点击重新加载")),0!==e.billResults.length||0!==e.currentOrderList.length||e.error?e.showEmpty=!1:e.showEmpty=!0,e.refreshing&&!e.error&&(e.$toast("刷新成功"),e.refreshing=!1)}))},onRefresh:function(){this.page=1,this.currentPage=1,this.finished=!1,this.refreshing=!0,this.onLoad()},initData:function(){this.currentOrderList=this.orderList.map((function(e){return{billType:e.billType,billId:e.billId,amount:e.totalPrice,submitTime:e.submitTime,deliverType:e.deliverType,orderId:e.id,orderType:e.orderStateType,orderCategory:e.orderCategory,orderCanEvaluate:e.orderCanEvaluate,state:e.state,bulkOrderType:e.orderType,shoppingOrderId:e.shoppingOrderId,id:e.id,tradeNo:e.tradeNo,params:{deliverType:e.deliverType,orderId:e.id,orderType:e.orderStateType,orderCategory:e.orderCategory,orderCanEvaluate:e.orderCanEvaluate,orderStateType:e.orderStateType,state:e.state,shoppingOrderId:e.shoppingOrderId},billDetailObj:{businessCstNo:e.loginUserPhone,groupBuyActivityId:e.groupBuyActivityId,groupBuyId:e.groupBuyId,payMode:e.payMode,tradeNo:e.tradeNo,shoppingOrderId:e.shoppingOrderId,orderPayType:e.orderPayType,id:e.id,tag:17==e.state?"16":16==e.state?"16":4==e.state?"4":9==e.state?"9":12==e.state?"7":e.state,tabIndex:5,awardActivityList:e.awardActivityList,isRefund:e.isRefund},dataList:e.orderFormItemList.map((function(t){return{billType:e.billType,billImg:t.iconUrl,billName:t.name,billAmount:t.unitPrice,billNum:t.quantity,skuId:t.itemId,id:t.itemId,storeOuCode:t.storeOuCode,expressNo:e.expressNo,expressName:e.expressName,interfaceType:e.interfaceType,deliverType:e.deliverType,itemTypeName:t.itemTypeName,snapshotTime:t.snapshotTime,info:t.info,address:e.address,cityId:e.cityId,countryId:e.countryId,countryName:e.countryName,provinceId:e.provinceId,provinceName:e.provinceName,townId:e.townId,townName:e.townName,receiver:e.receiver,mobile:e.mobile,itemOrderId:t.itemOrderId}}))}}))}}}),_=(i("OQ6O"),Object(n.a)(k,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"finish"},[i("van-pull-refresh",{on:{refresh:e.onRefresh},model:{value:e.refreshing,callback:function(t){e.refreshing=t},expression:"refreshing"}},[i("van-list",{attrs:{finished:e.finished,"finished-text":e.showEmpty?"":"- 亲, 没有更多订单了 -",error:e.error,"error-text":e.errorText,"immediate-check":!0},on:{load:e.onLoad,"update:error":function(t){e.error=t}},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[i("property-bill",{directives:[{name:"show",rawName:"v-show",value:e.isLoadPropertyBill,expression:"isLoadPropertyBill"}],attrs:{results:e.billResults}}),e._v(" "),e._l(e.currentOrderList,(function(e,t){return i("div",{key:t,staticClass:"scroll"},[i("OrderItem",{attrs:{dataList:e.dataList,params:e.params,billType:e.billType,amount:e.amount,submitTime:e.submitTime,billDetailObj:e.billDetailObj,orderType:e.orderType,billId:e.billId,pageType:"finish",state:e.state,orderCanEvaluate:e.orderCanEvaluate,shoppingOrderId:e.shoppingOrderId,bulkOrderType:e.bulkOrderType,id:e.id,tradeNo:e.tradeNo}})],1)})),e._v(" "),i("Empty",{directives:[{name:"show",rawName:"v-show",value:e.showEmpty,expression:"showEmpty"}]})],2)],1)],1)}),[],!1,null,"233f3cb2",null).exports),w={name:"waitDelivery",data:function(){return i=[],(t="currentOrderList")in(e={loading:!1,finished:!1,error:!1,refreshing:!1,orderList:[],currentPage:0,totalPage:0,page:0,showEmpty:!1,currentOrderList:[],params:{},tabs:{text:"待发货",tag:"16",type:["200017"]}})?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e;var e,t,i},components:{OrderItem:h,Empty:y.a},created:function(){this.onLoad()},watch:{currentOrderList:function(e,t){0!==e.length?this.showEmpty=!1:this.showEmpty=!0}},methods:{onLoad:function(){var e=this;this.loading=!0;var t=this.currentPage;t+=1,this.currentPage=t,this.refreshing=!1;var i={orderType:this.tabs.type[0],orderTypeList:this.tabs.type,state:this.tabs.tag,page:{index:t,pageSize:30}};this.$http.post("/app/json/app_shopping_order/queryOrder",i).then((function(i){if(t<i.data.data.page.totalPages||t==i.data.data.page.totalPages)if(i.data.data.page.totalPages==t&&(e.finished=!0),0==i.data.status){var r=i.data.data.orderList;e.orderList=e.orderList.concat(r),e.orderList.length>0?(e.orderList.forEach((function(e){e.billType=11,e.itemAbstractList.forEach((function(e){e.billType=11}))})),e.initData()):(console.log("11111111111111111111"),e.currentOrderList=[]),e.page=i.data.data.page.totalPages,e.loading=!1}else e.loading=!1,e.error=!0;else e.finished=!0})).catch((function(t){e.$toast("请求失败，点击重新加载"),e.loading=!1,e.error=!0}))},onRefresh:function(){var e=this;this.page=1,this.finished=!1,this.loading=!0,this.currentPage=1;var t={orderType:this.tabs.type[0],orderTypeList:this.tabs.type,state:this.tabs.tag,page:{index:1,pageSize:10}};this.$http.post("/app/json/app_shopping_order/queryOrder",t).then((function(t){0==t.data.status&&(e.orderList=t.data.data.orderList,e.orderList.length>0&&(e.orderList.forEach((function(e){e.billType=11,e.itemAbstractList.forEach((function(e){e.billType=11}))})),e.initData()),e.totalPage=t.data.totalPages,e.$toast("刷新成功"),e.loading=!1,e.refreshing=!1)})).catch((function(t){e.$toast("网络繁忙,请稍后再试~")}))},initData:function(){this.currentOrderList=this.orderList.map((function(e){return{billType:e.billType,amount:e.realAmount,submitTime:e.submitTime,deliverType:e.deliverType,orderId:e.id,orderType:e.orderType,orderCategory:e.orderCategory,orderMode:e.orderMode,shoppingOrderId:e.shoppingOrderId,bulkOrderType:e.orderType,id:e.id,tradeNo:e.tradeNo,params:{deliverType:e.deliverType,orderId:e.id,orderType:e.orderType,orderCategory:e.orderCategory,orderStateType:e.orderStateType,state:e.state,tradeNo:e.tradeNo},billDetailObj:{groupBuyActivityId:e.groupBuyActivityId,groupBuyId:e.groupBuyId,payMode:e.payMode,tradeNo:e.tradeNo,shoppingOrderId:e.shoppingOrderId,orderPayType:e.orderPayType,id:e.id,tag:"16",tabIndex:3,awardActivityList:e.awardActivityList},dataList:e.itemAbstractList.map((function(t){return{billType:t.billType,billImg:t.phPictureUrl,billName:t.skuName,billAmount:t.salePrice,billNum:t.number,skuId:t.skuId,id:t.id,storeOuCode:e.storeOuCode,expressNo:e.expressNo,expressName:e.expressName,interfaceType:e.interfaceType,deliverType:e.deliverType,address:e.address,cityId:e.cityId,countryId:e.countryId,countryName:e.countryName,provinceId:e.provinceId,provinceName:e.provinceName,townId:e.townId,townName:e.townName,receiver:e.receiver,mobile:e.mobile}}))}}))}}},C=(i("+QSX"),Object(n.a)(w,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"waitDelivery"},[i("van-pull-refresh",{on:{refresh:e.onRefresh},model:{value:e.refreshing,callback:function(t){e.refreshing=t},expression:"refreshing"}},[i("van-list",{attrs:{finished:e.finished,"finished-text":e.showEmpty?"":"- 亲, 没有更多订单了 -",error:e.error,"error-text":"请求失败，点击重新加载","immediate-check":!1},on:{load:e.onLoad,"update:error":function(t){e.error=t}},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[e._l(e.currentOrderList,(function(e,t){return i("div",{key:t,staticClass:"scroll"},[i("OrderItem",{attrs:{dataList:e.dataList,params:e.params,billType:e.billType,amount:e.amount,submitTime:e.submitTime,billDetailObj:e.billDetailObj,orderType:e.orderType,pageType:"waitDelivery",orderMode:e.orderMode,shoppingOrderId:e.shoppingOrderId,bulkOrderType:e.bulkOrderType,id:e.id,tradeNo:e.tradeNo}})],1)})),e._v(" "),i("Empty",{directives:[{name:"show",rawName:"v-show",value:e.showEmpty,expression:"showEmpty"}]})],2)],1)],1)}),[],!1,null,"a81e1148",null).exports),N=(i("5+UC"),i("05lO")),O=i("7tbW"),x=i.n(O);function L(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var P={props:["results","pageName","isDisAll","isDis","checkData"],data:function(){var e;return L(e={isChecked:!1,isDisabled:!1,isShowPropertyBill:!1},"isDisabled",!1),L(e,"isDisabledItem",!1),L(e,"isChecked",!1),L(e,"activeNames",["1"]),L(e,"isOpen",!0),L(e,"query",this.$route.query),e},computed:{checkAllBill:{get:function(){return JSON.parse(JSON.stringify(this.results)).every((function(e){return e.checked}))},set:function(e){var t=JSON.parse(JSON.stringify(this.results));t.forEach((function(t){t.checked=e})),this.results=t}}},created:function(){"true"==this.query.orderPage||null==this.query.orderPage?this.isOpen=!1:this.isOpen=!0},methods:{checkEvent:function(e){var t={billType:1};t.checked=this.isChecked,t.checkAllBillType1=!0,this.$emit("checkEvent",t)},onClickBill:function(e){this.isOpen=!e,console.log("this.isOpen",this.isOpen)},titleIcon:function(e){return"1"==e?"house":"2"==e?"car":""},checkDetail:function(e,t){var i=t.customerRoomId,r=T()(i,",");this.$router.push({path:"/bill/detail",query:{billDetailType:"waitPay"===e?0:1,airDefenseNo:r,houseName:t.spaceFullName}})}}},A=(i("N6hA"),Object(n.a)(P,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.results?i("div",{staticClass:"property-bill"},[i("div",{staticClass:"property-box",class:{isactive:e.isOpen}},[i("van-checkbox",{directives:[{name:"show",rawName:"v-show",value:"waitPay"===e.pageName,expression:"pageName === 'waitPay'"}],attrs:{disabled:e.isDisabled,"checked-color":"#f80f16","icon-size":"18px"},on:{click:function(t){return e.checkEvent(t)}},model:{value:e.isChecked,callback:function(t){e.isChecked=t},expression:"isChecked"}}),e._v(" "),i("div",{staticClass:"property-title",class:{finish:"waitPay"!==e.pageName},on:{click:function(t){return e.onClickBill(e.isOpen)}}},[e._v("\n      您的物业缴费账单\n      "),i("div",{staticClass:"down-up-icon"})])],1),e._v(" "),i("transition",{attrs:{name:"sub-comments"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.isOpen,expression:"isOpen"}],staticClass:"list"},[i("div",{staticClass:"content"},[e._t("default")],2)])])],1):e._e()}),[],!1,null,"3397e414",null).exports),D={props:["checkData","mergeAmount","total"],data:function(){return{isChecked:!1,isShow:!1,billType:"",amount:{integer:"0",decimal:"00"},isX:!1}},created:function(){/iphone/gi.test(navigator.userAgent)&&812==screen.height&&375==screen.width?(console.log("是iphonex"),this.isX=!0):(console.log("不是iphonex"),this.isX=!1)},computed:{billTypeName:function(){var e="";switch(this.billType){case 11:e="邻里星选";break;case 1:e="物业缴费";break;case 2:e="月保续费";break;case 3:e="临停缴费";break;case 5:e="零售";break;case 6:e="预缴费";break;case 4:e="临时缴费";break;case 7:e="旅游";break;case 8:e="家政";break;case 9:e="拎包";break;case 10:e="押金";break;case 12:e="美居";break;case 14:e="维修服务费"}return e}},methods:{checkEvent:function(e){var t=Array.from(this.checkData);if(0!=t.length){var i={};i.billType=t[0].billType,i.checked=this.isChecked,i.checkAll=!0,this.$emit("checkEvent",i)}},mergePay:function(){this.$emit("mergePay")}},watch:{mergeAmount:function(e,t){var i=this.$util.toDecimal2(e).toString().split(".");this.amount.integer=i[0],this.amount.decimal=i[1]}}},$=(i("hTml"),Object(n.a)(D,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"pay-content"},[i("div",{staticClass:"pay-div"},[i("div",[i("div",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],staticClass:"pay-box"},[i("van-checkbox",{attrs:{"checked-color":"#f80f16","icon-size":"18px"},on:{click:function(t){return e.checkEvent(t)}},model:{value:e.isChecked,callback:function(t){e.isChecked=t},expression:"isChecked"}}),e._v(" "),i("div",{staticClass:"text"},[i("p",{staticClass:"p1"},[e._v("全选")]),e._v(" "),i("div",{staticClass:"checkAll"},[i("div",{staticClass:"all"},[e._v("\n              合计"),i("span",[e._v("￥"),i("span",[e._v(e._s(e.amount.integer))]),e._v("."),i("span",{staticClass:"decimal"},[e._v(e._s(e.amount.decimal))])])]),e._v(" "),i("div",{staticClass:"onlyCheck"},[e._v("(仅可全选"+e._s(e.billTypeName)+"类订单)")])])])],1)]),e._v(" "),i("div",{staticClass:"pay"},[i("div",{staticClass:"btn",on:{click:e.mergePay}},[i("div",{staticClass:"text"},[e._v("去结算")]),e._v(" "),i("div",{staticClass:"total"},[e._v("("+e._s(e.total)+")")])])])]),e._v(" "),e.isX?i("div",{staticClass:"adapter-iphoneX"}):e._e()])}),[],!1,null,"78f22f8a",null).exports),S={props:["pageName","billId","item","billType"],data:function(){return{isShowPropertyBill:!1,isDisabled:!1,isDisabledItem:!1,isChecked:!1,activeNames:["1"],isOpen:!0,query:this.$route.query}},computed:{checkAllBill:{get:function(){return JSON.parse(JSON.stringify(this.results)).every((function(e){return e.checked}))},set:function(e){var t=JSON.parse(JSON.stringify(this.results));t.forEach((function(t){t.checked=e})),this.results=t}}},created:function(){"true"==this.query.orderPage||null==this.query.orderPage?this.isOpen=!1:this.isOpen=!0},methods:{checkEvent:function(e,t){t.checked=e,t.billType=t.billType,this.$emit("checkEvent",t)},onClickBill:function(e){this.isOpen=!e,console.log("this.isOpen",this.isOpen)},titleIcon:function(e){return"1"==e?"house":"2"==e?"car":""},checkDetail:function(e,t){var i=t.customerRoomId,r=T()(i,",");this.$router.push({path:"/bill/detail",query:{billDetailType:"waitPay"===e?0:1,airDefenseNo:r,houseName:t.spaceFullName}})}}},E=(i("6odi"),Object(n.a)(S,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"content-list"},[i("div",{staticClass:"title"},[i("van-checkbox",{attrs:{disabled:e.isDisabled,"checked-color":"#f80f16","icon-size":"18px"},on:{change:function(t){return e.checkEvent(t,e.item)}},model:{value:e.isChecked,callback:function(t){e.isChecked=t},expression:"isChecked"}}),e._v(" "),i("i",{staticClass:"icon",class:{house:"1"==e.item.type,car:"2"==e.item.type,finish:"waitPay"!==e.pageName}}),e._v(" "),i("span",{staticClass:"title-name"},[e._v("物业缴费")])],1),e._v(" "),i("div",{staticClass:"hd",on:{click:function(t){return e.checkDetail(e.pageName,e.item)}}},[i("div",{staticClass:"icon",class:e.titleIcon(e.item.type)}),e._v(" "),i("div",{staticClass:"detail"},[i("div",{staticClass:"project"},[e._v(e._s(e.item.spaceFullName))]),e._v(" "),i("div",{staticClass:"total"},[i("span",[e._v("待缴纳总金额")]),e._v(" "),i("span",[e._v("￥"+e._s("waitPay"===e.pageName?e.item.totalPayableAmount:"0.00"))])]),e._v(" "),i("div",{staticClass:"check"},[e._v("\n        查账单 "),i("van-icon",{staticClass:"arrow-icon",attrs:{name:"arrow"}})],1)])]),e._v(" "),i("div",{staticClass:"inline"})])}),[],!1,null,"5630535e",null).exports),R=i("kB5k"),M=i("aMtl"),B={name:"waitPay",data:function(){return{userRoomId:"",showDialog:!1,tipsText:"",check:!1,checkData:new Set,show:!1,loading:!1,finished:!1,error:!1,errorText:"请求失败，点击重新加载",properWorng:!1,refreshing:!1,orderList:[],currentPage:1,totalPage:0,page:0,showEmpty:!1,currentOrderList:[],params:[],mergeAmount:0,total:0,isLoadPropertyBill:!1,isDisAll:!1,isDis:!1,isLoad:!0,billResults:[],reqBillType:"2,3,4,5,6,7,8,9,10,11,14",isShowErrorMsg:!1,errorMsg:""}},components:{propertyBill:A,payDiv:$,OrderItem:h,OrderItem2:E,Empty:y.a},created:function(){this.getRoomId(),console.log("created",this.userRoomId)},mounted:function(){console.log("mounted",this.userRoomId),this.onLoad()},activated:function(){},methods:{getRoomId:function(){var e=this;s.a.get({key:"LLBUserRoomId",isPublic:!0}).then((function(t){t.hasOwnProperty("result")?(console.log("我的订单人房id获取成功",t),e.userRoomId=t.result):(console.log("我的订单人房id获取失败",t),e.userRoomId="")}))},mergePay:function(){var e=this,t=Array.from(this.checkData),i="",r="";console.log("payInfoList",t);var s="",a=[];if(t.forEach((function(e){1==e.billType?(s="property",a.push(e.projectId.toString())):s="other"})),"property"==s){this.toast();var o="",n=[];if(a.length>1){if(!a.every((function(e){return e===a[0]})))return N.a.clear(),this.isShowErrorMsg=!0,this.errorMsg="尊敬的邻里邦用户，目前仅支持本楼盘的账单支付，其他楼盘账单需切换楼盘进行缴纳，感谢您的理解。",void this.$nextTick((function(){e.$parent.$refs.stickyIndex.$el.style.position="relative",e.$parent.$refs.stickyIndex.$el.style.zIndex=0}));t.forEach((function(e){e.billNos.forEach((function(e){o+=e+",",n.push(e.toString())}))}))}else t[0].billNos.forEach((function(e){o+=e+",",n.push(e.toString())}));var l={businessCstNo:this.$store.state.userInfo.phone,platMerCstNo:t[0].platMerCstNo,tradeMerCstNo:t[0].tradeMerCstNo};this.checkedPayStatus(n,l,o,t)}else 0==t.length?this.$toast("请选择订单"):1==t.length&&11==t[0].billType&&"200001"!==t[0].orderType?(i=t[0].payInfo.billNo,r="/app-vue/app/index.html#/group_detail?orderId="+t[0].billDetailObj.groupBuyId+"&mktGroupBuyId="+t[0].billDetailObj.groupBuyActivityId+"&formPaySuccess='1'&ret={ret}",this.enginePay(t[0].payInfo,i,r)):11==t[0].billType?(this.initPayinfo(t,i,"mall"),console.log("payInfoList",t)):this.initPayinfo(t,i,"bill")},initPayinfo:function(e,t,i){var r,s={state:3,orderId:e[0].orderId,orderType:e[0].orderType,tradeNo:e[0].payInfo?e[0].payInfo.tradeNo:"",tag:1,deliverCheckcode:e[0].payInfo?e[0].payInfo.deliverCheckcode:"",deviceCode:this.$route.query.deviceCode,storeOuCode:this.$route.query.storeOuCode,stationName:this.$route.query.stationName};localStorage.setItem("currentOrderDetails",JSON.stringify(s)),e.forEach((function(e){t+=e.payInfo.billNo+","})),r="mall"==i?"/app-vue/app/index.html#/mall2/paysuccess?selectedIndex=1&isBill="+(11!=e[0].billType)+"&orderCategory="+e[0].payInfo.orderCategory+"&vipUnitUserCode="+this.$route.query.vipUnitUserCode+"&type="+this.$route.query.type+"&ret={ret}":"/app-vue/app/index.html#/order/2?time="+Date.now(),this.enginePay(e[0].payInfo,t,r)},enginePay:function(e,t,i){console.log("唤起邻里邦支付平台billNo",e,t,i),window.location.href="x-engine-json://yjzdbill/YJBillPayment?args="+encodeURIComponent(JSON.stringify({businessCstNo:e.businessCstNo,platMerCstNo:e.platMerCstNo,tradeMerCstNo:e.tradeMerCstNo,billNo:t,appScheme:"x-engine-c",payType:!1}))+"&callback="+encodeURIComponent(location.origin+i)},propertyFn:function(){var e=this;console.log("propertyFn userRoomId",this.userRoomId);var t,i={airDefenseNo:(this.userRoomId?this.userRoomId:this.$store.state.userRoomId).replace(/\|/gi,","),memberId:this.$store.state.userInfo.phone?this.$store.state.userInfo.phone:"",status:10,type:1,pageNo:"",pageTimes:""};return t="development"==this.$store.state.environment?"http://m-center-uat.linli.timesgroup.cn/times/charge-bff/order-center/api-c/v1/getList":"https://m-center-prod-linli.timesgroup.cn/times/charge-bff/order-center/api-c/v1/getList",new Promise((function(r,s){e.$http.get(t,{params:i}).then((function(e){r(e)}),(function(e){s(e)}))}))},orderFn:function(){var e=this,t={orderType:"200015",orderTypeList:["200015","200502"],state:"1",page:{index:this.currentPage,pageSize:30},airDefenseNo:this.userRoomId?this.userRoomId:this.$store.state.userRoomId,billType:this.reqBillType};return new Promise((function(i,r){e.$http.post("/app/json/app_shopping_order/findOrderFormList",t).then((function(e){i(e)}),(function(e){r(e)}))}))},onLoad:function(){var e=this;this.loading=!0;var t,i=!1,r=!1;t=this.currentPage>1&&!this.properWorng?[this.orderFn()]:[this.propertyFn(),this.orderFn()],Promise.allSettled(t).then((function(t){var s="",a="";if(2==t.length?(s=t[0],a=t[1]):(s="",a=t[0]),s&&"fulfilled"===s.status){var o=s.value.data;200===o.code?(e.billResults=o.data.notpay,e.billResults.forEach((function(e){e.totalPrice=e.totalPayableAmount,e.billId=e.spaceId,e.billType=1}))):e.billResults=[],e.billResults.length?e.isLoadPropertyBill=!0:e.isLoadPropertyBill=!1}else s?(e.loading=!1,e.error=!0,r=!0,e.properWorng=!0):(e.loading=!1,e.error=!1,r=!1,e.properWorng=!1);if(a&&"fulfilled"===a.status){var n,l=a.value.data,d=l.data;if(n=0==d.pages?1:d.pages,e.currentPage<=n){if(d.pages==e.currentPage&&(e.finished=!0),0==l.status){var c=d.records;e.orderList=1==e.currentPage?c:e.orderList.concat(c),e.page=d.pages,0!==e.orderList.length?e.initData():(e.currentOrderList=[],e.finished=!0),e.loading=!1}else e.loading=!1,e.error=!0;e.currentPage++}else e.finished=!0}else e.loading=!1,e.error=!0,i=!0;r&&i?(e.finished=!1,e.errorText="物业账单和订单请求失败，点击重新加载",e.$toast("物业账单和订单请求失败，点击重新加载")):r&&!i?(e.finished=!1,e.errorText="物业账单请求失败，点击重新加载",e.$toast("物业账单请求失败，点击重新加载")):!r&&i&&(e.finished=!1,e.errorText="订单请求失败，点击重新加载",e.$toast("订单请求失败，点击重新加载")),0!==e.billResults.length||0!==e.currentOrderList.length||e.error?e.showEmpty=!1:e.showEmpty=!0,e.refreshing&&!e.error&&(e.$toast("刷新成功"),e.refreshing=!1)})).catch((function(e){}))},onRefresh:function(){this.page=1,this.currentPage=1,this.finished=!1,this.refreshing=!0,this.onLoad()},initData:function(){this.currentOrderList=this.orderList.map((function(e){return{billType:e.billType,amount:e.totalPrice,submitTime:e.submitTime,orderType:e.orderType,orderId:e.shoppingOrderId,state:e.state,totalPrice:e.totalPrice,orderStateType:e.orderStateType,billId:e.billId,shoppingOrderId:e.shoppingOrderId,bulkOrderType:e.orderType,id:e.id,tradeNo:e.tradeNo,payInfo:{businessCstNo:e.loginUserPhone,platMerCstNo:e.platMerCstNo,tradeMerCstNo:e.tradeMerCstNo,billNo:e.billNo,orderId:e.id,orderCategory:e.orderCategory,orderType:e.orderStateType,tradeNo:e.tradeNo,deliverCheckcode:e.deliverCheckcode,isRefund:e.isRefund},params:{deliverType:e.deliverType,orderId:e.shoppingOrderId,orderType:e.orderType,orderCategory:e.orderCategory,orderCanEvaluate:e.orderCanEvaluate,orderStateType:e.orderStateType,state:e.state},billDetailObj:{businessCstNo:e.loginUserPhone,groupBuyActivityId:e.groupBuyActivityId,groupBuyId:e.groupBuyId,payMode:e.payMode,tradeNo:e.tradeNo,shoppingOrderId:e.shoppingOrderId,orderPayType:e.orderPayType,id:e.id,tag:"1",tabIndex:2,awardActivityList:e.awardActivityList,isRefund:e.isRefund},dataList:e.orderFormItemList.map((function(t){return{billType:e.billType,billImg:t.iconUrl,billName:t.name,billAmount:t.unitPrice,billNum:t.quantity,skuId:t.itemId,storeOuCode:t.storeOuCode,info:t.info,itemTypeName:t.itemTypeName,snapshotTime:t.snapshotTime}}))}}))},checkEvent:function(e){var t=this;if(e.checkAll||e.checkAllBillType1){var i=this.$refs.order.filter((function(t){return t.billType==e.billType}));console.log(i);var r=[];r=i[0]&&1==i[0].billType?this.billResults:this.currentOrderList,console.log(this.currentOrderList,"++++"),console.log(this.billResults,"----");var s=r.filter((function(t){return t.billType==e.billType}));return console.log(s+"----------"),void(e.checked?(this.checkData.clear(),i.forEach((function(e,i){t.checkData.add(s[i]),e.isChecked=!0})),i[0]&&1==i[0].billType&&(this.$refs.propertyOrder.isChecked=!0)):(this.checkData.clear(),i.forEach((function(e){e.isChecked=!1})),this.$refs.payDiv.isShow=!1,this.$refs.propertyOrder.isChecked=!1))}var a=this.$refs.order.filter((function(t){return t.billType!=e.billType}));a.forEach((function(t){t.billType!=e.billType&&(t.isDisabled=!0)})),1!=e.billType&&(this.$refs.propertyOrder.isDisabled=!0);var o=this.$refs.order.length-a.length;e.checked?(this.checkData.add(e),this.$refs.payDiv.billType=e.billType,this.$refs.payDiv.isShow=!0,this.checkData.size==o?(this.$refs.payDiv.isChecked=!0,1==e.billType&&(this.$refs.propertyOrder.isChecked=!0)):(this.$refs.payDiv.isChecked=!1,1==e.billType&&(this.$refs.propertyOrder.isChecked=!1))):(this.checkData.forEach((function(i){i.billId==e.billId&&(t.checkData.delete(i),t.$refs.payDiv.isChecked=!1,1==e.billType&&(t.$refs.propertyOrder.isChecked=!1,t.$refs.propertyOrder.isDisabled=!1))})),0==this.checkData.size&&(this.$refs.order.forEach((function(e){e.isDisabled=!1})),this.$refs.propertyOrder.isDisabled=!1,this.$refs.payDiv.isShow=!1));var n=Array.from(this.checkData).reduce((function(e,t){return Object(R.BigNumber)(e).plus(t.totalPrice)}),0);this.mergeAmount=n},toast:function(){N.a.loading({duration:0,type:"loading",message:"加载中...",forbidClick:!0})},checkedPayStatus:function(e,t,i,r){var s,a=this,o=[];s="development"==this.$store.state.environment?"http://times-pcs.linli580.com.cn:8888/pcs/bill-center/check-bill":"https://times-pms.linli580.com/pcs/bill-center/check-bill";var n={list:e};this.$http.post(s,JSON.stringify(n)).then((function(e){if("0000"==e.data.code){for(var s=e.data.data,n=0;n<s.length;n++)1!=s[n].status&&2!=s[n].status||o.push(s[n].status);if(x()(o).includes(2))N.a.clear(),a.isShowErrorMsg=!0,a.errorMsg="尊敬的邻里邦用户，该账单不存在，请重新刷新页面，获取最新账单。",a.$nextTick((function(){a.$parent.$refs.stickyIndex.$el.style.position="relative",a.$parent.$refs.stickyIndex.$el.style.zIndex=0}));else if(x()(o).includes(1))N.a.clear(),a.isShowErrorMsg=!0,a.errorMsg="尊敬的邻里邦用户，该账单信息已经更新，请重新刷新页面，获取最新账单。",a.$nextTick((function(){a.$parent.$refs.stickyIndex.$el.style.position="relative",a.$parent.$refs.stickyIndex.$el.style.zIndex=0}));else{var l=[];r.forEach((function(e,t){l.push(e.isPay)})),console.log("待支付-是否有支付中账单",l),l.includes(1)?(N.a.clear(),a.isShowErrorMsg=!0,a.errorMsg="尊敬的邻里邦用户，由于上次账单支付异常中断，为确保您的账户安全，请稍等10分钟后重新支付，感谢您的理解。",a.$nextTick((function(){a.$parent.$refs.stickyIndex.$el.style.position="relative",a.$parent.$refs.stickyIndex.$el.style.zIndex=0}))):(console.log("提交账单中心参数",{businessCstNo:t.businessCstNo,platMerCstNo:t.platMerCstNo,tradeMerCstNo:t.tradeMerCstNo,billNo:i,appScheme:"x-engine",payType:!1}),M.a.YJBillPayment({businessCstNo:t.businessCstNo,platMerCstNo:t.platMerCstNo,tradeMerCstNo:t.tradeMerCstNo,billNo:i,appScheme:"x-engine",payType:!1,__ret__:function(e){console.log("---------------开始支付提交记录---------------------"),console.log(e),"1"!=e.billRetStatus&&(N.a.clear(),a.isShowErrorMsg=!0,a.errorMsg=e.billRetStatusMessage?e.billRetStatusMessage:"支付失败",a.$nextTick((function(){a.$parent.$refs.stickyIndex.$el.style.position="relative",a.$parent.$refs.stickyIndex.$el.style.zIndex=0})))}}))}}}))},closeTanC:function(){var e=this;this.isShowErrorMsg=!1,this.$nextTick((function(){e.$parent.$refs.stickyIndex.$el.style.position="",e.$parent.$refs.stickyIndex.$el.style.zIndex=""}))}}},j=(i("aI4+"),Object(n.a)(B,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"waitPay"},[i("van-pull-refresh",{on:{refresh:e.onRefresh},model:{value:e.refreshing,callback:function(t){e.refreshing=t},expression:"refreshing"}},[i("van-list",{attrs:{finished:e.finished,"finished-text":e.showEmpty?"":"- 亲, 没有更多订单了 -",error:e.error,"error-text":e.errorText,"immediate-check":!1},on:{load:e.onLoad,"update:error":function(t){e.error=t}},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[i("property-bill",{directives:[{name:"show",rawName:"v-show",value:e.isLoadPropertyBill,expression:"isLoadPropertyBill"}],ref:"propertyOrder",attrs:{pageName:"waitPay",isDisAll:e.isDisAll,isDis:e.isDis,results:e.billResults},on:{checkEvent:e.checkEvent}},e._l(e.billResults,(function(t,r){return i("div",{key:r,staticClass:"scroll"},[i("OrderItem2",{ref:"order",refInFor:!0,attrs:{pageName:"waitPay",billId:t.billId,billType:t.billType,item:t},on:{checkEvent:e.checkEvent}})],1)})),0),e._v(" "),e._l(e.currentOrderList,(function(t,r){return i("div",{key:r,staticClass:"scroll"},[i("OrderItem",{ref:"order",refInFor:!0,attrs:{pageType:"waitPay",billType:t.billType,dataList:t.dataList,amount:t.amount,submitTime:t.submitTime,type:t.billType,orderType:t.orderType,payInfo:t.payInfo,params:t.params,orderItem:t,billId:t.billId,billDetailObj:t.billDetailObj,orderStateType:t.orderStateType,shoppingOrderId:t.shoppingOrderId,bulkOrderType:t.bulkOrderType,id:t.id,tradeNo:t.tradeNo},on:{checkEvent:e.checkEvent}})],1)})),e._v(" "),i("Empty",{directives:[{name:"show",rawName:"v-show",value:e.showEmpty,expression:"showEmpty"}]})],2)],1),e._v(" "),i("pay-div",{ref:"payDiv",attrs:{checkData:e.checkData,mergeAmount:e.mergeAmount,total:Array.from(this.checkData).length},on:{checkEvent:e.checkEvent,mergePay:e.mergePay}}),e._v(" "),e.isShowErrorMsg?i("div",{staticClass:"tanc-message-box"},[i("div",{staticClass:"content"},[i("div",{staticClass:"bg-box"}),e._v(" "),i("div",{staticClass:"message-box"},[e._v(e._s(e.errorMsg))]),e._v(" "),i("div",{staticClass:"btn-box",on:{click:e.closeTanC}},[e._v("确认")])]),e._v(" "),i("div",{staticClass:"close-btn",on:{click:e.closeTanC}})]):e._e()],1)}),[],!1,null,"a074cf06",null).exports);function U(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var q={name:"waitTakeDelivery",data:function(){var e;return U(e={loading:!1,finished:!1,error:!1,refreshing:!1,orderList:[],currentPage:0,totalPage:0,page:0,showEmpty:!1,currentOrderList:[],params:{},tabs:{text:"待收货",tag:"4",type:["200017"]}},"currentOrderList",[]),U(e,"deliveryType",""),e},components:{OrderItem:h,Empty:y.a},created:function(){this.deliveryType=this.$store.state.mall2.staticDeliverType?this.$store.state.mall2.staticDeliverType:"2",this.onLoad()},watch:{currentOrderList:function(e,t){0!==e.length?this.showEmpty=!1:this.showEmpty=!0}},methods:{onLoad:function(){var e=this;this.loading=!0;var t=this.currentPage;t+=1,this.currentPage=t,this.refreshing=!1;var i={orderType:this.tabs.type[0],orderTypeList:this.tabs.type,state:this.tabs.tag,page:{index:t,pageSize:10}};4==this.tabs.tag&&(i.deliverType=this.deliveryType,2==this.deliveryType&&(i.deliverTypeList=[2,3])),this.$http.post("/app/json/app_shopping_order/queryOrder",i).then((function(i){if(t<i.data.data.page.totalPages||t==i.data.data.page.totalPages)if(i.data.data.page.totalPages==t&&(e.finished=!0),0==i.data.status){var r=i.data.data.orderList;e.orderList=e.orderList.concat(r),e.orderList.length>0?(e.orderList.forEach((function(e){e.billType=11,e.itemAbstractList.forEach((function(e){e.billType=11}))})),e.initData()):e.currentOrderList=[],e.page=i.data.data.page.totalPages,e.loading=!1}else e.loading=!1,e.error=!0;else e.finished=!0})).catch((function(t){e.$toast("请求失败，点击重新加载"),e.loading=!1,e.error=!0}))},onRefresh:function(){var e=this;this.page=1,this.finished=!1,this.loading=!0,this.currentPage=1;var t={orderType:this.tabs.type[0],orderTypeList:this.tabs.type,state:this.tabs.tag,page:{index:1,pageSize:10}};4==this.tabs.tag&&(t.deliverType=this.deliveryType,2==this.deliveryType&&(t.deliverTypeList=[2,3])),this.$http.post("/app/json/app_shopping_order/queryOrder",t).then((function(t){0==t.data.status&&(e.orderList=t.data.data.orderList,e.orderList.length>0&&(e.orderList.forEach((function(e){e.billType=11,e.itemAbstractList.forEach((function(e){e.billType=11}))})),e.initData()),e.totalPage=t.data.totalPages,e.$toast("刷新成功"),e.loading=!1,e.refreshing=!1)})).catch((function(t){e.$toast("网络繁忙,请稍后再试~")}))},initData:function(){this.currentOrderList=this.orderList.map((function(e){return{billType:e.billType,amount:e.realAmount,submitTime:e.submitTime,deliverType:e.deliverType,orderId:e.id,orderType:e.orderType,orderCategory:e.orderCategory,orderMode:e.orderMode,shoppingOrderId:e.shoppingOrderId,bulkOrderType:e.orderType,id:e.id,tradeNo:e.tradeNo,params:{deliverType:e.deliverType,orderId:e.id,orderType:e.orderType,orderCategory:e.orderCategory,orderStateType:e.orderStateType,state:e.state},billDetailObj:{groupBuyActivityId:e.groupBuyActivityId,groupBuyId:e.groupBuyId,payMode:e.payMode,tradeNo:e.tradeNo,shoppingOrderId:e.shoppingOrderId,orderPayType:e.orderPayType,id:e.id,tag:"4",tabIndex:4,awardActivityList:e.awardActivityList},dataList:e.itemAbstractList.map((function(t){return{billType:t.billType,billImg:t.phPictureUrl,billName:t.skuName,billAmount:t.salePrice,billNum:t.number,skuId:t.skuId,id:t.id,storeOuCode:e.storeOuCode,expressNo:e.expressNo,expressName:e.expressName,interfaceType:e.interfaceType,deliverType:e.deliverType}}))}}))}}},J=(i("bcfd"),{data:function(){return{active:"AllPages",orderStatusList:[{title:"待支付",components:"WaitPay",id:2},{title:"待发货",components:"WaitDelivery",id:3},{title:"待收货",components:"WaitTakeDelivery",id:4},{title:"已完成",components:"Finish",id:5},{title:"已取消",components:"Cancel",id:6}],offsetTop:"0rem"}},components:{navTop:l,AllPages:f,Cancel:v,Finish:_,WaitDelivery:C,WaitPay:j,WaitTakeDelivery:Object(n.a)(q,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"waitTakeDelivery"},[i("van-pull-refresh",{on:{refresh:e.onRefresh},model:{value:e.refreshing,callback:function(t){e.refreshing=t},expression:"refreshing"}},[i("van-list",{attrs:{finished:e.finished,"finished-text":e.showEmpty?"":"- 亲, 没有更多订单了 -",error:e.error,"error-text":"请求失败，点击重新加载","immediate-check":!1},on:{load:e.onLoad,"update:error":function(t){e.error=t}},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[e._l(e.currentOrderList,(function(e,t){return i("div",{key:t,staticClass:"scroll"},[i("OrderItem",{attrs:{dataList:e.dataList,params:e.params,billType:e.billType,amount:e.amount,submitTime:e.submitTime,billDetailObj:e.billDetailObj,orderType:e.orderType,pageType:"waitTakeDelivery",orderMode:e.orderMode,shoppingOrderId:e.shoppingOrderId,bulkOrderType:e.bulkOrderType,id:e.id,tradeNo:e.tradeNo}})],1)})),e._v(" "),i("Empty",{directives:[{name:"show",rawName:"v-show",value:e.showEmpty,expression:"showEmpty"}]})],2)],1)],1)}),[],!1,null,"55bf32ca",null).exports},created:function(){var e;this.initPage(this.$route.params.id),""!==(e=document.getElementsByTagName("body")[0].style.paddingTop)&&(this.offsetTop=e)},activated:function(){},methods:{navToHistory:function(){a.a.openTargetRouter({type:"microapp",uri:"com.times.microapp.AppcPrepay",path:"/bill/index",hideNavbar:!1})},navTo:function(e,t){this.active=e},initPage:function(e){var t=this.orderStatusList.filter((function(t){return t.id==e}));0!=t.length&&(this.active=t[0].components)}}}),F=(i("c/m+"),Object(n.a)(J,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"order"},[i("van-sticky",{ref:"stickyIndex",attrs:{"offset-top":e.offsetTop}},[i("nav-top"),e._v(" "),i("van-tabs",{attrs:{swipeable:"","swipe-threshold":"6","title-active-color":"#E8374A"},on:{click:e.navTo},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},e._l(e.orderStatusList,(function(e,t){return i("van-tab",{key:t,attrs:{title:e.title,"title-class":"tabTitle",name:e.components}})})),1)],1),e._v(" "),i(e.active,{key:e.$route.path+e.$route.query.time,tag:"component"})],1)}),[],!1,null,"033b2b08",null));t.default=F.exports},"7tbW":function(e,t,i){var r=i("LGYb");e.exports=function(e){return e&&e.length?r(e):[]}},"9PdW":function(e,t,i){e.exports=i.p+"static/img/temporary.9522b83.png"},F5SW:function(e,t,i){},FDFq:function(e,t,i){"use strict";var r=i("FaJb");i.n(r).a},Fa9I:function(e,t,i){"use strict";var r=i("HDVs");i.n(r).a},FaJb:function(e,t,i){},GgNF:function(e,t,i){},HDVs:function(e,t,i){},Ixm7:function(e,t,i){e.exports=i.p+"static/img/payCost.9340b6b.png"},JzQd:function(e,t,i){e.exports=i.p+"static/img/warranty.7502664.png"},"K/Lt":function(e,t,i){"use strict";var r=i("j3Y9");i.n(r).a},KK7d:function(e,t,i){"use strict";var r={default:void 0,call:function(e,t,i){if("function"==typeof t&&(i=t,t={}),t={data:void 0===t?null:t},"function"==typeof i){var r="dscb"+window.dscb++;window[r]=i,t._dscbstub=r}t=JSON.stringify(t);var s="";return window._dsbridge?s=_dsbridge.call(e,t):(window._dswk||-1!=navigator.userAgent.indexOf("_dsbridge"))&&(s=prompt("_dsbridge="+e,t)),JSON.parse(s||"{}").data},unregister:function(e){delete window._dsaf._obs[e],delete window._dsaf[e],delete window._dsf._obs[e],delete window._dsf[e]},register:function(e,t,i){i=i?window._dsaf:window._dsf,window._dsInit||(window._dsInit=!0,setTimeout((function(){r.call("_dsb.dsinit")}),0)),"object"==typeof t?i._obs[e]=t:i[e]=t},registerAsyn:function(e,t){this.register(e,t,!0)},hasNativeMethod:function(e,t){return this.call("_dsb.hasNativeMethod",{name:e,type:t||"all"})},disableJavascriptDialogBlock:function(e){this.call("_dsb.disableJavascriptDialogBlock",{disable:!1!==e})}};window._dsf||(window._dsf={_obs:{}},window._dsaf={_obs:{}},window.dscb=0,window.dsBridge=r,window.close=function(){r.call("_dsb.closePage")},window._handleMessageFromNative=function(e){var t=JSON.parse(e.data),i={id:e.callbackId,complete:!0},s=this._dsf[e.method],a=this._dsaf[e.method],o=function(e,s){i.data=e.apply(s,t),r.call("_dsb.returnValue",i)},n=function(e,s){t.push((function(e,t){i.data=e,i.complete=!1!==t,r.call("_dsb.returnValue",i)})),e.apply(s,t)};if(s)o(s,this._dsf);else if(a)n(a,this._dsaf);else if(!(2>(s=e.method.split(".")).length)){e=s.pop(),s=s.join(".");var l=(a=(a=this._dsf._obs)[s]||{})[e];l&&"function"==typeof l?o(l,a):(l=(a=(a=this._dsaf._obs)[s]||{})[e])&&"function"==typeof l&&n(l,a)}},r.register("_hasJavascriptMethod",(function(e,t){return 2>(t=e.split(".")).length?!(!_dsf[t]&&!_dsaf[t]):(e=t.pop(),t=t.join("."),(t=_dsf._obs[t]||_dsaf._obs[t])&&!!t[e])})));var s=r;const a=new Set([]),o={};function n(e){return e&&"[object Function]"==={}.toString.call(e)}let l={patch:o,platform:(d=navigator.userAgent,c=/(?:Windows Phone)/.test(d),p=/(?:SymbianOS)/.test(d)||c,u=/(?:Android)/.test(d),h=/(?:Firefox)/.test(d),/(?:Chrome|CriOS)/.test(d),y=/(?:iPad|PlayBook)/.test(d)||u&&!/(?:Mobile)/.test(d)||h&&/(?:Tablet)/.test(d),m=/(?:iPhone)/.test(d)&&!y,{isTablet:y,isPhone:m,isAndroid:u,isPc:!m&&!u&&!p}),hybrid:!0,isHybrid:function(){return window&&!0===window._dswk},bridge:s,use:function(e,t){if(a.has(e))throw e+',注册无效,模块已存在,xengine.use("'+e+'") 只允许调用一次;';a.add(e),console.log(e+",js 注册成功");let i=function(t,i){if(i.hasOwnProperty("__event__")){f++;let r=i.__event__;if(!n(r))throw"__event__ 必须为函数";i.__event__=e+"."+t+".__event__"+f,l.bridge.register(i.__event__,e=>r(e))}if(t.startsWith("sync"))return l.bridge.call(e+"."+t,i);return new Promise((r,s)=>{console.warn("x-engine 0.1.0 将不再支持 promise,改用参数里的　__ret__做为异步返回值,以支持多次返回.或者直接调用函数同步返回"),l.bridge.call(e+"."+t,i,(function(e){if(r(e),i.__ret__)return i.__ret__(e)}))})};return t.reduce((e,t,a)=>{if(null===(s=t)||"function"!=typeof s&&"object"!=typeof s){if(r=t,"[object String]"!==Object.prototype.toString.call(r))throw"仅支持 string 与 {name:xxx, default_args:{...}}";e[t]=e=>i(t,e)}else e[t.name]=e=>i(t.name,{...t.default_args,...e});return e},{});var r,s},api:function(e,t,i,r){if(i.hasOwnProperty("__event__")){f++;let e=i.__event__;if(!n(e))throw"__event__ 必须为函数";i.__event__=ns+"."+t+".__event__"+f,l.bridge.register(i.__event__,t=>e(t))}return s.call(e+"."+t,i,r)},broadcastOn:function(e){l.bridge.register("com.zkty.module.engine.broadcast",t=>e(t))},broadcastOff:function(){l.bridge.unregister("com.zkty.module.engine.broadcast")},assert:function(e,t){document.getElementById(e).style.backgroundColor=t?"green":"red"}};var d,c,p,u,h,y,m;let f=0;function g(e){if(judgeDeviceType.isIOS&&(e.addEventListener("focus",(function(){console.log("IOS 键盘弹起啦！")}),!1),e.addEventListener("blur",()=>{console.log("IOS 键盘收起啦！")})),judgeDeviceType.isAndroid){var t=document.documentElement.clientHeight||document.body.clientHeight;window.addEventListener("resize",(function(){var e=document.documentElement.clientHeight||document.body.clientHeight;t<e?console.log("Android 键盘收起啦！"):console.log("Android 键盘弹起啦！"),t=e}),!1)}}Object.defineProperty(l,"bridge",{get:()=>s,set:function(){throw"dsbridge不能被修改"}});for(var v=document.querySelectorAll(".input"),b=0;b<v.length;b++)g(v[b]);o.disableDoubleTapScroll=function(e){e=e||500,console.log("禁用双击滑动,两次点击冷却时间为"+e+" ms");var t=navigator.userAgent.toLowerCase(),i=null;(t.indexOf("iphone")>=0||t.indexOf("ipad")>=0)&&document.body.addEventListener("touchend",(function(t){var r=(new Date).getTime(),s=r-(i=i||r+1);if(s<e&&s>0)return t.preventDefault(),!1;i=r}),!1)};var T=l;t.a=T.use("com.zkty.module.router",[{name:"openTargetRouter",default_args:{type:"h5",uri:"http://192.168.10.51:8081/index.html",path:"",hideNavbar:!1}},{name:"_testh5",default_args:{}},{name:"_testnative",default_args:{}},{name:"_testmicroapp",default_args:{}},{name:"_testmicroapp_version1",default_args:{}},{name:"_testmicroapp_version_not_exist",default_args:{}},{name:"_testmicroapp_path",default_args:{}},{name:"_testmicroapp_path_version1",default_args:{}},{name:"_testmicroapp_path_query",default_args:{}},{name:"_testuni",default_args:{}}])},LGYb:function(e,t,i){var r=i("1hJj"),s=i("jbM+"),a=i("Xt/L"),o=i("xYSL"),n=i("dQpi"),l=i("rEGp");e.exports=function(e,t,i){var d=-1,c=s,p=e.length,u=!0,h=[],y=h;if(i)u=!1,c=a;else if(p>=200){var m=t?null:n(e);if(m)return l(m);u=!1,c=o,y=new r}else y=t?[]:h;e:for(;++d<p;){var f=e[d],g=t?t(f):f;if(f=i||0!==f?f:0,u&&g==g){for(var v=y.length;v--;)if(y[v]===g)continue e;t&&y.push(g),h.push(f)}else c(y,g,i)||(y!==h&&y.push(g),h.push(f))}return h}},MCOp:function(e,t,i){},N6hA:function(e,t,i){"use strict";var r=i("GgNF");i.n(r).a},Net6:function(e,t,i){},OQ6O:function(e,t,i){"use strict";var r=i("F5SW");i.n(r).a},"R/W3":function(e,t){e.exports=function(e,t,i){for(var r=i-1,s=e.length;++r<s;)if(e[r]===t)return r;return-1}},S89Z:function(e,t,i){e.exports=i.p+"static/img/service.06f3212.png"},SGjy:function(e,t,i){},WS5e:function(e,t,i){e.exports=i.p+"static/img/deposit.f8cdb35.png"},"Xt/L":function(e,t){e.exports=function(e,t,i){for(var r=-1,s=null==e?0:e.length;++r<s;)if(i(t,e[r]))return!0;return!1}},ZDuj:function(e,t,i){},"aI4+":function(e,t,i){"use strict";var r=i("bewS");i.n(r).a},aMtl:function(e,t,i){"use strict";var r=i("keze");t.a=r.a.use("com.zkty.module.yjzdbill",[{name:"YJBillPayment",default_args:{appScheme:"x-engine",payType:!1}},{name:"YJBillRefund",default_args:{}},{name:"YJBillList",default_args:{appScheme:"x-engine",billType:"0",billStatus:"0",payType:!1}}])},bcfd:function(e,t,i){"use strict";var r=i("MCOp");i.n(r).a},bewS:function(e,t,i){},bfkV:function(e,t,i){"use strict";var r={name:"empty",props:{description:{type:String,default:"暂无订单"}},data:function(){return{imgUrl:i("x2n3")}}},s=(i("Fa9I"),i("KHd+")),a=Object(s.a)(r,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"empty"},[t("van-empty",{staticClass:"custom-image",attrs:{image:this.imgUrl,description:this.description}})],1)}),[],!1,null,"1227a0e7",null);t.a=a.exports},"c/m+":function(e,t,i){"use strict";var r=i("ZDuj");i.n(r).a},cVah:function(e,t,i){},chc6:function(e,t,i){"use strict";var r=i("2nGb"),s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),o=document.getElementsByTagName("head")[0],n=function(){function e(t,i){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.url=t||"",this.funcName=i;var s=document.createElement("script");t+=(~t.indexOf("?")?"&":"?")+"callback="+i,s.src=t,s.type="text/javascript",this.myTimer=setTimeout((function(){r.callCallback({status:1,info:"网络加载较慢！"}),r.clearup()}),1e4),window[i]=function(e){r.callCallback({status:0,data:e,info:""}),r.clearup()},s.onerror=function(){r.callCallback({status:1,info:"网络加载较慢！"}),r.clearup()},this.scriptNode=s,o.appendChild(this.scriptNode)}return a(e,[{key:"then",value:function(e){this.callbackFunc=e}},{key:"callCallback",value:function(e){var t=this;setTimeout((function(){t.callbackFunc(e)}),0)}},{key:"clearup",value:function(){this.myTimer&&clearTimeout(this.myTimer),this.myTimer=null,this.scriptNode.src="",o.removeChild(this.scriptNode)}}]),e}(),l={request:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(!e)throw new Error("url 不能为空");return 0!=e.indexOf("http")&&(e=r.a.baseURL+e),i.forEach((function(t){if("object"===(void 0===t?"undefined":s(t)))for(var i in t)e+=~e.indexOf("?")?"&":"?",e+=i+"="+t[i]})),new n(e,t)},cancelAll:function(){}};t.a=l},dQpi:function(e,t){e.exports=function(){}},foX9:function(e,t,i){},hTml:function(e,t,i){"use strict";var r=i("wa9x");i.n(r).a},j3Y9:function(e,t,i){},"jbM+":function(e,t,i){var r=i("R/W3");e.exports=function(e,t){return!(null==e||!e.length)&&r(e,t,0)>-1}},lSWK:function(e,t,i){"use strict";var r=i("Net6");i.n(r).a},m6vV:function(e,t,i){e.exports=i.p+"static/img/expect.686189d.png"},rEGp:function(e,t){e.exports=function(){return[]}},tkvz:function(e,t,i){"use strict";var r=i("SGjy");i.n(r).a},umhk:function(e,t,i){},vYwg:function(e,t,i){e.exports=i.p+"static/img/housekeeping.a01739c.png"},wa9x:function(e,t,i){},x2n3:function(e,t,i){e.exports=i.p+"static/img/noOrder.6272a9f.png"},xYSL:function(e,t,i){var r=i("R/W3");e.exports=function(e,t){return!(null==e||!e.length)&&r(e,t,0)>-1}}}]);