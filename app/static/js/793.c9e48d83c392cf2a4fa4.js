(window.webpackJsonp=window.webpackJsonp||[]).push([[793],{TPhz:function(e,t,r){},m7vU:function(e,t,r){"use strict";r.r(t);var a=r("KJ3S"),s={name:"my-order",components:{},props:["myIndex","usePorpData","propData"],mixins:[r("A8ay").a],data:function(){return{orderItems:[{img:"static/images/my-order/order0_1.png",name:"待支付",countKey:"orderCount_dzf",link:{path:"/mall2/orderlist",query:{selectedIndex:0}}},{img:"static/images/my-order/order1_1.png",name:"待发货",countKey:"orderCount_dfh",link:{path:"/mall2/orderlist",query:{selectedIndex:1}}},{img:"static/images/my-order/order2_1.png",name:"待收货",countKey:"orderCount_dsh",link:{path:"/mall2/orderlist",query:{selectedIndex:2,deliveryType:2}}},{img:"static/images/my-order/order3_1.png",name:"待提货",countKey:"orderCount_dth",link:{path:"/mall2/orderlist",query:{selectedIndex:2,deliveryType:1}}},{img:"static/images/my-order/servers_1.png",name:"退换/售后",link:{path:"/mall2/serviceindex"}}],chargeItems:[{img:"static/images/my-order/order1.png",name:"充电中",countKey:null,link:{path:"/batteryorder",query:{index:0}}},{img:"static/images/my-order/order2.png",name:"已预约",countKey:null,link:{path:"/batteryorder",query:{index:1}}},{img:"static/images/my-order/order3.png",name:"已完成",countKey:null,link:{path:"/batteryorder",query:{index:2}}}],refresh:!0}},computed:{pageData:function(){return 1==this.usePorpData?this.propData:this.$store.state.pageData},moduleData:function(){return this.pageData.moduleList[this.myIndex].data}},created:function(){var e=this;-1!=this.$store.state.webtype||this.moduleData.idCode||(this.moduleData.idCode=this.$util.randomString()),"1"==this.$store.state.globalConfig.delivertype_default?this.orderItems=[{img:"static/images/my-order/order0_1.png",name:"待支付",countKey:"orderCount_dzf",link:{path:"/mall2/orderlist",query:{selectedIndex:0}}},{img:"static/images/my-order/order3_1.png",name:"待提货",countKey:"orderCount_dth",link:{path:"/mall2/orderlist",query:{selectedIndex:1,deliveryType:1}}},{img:"static/images/my-order/servers_1.png",name:"退换/售后",link:{path:"/mall2/serviceindex"}}]:"2"==this.$store.state.globalConfig.delivertype_default&&(this.orderItems=[{img:"static/images/my-order/order0_1.png",name:"待支付",countKey:"orderCount_dzf",link:{path:"/mall2/orderlist",query:{selectedIndex:0}}},{img:"static/images/my-order/order1_1.png",name:"待发货",countKey:"orderCount_dfh",link:{path:"/mall2/orderlist",query:{selectedIndex:1}}},{img:"static/images/my-order/order2_1.png",name:"待收货",countKey:"orderCount_dsh",link:{path:"/mall2/orderlist",query:{selectedIndex:2,deliveryType:2}}},{img:"static/images/my-order/servers_1.png",name:"退换/售后",link:{path:"/mall2/serviceindex"}}]),a.a.$on("refreshOrderItems",(function(){e.refresh=!1,e.$nextTick((function(){e.refresh=!0}))})),"1"==this.moduleData.styleTempl&&this.getMyOrder()},methods:{hotEvent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.actionBtnEvent(this.pageData.pgCode,this.moduleData.idCode+e)},getMyOrderIcon:function(e,t){var r="orderIcon_"+(t+1),a=this.moduleData[r];return a&&null!=a&&""!=a?a:e.img},modeleReshow:function(){"1"==this.moduleData.styleTempl&&this.getMyOrder()},allOrderEvent:function(){this.$market.customPush({path:"/mall2/orderlist"})},getMyOrder:function(){var e=this;if(""!=this.$store.state.login.token){var t=this.$market.apiBaseURL()+"/app/json/app_shopping_order/queryBadge",r={token:this.$store.state.login.token};this.$http.post(t,r).then((function(t){var r=t.data;if(r){var a=r.data;a.length>=4&&(e.$store.state.mall2.order.orderCount_dzf=a[0].count,e.$store.state.mall2.order.orderCount_dfh=a[1].count,e.$store.state.mall2.order.orderCount_dsh=a[2].count,e.$store.state.mall2.order.orderCount_dth=a[3].count)}}),(function(e){}))}}}},i=(r("wIp/"),r("KHd+")),o=Object(i.a)(s,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"my-order"},["1"==e.moduleData.styleTempl?r("div",{staticClass:"style1"},[r("div",{staticClass:"content"},[r("div",{staticClass:"title-row",class:e.hotareaClass({idCode:e.moduleData.idCode+"allOrderEvent"}),on:{click:function(t){e.hotEvent("allOrderEvent"),e.allOrderEvent()}}},[r("div",{staticClass:"title"},[e._v("我的订单")]),e._v(" "),r("div",{staticClass:"text"},[e._v("全部订单")]),e._v(" "),r("img",{staticClass:"arrow",attrs:{src:"static/images/my-order/all-order.png"}})]),e._v(" "),e.refresh?r("div",{staticClass:"items-row"},e._l(e.orderItems,(function(t,a){return r("div",{key:a,staticClass:"item",on:{click:function(r){return e.$market.customPush(t.link)}}},[r("img",{attrs:{src:e.getMyOrderIcon(t,a)}}),e._v(" "),r("div",{staticClass:"text"},[e._v(e._s(t.name))]),e._v(" "),t.countKey&&e.$store.state.mall2.order[t.countKey]>0?r("div",{staticClass:"count theme_bg_red theme_font_white"},[e._v(e._s(e.$store.state.mall2.order[t.countKey]))]):e._e()])})),0):e._e()])]):e._e(),e._v(" "),"2"==e.moduleData.styleTempl?r("div",{staticClass:"style1"},[r("div",{staticClass:"content"},[r("div",{staticClass:"title-row",class:e.hotareaClass({idCode:e.moduleData.idCode+"allOrderEvent"}),on:{click:function(t){e.hotEvent("allOrderEvent"),e.allOrderEvent()}}},[r("div",{staticClass:"title"},[e._v("充电订单")]),e._v(" "),r("div",{staticClass:"text"},[e._v("全部订单")]),e._v(" "),r("img",{staticClass:"arrow",attrs:{src:"static/images/my-order/all-order.png"}})]),e._v(" "),r("div",{staticClass:"items-row"},e._l(e.chargeItems,(function(t,a){return r("div",{key:a,staticClass:"item",on:{click:function(r){return e.$market.customPush(t.link)}}},[r("img",{attrs:{src:t.img}}),e._v(" "),r("div",{staticClass:"text"},[e._v(e._s(t.name))]),e._v(" "),t.countKey&&e.$store.state.mall2.order[t.countKey]>0?r("div",{staticClass:"count theme_bg_red theme_font_white"},[e._v(e._s(e.$store.state.mall2.order[t.countKey]))]):e._e()])})),0)])]):e._e()])}),[],!1,null,"1f2624c0",null);t.default=o.exports},"wIp/":function(e,t,r){"use strict";var a=r("TPhz");r.n(a).a}}]);