(window.webpackJsonp=window.webpackJsonp||[]).push([[841],{"7xuY":function(e,t,s){},EKi3:function(e,t,s){"use strict";s.r(t);var o=s("Gedb"),n={name:"index",components:{CountButton:s("uQt8").a},data:function(){return{phone:"",msgCode:"",newPassword:"",onceMore:"",isShowPwd:!1,isShowPwd1:!1,title:""}},watch:{msgCode:function(e){this.msgCode=this.$util.checkVerifyCodeLenght(this.msgCode)}},methods:{inputChange:function(e){var t=e.target.value;this.phone=this.$util.onlyNumber(t)},backEvent:function(){this.$router.go(-1)},getMsgCode:function(e,t){var s=this;if(""!=this.phone)if(this.$util.checkMobile(this.phone)){this.$refs.countBtn.startTime(),this.$Loading.open();var o={phone:this.phone,smsType:"1010",imgVerifyCode:e,uuid:t};this.$http.post("/app/json/login/sendSms",o).then((function(e){s.$Loading.close(),console.log(e.data);var t=e.data;0==t.status?(s.$Toast("获取验证码成功"),console.log(t)):(s.$refs.countBtn.resetClock(),s.$Toast(t.info?t.info:"获取短信验证码失败"))}),(function(e){s.$Loading.close(),s.$refs.countBtn.resetClock(),s.$Toast(data.info?data.info:"系统运行过程中遇到问题，请稍候再试")}))}else this.$Toast("请输入正确的手机号码！");else this.$Toast("手机号不能为空!")},forgetFun:function(){var e=this;this.$Loading.open();var t={phone:this.phone,smsVerifyCode:this.msgCode,userPwd:Object(o.a)(this.newPassword)};"1"==this.$store.state.globalConfig.user_loginPwd_type&&(t.userPwd=this.newPassword),this.$http.post("/app/json/user/forgetPwd",t).then((function(t){e.$Loading.close(),console.log(t.data);var s=t.data;0==s.status?(e.$Toast("修改密码成功"),e.$router.go(-1)):e.$Toast(s.info?s.info:"修改密码失败")}),(function(t){e.$Loading.close(),e.$Toast(data.info?data.info:"系统运行过程中遇到问题，请稍候再试")}))},verifyPassword:function(){""!=this.onceMore&&(this.onceMore==this.newPassword||this.$Toast({message:"两次输入密码不一样，请重新输入！",position:"middle",duration:2e3}))},getCheckOutFun:function(){""!=this.phone?/^1\d{10}$/.test(this.phone)?""!=this.msgCode?""!=this.newPassword?this.$util.checkPassWord(this.newPassword)&&(this.onceMore==this.newPassword?this.forgetFun():this.$Toast("两次输入密码不一样，请重新输入！")):this.$Toast("请输入新密码！"):this.$Toast("验证码不能为空!"):this.$Toast("手机号格式不对!"):this.$Toast("手机号不能为空!")}},created:function(){if(this.phone=this.$route.query.phone,!this.phone||null!=this.phone||""!=this.phone){var e=this.$store.state.login.phone;this.$util.checkMobile(e)&&(this.phone=e)}this.title=this.$route.query.title}},i=(s("je26"),s("KHd+")),a=Object(i.a)(n,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"forget-password login2"},[s("nav-top",{attrs:{title:e.title},on:{backEvent:e.backEvent}}),e._v(" "),s("nav-content",[s("div",{staticClass:"login-div"},[s("div",{staticClass:"text-input"},[s("div",{staticClass:"left"},[e._v("手机号")]),e._v(" "),s("div",{staticClass:"cell-phone"},[e.$route.query.phone?s("span",{staticClass:"active-phone"},[e._v(e._s(e.phone))]):e._e(),e._v(" "),e.$route.query.phone?e._e():s("van-field",{attrs:{type:"tel",placeholder:"请输入手机号码",maxlength:"11",autosize:"",onkeypress:"return( /[\\d]/.test(String.fromCharCode(event.keyCode)))",pattern:"[0-9]*"},on:{input:function(t){e.phone=/^\d+/.exec(e.phone)?/^\d+/.exec(e.phone)[0]:""}},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}})],1)]),e._v(" "),s("div",{staticClass:"passwords-input"},[s("div",{staticClass:"passwords"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.msgCode,expression:"msgCode"}],attrs:{placeholder:"请输入短信验证码"},domProps:{value:e.msgCode},on:{input:function(t){t.target.composing||(e.msgCode=t.target.value)}}})]),e._v(" "),s("div",{staticClass:"forget-btn"},[s("count-button",{ref:"countBtn",staticClass:"theme_standard_font",attrs:{phone:e.phone},on:{getSmsEvent:e.getMsgCode}})],1)]),e._v(" "),s("div",{staticClass:"text-input"},[s("div",{staticClass:"left"},[e._v("请输入新密码")]),e._v(" "),s("div",{staticClass:"cell-phone"},["checkbox"==(e.isShowPwd?"text":"password")?s("input",{directives:[{name:"model",rawName:"v-model",value:e.newPassword,expression:"newPassword"}],attrs:{placeholder:e.$util.pwdPlaceholder(),type:"checkbox"},domProps:{checked:Array.isArray(e.newPassword)?e._i(e.newPassword,null)>-1:e.newPassword},on:{blur:function(t){return e.$util.checkPassWord(e.newPassword,!0,!0)},change:function(t){var s=e.newPassword,o=t.target,n=!!o.checked;if(Array.isArray(s)){var i=e._i(s,null);o.checked?i<0&&(e.newPassword=s.concat([null])):i>-1&&(e.newPassword=s.slice(0,i).concat(s.slice(i+1)))}else e.newPassword=n}}}):"radio"==(e.isShowPwd?"text":"password")?s("input",{directives:[{name:"model",rawName:"v-model",value:e.newPassword,expression:"newPassword"}],attrs:{placeholder:e.$util.pwdPlaceholder(),type:"radio"},domProps:{checked:e._q(e.newPassword,null)},on:{blur:function(t){return e.$util.checkPassWord(e.newPassword,!0,!0)},change:function(t){e.newPassword=null}}}):s("input",{directives:[{name:"model",rawName:"v-model",value:e.newPassword,expression:"newPassword"}],attrs:{placeholder:e.$util.pwdPlaceholder(),type:e.isShowPwd?"text":"password"},domProps:{value:e.newPassword},on:{blur:function(t){return e.$util.checkPassWord(e.newPassword,!0,!0)},input:function(t){t.target.composing||(e.newPassword=t.target.value)}}})]),e._v(" "),s("div",{staticClass:"show-passwords",on:{click:function(t){e.isShowPwd=!e.isShowPwd}}},[s("img",{staticClass:"see-icon",attrs:{src:e.isShowPwd?"static/image/login2/see-icon.png":"static/image/login2/icon-eye.png"}})])]),e._v(" "),s("div",{staticClass:"text-input"},[s("div",{staticClass:"left"},[e._v("再次输入密码")]),e._v(" "),s("div",{staticClass:"cell-phone"},["checkbox"==(e.isShowPwd1?"text":"password")?s("input",{directives:[{name:"model",rawName:"v-model",value:e.onceMore,expression:"onceMore"}],attrs:{placeholder:"请再次输入新密码",type:"password",type:"checkbox"},domProps:{checked:Array.isArray(e.onceMore)?e._i(e.onceMore,null)>-1:e.onceMore},on:{blur:e.verifyPassword,change:function(t){var s=e.onceMore,o=t.target,n=!!o.checked;if(Array.isArray(s)){var i=e._i(s,null);o.checked?i<0&&(e.onceMore=s.concat([null])):i>-1&&(e.onceMore=s.slice(0,i).concat(s.slice(i+1)))}else e.onceMore=n}}}):"radio"==(e.isShowPwd1?"text":"password")?s("input",{directives:[{name:"model",rawName:"v-model",value:e.onceMore,expression:"onceMore"}],attrs:{placeholder:"请再次输入新密码",type:"password",type:"radio"},domProps:{checked:e._q(e.onceMore,null)},on:{blur:e.verifyPassword,change:function(t){e.onceMore=null}}}):s("input",{directives:[{name:"model",rawName:"v-model",value:e.onceMore,expression:"onceMore"}],attrs:{placeholder:"请再次输入新密码",type:"password",type:e.isShowPwd1?"text":"password"},domProps:{value:e.onceMore},on:{blur:e.verifyPassword,input:function(t){t.target.composing||(e.onceMore=t.target.value)}}})]),e._v(" "),s("div",{staticClass:"show-passwords",on:{click:function(t){e.isShowPwd1=!e.isShowPwd1}}},[s("img",{staticClass:"see-icon",attrs:{src:e.isShowPwd1?"static/image/login2/see-icon.png":"static/image/login2/icon-eye.png"}})])]),e._v(" "),s("div",{staticClass:"common-btn theme_standard_bg theme_font_white mt100",on:{click:e.getCheckOutFun}},[e._v("提交")])])])],1)}),[],!1,null,"16a29090",null);t.default=a.exports},je26:function(e,t,s){"use strict";var o=s("7xuY");s.n(o).a}}]);