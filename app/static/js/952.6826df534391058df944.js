(window.webpackJsonp=window.webpackJsonp||[]).push([[952],{MUTf:function(t,e,i){"use strict";i.r(e);var n=i("Dpzq"),a=i("mG4U"),v={name:"authentication",mixins:[n.a],props:["getIndustryDetail"],data:function(){return{activeContent:{activeObj:{index:0,type:""},steps:[]},isActiveObj:{}}},mounted:function(){var t=this,e=this.getIndustryDetail.userClusterModel||{};for(var i in e)this.activeContent[i]=e[i];for(var n in this.getIndustryDetail)this.activeContent[n]=this.getIndustryDetail[n];delete this.activeContent.userClusterModel,this.activeContent.expression=JSON.parse(this.activeContent.expression),this.activeContent.steps=[],this.activeContent.expression.cardList.forEach((function(e,i){var n=t.stepsValue[e];t.activeContent.steps.push({lable:n,type:e,index:i})})),this.activeContent.expression.idNameList.length&&this.activeContent.steps.push({lable:"资格证明",type:"qualifications"}),this.activeContent.steps.push({lable:"提交审核",type:"examine"}),console.log(this.activeContent,"activeContent"),this.activeContent.activeObj=Object.assign(this.activeContent.activeObj,this.activeContent.steps[0]),console.log(this.activeContent.activeObj,"activeContent"),console.log(this.activeContent.steps,"activeContent"),a.a.$on("addActiveBtn",(function(e){var i=e.index;i+=1,Object.assign(t.activeContent.activeObj,t.activeContent.steps[i]),t.activeContent.activeObj.index=i})),a.a.$on("isActive",(function(e,i,n){t.isActiveObj=JSON.parse(JSON.stringify(e));var v=[];t.activeContent.steps.forEach((function(t){"IDcard"==t.type&&v.push("identityObj"),"DriverCard"==t.type&&v.push("drive"),"DrivingCard"==t.type&&v.push("travel")})),i?1==v.length?a.a.$emit("addActiveBtn",t.activeContent.activeObj):2==v.length?"identityObj"==v[0]&&"drive"==v[1]?t.isActiveObj.drive?(a.a.$emit("addActiveBtn",t.activeContent.activeObj),a.a.$emit("addActiveBtn",t.activeContent.activeObj)):a.a.$emit("addActiveBtn",t.activeContent.activeObj):"identityObj"==v[0]&&"travel"==v[1]?t.isActiveObj.travel?(a.a.$emit("addActiveBtn",t.activeContent.activeObj),a.a.$emit("addActiveBtn",t.activeContent.activeObj)):a.a.$emit("addActiveBtn",t.activeContent.activeObj):"drive"==v[0]&&"travel"==v[1]&&(t.isActiveObj.travel?(a.a.$emit("addActiveBtn",t.activeContent.activeObj),a.a.$emit("addActiveBtn",t.activeContent.activeObj)):a.a.$emit("addActiveBtn",t.activeContent.activeObj)):3==v.length&&("identityObj"==n?t.isActiveObj.drive&&t.isActiveObj.travel?(a.a.$emit("addActiveBtn",t.activeContent.activeObj),a.a.$emit("addActiveBtn",t.activeContent.activeObj),a.a.$emit("addActiveBtn",t.activeContent.activeObj)):t.isActiveObj.drive&&t.isActiveObj.travel?t.isActiveObj.drive&&!t.isActiveObj.travel&&(a.a.$emit("addActiveBtn",t.activeContent.activeObj),a.a.$emit("addActiveBtn",t.activeContent.activeObj)):a.a.$emit("addActiveBtn",t.activeContent.activeObj):"DriverCard"==n.type?t.isActiveObj.travel?(a.a.$emit("addActiveBtn",t.activeContent.activeObj),a.a.$emit("addActiveBtn",t.activeContent.activeObj)):a.a.$emit("addActiveBtn",t.activeContent.activeObj):"travel"==n&&a.a.$emit("addActiveBtn",t.activeContent.activeObj)):1==v.length?t.isActiveObj[v[0]]&&a.a.$emit("addActiveBtn",t.activeContent.activeObj):2==v.length?"identityObj"==v[0]&&"drive"==v[1]?t.isActiveObj.identityObj&&t.isActiveObj.drive?(a.a.$emit("addActiveBtn",t.activeContent.activeObj),a.a.$emit("addActiveBtn",t.activeContent.activeObj)):t.isActiveObj.identityObj&&a.a.$emit("addActiveBtn",t.activeContent.activeObj):"identityObj"==v[0]&&"travel"==v[1]?t.isActiveObj.identityObj&&t.isActiveObj.travel?(a.a.$emit("addActiveBtn",t.activeContent.activeObj),a.a.$emit("addActiveBtn",t.activeContent.activeObj)):t.isActiveObj.identityObj&&a.a.$emit("addActiveBtn",t.activeContent.activeObj):"drive"==v[0]&&"travel"==v[1]&&(t.isActiveObj.drive&&t.isActiveObj.travel?(a.a.$emit("addActiveBtn",t.activeContent.activeObj),a.a.$emit("addActiveBtn",t.activeContent.activeObj)):t.isActiveObj.drive&&a.a.$emit("addActiveBtn",t.activeContent.activeObj)):3==v.length&&t.isActiveObj.identityObj&&(a.a.$emit("addActiveBtn",t.activeContent.activeObj),t.isActiveObj.drive&&(a.a.$emit("addActiveBtn",t.activeContent.activeObj),t.isActiveObj.travel&&a.a.$emit("addActiveBtn",t.activeContent.activeObj)))}))},beforeDestroy:function(){a.a.$off("addActiveBtn"),a.a.$off("isActive")},beforeRouteLeave:function(t,e,i){this.$route.query.feedback?this.$router.go(-2):this.$router.go(-1),this.$keepaliveHelper.deleteCache(this)},methods:{backEvent:function(){this.$route.query.feedback?this.$router.go(-2):this.$router.go(-1),this.$keepaliveHelper.deleteCache(this)},activeBtn:function(t){this.$refs.stepsContent.getIdentityObj(this.isActiveObj,t)}},components:{steps:function(){return i.e(954).then(i.bind(null,"+ZYH"))},stepsContent:function(){return i.e(955).then(i.bind(null,"9g6y"))}}},c=(i("WgCx"),i("KHd+")),s=Object(c.a)(v,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"box"},[e("steps",{attrs:{activeContent:this.activeContent},on:{activeBtn:this.activeBtn}},[e("steps-content",{ref:"stepsContent",attrs:{activeContent:this.activeContent}})],1)],1)}),[],!1,null,"7ce47d49",null);e.default=s.exports},WgCx:function(t,e,i){"use strict";var n=i("kKo2");i.n(n).a},kKo2:function(t,e,i){}}]);