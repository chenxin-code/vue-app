(window.webpackJsonp=window.webpackJsonp||[]).push([[631],{cJls:function(t,e,i){},jR75:function(t,e,i){"use strict";i.r(e),i("iney");var s={data:function(){return{videoName:"",rechargeProList:"",titleList:[],indexList:[],complete:!1,videoTitleImageUrl:"",agreement:""}},mounted:function(){this.$store.state.globalConfig.videoTitleImageUrl?this.videoTitleImageUrl=this.$store.state.globalConfig.videoTitleImageUrl:this.videoTitleImageUrl=i("xQSu"),this.getRechargeProList(),this.showagreement()},methods:{showagreement:function(){var t=this;this.$request.post("/app/json/news/getNewsList",{values:31}).then((function(e){0==e.status&&(t.agreement=e.data[0]?e.data[0].content:"")}))},changeVideo:function(t){this.$router.push({path:"/video-recharge",query:{spuId:t.spuId,spuName:t.spuName,spuImage:t.phMainUrl}})},openPhoneBill:function(){this.$router.push({path:"/recharge-bill",query:{name:"video"}})},getRechargeProList:function(){var t,e=this;t=1==this.$store.state.globalConfig.videoRechargeStyle?"510":"508",this.$Loading.open();var i={token:this.$store.state.login.token,productType:t};this.$http.post("/app/json/product_recharge/getRechargeProList",i).then((function(t){var i=t.data;0==i.status?(e.complete=!0,e.rechargeProList=i.data.spuModels):e.$Toast(i.info),e.$Loading.close()}))},formCityData:function(t){var e=t.map((function(t){return{areaName:t.spuName,spuId:t.spuId,firstLetter:pinyinUtil.getFirstLetter(t.spuName.substr(0,1),!1)[0]}})).sort((function(t,e){return t.firstLetter.localeCompare(e.firstLetter)})).map((function(t){return{areaName:t.areaName,spuId:t.spuId,firstLetter:t.firstLetter.toLocaleUpperCase()}}));console.log(e);for(var i={},s=[],a=0;a<e.length;a++){var n=e[a],r=n.firstLetter,o=i[r];o||(o=[]),o.push(n),i[r]=o}for(var c in this.titleList=i,i)s.push(c);this.indexList=s}},watch:{videoName:function(t){var e=[];this.rechargeProList.forEach((function(i){i.spuName.indexOf(t)>-1&&e.push(i)})),this.formCityData(e)}},components:{}},a=(i("teC9"),i("KHd+")),n=Object(a.a)(s,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"video-index"},[i("nav-top",{attrs:{title:"视频充值"},on:{backEvent:function(e){return t.$router.go(-1)}}},[i("div",{staticClass:"phone-bill",on:{click:t.openPhoneBill}},[t._v("充值记录")])]),t._v(" "),t.complete?i("nav-content",{staticClass:"video-index-contsainer"},[i("div",{staticClass:"main"},[i("div",{staticClass:"top"},[i("img",{attrs:{src:t.videoTitleImageUrl,alt:""}})]),t._v(" "),i("ul",{staticClass:"list"},t._l(t.rechargeProList,(function(e,s){return i("li",{key:s,staticClass:"item",on:{click:function(i){return t.changeVideo(e)}}},[i("div",{staticClass:"content"},[i("div",{staticClass:"img"},[i("img",{attrs:{src:e.phMainUrl,alt:""}})]),t._v(" "),i("div",{staticClass:"text double-line"},[t._v(t._s(e.spuName))])])])})),0)]),t._v(" "),t.agreement?i("div",{staticClass:"tips"},[i("div",{staticClass:"title"},[t._v("充值说明")]),t._v(" "),i("div",{staticClass:"content",domProps:{innerHTML:t._s(t.agreement)}})]):t._e()]):t._e()],1)}),[],!1,null,"bb68f748",null);e.default=n.exports},teC9:function(t,e,i){"use strict";var s=i("cJls");i.n(s).a},xQSu:function(t,e,i){t.exports=i.p+"static/img/bg.c7824c6.png"}}]);