(window.webpackJsonp=window.webpackJsonp||[]).push([[215,52],{AbvJ:function(t,i,e){},CWG1:function(t,i,e){"use strict";e.r(i);var n=e("L2JU"),a=e("afTz"),s=Object.assign||function(t){for(var i=1;i<arguments.length;i++){var e=arguments[i];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t},o={data:function(){return{tabbarList:[{name:"竞价中",state:2},{name:"竞价成功",state:1},{name:"竞价失败",state:0},{name:"已取消",state:3}],tabBarIndex:"2",biddingPriceList:[],biddingState:""}},components:{countdown:a.default},mounted:function(){this.getData()},methods:{timeOut:function(t,i){console.log(t,i),this.biddingState=i},getData:function(){var t=this;this.$Loading.open(),this.$request.post("/app/json/app_oil_sale/queryBidActivityRecordList",{vipUnitUserCode:this.vipUnitUser.vipUnitUserId,state:this.tabBarIndex}).then((function(i){0===i.status?(t.$Loading.close(),t.biddingPriceList=i.data,console.log(t.biddingPriceList)):t.$Toast(i.info)}))},tabBarHandle:function(t){this.tabBarIndex!=t.state&&(this.biddingPriceList=[]),this.tabBarIndex=t.state,this.getData()},biddingDetailsHandle:function(t){var i;i=2==this.tabBarIndex?"/bidding-details":"/bidding-order-details",this.$router.push({path:i,query:{biddingData:JSON.stringify(t),tabBarIndex:this.tabBarIndex}})},cancelOrderBtn:function(t){var i=this;this.$request.post("/app/json/app_oil_sale/cancelSuccessBidOrder",{vipUnitUserCode:this.vipUnitUser.vipUnitUserId,id:t.id}).then((function(t){0===t.status?i.getData():i.$Toast(t.info)}))},confirmationBtn:function(t){this.$router.push({path:"/bidding-confirmation-order",query:{biddingData:JSON.stringify(t)}})}},computed:s({},Object(n.c)(["vipUnitUser"]))},r=(e("MYe2"),e("KHd+")),d=Object(r.a)(o,(function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("div",[n("nav-top",{attrs:{title:"我的竞价"},on:{backEvent:function(i){return t.$router.go(-1)}}}),t._v(" "),n("nav-content",{staticClass:"myBidding-index"},[n("div",{staticClass:"myBidding-tabbar"},t._l(t.tabbarList,(function(i,e){return n("p",{key:e,class:t.tabBarIndex==i.state?"active":"",on:{click:function(e){return t.tabBarHandle(i)}}},[t._v("\n        "+t._s(i.name))])})),0),t._v(" "),n("div",{staticClass:"myBindding-content"},[n("div",{staticClass:"bidding-list"},t._l(t.biddingPriceList,(function(i,a){return n("div",{key:a,staticClass:"list-item"},[2==t.tabBarIndex&&t.biddingState!=a?n("div",{staticClass:"item-time"},[n("p",[t._v("竞价倒计时")]),t._v(" "),n("countdown",{attrs:{endTime:i.oilSaleActivityDetailModel.endDate?t.$util.getDateFromString(i.oilSaleActivityDetailModel.endDate):"",type:"theme_bg_black"},on:{timeOut:function(e){return t.timeOut(i,a)}}})],1):2==t.tabBarIndex&&t.biddingState==a?n("div",{staticClass:"item-time"},[n("p",[t._v("竞价计算中...")])]):1==t.tabBarIndex&&0!=i.isConfirm?n("div",{staticClass:"item-time"},[n("p",[t._v("竞价成功-"+t._s(1==i.isConfirm?"确认完成":""))])]):1==t.tabBarIndex&&0==i.isConfirm?n("div",{staticClass:"item-time"},[n("p",[t._v("竞价成功-确认倒计时")]),t._v(" "),n("countdown",{attrs:{endTime:i.endDateTimeout?t.$util.getDateFromString(i.endDateTimeout):"",type:"theme_bg_black"},on:{timeOut:function(e){return t.timeOut(i,a)}}})],1):t._e(),t._v(" "),0==t.tabBarIndex?n("div",{staticClass:"item-time"},[n("p",[t._v("竞价失败")])]):t._e(),t._v(" "),3==t.tabBarIndex?n("div",{staticClass:"item-time"},[-1==i.isConfirm?n("p",[t._v("手动取消")]):-2==i.isConfirm?n("p",[t._v("超时未确认")]):n("p",[t._v("已取消")])]):t._e(),t._v(" "),n("div",{class:1==t.tabBarIndex?"item-info borderB":"item-info",on:{click:function(e){return t.biddingDetailsHandle(i)}}},[n("div",{staticClass:"left"},[n("img",{attrs:{src:e("FUly"),alt:""}})]),t._v(" "),n("div",{staticClass:"right"},[n("div",{staticClass:"info-name"},[t._v(t._s(i.matertialName))]),t._v(" "),n("div",{staticClass:"info-price"},[n("p",[t._v("\n                  当前最高出价:\n                  "),n("span",{staticClass:"info-price-company"},[t._v("¥")]),t._v(" "),n("span",{staticClass:"info-price-price"},[t._v(t._s(i.oilSaleActivityDetailModel.maxBidPrice))]),t._v(" "),n("span",{staticClass:"info-price-company"},[t._v("元/吨")])]),t._v(" "),n("p",[t._v(t._s(i.oilSaleActivityDetailModel.bidCnt||0)+"次出价")])]),t._v(" "),2==t.tabBarIndex?n("div",{staticClass:"info-progress"},[n("van-progress",{attrs:{percentage:i.oilSaleActivityDetailModel.boughtTonnes/i.oilSaleActivityDetailModel.totalTonnes*100>100?100:i.oilSaleActivityDetailModel.boughtTonnes/i.oilSaleActivityDetailModel.totalTonnes*100?i.oilSaleActivityDetailModel.boughtTonnes/i.oilSaleActivityDetailModel.totalTonnes*100:0,"stroke-width":"15","show-pivot":!1}}),t._v(" "),i.oilSaleActivityDetailModel.boughtTonnes/i.oilSaleActivityDetailModel.totalTonnes*100>100?n("p",[t._v("\n                  超出"+t._s(i.oilSaleActivityDetailModel.boughtTonnes-i.oilSaleActivityDetailModel.totalTonnes)+"吨\n                ")]):n("p",[t._v("\n                  剩余"+t._s((i.oilSaleActivityDetailModel.totalTonnes-i.oilSaleActivityDetailModel.boughtTonnes).toFixed(2))+"吨\n                ")])],1):t._e()])]),t._v(" "),1==t.tabBarIndex&&0==i.isConfirm?n("div",[t.$util.getDateFromString(i.endDateTimeout)>parseInt((new Date).getTime()/1e3)?n("div",{staticClass:"bidding-success-btns"},[n("p",{staticClass:"btn",on:{click:function(e){return t.cancelOrderBtn(i)}}},[t._v("取消订单")]),t._v(" "),n("p",{staticClass:"btn confirmation-btn",on:{click:function(e){return t.confirmationBtn(i)}}},[t._v("确认订单")])]):n("div",{staticClass:"bidding-success-btns"},[n("p",[t._v("取消订单中...")])])]):t._e()])})),0)])])],1)}),[],!1,null,"3b29c6a0",null);i.default=d.exports},FUly:function(t,i){t.exports="data:image/png;base64,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"},MYe2:function(t,i,e){"use strict";var n=e("n+OO");e.n(n).a},Wr4Z:function(t,i,e){"use strict";var n=e("AbvJ");e.n(n).a},afTz:function(t,i,e){"use strict";e.r(i);var n=e("nV03"),a={name:"countdown",props:["endTime","type","hiddenDay","callback"],components:{},data:function(){return{d:"0",h:"00",m:"00",s:"00",trigger:!0}},methods:{parsingTime:function(){var t=this;if(this.endTime){var i=this.$store.state.severTime.currentTime,e=this.endTime-i;this.d=0,this.h="0",this.m="0",this.s="0",e<0?this.trigger&&(this.trigger=!1,setTimeout((function(){t.$emit("timeOut")}),1e3)):(this.trigger=!0,e>59?(this.s=e%60,(e=parseInt(e/60))>59?(this.m=e%60,(e=parseInt(e/60))>23?(this.h=parseInt(e%24),e=parseInt(e/24),this.d=e):this.h=e):this.m=e):e>=0&&(this.s=e),this.h<10&&(this.h="0"+this.h),this.m<10&&(this.m="0"+this.m),this.s<10&&(this.s="0"+this.s))}}},created:function(){this.parsingTime(),n.a.heartbeat()},destroyed:function(){n.a.removeHeartbeat()},watch:{"$store.state.severTime.currentTime":function(){this.parsingTime()}}},s=(e("Wr4Z"),e("KHd+")),o=Object(s.a)(a,(function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"countdown",class:{quan:"theme_bg_quan"==t.type}},[0==t.d||t.hiddenDay?t._e():e("div",{staticClass:"red-div theme_font_white",class:[t.type||"theme_bg_red"]},[t._v(t._s(t.d))]),t._v(" "),0==t.d||t.hiddenDay?t._e():e("span",[t._v("天")]),t._v(" "),e("div",{staticClass:"red-div theme_font_white",class:[t.type||"theme_bg_red"]},[t._v(t._s(t.h))]),t._v("\n  :\n  "),e("div",{staticClass:"red-div theme_font_white",class:[t.type||"theme_bg_red"]},[t._v(t._s(t.m))]),t._v("\n  :\n  "),e("div",{staticClass:"red-div theme_font_white",class:[t.type||"theme_bg_red"]},[t._v(t._s(t.s))])])}),[],!1,null,"403fc346",null);i.default=o.exports},"n+OO":function(t,i,e){},nV03:function(t,i,e){"use strict";var n=e("ZToj"),a=void 0,s=0,o={heartbeat:function(){s++,a||(a=window.setInterval((function(){var t=parseInt((new Date).getTime()/1e3);n.a.state.severTime.currentTime=t+n.a.state.severTime.jetlag}),1e3))},removeHeartbeat:function(){s>0&&s--,0==s&&(window.clearInterval(a),a=null)}};i.a=o}}]);