(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8b8d2118"],{"2f36":function(t,i,e){"use strict";e.r(i);var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"bill"},[e("nav-top",{attrs:{title:"账单信息"},on:{backEvent:function(i){return t.$router.go(-1)}}}),e("nav-content",{staticClass:"bill-container"},[e("van-tabs",{attrs:{"title-active-color":"#3c9df3",color:"#3c9df3"},on:{click:t.changeTab},model:{value:t.active,callback:function(i){t.active=i},expression:"active"}},t._l(t.tabList,(function(i,s){return e("van-tab",{key:s,attrs:{title:i.text}},[e("ul",{staticClass:"list"},t._l(t.list,(function(s,n){return e("li",{key:n,staticClass:"item"},[e("div",{staticClass:"table-view"},[e("div",{staticClass:"table-view-cell"},[e("div",{staticClass:"table-view-cell-text time"},[t._v(t._s(t.dealWith(s.monthTime)))])]),e("div",{staticClass:"table-view-cell"},[e("div",{staticClass:"table-view-cell-text special"},[e("div",{staticClass:"info-list"},t._l(s.list,(function(i,s,n){return e("div",{key:n,staticClass:"oil"},[e("span",[t._v(t._s(s)+"：")]),t._l(i,(function(i,s){return e("span",[t._v(t._s(s>0?"、":"")+t._s(i))])}))],2)})),0),e("div",{staticClass:"oil-btn"},[0==i.type?e("div",{staticClass:"query-btn",on:{click:function(i){return t.queryBill(s)}}},[t._v("账单确定")]):t._e(),e("div",{staticClass:"query-btn",on:{click:function(i){return t.openDetails(s)}}},[t._v("详情")])])])])])])})),0),e("div",{staticClass:"no-data theme_font_tint"},[t._v("没有更多数据了~")])])})),1)],1)],1)},n=[],a=e("5530"),l=(e("fb6a"),e("4160"),e("159b"),e("2f62")),o={data:function(){return{active:2,tabList:[{text:"待确定",type:0},{text:"已确定",type:1}],list:[],state:0}},mounted:function(){this.erpBillForConfirm()},methods:{dealWith:function(t){return t=t.slice(0,4)+"年"+t.slice(4)+"月",t},changeTab:function(t,i){this.state=t,this.list=[],this.erpBillForConfirm()},erpBillForConfirm:function(){var t=this;this.$request.post("/app/json/app_oil_appoint/erpBillForConfirm",{state:this.state,departcode:this.vipUnitUser.vipUnitUserCode}).then((function(i){if(0===i.status){var e=i.data||[];e.forEach((function(t){t.list={},t.oilBill&&t.oilBill.forEach((function(i){t.list[i.oilTypeStr]?t.list[i.oilTypeStr].push(i.oilname):t.list[i.oilTypeStr]=[i.oilname]}))})),t.list=e}else t.$Toast(i.info?i.info:"获取账单信息失败")}))},queryBill:function(t){var i=this;this.$dialog.alert({title:"提示",message:"是否确认该账单？"}).then((function(){i.$request.post("/app/json/app_oil_appoint/monthBillConfirm",{monthTime:t.monthTime,departcode:i.vipUnitUser.vipUnitUserCode}).then((function(t){0===t.status?(i.$Toast("账单确认成功！"),i.list=[],i.erpBillForConfirm()):i.$Toast(t.info?t.info:"获取账单信息失败")}))}))},openDetails:function(t){this.$router.push({path:"/bill-details",query:{monthTime:t.monthTime,state:this.state,departcode:this.vipUnitUser.vipUnitUserCode}})}},computed:Object(a["a"])({},Object(l["c"])(["vipUnitUser"])),components:{}},c=o,r=(e("c77b"),e("0c7c")),u=Object(r["a"])(c,s,n,!1,null,"0b48ff47",null);i["default"]=u.exports},"9b37":function(t,i,e){},c77b:function(t,i,e){"use strict";e("9b37")}}]);