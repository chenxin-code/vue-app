(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7cc97858","chunk-2d2176a6"],{"09c2":function(s,e,t){},c740:function(s,e,t){"use strict";var i=t("23e7"),a=t("b727").findIndex,n=t("44d2"),r="findIndex",c=!0;r in[]&&Array(1)[r]((function(){c=!1})),i({target:"Array",proto:!0,forced:c},{findIndex:function(s){return a(this,s,arguments.length>1?arguments[1]:void 0)}}),n(r)},cf0f:function(s,e,t){"use strict";t("09c2")},d667:function(s,e,t){"use strict";t.r(e);var i=function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("div",[t("div",{directives:[{name:"show",rawName:"v-show",value:s.isShowAddress,expression:"isShowAddress"}],staticClass:"back-drop"}),t("transition",{attrs:{name:"address-choose"}},[t("div",{directives:[{name:"show",rawName:"v-show",value:s.isShowAddress,expression:"isShowAddress"}],ref:"addressChoose",staticClass:"address-choose"},[t("div",{staticClass:"nav-bar-wrapper"},[t("div",{staticClass:"nav-bar"},[s._l(s.navBarItems,(function(e,i){return t("div",{key:i,staticClass:"nav-bar-item",on:{click:function(t){return s.navItem(e,i)}}},[t("span",[s._v(s._s(e.cityOuName))])])})),t("div",{directives:[{name:"show",rawName:"v-show",value:s.addressList.length,expression:"addressList.length"}],staticClass:"nav-bar-item active"},[s._v("请选择")]),t("van-icon",{staticClass:"icon-btn",attrs:{name:"cross"},on:{click:s.closeAddress}})],2)]),t("div",{ref:"scroll",staticClass:"address-list"},[s._l(s.addressList,(function(e,i){return t("div",{key:i,staticClass:"address-item"},[t("span",{staticClass:"text",on:{click:function(t){return s.changeArea(e)}}},[s._v(s._s(e.ouNameNew))])])})),s.addressList.length?t("div",{staticClass:"address-item",staticStyle:{color:"#b3b3b3","font-size":"10px",display:"flex","justify-content":"center"}},[t("span",{},[s._v("亲！到底部了哦～")])]):s._e()],2)])])],1)},a=[],n=(t("c740"),t("a434"),t("4160"),t("159b"),t("ac1f"),t("1276"),{name:"",data:function(){return{navBarItems:[],addressList:[],cacheArray:[],canClick:!0,isShowAddress:!1,curOu:{ouCode:"",ouLevel:-1}}},mounted:function(){},methods:{changeArea:function(s){this.isShowAddress=!1,this.$emit("setAddressEvent",s)},initAddress:function(){this.isShowAddress=!0,this.navBarItems=[],this.addressList=[],this.cacheArray=[],this._getAddressList()},closeAddress:function(){this.isShowAddress=!1,this.curOu={ouCode:"",ouLevel:-1}},navItem:function(s,e){if(s){var t=this.navBarItems.findIndex((function(e){return e.id===s.id}));this.navBarItems.splice(t,this.navBarItems.length),this.cacheArray.splice(t+1,this.cacheArray.length),this.addressList=this.cacheArray[e]}},_getAddressList:function(){var s=this,e="/app/json/user/getOrganizationTree?is_ds=1",t={ouProp:12,is_ds:1,ouCode:this.curOu.ouCode,includeLevel:this.curOu.ouLevel+1};this.canClick=!1,this.$request.post(e,t).then((function(e){if(0==e.status){var t=e.data.subOrganization||[];t.length?(s.cacheArray.push(t),s.addressList=s.cacheArray[s.cacheArray.length-1],s.addressList.forEach((function(s){s.ouNameNew=s.ouName.split("石油分公司")[0]}))):s._setAddress()}else s.$Toast(e.info);s.canClick=!0}))},_setAddress:function(){this.closeAddress()}},components:{}}),r=n,c=(t("cf0f"),t("0c7c")),d=Object(c["a"])(r,i,a,!1,null,"ba23901e",null);e["default"]=d.exports}}]);