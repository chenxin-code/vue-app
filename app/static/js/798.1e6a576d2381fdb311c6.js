(window.webpackJsonp=window.webpackJsonp||[]).push([[798],{AcEK:function(t,a,e){},Ck6Y:function(t,a,e){"use strict";var n=e("AcEK");e.n(n).a},lNLa:function(t,a,e){"use strict";e.r(a);var n,i=e("L2JU"),o=e("KJ3S"),r=e("A8ay"),s=Object.assign||function(t){for(var a=1;a<arguments.length;a++){var e=arguments[a];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t};function g(t,a,e){return a in t?Object.defineProperty(t,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[a]=e,t}var c={name:"tabs-block",components:{SubPage:function(){return e.e(797).then(e.bind(null,"AqR5"))}},props:["myIndex","usePorpData","propData"],mixins:[r.a],data:function(){return{refersh:!0,active:0,tabsData:{}}},computed:s({},Object(i.c)(["clientWidth"]),{pageData:function(){return 1==this.usePorpData?this.propData:this.$store.state.pageData},moduleData:function(){return this.pageData.moduleList[this.myIndex].data},getBgStyle:function(){var t=this.moduleData.bgColor;return""!=t?t:""}}),created:function(){var t=this;o.a.$on("tabLinkChanged",(function(a){var e=a.index,n=t.moduleData.tabs[e];1!=n.newPage&&"1"==n.link.type&&t.getPageData(n.link.pgCode,e)})),this.initTabData(this.active)},methods:(n={hotEvent:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.actionBtnEvent(this.pageData.pgCode,this.moduleData.idCode+t)},getTopHeight:function(){return this.$market.getBarHeight()+this.$market.getNavHeight()},initTabData:function(t){var a=this.moduleData.tabs[t];"1"==a.link.type&&this.getPageData(a.link.pgCode,t)},getTabData:function(t){var a=t+"";return this.tabsData[a]}},g(n,"getTopHeight",(function(){return this.$store.state.barHeight+this.$market.getNavHeight()})),g(n,"rightEvent",(function(){this.$market.enterNav({link:this.moduleData.rightLink})})),g(n,"tabChange",(function(t){var a=this.moduleData.tabs[t];return 1!=a.newPage&&"1"==a.link.type?(this.getTabData(t)||this.getPageData(a.link.pgCode,t),!0):(this.$market.enterNav(a),!1)})),g(n,"getPageData",(function(t,a){var e=this,n=this.$market.apiBaseURL()+"/app/json/app_vue_page/vueGetPageData",i={pgCode:t,accessType:"2"};this.$Loading.open(),this.$http.post(n,i).then((function(t){var n=t.data;if(e.$Loading.close(),0==n.status){if(console.log(n),n.data&&n.data.pageDataJson){var i=JSON.parse(n.data.pageDataJson),o=a+"";e.tabsData[o]=i,e.refersh=!1,e.$nextTick((function(){e.refersh=!0}))}}else e.$Message.error("网络加载较慢，请稍后重试!")}),(function(t){e.$Loading.close(),e.$Message.error("网络加载较慢，请稍后重试!")}))})),n)},l=(e("Ck6Y"),e("KHd+")),u=Object(l.a)(c,(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"tabs-block"},[e("van-tabs",{attrs:{border:!1,sticky:1==t.moduleData.sticky,"offset-top":t.getTopHeight(),"before-change":t.tabChange,background:t.getBgStyle,color:t.moduleData.lineColor,"title-active-color":t.moduleData.titleActiveColor,"title-inactive-color":t.moduleData.titleInactiveColor},model:{value:t.active,callback:function(a){t.active=a},expression:"active"}},[t._l(t.moduleData.tabs,(function(a,n){return e("van-tab",{key:n,attrs:{title:a.name}},[t.refersh&&t.getTabData(n)?e("SubPage",{attrs:{propsPageData:t.getTabData(n),barHeight:0}}):t._e()],1)})),t._v(" "),t.moduleData.rightBtnImage?e("template",{slot:"nav-right"},[e("div",{staticClass:"right-btn-img"},[e("img",{attrs:{src:t.moduleData.rightBtnImage}})])]):t._e()],2),t._v(" "),t.moduleData.rightBtnImage?e("div",{staticClass:"right-btn-img abs",class:t.hotareaClass({idCode:t.moduleData.idCode}),style:{backgroundColor:t.getBgStyle},on:{click:function(a){t.hotEvent(),t.rightEvent()}}},[e("img",{attrs:{src:t.moduleData.rightBtnImage}})]):t._e()],1)}),[],!1,null,"2e960b58",null);a.default=u.exports}}]);