(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cfd86bda","chunk-2d0d6337","chunk-2d0e24d1","chunk-2d0e24d1"],{"0ec3":function(t,e,i){"use strict";i("84d5")},"1ee9":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyVpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ4IDc5LjE2NDAzNiwgMjAxOS8wOC8xMy0wMTowNjo1NyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIxLjAgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MzlERUMxRjg1OEI5MTFFQTg5RjhCRUZGNkI3QjIzOTkiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MzlERUMxRjk1OEI5MTFFQTg5RjhCRUZGNkI3QjIzOTkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDozOURFQzFGNjU4QjkxMUVBODlGOEJFRkY2QjdCMjM5OSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDozOURFQzFGNzU4QjkxMUVBODlGOEJFRkY2QjdCMjM5OSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PhguHfEAAAgBSURBVHja7Ftp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"},"233c":function(t,e,i){},"38ad":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"list"},[t.pickuYD?s("div",{staticClass:"pickup-yd",on:{click:function(e){e.stopPropagation(),t.pickuYD=!1}}},[s("img",{attrs:{src:"static/image/mall2/pickup-yd.png"}})]):t._e(),"AXJFShop"!=t.componentName?s("nav-top",{attrs:{noTitle:!0},on:{backEvent:t.backEvent}},[s("div",{staticClass:"search-div theme_bg_white_f5",staticStyle:{left:"50px",right:"50px",height:"30px",top:"7px",padding:"0 15px","border-radius":"15px"},on:{click:t.toSearchEvent}},[s("i",{staticClass:"iconfont mall-sousuo theme_font_tint",staticStyle:{"font-size":"16px"}}),s("span",{staticClass:"theme_font_tint single-line",staticStyle:{"font-size":"14px","margin-left":"10px"}},[t._v(t._s(t.searchKey?t.searchKey:"搜你想要的商品"))])]),""==t.pageType?s("div",{staticClass:"right-btn",staticStyle:{right:"0px",height:"44px",top:"0px","padding-right":"10px"},on:{click:t.listStyleEvent}},[2==t.listStyle?s("i",{staticClass:"iconfont mall-datubiao theme_font_common",staticStyle:{"font-size":"24px"}}):t._e(),1==t.listStyle?s("i",{staticClass:"iconfont mall-qiehuan theme_font_common",staticStyle:{"font-size":"24px"}}):t._e()]):t._e()]):t._e(),s("nav-content",[t.isProgram?s("NewCategory",{directives:[{name:"show",rawName:"v-show",value:t.showNewCategory,expression:"showNewCategory"}],attrs:{NoCategory:t.NoCategory,domIndex:t.domIndex,category:t.category},on:{toggle:t.toggle}}):t._e(),s("div",{staticClass:"all-content"},["AXJFShop"==t.componentName?s("div",{staticClass:"row axjf-tip line_bottom",on:{click:t.axPointsDetail}},[s("div",{staticClass:"label"},[t._v("当前爱心积分")]),s("div",{staticClass:"value"},[t._v(t._s(t.axPoints))]),s("i",{staticClass:"iconfont mall-gengduojiantou"})]):t._e(),""!=t.dataType&&t.channels.length>1?s("div",{staticClass:"row row-channel"},t._l(t.channels,(function(e){return s("div",{staticClass:"channel-btn theme_font_black",on:{click:function(i){return t.channelEvent(e)}}},[s("div",{staticClass:"text",class:{active:t.selectedChannel.id==e.id}},[t._v(" "+t._s(e.name)+" ")])])})),0):t._e(),s("div",{staticClass:"row row-filter top-showdow"},[s("div",{staticClass:"filter-btn theme_font_black",on:{click:function(e){return t.filterEvent(0)}}},[s("span",{staticClass:"single-line",class:{theme_standard_font_i:0==t.filterType}},[t._v("综合排序")])]),s("div",{staticClass:"filter-btn theme_font_black",on:{click:function(e){return t.filterEvent(1)}}},[s("span",{staticClass:"single-line",class:{theme_standard_font_i:1==t.filterType||2==t.filterType}},[t._v("销量")])]),s("div",{staticClass:"filter-btn theme_font_black",on:{click:function(e){return t.filterEvent(2)}}},[s("span",{staticClass:"single-line",class:{theme_standard_font_i:3==t.filterType||4==t.filterType}},[t._v("价格")]),s("div",{directives:[{name:"show",rawName:"v-show",value:3==t.filterType||4==t.filterType,expression:"filterType == 3 || filterType == 4"}]},[s("i",{staticClass:"iconfont mall-sanjiaoxiabiao arrow-icon theme_font_tint",class:{theme_standard_font_i:3==t.filterType}}),s("i",{staticClass:"iconfont mall-xiala arrow-icon theme_font_tint",class:{theme_standard_font_i:4==t.filterType}})])]),"1"==t.$store.state.globalConfig.pro_sku_view?s("div",{staticClass:"filter-btn theme_font_black",on:{click:function(e){return t.filterEvent(3)}}},[s("span",{staticClass:"single-line",class:{theme_standard_font_i:5==t.filterType}},[t._v("人气")])]):t._e(),s("div",{staticClass:"filter-btn theme_font_black",on:{click:t.superFilter}},[s("span",{staticClass:"single-line"},[t._v("筛选")]),s("i",{staticClass:"iconfont mall-shaixuan filter-size theme_font_tint"})])]),s("div",{staticClass:"list-content"},[s("div",{staticClass:"list-pull-to"},[s("pull-to",{ref:"listContent",attrs:{bottomConfig:{pullText:"",triggerText:"释放更新",loadingText:"加载中...",doneText:t.isCanLoadMore?"加载完成":"没有更多数据了",failText:"加载失败",loadedStayTime:400,stayDistance:40,triggerDistance:50},"bottom-load-method":t._loadProList,isBottomAutoS:!0,isBottomBounce:t.isCanLoadMore}},[s("div",[""!=t.pageType&&""!=t.endTime?s("div",{staticClass:"list-tip theme_bg_yl theme_font_red"},[s("p",[t._v("限时促销： "+t._s(t.tipText))]),s("p",[t._v(" 距离结束： "),s("countdown",{attrs:{endTime:t.endTime}})],1)]):t._e(),t.listData.length>0&&1==t.listStyle?s("CardList",{attrs:{listData:t.listData},on:{productEvent:t.productEvent,addToCart:t.addToCart}}):t._e(),t.listData.length>0&&2==t.listStyle?s("DetailList",{attrs:{listData:t.listData},on:{productEvent:t.productEvent,addToCart:t.addToCart}}):t._e()],1)])],1),t.isNoList&&""==t.pageType?s("div",{staticClass:"no-list"},[s("div",{staticClass:"img-div"},[s("img",{attrs:{src:"static/image/mall2/no-data-img.png"}})]),1==t.selectedType&&"coupon"==t.pageType?s("div",{staticClass:"tip theme_font_gray"},[t._v(" 当前门店无可用商品，请切换自提点查看可用商品 ")]):1==t.selectedType?s("div",{staticClass:"tip theme_font_gray"},[t._v(" 抱歉没有找到相应商品，请切换自提点试试吧 ")]):s("div",{staticClass:"tip theme_font_gray"},[t._v("抱歉没有找到相应商品~")]),"2"==t.selectedType?s("Recommend"):t._e(),"1"==t.selectedType&&""!=t.searchKey?s("PickupRecommend",{attrs:{searchKey:t.searchKey}}):t._e()],1):t._e()]),""!=t.pageType&&"activity_nocart"!=t.pageType?s("div",{staticClass:"activity-btns"},["activity"==t.pageType?s("div",{staticClass:"subtotal-div"},[s("p",[s("span",[t._v("小计：")]),s("span",{staticClass:"theme_font_red"},[t._v("￥"+t._s(t.$util.toDecimal2(t.activityInfo.amount)))])]),s("p",{staticClass:"font-small theme_font_tint"},[s("span",[t._v(t._s(t.activityInfo.activityDiscountDesc))])])]):t._e(),"coupon"==t.pageType?s("div",{staticClass:"subtotal-div"},[s("p",[s("span",[t._v("小计：")]),s("span",{staticClass:"theme_font_red"},[t._v("￥"+t._s(t.$util.toDecimal2(this.cartCanUseCouponAmount)))])]),s("p",{staticClass:"font-small theme_font_tint"},[s("span",[t._v(t._s(t.getCouponTip()))])])]):t._e(),3==t.activityInfo.linkType||4==t.activityInfo.linkType||5==t.activityInfo.linkType||6==t.activityInfo.linkType?s("div",{staticClass:"btn theme_bg_y theme_font_white",on:{click:t.goGift}},[t._v(" "+t._s(t.getGiftText())+" ")]):t._e(),s("div",{staticClass:"btn theme_bg_red theme_font_white",on:{click:t.goCart}},[t._v(" 去购物车 ")])]):t._e(),t.cardType&&552==t.cardType?t._e():s("div",{ref:"gouwuche",staticClass:"cart-div theme_bg_dark_d",class:{gouwucheani:t.addCartBtnAn},on:{click:function(e){return e.stopPropagation(),t.goCart.apply(null,arguments)}}},["wish"===t.$route.query.entryType?s("img",{staticClass:"wish-icon",attrs:{src:i("1ee9"),alt:""},on:{click:function(e){return e.stopPropagation(),t.$router.go(-1)}}}):s("div",[t.$store.state.mall2.cartNum>0?s("p",{staticClass:"cart-num theme_bg_red theme_font_white"},[t._v(" "+t._s(t.$store.state.mall2.cartNum)+" ")]):t._e(),s("i",{staticClass:"iconfont mall-gouwuche theme_font_white"})])]),t.cateList.length>0?s("div",{directives:[{name:"show",rawName:"v-show",value:t.showCategory,expression:"showCategory"}],staticClass:"category-div"},[s("Category",{attrs:{cateList:t.cateList},on:{closeEvent:function(e){t.showCategory=!1},cateEvent:t.cateEvent}})],1):t._e()])],1),t._e(),s("transition",{attrs:{name:"bounce"},on:{afterEnter:t.productImgAfterEnter}},[t.showProductImg&&t.addToCartItem?s("img",{staticClass:"productImg",attrs:{src:this.addToCartItem.phMainUrl,alt:""}}):t._e()]),s("transition",{on:{"after-enter":t.afterEnter,"before-enter":t.beforeEnter}},[t.showAddCartAn&&t.addToCartItem?s("div",{staticClass:"anProductImg"},[s("img",{attrs:{src:this.addToCartItem.phMainUrl,alt:""}})]):t._e()]),s("AllCategory",{directives:[{name:"show",rawName:"v-show",value:t.showAllCategory,expression:"showAllCategory"}],attrs:{barHeight:t.$store.state.barHeight},on:{closeEvent:function(e){t.showAllCategory=!1},cateEvent:t.cateEvent}}),t.showCreated?s("Filtrate",{directives:[{name:"show",rawName:"v-show",value:t.showFiltrate,expression:"showFiltrate"}],attrs:{cateText:t.cateText,category:t.category,cateLevel:t.cateLevel},on:{filtrateEvent:t.filtrateEvent,closeEvent:t.filtrateCloseEvent}}):t._e(),s("AdPage",{attrs:{pageAdKeywords:"AD_Key_ProductList"}})],1)},a=[],o=i("5530"),r=(i("acd8"),i("b0c0"),i("99af"),i("c975"),i("e42a")),n=i("0d16"),c=i("4fe5"),l=i("2f9a"),d=i("c597"),h=i("8592"),u=i("f648"),p=i("b659"),y=i("6311"),g=i("69f4"),f=i("947f"),v=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.storeList.length>0?i("div",{staticClass:"recommend mall2"},[i("div",{staticClass:"title"},[t._v("推荐店铺")]),i("div",{staticClass:"list-content"},t._l(t.storeList,(function(e){return i("div",{staticClass:"store line_bottom"},[i("div",{staticClass:"shop-title",on:{click:function(i){return t.toShop(e.storeCode)}}},[i("div",{staticClass:"text single-line"},[i("i",{staticClass:"iconfont mall-dianpu"}),t._v(" "+t._s(e.storeName)+" ")]),i("div",{staticClass:"distance"},[t._v(" 距离"+t._s(e.distanceKM)+"KM "),i("i",{staticClass:"iconfont mall-gengduojiantou"})])]),i("div",{staticClass:"pro-list"},t._l(e.list,(function(e){return i("div",{staticClass:"pro",on:{click:function(i){return t.productEvent(e)}}},[t._v(" "+t._s(t.dataProcessing(e))+" "),i("div",{staticClass:"pro-img"},[i("img",{attrs:{src:e.phMainUrl}})]),i("div",{staticClass:"pro-title single-line"},[t._v(t._s(e.skuName))]),i("div",{staticClass:"pro-price single-line"},[i("PriceOrder",{attrs:{listitem:e}})],1)])})),0)])})),0)]):t._e()},m=[],C=(i("ac1f"),i("1276"),i("590c")),T={name:"recommend",components:{CardList:r["a"],PriceOrder:C["a"]},props:["searchKey"],data:function(){return{deliverType:this.$store.state.mall2.staticDeliverType,storeList:[]}},methods:{dataProcessing:function(t){var e={integer:"0",decimals:"00",linePrice:""},i=t.salePrice+"",s=i.split(".");s&&(1==s.length?(e.integer=s[0],""==e.integer&&(e.integer="0"),e.decimals="00"):2==s.length&&(e.integer=s[0],e.decimals=s[1],e.decimals.length<2&&(e.decimals=e.decimals+"0"))),t.dpedData=e},toShop:function(t){this.$router.push({path:"/mall2/shop",query:{storeOuCode:t}})},productEvent:function(t){var e="/mall2/detail/"+this.$util.getDataString();2==t.productType&&(e="/mall2/ticketdetail"),this.$router.push({path:e,query:{id:t.id,skuId:t.skuId,storeOuCode:t.storeOuCode,productType:t.productType}})},addToCart:function(t){var e=this;this.$Loading.open();var i="/app/json/app_cart/addCart",s={token:this.$store.state.login.token,carts:[{skuId:t.skuId,storeOuCode:t.storeOuCode,activityId:this.activityId,selfActivityId:t.activityId,number:1}],deliveryType:t.deliverType};this.$http.post(i,s).then((function(t){e.$Loading.close();var i=t.data;0==i.status?(e.$store.state.mall2.cartNum=i.data,e.$Toast("添加购物车成功！"),e.$emit("addCartFinish")):e.$Toast(i.info)}),(function(t){e.$Loading.close(),e.$Toast("请求数据失败！")}))},_loadProList:function(){var t=this;this.storeList=[],this.$Loading.open();var e="/app/json/product/getAppProNearDistanceList",i={lng:this.$store.state.currentLocation.posx,lat:this.$store.state.currentLocation.posy,proName:this.searchKey};this.$http.post(e,i).then((function(e){t.$Loading.close();var i=e.data;0==i.status?t.storeList=i.data.storeList:t.$Toast(i.info)}),(function(e){t.$Loading.close(),t.$Toast("请求数据失败！")}))}},created:function(){this._loadProList()}},w=T,A=(i("0ec3"),i("0c7c")),I=Object(A["a"])(w,v,m,!1,null,"8b28a3c4",null),k=I.exports,_=i("72c7"),b=i("99b4"),$=i("e387"),L=i("2f62"),S=i("a946"),P={name:"list",components:{Countdown:g["default"],CardList:r["a"],DetailList:n["a"],Filtrate:c["a"],GiftList:h["a"],PullTo:u["a"],Category:p["a"],Recommend:f["a"],PickupRecommend:k,AllCategory:y["a"],AdPage:b["a"],NewCategory:$["a"]},props:["componentName","orderCategory","vipUnitUserCode","axPoints"],data:function(){return{deductionSkuId:"",listStyle:1,pickuYD:!1,deliveryTypes:[{text:"配送",fontclass:"mall-peisong",tag:"2"},{text:"自提",fontclass:"mall-ziti",tag:"1"}],selectedType:2,listZitiId:"",filterType:0,category:"",listData:[],showCreated:!1,showFiltrate:!1,filterBrands:[],filterFeatureies:[],pageType:"",activityId:"",couponId:"",subtotal:"0.00",searchKey:"",scrollTopValue1:0,backRefresh:!1,activityInfo:{},cartJS:d["a"],cateLevel:"",nowPage:1,isCanLoadMore:!1,clsType:"1",isFirstEnter:!0,maxPrice:"",minPrice:"",lastPath:"",proSkuHasStock:"",cateText:"全部分类",showCategory:!1,cateList:[],couFaceValue:"0",couThresholdAmount:"0",cartCanUseCouponAmount:"0",endTime:"",tipText:"",isNoList:!1,storeOuCode:"",showGuide:!1,showAllCategory:!1,addToCartItem:void 0,showProductImg:!1,showAddCartAn:!1,addCartBtnAn:!1,easyCardId:"",cardType:"",productType:"",categoryIdList:"",dataType:"",channelGroupId:"",channels:[],selectedChannel:{},nowCouponAmount:0,NoCategory:!1,showNewCategory:!0,domIndex:0,isProgram:!1}},mounted:function(){this.easyCardId=this.$route.query.easyCardId,this.cardType=this.$route.query.cardType},methods:Object(o["a"])(Object(o["a"])({},Object(L["d"])(["setShowCategory"])),{},{toggle:function(t){this.category=t,this.cateLevel=1,this.nowPage=0,this.searchKey="",this._loadProList()},axPointsDetail:function(){this.$emit("axPointsDetail")},channelEvent:function(t){this.selectedChannel=t,this.nowPage=0,this._loadProList()},getCouponTip:function(){var t=""!=this.cartCanUseCouponAmount?this.cartCanUseCouponAmount:"0";if(parseFloat(t)>parseFloat(this.couThresholdAmount))return"您已可以使用优惠券，优惠"+this.nowCouponAmount+"元";var e=this.$util.toDecimal2(parseFloat(this.couThresholdAmount)-parseFloat(t));return"还差"+e+"元可以优惠"+this.couFaceValue+"元"},cateEvent:function(t){this.showCreated=!1,this.filterBrands=[],this.filterFeatureies=[],this.showAllCategory=!1,this.showCategory=!1,this.cateText=t.name,this.category=t.id,this.cateLevel=t.cateLevel,this.clsType=t.clsType,this.nowPage=0,this._loadProList()},categoryEvent:function(){""!=this.pageType?this.showCategory=!this.showCategory:this.showAllCategory=!this.showAllCategory},getGiftText:function(){return 3==this.activityInfo.linkType?"选择赠品":4==this.activityInfo.linkType?"选择换购":5==this.activityInfo.linkType?"查看赠品":6==this.activityInfo.linkType?"查看换购":void 0},goCart:function(){1==this.$route.query.fromCart?this.$router.go(-1):this.$router.push({path:"/mall2/cart",query:{orderCategory:this.orderCategory,vipUnitUserCode:this.vipUnitUserCode}})},goGift:function(){var t=d["a"].getGiftIsOnlyScan(this.activityInfo),e=d["a"].getGiftType(this.activityInfo);h["a"].open({listData:this.activityInfo.gift,activityId:this.activityInfo.mktActivityId,sureFunc:this.sureFunc,isScan:t,giftType:e})},sureFunc:function(t){var e=this;this.$Loading.open();var i="/app/json/app_cart/addCart",s={token:this.$store.state.login.token,carts:t,deliveryType:this.selectedType,orderCategory:this.orderCategory,vipUnitUserCode:this.vipUnitUserCode};this.$http.post(i,s).then((function(t){e.$Loading.close();var i=t.data;0==i.status?(e.$store.state.mall2.cartNum=i.data,e.$Toast("添加购物车成功！"),e.deductionCart()):e.$Toast(i.info)}),(function(t){e.$Loading.close(),e.$Toast("请求数据失败！")}))},backEvent:function(){this.$route.query.backApp?S["a"].navigatorBack({url:"0"}).then((function(t){})):this.$router.go(-1)},toSearchEvent:function(){var t=this;l["a"].open({initData:{barHeight:this.$store.state.barHeight,searchHistory:this.$store.state.mall2.searchHistory},clearSearchHistory:function(){t.$store.state.mall2.searchHistory=[]},searchEvent:function(e){t.category="",t.cateLevel="",t.setShowCategory(!1),t.showNewCategory=t.$store.state.showNewCategory,l["a"].close(),t.$mallCommon.pushSearchHistory(e),t.searchKey=e,t.nowPage=0,t._loadProList()}})},listStyleEvent:function(){1==this.listStyle?this.listStyle=2:this.listStyle=1},filtrateCloseEvent:function(){this.showFiltrate=!1},selectedTypeEvent:function(t){this.$store.state.mall2.staticDeliverType=t,this.$bridgefunc.vuexStorage(),this.selectedType=t,1==t&&""==this.$store.state.mall2.zitiAddress.id?(this.backRefresh=!0,this.$router.push({path:"/mall2/mypickupaddress"})):(this.nowPage=0,this._loadProList(),this._getCartCount())},filterEvent:function(t){this.showCategory=!1,0==t?this.filterType=0:1==t?2==this.filterType?this.filterType=0:this.filterType=2:2==t?3==this.filterType?this.filterType=4:this.filterType=3:3==t&&(5==this.filterType?this.filterType=6:this.filterType=5),this.nowPage=0,this._loadProList()},filtrateEvent:function(t){this.showFiltrate=!1,this.filterBrands=[],this.filterFeatureies=[];for(var e=0;e<t.featureies.length;e++)this.filterFeatureies.push({id:t.featureies[e].id,featureType:t.featureies[e].featureType});this.maxPrice=t.maxPrice,this.filterBrands=t.brandIds,this.minPrice=t.minPrice,this.proSkuHasStock=t.proSkuHasStock,this.nowPage=0,this._loadProList()},superFilter:function(){this.showCategory=!1,this.showFiltrate=!0,this.showCreated=!0},_loadProList:function(t){var e=this;"1"==this.selectedType&&_["a"].checkIsInitialLoad((function(t){t&&e._loadProList()})),this.isCanLoadMore=!1,this.isNoList=!1;var i=this.nowPage+1;0==this.nowPage&&(this.listData=[]);var s={page:i,rows:20,orderByKey:"",ascOrDesc:"",deliverType:"2",categoryId:this.category,cateLevel:this.cateLevel,brandIds:this.filterBrands,featureIds:this.filterFeatureies,couTypeCode:this.couponId,activityId:this.activityId,proName:this.searchKey,clsType:this.clsType,maxPrice:this.maxPrice,minPrice:this.minPrice,proSkuHasStock:this.proSkuHasStock,easyCardId:this.$route.query.easyCardId,orderCategory:this.orderCategory,vipUnitUserCode:this.vipUnitUserCode},a="/app/json/product/getAppProSearchList";if("BeanShop"==this.componentName?a="/app/json/product/getAppProJDExchangeList":"AXJFShop"==this.componentName&&(a="/app/json/product/getAppProJDExchangeList",s.pcParentRuleId="6021"),1==this.filterType?(s.orderByKey="1",s.ascOrDesc="0"):2==this.filterType?(s.orderByKey="1",s.ascOrDesc="1"):3==this.filterType?(s.orderByKey="0",s.ascOrDesc="0"):4==this.filterType?(s.orderByKey="0",s.ascOrDesc="1"):5==this.filterType?(s.orderByKey="2",s.ascOrDesc="1"):6==this.filterType&&(s.orderByKey="2",s.ascOrDesc="0"),1==this.selectedType){var o=this.$store.state.mall2.zitiAddress;s.pickUpId=o.id}else{var r=this.$store.state.mall2.selectAddress;s.area={provinceId:r.provinceId,cityId:r.cityId,countryId:r.countryId,townId:r.townId}}this.productType&&""!=this.productType&&(s.productType=this.productType),""!=this.categoryIdList&&(s.categoryIdList=this.categoryIdList),this.selectedChannel.id&&(s.categoryId=this.selectedChannel.id,s.clsType="4"),this.$http.post(a,s).then((function(i){e.$Loading.close();var a=i.data;if(0==a.status){if(e.activityId?e.$actionStatistics.listAction("130020",JSON.stringify(s),e.activityId):e.$actionStatistics.listAction("130010",JSON.stringify(s),e.activityId),0!=e.nowPage)e.listData=e.listData.concat(a.data.list);else{if(e.listData=a.data.list,0==e.listData.length){var o=sessionStorage.getItem("Pickup_YD_Is_Show");"1"!=o&&"1"==e.selectedType?(e.pickuYD=!0,sessionStorage.setItem("Pickup_YD_Is_Show","1")):e.isNoList=!0}else e.deductionSkuId=e.listData[0].skuId,e.storeOuCode=e.listData[0].storeOuCode,e.deductionCart();if(""!=e.pageType&&e.cateList.length<=1){var r=a.data.cateList;e.cateList=[{name:"全部分类",id:"",childList:[{name:"全部分类",id:""}]}];for(var n=0;n<r.length;n++){var c=r[n].childList;e.cateList=e.cateList.concat(c)}}}e.nowPage++,a.data.page.count<=e.listData.length?e.isCanLoadMore=!1:e.isCanLoadMore=!0}else e.$Toast(a.info);t&&t("done")}),(function(i){t&&t("done"),e.$Loading.close(),e.$Toast("请求数据失败！")}))},productEvent:function(t){var e="/mall2/detail/"+this.$util.getDataString();2==t.productType?e="/mall2/ticketdetail":t.productType,this.$router.push({path:e,query:{id:t.id,skuId:t.skuId,lastPath:this.$route.path,productType:t.productType,activityId:t.activityId,orderCategory:this.orderCategory,vipUnitUserCode:this.vipUnitUserCode,easyCardId:this.easyCardId,cardNo:this.$route.query.cardNo,skuCode:t.skuCode,storeOuCode:t.storeOuCode,cardType:this.cardType,cardName:this.$route.query.cardName}})},_getCartCount:function(){var t=this;if(""!=this.$store.state.login.token){var e="/app/json/app_cart/getCartCount",i={token:this.$store.state.login.token,deliveryType:this.selectedType,orderCategory:this.orderCategory,vipUnitUserCode:this.vipUnitUserCode};this.$http.post(e,i).then((function(e){var i=e.data;0==i.status?t.$store.state.mall2.cartNum=i.data:t.$Toast(i.info)}),(function(e){t.$Loading.close(),t.$Toast("请求数据失败！")}))}},addToCart:function(t){var e=this;this.$Loading.open();var i="/app/json/app_cart/addCart",s={token:this.$store.state.login.token,carts:[{skuId:t.skuId,storeOuCode:t.storeOuCode,activityId:this.activityId,selfActivityId:t.activityId,deliveryType:this.selectedType,number:1}],orderCategory:this.orderCategory,vipUnitUserCode:this.vipUnitUserCode,deliveryType:t.deliverType};this.$http.post(i,s).then((function(i){e.$Loading.close();var s=i.data;0==s.status?(e.$store.state.mall2.cartNum=s.data,e.$Toast("添加购物车成功！"),""==e.pageType?e.$store.state.mall2.cartNum=s.data:e.deductionCart(),e.addToCartItem=t,e.$nextTick((function(){e.showProductImg=!0}))):e.$Toast(s.info)}),(function(t){e.$Loading.close(),e.$Toast("请求数据失败！")}))},deductionCart:function(){var t=this;if(""!=this.pageType&&"activity_nocart"!=this.pageType){this.$Loading.open();var e="/app/json/app_cart/DeductionCart",i={token:this.$store.state.login.token,deliveryType:this.selectedType,skuId:this.deductionSkuId,storeOuCode:this.storeOuCode,orderCategory:this.orderCategory,vipUnitUserCode:this.vipUnitUserCode};2==this.selectedType?(i.provinceId=this.$store.state.mall2.selectAddress.provinceId,i.cityId=this.$store.state.mall2.selectAddress.cityId,i.countryId=this.$store.state.mall2.selectAddress.countryId):1==this.selectedType&&(i.pickupId=this.$store.state.mall2.zitiAddress.id),"coupon"==this.pageType?i.couTypeCode=this.couponId:"activity"==this.pageType&&(i.activityId=this.activityId),this.$http.post(e,i).then((function(e){t.$Loading.close();var i=e.data;0==i.status?(t.activityInfo=i.data.activity,t.cartCanUseCouponAmount=i.data.amount,t.nowCouponAmount=i.data.couponAmount,3!=t.activityInfo.linkType&&4!=t.activityInfo.linkType||t.isFirstEnter&&(t.isFirstEnter=!1,t.goGift()),"activity"==t.pageType||"activity_nocart"==t.pageType?(t.tipText=t.activityInfo.mktActivityTitle,t.endTime=t.$util.getDateFromString(t.activityInfo.endDate)):0==t.couponId.indexOf("40")?t.tipText="以下商品可使用折扣券":t.couThresholdAmount>0?t.tipText="以下商品可使用满"+t.couThresholdAmount+"元减"+t.couFaceValue+"元的优惠券":t.tipText="以下商品可使用优惠券减"+t.couFaceValue+"元"):t.$Toast(i.info)}),(function(e){t.$Loading.close(),t.$Toast("请求数据失败！")}))}},selectAddressClick:function(){var t="";if(2==this.selectedType)"cnooc"==this.$store.state.globalConfig.app_home_special_flag&&(this.backRefresh=!0),t="/mall2/addresslist";else{if("cnooc"==this.$store.state.globalConfig.app_home_special_flag)return;t="/mall2/mypickupaddress",this.backRefresh=!0}0!=this.$userCenter.checkLogined({path:t},0)&&this.$router.push({path:t,query:{productType:this.productType}})},productImgAfterEnter:function(t){this.showProductImg=!1,this.showAddCartAn=!0},beforeEnter:function(t){t.style.transform="translate3d(0,0,0)",t.children[0].style.opacity=0},afterEnter:function(t){var e=this,i=t.getBoundingClientRect().bottom,s=t.children[0].getBoundingClientRect().left,a=this.$refs.gouwuche.getBoundingClientRect().left,o=this.$refs.gouwuche.getBoundingClientRect().top;t.style.transform="translate3d(0,".concat(o-i,"px,0)"),t.style.transition="transform .55s cubic-bezier(0.3, -0.25, 0.7, -0.15)",t.children[0].style.transform="translate3d(".concat(a-s,"px,0,0)"),t.children[0].style.transition="transform .55s linear",t.children[0].style.opacity=1,this.showAddCartAn=!1,t.addEventListener("transitionend",(function(){e.addCartBtnAn=!0,e.$refs.gouwuche.addEventListener("webkitAnimationEnd",(function(){e.addCartBtnAn=!1}))}))},queryChannelList:function(){var t=this,e="/app/json/product/getAppProChannelList",i={channelGroupId:this.channelGroupId};this.$Loading.open(),this.$http.post(e,i).then((function(e){t.$Loading.close();var i=e.data;if(0==i.status)if(t.channels=i.data.list,t.channels.length>0){var s=t.channels[0];t.selectedChannel=s,t.nowPage=0,t._loadProList()}else t.$Toast("频道组为空！");else t.$Toast(i.info)}),(function(e){t.$Loading.close(),t.$Toast("请求数据失败！")}))}}),created:function(){this.domIndex=this.$route.query.domIndex?this.$route.query.domIndex:1,this.$route.query.category?this.category=this.$route.query.category:this.NoCategory=!0,this.cateLevel=this.$route.query.cateLevel?this.$route.query.cateLevel:1,"3"!==this.$store.state.webtype&&"2"!==this.$store.state.webtype?this.isProgram=!0:this.isProgram=!1,this.showNewCategory=this.$store.state.showCategory,"1"==this.$store.state.globalConfig.delivertype_default?this.deliveryTypes=[{text:"自提",fontclass:"mall-ziti",tag:"1"}]:"2"==this.$store.state.globalConfig.delivertype_default&&(this.deliveryTypes=[{text:"配送",fontclass:"mall-peisong",tag:"2"}]),this.dataType=this.$route.query.dataType||"",this.channelGroupId=this.$route.query.channelGroupId||"",this.productType=this.$route.query.productType||"","filter"==this.dataType&&(this.filterBrands=JSON.parse(this.$route.query.brandIdList)||[],1==this.$route.query.deliveryType?(this.$store.state.mall2.staticDeliverType=1,this.deliveryTypes=[{text:"自提",fontclass:"mall-ziti",tag:"1"}]):2==this.$route.query.deliveryType&&(this.$store.state.mall2.staticDeliverType=2,this.deliveryTypes=[{text:"配送",fontclass:"mall-peisong",tag:"2"}])),1!=this.$store.state.list_guide_show||"0"!=this.$store.state.webtype&&"1"!=this.$store.state.webtype&&"2"!=this.$store.state.webtype&&"3"!=this.$store.state.webtype||(this.$store.state.list_guide_show=!1,this.$bridgefunc.vuexStorage(),this.showGuide=!0),this.lastPath=this.$route.query.lastPath?this.$route.query.lastPath:"",this.searchKey=this.$route.query.searchKey?this.$route.query.searchKey:"",""==this.searchKey&&(this.searchKey=this.$route.query.question?this.$route.query.question:""),this.pageType=this.$route.query.pageType?this.$route.query.pageType:"",1002==this.$route.params.id&&(this.pageType="activity_nocart"),this.activityId=this.$route.query.activity?this.$route.query.activity:"",this.couponId=this.$route.query.coupon?this.$route.query.coupon:"",this.clsType=this.$route.query.clsType?this.$route.query.clsType:"1",this.cateText=this.$route.query.categoryName?this.$route.query.categoryName:"全部分类",this.couThresholdAmount=this.$route.query.couThresholdAmount?this.$route.query.couThresholdAmount:"0",this.couFaceValue=this.$route.query.couFaceValue?this.$route.query.couFaceValue:"0",this.endTime=this.$route.query.endTime?this.$route.query.endTime:"",this.deductionSkuId=this.$route.query.skuId?this.$route.query.skuId:"",this.storeOuCode=this.$route.query.storeOuCode?this.$route.query.storeOuCode:"",this.categoryIdList=this.$route.query.categoryIdList?this.$route.query.categoryIdList:"",this.listZitiId=this.$store.state.mall2.zitiAddress.id,this.selectedType=this.$store.state.mall2.staticDeliverType,""==this.couponId&&""==this.activityId||(this.listStyle=2),this.nowPage=0,"channel"!=this.dataType||""==this.channelGroupId?(this._loadProList(),""!=this.deductionSkuId&&this.deductionCart()):this.queryChannelList()},activated:function(){this.$store.state.mall2.staticDeliverType!=this.selectedType?(this.selectedType=this.$store.state.mall2.staticDeliverType,this.backRefresh=!0):1==this.selectedType&&this.listZitiId!=this.$store.state.mall2.zitiAddress.id&&(this.backRefresh=!0),this.backRefresh?(this.backRefresh=!1,this.selectedTypeEvent(this.selectedType)):this.$refs.listContent.setScrollTopValue(this.scrollTopValue1)},beforeRouteLeave:function(t,e,i){t.path!=this.lastPath?this.scrollTopValue1=this.$refs.listContent.getScrollTopValue():this.$keepaliveHelper.deleteCache(this),i()}},x=P,D=(i("d1a6"),Object(A["a"])(x,s,a,!1,null,"53be242c",null));e["default"]=D.exports},"46a3":function(t,e,i){},"483b":function(t,e,i){"use strict";i("c630")},7217:function(t,e,i){"use strict";var s=i("53ca"),a=i("d4ec"),o=i("bee2"),r=(i("c975"),i("4795"),i("4160"),i("159b"),i("da71")),n=document.getElementsByTagName("head")[0],c=function(){function t(e,i){var s=this;Object(a["a"])(this,t),this.url=e||"",this.funcName=i;var o=document.createElement("script");e+=(~e.indexOf("?")?"&":"?")+"callback="+i,o.src=e,o.type="text/javascript",this.myTimer=setTimeout((function(){s.callCallback({status:1,info:"网络加载较慢！"}),s.clearup()}),1e4),window[i]=function(t){s.callCallback({status:0,data:t,info:""}),s.clearup()},o.onerror=function(){s.callCallback({status:1,info:"网络加载较慢！"}),s.clearup()},this.scriptNode=o,n.appendChild(this.scriptNode)}return Object(o["a"])(t,[{key:"then",value:function(t){this.callbackFunc=t}},{key:"callCallback",value:function(t){var e=this;setTimeout((function(){e.callbackFunc(t)}),0)}},{key:"clearup",value:function(){this.myTimer&&clearTimeout(this.myTimer),this.myTimer=null,this.scriptNode.src="",n.removeChild(this.scriptNode)}}]),t}(),l={request:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(!t)throw new Error("url 不能为空");0!=t.indexOf("http")&&(t=r["a"].baseURL+t),i.forEach((function(e){if("object"===Object(s["a"])(e))for(var i in e)t+=~t.indexOf("?")?"&":"?",t+=i+"="+e[i]}));var a=new c(t,e);return a},cancelAll:function(){}};e["a"]=l},"72c7":function(t,e,i){"use strict";var s=i("378f"),a=i("653a"),o=i("751a"),r=i("550c"),n=i("99fa"),c=(i("ca00"),{checkIsInitialLoad:function(t){"cnooc"!=a["a"].state.globalConfig.app_home_special_flag?0==a["a"].state.mall2.pickupAddressChecked?(a["a"].state.mall2.pickupAddressChecked=!0,s["a"].vuexStorage(),c.getLocation(t)):t(null):t()},getLocation:function(t){s["a"].getLocation((function(e){e.city&&""!=e.city?(a["a"].state.currentLocation.posx=e.longitude,a["a"].state.currentLocation.posy=e.latitude,c.loadNeerPickupAddress(t)):t(null)}))},loadNeerPickupAddress:function(t){var e="/app/json/user_address/searchSelfliftAddressList",i={posx:a["a"].state.currentLocation.posx,posy:a["a"].state.currentLocation.posy,page:{index:1,pageSize:1}};o["a"].post(e,i).then((function(e){var i=e.data;if(0==i.status)if(i.data&&i.data.length>0){var s=i.data[0];c.checkEqualAndDistance(s,t)}else t(null);else t(null)}),(function(e){t(null)}))},checkEqualAndDistance:function(t,e){t.id!=a["a"].state.mall2.zitiAddress.id&&t.distance<500?r["a"].confirm("距离您最近的自提点是："+t.storeName+",是否切换到最近自提点","提示").then((function(i){c.reSelectPickupAddress(t,e)}))["catch"]((function(t){e(null)})):e(null)},reSelectPickupAddress:function(t,e){a["a"].state.mall2.zitiAddress=t,s["a"].vuexStorage((function(){e(t)})),a["a"].state.login.token&&""!=a["a"].state.login.token&&(n["a"]._addToMyPickupAddress(t.id),n["a"]._setDefaultPickupAddress(t.id))}});e["a"]=c},78446:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAMCAYAAAB4MH11AAABUklEQVQ4T53Tz4uOURjG8c9FrFgoSTYWWLDxD1CStQ0lJDVKbJUosfCjSNn6UZRkpNhYa5qa+QdsWGBhQRZiYUfcOnpfPfP2zMz7OptT577u+/s813VOqmoNbuEIPuNKkof+Y1XVcVzERkzjTKrqLk525hX2JpmdhFFVezCDdPruNcBXrBsZNp9k94SAOewa6fnWAB+xqWfYiSQPxoFU1RTu92g/NcBVXOgp/mi5JHm+FKSqDgz8Xt2ju9YAG/AOa3sELY9HuJHkdbdeVTtwDsdGfB/KvmPr30Cq6hRuL2PHB7wfaLZg8zL600nuDAFtf4zD43g+huYJjiapf1eqqlbhGfaPMWApyQscTPKzibp3tlm1ApdxHisnBP3CdVxK8nvYuwAwPKyqnbiJfYsEuCBvvMTZJK9GP6oX0AFtw6HBA9qO9YPaF7zBPJ4mebvY3/4BsXBpDa5S858AAAAASUVORK5CYII="},"7db0":function(t,e,i){"use strict";var s=i("23e7"),a=i("b727").find,o=i("44d2"),r="find",n=!0;r in[]&&Array(1)[r]((function(){n=!1})),s({target:"Array",proto:!0,forced:n},{find:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),o(r)},"84d5":function(t,e,i){},9130:function(t,e,i){"use strict";i("46a3")},"99b4":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.showAdpage?i("div",{staticClass:"adpage",on:{click:function(e){return e.stopPropagation(),t.adPageHide.apply(null,arguments)}}},[i("div",[i("ImageAd",{attrs:{usePorpData:!0,propData:t.pageData},on:{closeEvent:t.adPageHide}})],1)]):t._e()},a=[],o=(i("d3b7"),i("3ca3"),i("ddb0"),i("7db0"),i("0d03"),i("7217")),r={name:"adpage",components:{ImageAd:function(){return i.e("chunk-1d60e26c").then(i.bind(null,"0401"))}},props:["pageAdKeywords","pgCode"],data:function(){return{pageData:null,show:!1}},computed:{showAdpage:function(){var t=this.show&&null!=this.pageData&&this.pageData.adData&&""!=this.pageData.adData;if(t){var e=this.pageData.adData,i=e.rows.find((function(t){return 0!=t.canSee}));void 0==i&&(t=!1)}return t}},methods:{adPageIsShow:function(t){var e=window.localStorage.getItem(this.pageAdKeywords+t);if(e){var i=(new Date).getTime();i>e&&(this.show=!0)}else this.show=!0},adPageHide:function(){this.show=!1},getMyPageData:function(){var t=this,e="/appcontent/js/app_vue_page/vuePageData.js",i="vuePageData_",s=[];if(s.push({appType:1}),s.push({accessType:2}),this.pgCode&&""!=this.pgCode)i+=this.pgCode,s.push({pgCode:this.pgCode});else{s.push({pageAdKeywords:this.pageAdKeywords});var a=this.$util.md5String(this.pageAdKeywords);i+=a}o["a"].request(e,i,s).then((function(e){if(0==e.status){var i=e.data.pageData;if(!i.pageDataJson)return;t.pageData=JSON.parse(i.pageDataJson);var s=e.data.id||"",a=t.pageData.adData;if(t.adPageIsShow(s),a&&t.show)if("1"==a.showFrequency){var o=new Date;o=o.setDate(o.getDate()+1),o=new Date(o).setHours(2,0,0,0);var r=new Date(o).getTime();window.localStorage.setItem(t.pageAdKeywords+s,r)}else if("2"==a.showFrequency){var n=new Date;n=n.setDate(n.getDate()+999);var c=new Date(n).getTime();window.localStorage.setItem(t.pageAdKeywords+s,c)}else if("3"==a.showFrequency){var l=(new Date).getTime()+36e3;window.localStorage.setItem(t.pageAdKeywords+s,l)}else if("4"==a.showFrequency){var d=(new Date).getTime()+0;window.localStorage.setItem(t.pageAdKeywords+s,d)}else{var h=(new Date).getTime()+36e5;window.localStorage.setItem(t.pageAdKeywords+s,h)}}}))}},created:function(){this.getMyPageData()}},n=r,c=(i("9130"),i("0c7c")),l=Object(c["a"])(n,s,a,!1,null,"1e81e30a",null);e["a"]=l.exports},b070:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAMCAYAAAB4MH11AAABu0lEQVQ4T52SP2hTURjFz7mNLrVDqbxnXRzUwS4OhXdFKhQRIXnBRUGslIKC6CqIguhQKyiCq1ZQELEitIsk7SIi2MEX6OBiB9uhgzbv4Z8hdNH0HjHU+kxq0njX8/vOuffcj0nf4DbX1XkX0BCEsgFveKXiY/zHSYJwxEHXQOwAOGEqKxdZtuE4oHMpP4nmcO/bwut2MpYP5Acp9woA/8zxAZdt7iuB7rQZwVk/Kh5qJyC24RtBA+kZAd8Y2/CjoJ31ZgY860XFR5sJSWx4xkEP61lCn1gOsmMgr9aLEr4bYsiPpqeahcQ2d9wJEyS2NnDSTVYOHvVWVjMLALoajSSCTzLQ7Z5o5n1a/2KzfVXwsqBhgKne16lKZ0d1T02Ig9x5Efda1LEEYHGN2Q1gVzOewgW/NH2/FiCAiQ2fCjq1mc5bMQSfeVHxNAGtP039/VvijDcJ8Fgrg+a6XvjV5ATn5n784v7qToCJg+woyCsAOtoMWoV0yy/NXCfgfs9u9DmIg/x+0d0BcKT+EhstAsCXlLnklwrvGle1yTUTm9/r6E5SGhC5D8L2Gk58pjQvctbIPPeiwod/2fwENsWaiOMtB+EAAAAASUVORK5CYII="},c630:function(t,e,i){},d1a6:function(t,e,i){"use strict";i("233c")},e387:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.$store.state.isPreview?t._e():s("div",{staticClass:"category",style:{backgroundColor:t.bgColor}},[s("div",{ref:"categoryList",staticClass:"categoryList"},t._l(t.categoryList,(function(e,a){return s("div",{key:a,staticClass:"categoryItem",on:{click:function(i){return t.navToSearch(e,a)}}},[s("div",{ref:"category"+a,refInFor:!0,staticClass:"categoryName",class:e.id==t.currentSelect?"select":"",style:{color:t.textColor}},[t._v(" "+t._s(e.name)+" ")]),s("img",{directives:[{name:"show",rawName:"v-show",value:e.id==t.currentSelect,expression:"item.id == currentSelect"}],attrs:{src:"新首页"==t.$route.name?i("78446"):"商品列表"==t.$route.name?i("b070"):"",alt:""}})])})),0)])},a=[],o=i("5530"),r=(i("b0c0"),i("2f62")),n={name:"category",props:["category","NoCategory","domIndex"],data:function(){return{categoryList:[],currentSelect:0}},created:function(){var t=this;this.$http.post("/app/json/product/getAppProCategoryList").then((function(e){t.categoryList=e.data.data.list,t.categoryList.unshift({clsType:"",id:0,cateLevel:"",name:"推荐",parentId:"",phUrl:"",sort:""}),t.domIndex?t.$nextTick((function(){t.$refs.categoryList.scrollTo(t.$refs["category"+t.domIndex][0].offsetLeft-20,0)})):t.NoCategory&&"商品列表"==t.$route.name&&t.$nextTick((function(){t.$refs.categoryList.scrollTo(t.$refs["category1"][0].offsetLeft-20,0)})),t.NoCategory&&"商品列表"==t.$route.name&&!t.$route.query.searchKey&&(t.$emit("toggle",t.categoryList[1].id),t.currentSelect=t.categoryList[1].id),t.category&&(t.currentSelect=t.category)}))},mounted:function(){},components:{},methods:Object(o["a"])({navToSearch:function(t,e){if(this.currentSelect=t.id,0==t.id)this.$router.push("/common");else if("新首页"==this.$route.name){var i="/mall2/list/"+this.$util.getDataString();this.$router.push({path:i,query:{category:t.id,cateLevel:1,domIndex:e}})}else"商品列表"==this.$route.name&&this.$emit("toggle",t.id)}},Object(r["d"])(["setShowCategory"])),computed:{bgColor:{get:function(){switch(this.$route.name){case"商品列表":return"#ffffff";case"新首页":return this.currentSelect=0,this.setShowCategory(!0),"#f74440";default:return"#ffffff"}},set:function(){}},textColor:{get:function(){switch(this.$route.name){case"商品列表":return"#f74440";case"首页":return this.setShowCategory(!0),this.currentSelect=0,"#ffffff";default:return"#ffffff"}},set:function(){}}}},c=n,l=(i("483b"),i("0c7c")),d=Object(l["a"])(c,s,a,!1,null,"6b2c1984",null);e["a"]=d.exports}}]);