(window.webpackJsonp=window.webpackJsonp||[]).push([[146,56],{"/zCo":function(t,e,i){t.exports=i.p+"static/img/exchange-btn.a66a142.png"},"6aWn":function(t,e,i){t.exports=i.p+"static/img/t-bg.5766588.png"},EXb0:function(t,e,i){t.exports=i.p+"static/img/bottom-btn.a7d9139.png"},KZmt:function(t,e,i){"use strict";i.r(e);var a={name:"",props:{show:Boolean,type:{type:Number,default:1}},data:function(){return{vanShow:!0,keyboardZh:[["京","津","渝","沪","冀","晋","辽","吉","黑","苏"],["浙","皖","闽","赣","鲁","豫","鄂","湘","粤","琼"],["川","贵","云","陕","甘","青","蒙","桂","宁","新"],["藏","使","领","警","学","港","澳"]],keyboardEn:[[1,2,3,4,5,6,7,8,9,0],["Q","W","E","R","T","Y","U","I","O","P"],["A","S","D","F","G","H","J","K","L"],["Z","X","C","V","B","N","M"]],keyboard:[],keyWidth:0,keyType:1}},methods:{setWidth:function(){this.keyWidth=document.querySelectorAll(".keyboard-item")[0].clientWidth+"px"},changeKey:function(){this.keyType=1===this.keyType?0:1,this.keyboard=1===this.keyType?this.keyboardZh:this.keyboardEn},deleteKey:function(){this.$emit("delete")},inputKey:function(t){this.$emit("input",t)},onBlur:function(){this.$emit("blur"),this.$emit("update:show",!1)},selfHandler:function(){this.$emit("update:show",!0)},handler:function(t){document.body[(t?"add":"remove")+"EventListener"]("touchstart",this.onBlur)}},mounted:function(){this.keyType=this.type,this.keyboard=1==this.keyType?this.keyboardZh:this.keyboardEn,this.handler(!0)},destroyed:function(){this.handler(!1)},activated:function(){this.handler(!0)},deactivated:function(){this.handler(!1)},watch:{show:function(t){t&&(clearTimeout(this.timer),this.timer=setTimeout(this.setWidth,20))},type:function(t){t&&(this.keyType=t,this.keyboard=1==this.keyType?this.keyboardZh:this.keyboardEn,this.handler(!0))}},components:{}},s=(i("Z5xP"),i("KHd+")),n=Object(s.a)(a,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"slide"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"virtual-keyboard",on:{touchstart:function(t){t.stopPropagation()}}},t._l(t.keyboard,(function(e,s){return a("div",{key:s,staticClass:"keyboard-row"},[3===s?a("span",{staticClass:"keyboard-item fn-key",on:{click:t.changeKey}},[t._v(t._s(1===t.keyType?"ABC":"中文"))]):t._e(),t._v(" "),t._l(e,(function(e){return a("span",{staticClass:"keyboard-item",class:{"flex-shrink":2===s||3===s},style:{width:2===s||3===s?t.keyWidth:"auto"},on:{click:function(i){return t.inputKey(e)}}},[t._v(t._s(e))])})),t._v(" "),3===s?a("span",{staticClass:"keyboard-item fn-key"},[a("img",{staticClass:"delete",attrs:{src:i("sr7s"),alt:""},on:{click:t.deleteKey}})]):t._e()],2)})),0)])}),[],!1,null,"e04e4f1a",null);e.default=n.exports},P2Jy:function(t,e,i){},Tu2e:function(t,e,i){t.exports=i.p+"static/img/b-bg.415864d.png"},Z5xP:function(t,e,i){"use strict";var a=i("ZGyj");i.n(a).a},ZGyj:function(t,e,i){},bs45:function(t,e,i){"use strict";var a=i("P2Jy");i.n(a).a},mUWx:function(t,e,i){"use strict";i.r(e);var a=i("KZmt"),s=i("9wUS"),n={name:"exchange",components:{VirtualKeyboard:a.default},data:function(){return{show:!1,realName:"",carNo:"",idNo:"",policyNo:""}},methods:{inputKey:function(t){this.carNo.length<8&&(this.carNo=this.carNo+t)},deleteKey:function(){this.carNo=this.carNo.substr(0,this.carNo.length-1)},getMyAssets:function(){var t=this,e={token:this.$store.state.login.token};this.$http.post("/app/json/user/getUserWallet",e).then((function(e){var i=e.data;0==i.status&&(t.$store.state.mall2.myAssets=i.data)}),(function(t){}))},exchangeEvent:function(){var t=this;if(""!=this.realName&&""!=this.carNo&&""!=this.idNo&&""!=this.idNo)if(0!=this.$util.identityCodeValid(this.idNo))if(6==this.policyNo.length){this.$Loading.open();var e={realName:this.realName,carNo:this.carNo,idNo:this.idNo,policyNo:this.policyNo};this.$http.post("/app/json/acct/acctRechargeCode",e).then((function(e){t.$Loading.close();var i=e.data;0==i.status?(s.a.open({exchangeData:i.data,sureEvent:function(){t.$router.go(-1)}}),t.getMyAssets()):t.$Toast(i.info)}),(function(e){t.$Loading.close(),t.$Toast("请求数据失败，请稍后重试！")}))}else this.$Toast("请输入正确的保单后六位！");else this.$Toast("请输入正确的身份证号码！");else this.$Toast("请输入所以必填项！")}},created:function(){}},o=(i("bs45"),i("KHd+")),r=Object(o.a)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"exchange"},[a("nav-top",{attrs:{bgImg:i("6aWn")},on:{backEvent:function(e){return t.$router.go(-1)}}}),t._v(" "),a("nav-content",[a("div",{staticClass:"conent-div"},[a("img",{staticClass:"bg",attrs:{src:i("Tu2e")}}),t._v(" "),a("div",{staticClass:"block-div"},[a("van-field",{staticClass:"form-input",attrs:{border:!1,label:"姓名",placeholder:"请填写保人姓名"},model:{value:t.realName,callback:function(e){t.realName=e},expression:"realName"}}),t._v(" "),a("van-field",{staticClass:"form-input",attrs:{border:!1,clickable:"",label:"车牌号",placeholder:"请填写投保单车辆牌号"},on:{click:function(e){t.show=!0}},model:{value:t.carNo,callback:function(e){t.carNo=e},expression:"carNo"}}),t._v(" "),a("van-field",{staticClass:"form-input",attrs:{border:!1,label:"身份证号",placeholder:"请填写投保人身份证号"},model:{value:t.idNo,callback:function(e){t.idNo=e},expression:"idNo"}}),t._v(" "),a("van-field",{staticClass:"form-input",attrs:{border:!1,label:"保单号后六位",placeholder:"请填写保单号后六位"},model:{value:t.policyNo,callback:function(e){t.policyNo=e},expression:"policyNo"}}),t._v(" "),a("div",{staticClass:"btn-div",on:{click:t.exchangeEvent}},[a("img",{attrs:{src:i("/zCo")}})]),t._v(" "),a("div",{staticClass:"bottom-btn",on:{click:function(e){return t.$router.push({path:"/user_center/offer_index"})}}},[a("img",{attrs:{src:i("EXb0")}})])],1)]),t._v(" "),a("virtual-keyboard",{attrs:{show:t.show},on:{"update:show":function(e){t.show=e},input:t.inputKey,delete:t.deleteKey}})],1)],1)}),[],!1,null,"2e183006",null);e.default=r.exports},sr7s:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABV0lEQVRYhe2Wy23DMAyGNUJG8FEAfwIawSNkBI+QEbKBR/Eldx8yQEYIMoFHcA+lAFa2JDp1ChQwAR7y/D4wfMS5I474D0FEFwDjzjkAaK3w+UM5WOETM5+9980eSURBvvdhhqevhRBOth/QuRDCiYg6/bgoIPApA+8AzET0tEgIbJDPdFUBAazCY0gTVSU0HMAY35sVANBGuC7ZOxI5eFZAGmPSpapFTqIEXxVI4BcLPCdRgy8ENJyZ+y3wVALAC8CtBF8IRNt34UrirhbM3dCc3wLM3FeXQiWSss8AXmYBsY8lHH8JH2MlSiO6EJAnHlslcg1nHNGfVd8qUev2kkR2EVklLKNWkiiuYjkcz9xkWOElieox8t43ud2gTmkVviLRmQQUaHU7Ami3nGPnnNOHzSSgJOJsX5n5vEfGk27aPYnE3/4lSySuzNzvmd77xiRwxBGfjC/Uf6m5/t20ZAAAAABJRU5ErkJggg=="}}]);