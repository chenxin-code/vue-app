(window.webpackJsonp=window.webpackJsonp||[]).push([[96],{"4cMt":function(t,e,i){},"59Sn":function(t,e,i){},"8Y6N":function(t,e){t.exports="data:image/png;base64,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"},"9kh8":function(t,e,i){"use strict";function s(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=null,o=void 0;return function(){var a=this,n=arguments,r=+new Date;clearTimeout(s),o||(o=r),0!==i&&r-o>=i?(t.apply(a,n),o=r):s=setTimeout((function(){t.apply(a,n)}),e)}}var o={pullText:"下拉刷新",triggerText:"释放更新",loadingText:"加载中...",doneText:"加载完成",failText:"加载失败",loadedStayTime:400,stayDistance:50,triggerDistance:70},a={pullText:"上拉加载",triggerText:"释放更新",loadingText:"加载中...",doneText:"加载完成",failText:"加载失败",loadedStayTime:400,stayDistance:50,triggerDistance:70},n={name:"vue-pull-to",props:{doSiteCallback:{type:Boolean,default:!1},distanceIndex:{type:Number,default:2},topBlockHeight:{type:Number,default:50},bottomBlockHeight:{type:Number,default:50},wrapperHeight:{type:String,default:"100%"},topLoadMethod:{type:Function},bottomLoadMethod:{type:Function},isThrottleTopPull:{type:Boolean,default:!0},isThrottleBottomPull:{type:Boolean,default:!0},isThrottleScroll:{type:Boolean,default:!1},isTopBounce:{type:Boolean,default:!0},isBottomBounce:{type:Boolean,default:!0},isBottomAutoS:{type:Boolean,default:!1},bothEventForce:{type:Boolean,default:!1},topConfig:{type:Object,default:function(){return{}}},bottomConfig:{type:Object,default:function(){return{}}}},data:function(){return{topIconSrc:"",bottomIconSrc:"",scrollEl:null,startScrollTop:0,startY:0,currentY:0,distance:0,direction:0,diff:0,beforeDiff:0,topText:"",bottomText:"",state:"",bottomReached:!1,throttleEmitTopPull:null,throttleEmitBottomPull:null,throttleEmitScroll:null,throttleOnInfiniteScroll:null,myTimer:null,lastSite:0,speed:0}},computed:{_topConfig:function(){return this.$assign({},o,this.topConfig)},_bottomConfig:function(){return this.$assign({},a,this.bottomConfig)}},watch:{state:function(t){"pull"===t?"down"===this.direction?this.topIconSrc=i("VKSr"):this.bottomIconSrc=i("GOvX"):"trigger"===t?"down"===this.direction?this.topIconSrc=i("GOvX"):this.bottomIconSrc=i("VKSr"):"loading"===t?(this.topIconSrc=i("8Y6N"),this.bottomIconSrc=i("8Y6N")):"loaded-done"===t&&(this.topIconSrc=i("p6xZ"),this.bottomIconSrc=i("p6xZ")),"down"===this.direction?this.$emit("top-state-change",t):this.$emit("bottom-state-change",t)}},methods:{siteCallBack:function(){var t=this;this.myTimer&&(clearInterval(this.myTimer),this.myTimer=null);var e=20,i=this.speed;if(!(i<5)){var s=this.scrollEl.scrollTop,o=this.scrollEl.scrollHeight-this.scrollEl.offsetHeight,a=-i/e;this.myTimer=window.setInterval((function(){if((s+=i+=a)>=220&&i>0||s>=o||s<=0)return s<0&&t.$emit("pageSite",0),void(t.myTimer&&(clearInterval(t.myTimer),t.myTimer=null));t.$emit("pageSite",s),--e<0&&t.myTimer&&(clearInterval(t.myTimer),t.myTimer=null)}),50)}},actionPull:function(){this.state="pull","down"===this.direction?this.topText=this._topConfig.pullText:this.bottomText=this._bottomConfig.pullText},actionTrigger:function(){this.state="trigger","down"===this.direction?this.topText=this._topConfig.triggerText:this.bottomText=this._bottomConfig.triggerText},actionLoading:function(){this.state="loading","down"===this.direction?(this.topText=this._topConfig.loadingText,this.topLoadMethod.call(this,this.actionLoaded),this.scrollTo(this._topConfig.stayDistance)):(this.bottomText=this._bottomConfig.loadingText,this.isBottomAutoS?this.bottomLoadMethod.call(this,this.actionLoaded):(this.scrollTo(-this._bottomConfig.stayDistance),this.bottomLoadMethod.call(this,this.actionLoaded)))},actionLoaded:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"done";this.state="loaded-"+e;var i=void 0;"down"===this.direction?(this.topText="done"===e?this._topConfig.doneText:this._topConfig.failText,i=this._topConfig.loadedStayTime,this._topConfig.stayDistance):(this.isBottomAutoS?(i=0,this.bottomText="done"===e?this._bottomConfig.doneText:this._bottomConfig.failText):(this.bottomText="done"===e?this._bottomConfig.doneText:this._bottomConfig.failText,i=this._bottomConfig.loadedStayTime),this._bottomConfig.stayDistance),setTimeout((function(){t.scrollTo(0),setTimeout((function(){t.state=""}),200)}),i)},scrollTo:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200;this.$el.style.transition=i+"ms",this.diff=t,setTimeout((function(){e.$el.style.transition=""}),i)},checkBottomReached:function(){return this.scrollEl.scrollTop+this.scrollEl.offsetHeight+1>=this.scrollEl.scrollHeight},handleTouchStart:function(t){this.myTimer&&(clearInterval(this.myTimer),this.myTimer=null),this.startY=t.touches[0].clientY,this.beforeDiff=this.diff,this.startScrollTop=this.scrollEl.scrollTop,this.bottomReached=this.checkBottomReached()},handleTouchMove:function(t){if(this.currentY=t.touches[0].clientY,this.distance=(this.currentY-this.startY)/this.distanceIndex+this.beforeDiff,this.direction=this.distance>0?"down":"up",0===this.startScrollTop&&"down"===this.direction&&this.isTopBounce){if(t.preventDefault(),t.stopPropagation(),this.diff=this.distance,this.isThrottleTopPull?this.throttleEmitTopPull(this.diff):this.$emit("top-pull",this.diff),"function"!=typeof this.topLoadMethod)return;this.distance<this._topConfig.triggerDistance&&"pull"!==this.state&&"loading"!==this.state?this.actionPull():this.distance>=this._topConfig.triggerDistance&&"trigger"!==this.state&&"loading"!==this.state&&this.actionTrigger()}else if(this.bottomReached&&"up"===this.direction&&this.isBottomBounce){if(t.preventDefault(),t.stopPropagation(),this.diff=this.distance,this.isThrottleBottomPull?this.throttleEmitBottomPull(this.diff):this.$emit("bottom-pull",this.diff),"function"!=typeof this.bottomLoadMethod)return;Math.abs(this.distance)<this._bottomConfig.triggerDistance&&"pull"!==this.state&&"loading"!==this.state?this.actionPull():Math.abs(this.distance)>=this._bottomConfig.triggerDistance&&"trigger"!==this.state&&"loading"!==this.state&&this.actionTrigger()}},handleTouchEnd:function(){if(0!==this.diff){if("trigger"===this.state)return void this.actionLoading();this.scrollTo(0)}},setScrollTopValue:function(t){this.scrollEl.scrollTop=t},getScrollTopValue:function(){return this.scrollEl.scrollTop},handleScroll:function(t){this.$emit("pageSite",this.scrollEl.scrollTop),"loading"!=this.state&&this.isBottomBounce&&this.isBottomAutoS&&t.target.scrollTop+t.target.offsetHeight>t.target.scrollHeight-this.bottomBlockHeight&&(this.direction="up",this.actionLoading()),this.isThrottleScroll?this.throttleEmitScroll(t):this.$emit("scroll",t)},onInfiniteScroll:function(){this.checkBottomReached()&&this.$emit("infinite-scroll")},throttleEmit:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments[2];return s((function(){var t=[].concat(Array.prototype.slice.call(arguments));t.unshift(i),this.$emit.apply(this,t)}),t,e)},bindEvents:function(){this.isBottomAutoS?1==this.bothEventForce&&(this.scrollEl.addEventListener("touchstart",this.handleTouchStart),this.scrollEl.addEventListener("touchmove",this.handleTouchMove),this.scrollEl.addEventListener("touchend",this.handleTouchEnd)):(this.scrollEl.addEventListener("touchstart",this.handleTouchStart),this.scrollEl.addEventListener("touchmove",this.handleTouchMove),this.scrollEl.addEventListener("touchend",this.handleTouchEnd)),this.scrollEl.addEventListener("scroll",this.handleScroll)},createThrottleMethods:function(){this.throttleEmitTopPull=this.throttleEmit(200,300,"top-pull"),this.throttleEmitBottomPull=this.throttleEmit(200,300,"bottom-pull"),this.throttleEmitScroll=this.throttleEmit(100,150,"scroll"),this.throttleOnInfiniteScroll=s(this.onInfiniteScroll,400)},init:function(){this.createThrottleMethods(),this.scrollEl=this.$el.querySelector(".scroll-container"),this.bindEvents()}},mounted:function(){this.init(),console.log(this.bottomLoadMethod,this.isBottomBounce,this.isBottomAutoS)}},r=(i("z1K3"),i("KHd+")),l=Object(r.a)(n,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"vue-pull-to-wrapper",style:{height:t.wrapperHeight,transform:"translate3d(0, "+t.diff+"px, 0)"}},[t.topLoadMethod?i("div",{staticClass:"action-block",style:{height:t.topBlockHeight+"px",marginTop:-t.topBlockHeight+"px"}},[i("div",{staticClass:"top-load-wrapper"},[t.topIconSrc&&"undefined"!=t.topIconSrc?i("img",{staticClass:"refresh-icon",class:{"icon-loading":"loading"===t.state},attrs:{src:t.topIconSrc,alt:""}}):t._e(),t._v(" "),i("span",{staticClass:"refresh-span"},[t._v(t._s(t.topText))])])]):t._e(),t._v(" "),i("div",{staticClass:"scroll-container",style:{paddingBottom:t.bottomBlockHeight+"px"}},[t._t("default"),t._v(" "),"/mall2/detail/:id"!=t.$route.matched[0].path?i("div",{staticClass:"action-block",style:{height:t.bottomBlockHeight+"px"}},[i("div",{staticClass:"bottom-load-wrapper"},[t.bottomIconSrc&&"undefined"!=t.bottomIconSrc?i("img",{staticClass:"refresh-icon",class:{"icon-loading":"loading"===t.state},attrs:{src:t.bottomIconSrc,alt:""}}):t._e(),t._v(" "),i("span",{staticClass:"refresh-span"},[t._v(t._s(t.bottomText))])])]):t._e()],2),t._v(" "),"/mall2/detail/:id"!=t.$route.matched[0].path?i("div",{staticClass:"action-block",style:{height:t.bottomBlockHeight+"px"}},[i("div",{staticClass:"bottom-load-wrapper"},[t.bottomIconSrc&&"undefined"!=t.bottomIconSrc?i("img",{staticClass:"refresh-icon",class:{"icon-loading":"loading"===t.state},attrs:{src:t.bottomIconSrc,alt:""}}):t._e(),t._v(" "),i("span",{staticClass:"refresh-span"},[t._v(t._s(t.bottomText))])])]):t._e()])}),[],!1,null,null,null);e.a=l.exports},GOvX:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgEAYAAAAj6qa3AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABWWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyI+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgpMwidZAAABjUlEQVRoBe2XMU/CQBiGr9XZwbLpb3BwdtNEFoEf4G6MC3EqDDBCjAkJQ2M7u8kfMMDSycGFsJAQBxZXlzYlBKy8LUfCGR3wuIv69RnIkbv7vvfhKJQxusgAGSADZIAMKDfgHoBymb8qb2BR0FBd2A1Bo8HuQbG4Wr9ev0iuUmn1/c2NlAn4PrgYUJ0IUywte/wp+COb0+mwGzAasSMwHLIT0O2m9W17uU52Q8J+GxOwDMCP+iJ4+ApyOeMNjMfsFETR1AaFAjsGvs+/Im5y1WpC39KG0gW4h6Ba5QGMW9Bu8+DXTyCKxARXDyAIwnOQzeKcJCclmTg/EXxfceEPx9IFGHvAsgwXtFqBBfL5r4KL/fN5XBjfh+2ATEac/2vH3i4YDNx90OvpCiL9BOgKsm5dErCuub+ybltXkPcX4PvGFphM0pucrm6oLhlQbsC7BJWK7qdBbb8CsQNMM74DprY+lH/yVJAMpAbSpzzH8c5As6nLi7b/AWngfj9+BrOZLgFUlwyQATJABv6zgQ8/ndpWDmvmtwAAAABJRU5ErkJggg=="},MoB1:function(t,e,i){"use strict";var s=i("ORGw");i.n(s).a},ORGw:function(t,e,i){},VKSr:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgEAYAAAAj6qa3AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAAZiS0dEAAAAAAAA+UO7fwAAAAlwSFlzAAAASAAAAEgARslrPgAAAb1JREFUaN7t1zFLw0AYBuD3SkiR5geEDI4diqUIHTpUOtTSQejkVnBM6iJtpyAObm5V0CGfo9AfoHR1EUL7HzoXF1Noe3BQSs9B6yCIDiGneM8Sslze7+W4I4CmaZqmJY5sssl2XSIiouNjVTkMVR9mRVZkxZ0dCQkJQ1kOTVMkCIMwCM/OSJIkeX6uKoe6M6DFWqy1XrMyK7Pyeq0qh6YpQjOa0ezmJpgG02B6e6sqh7r7N4cccnt7KZESKZFOq4qRUlbAL6ELUB1AtdjPAKpQhSrX12zBFmxh29zkJjePjrqj7qg7EuKn6/RKvVKvtLVlLa2ltby7gwMHzvOzO3AH7uDkJK688e+AOeaYv7xIT3rSOzzMOBkn4zw8bAb68eCRFVnR/f1mHTmREzmJorjjstgLePf2m3tx8fbm+6iiiurT08pf+Sv/4MAYGkNjGIZMMMFEOs2zPMuzu7ubwlBHHfX9fTTRRPPqyrM8y7M6nT9TwEcRnDjxy0v00Ue/3UYNNdQeHyEgILa30UADDdNEAQUUxuOkBk+sgI8iPu+IryQ0eOIFfFtEwoMrR3nKU/70dPNUnUfTNE37j14By5+5+mkAilEAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDYtMTNUMTU6NDk6NTIrMDg6MDAmrzDiAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTA2LTEzVDE1OjQ5OjUyKzA4OjAwV/KIXgAAAFV0RVh0c3ZnOmJhc2UtdXJpAGZpbGU6Ly8vaG9tZS9hZG1pbi9pY29uLWZvbnQvdG1wL2ljb25fdWV0emFxMnJsYy8lRTclQUUlQUQlRTUlQTQlQjQzLnN2ZwIn7fgAAAAASUVORK5CYII="},Y9tE:function(t,e,i){"use strict";i("KD6U");var s=i("WQzh"),o={name:"detail-list",props:{listData:Array,rowStyle:[String,Number]},components:{PriceOrder:s.a},data:function(){return{}},methods:{itemSelect:function(t,e){t.selected=!t.selected,this.listData.splice(e,1,t),this.$emit("selectedItemEvent",t)},getShowPrice:function(t){return!!(0!=t.activityPrice&&""!=t.activityPrice||""!=t.points&&t.points)},dataProcessing:function(t){var e=this.$mallCommon.priceFromItem(t);t.dpedData=e;var i=[];if(t.activityTypes)for(var s=0;s<t.activityTypes.length;s++){var o=t.activityTypes[s],a=t.activityTags.length>s?t.activityTags[s]:"";~i.indexOf(o)||-1!=a.indexOf("不显示")||i.push(o)}t.showActivities=i},delSku:function(t){this.$emit("delSku",t)},productEvent:function(t){this.$emit("productEvent",t)},addToCart:function(t){this.$emit("addToCart",t)},addshare:function(t){this.$emit("addshare",t)},addShopping:function(t){this.$emit("addShopping",t)},deleteShare:function(t){this.$emit("deleteShare",t)},upperShelf:function(t){this.$emit("upperShelf",t)},text:function(t){var e="";return 3==t?e="积分":8==t?e="油滴":9==t?e="豌豆":0==t&&(e="元"),e}},created:function(){}},a=(i("b+sH"),i("KHd+")),n=Object(a.a)(o,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"detail-list"},t._l(t.listData,(function(e,s){return i("div",{key:s,staticClass:"row theme_bg_white",on:{click:function(i){return t.productEvent(e)}}},[t._v("\n    "+t._s(t.dataProcessing(e))+"\n    "),i("div",{staticClass:"img-div"},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.phMainUrl,expression:"item.phMainUrl"}]})]),t._v(" "),1==t.rowStyle?i("div",{staticClass:"info-div"},[i("div",{staticClass:"title theme_font_black double-line",domProps:{innerHTML:t._s(e.skuName)}}),t._v(" "),i("div",{staticClass:"info-row"},[i("PriceOrder",{attrs:{listitem:e}})],1),t._v(" "),i("div",{staticClass:"info-row num-info"},[i("span",{staticClass:"font-small theme_font_tint"},[t._v("销量："+t._s(""!=e.salesNum?e.salesNum:"0"))]),t._v(" "),i("span",{staticClass:"font-small theme_font_tint"},[t._v("库存："+t._s(""!=e.stockNum?e.stockNum:"0"))]),t._v(" "),1!=e.hidden?i("i",{staticClass:"iconfont mall-jia-copy theme_standard_font_i car-size",staticStyle:{float:"right"},on:{click:function(i){return i.stopPropagation(),t.addToCart(e)}}}):i("i",{staticClass:"icon iconfont mall-dui car-size mallDui theme_standard_font_i",staticStyle:{float:"right"},on:{click:function(e){return e.stopPropagation(),t.addToCart({})}}})])]):t._e(),t._v(" "),2==t.rowStyle?i("div",{staticClass:"info-div"},[i("div",{staticClass:"title theme_font_black double-line",domProps:{innerHTML:t._s(e.skuName)}}),t._v(" "),i("div",{staticClass:"info-row"},[i("PriceOrder",{attrs:{listitem:e}})],1),t._v(" "),i("div",{staticClass:"info-row num-info"},[i("span",{staticClass:"font-small theme_font_tint"},[t._v("销量："+t._s(""!=e.salesNum?e.salesNum:"0"))]),t._v(" "),i("span",{staticClass:"font-small theme_font_tint"},[t._v("库存："+t._s(""!=e.stockNum?e.stockNum:"0"))]),t._v(" "),i("span",{staticClass:"theme_standard_font_i",staticStyle:{float:"right"},on:{click:function(i){return t.delSku(e.skuId)}}},[t._v("删除")])])]):t._e(),t._v(" "),3==t.rowStyle?i("div",{staticClass:"info-div"},[i("div",{staticClass:"title theme_font_black double-line",domProps:{innerHTML:t._s(e.skuName)}}),t._v(" "),i("div",{staticClass:"info-row"},[i("PriceOrder",{attrs:{listitem:e}})],1),t._v(" "),i("div",{staticClass:"info-row num-info"})]):t._e()])})),0)}),[],!1,null,"3b5cb3a8",null);e.a=n.exports},"b+sH":function(t,e,i){"use strict";var s=i("dpaf");i.n(s).a},csf6:function(t,e,i){"use strict";var s=i("N4/4"),o=i("ZToj"),a=i("dRp0"),n=i("VQwz"),r=i("mfrH"),l=(i("ygAv"),{checkIsInitialLoad:function(t){"cnooc"!=o.a.state.globalConfig.app_home_special_flag?0==o.a.state.mall2.pickupAddressChecked?(o.a.state.mall2.pickupAddressChecked=!0,s.a.vuexStorage(),l.getLocation(t)):t(null):t()},getLocation:function(t){s.a.getLocation((function(e){e.city&&""!=e.city?(o.a.state.currentLocation.posx=e.longitude,o.a.state.currentLocation.posy=e.latitude,l.loadNeerPickupAddress(t)):t(null)}))},loadNeerPickupAddress:function(t){var e={posx:o.a.state.currentLocation.posx,posy:o.a.state.currentLocation.posy,page:{index:1,pageSize:1}};a.a.post("/app/json/user_address/searchSelfliftAddressList",e).then((function(e){var i=e.data;if(console.log("自提站点列表:",i),0==i.status)if(i.data&&i.data.length>0){var s=i.data[0];l.checkEqualAndDistance(s,t)}else t(null);else t(null)}),(function(e){t(null),console.log("自提站点",e)}))},checkEqualAndDistance:function(t,e){t.id!=o.a.state.mall2.zitiAddress.id&&t.distance<500?n.a.confirm("距离您最近的自提点是："+t.storeName+",是否切换到最近自提点","提示").then((function(i){console.log(i),l.reSelectPickupAddress(t,e)})).catch((function(t){e(null)})):e(null)},reSelectPickupAddress:function(t,e){o.a.state.mall2.zitiAddress=t,s.a.vuexStorage((function(){e(t)})),o.a.state.login.token&&""!=o.a.state.login.token&&(r.a._addToMyPickupAddress(t.id),r.a._setDefaultPickupAddress(t.id))}});e.a=l},dpaf:function(t,e,i){},gBya:function(t,e,i){"use strict";var s=i("59Sn");i.n(s).a},p6xZ:function(t,e){t.exports="data:image/png;base64,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"},pFdj:function(t,e,i){"use strict";i.r(e);var s,o,a,n,r=i("L2JU"),l=(i("KD6U"),i("WQzh")),c={name:"card-list",props:{listData:Array,isOpen:{type:Boolean,default:!0}},components:{PriceOrder:l.a},data:function(){return{leftArray:[],rightArray:[]}},methods:(s={dataProcessing:function(t){var e=this.$mallCommon.priceFromItem(t);t.dpedData=e;var i=[];if(t.activityTypes){for(var s=0;s<t.activityTypes.length;s++){var o=t.activityTypes[s],a=t.activityTags.length>s?t.activityTags[s]:"";~i.indexOf(o)||-1!=a.indexOf("不显示")||i.push(o)}t.showActivities=i}},productEvent:function(t){this.$emit("productEvent",t)},addToCart:function(t){this.$emit("addToCart",t)},initData:function(){for(var t=[],e=[],i=0;i<this.listData.length;i++){var s=this.listData[i];this.dataProcessing(s),i%2?t.push(s):e.push(s)}this.rightArray=t,this.leftArray=e},text:function(t){var e="";return 3==t?e="积分":8==t?e="油滴":9==t?e="豌豆":0==t&&(e="元"),e}},o="dataProcessing",a=function(t){var e=this.$mallCommon.priceFromItem(t);t.dpedData=e},o in s?Object.defineProperty(s,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[o]=a,s),watch:{listData:{handler:function(){this.initData()},deep:!0}},created:function(){this.initData()}},d=(i("gBya"),i("KHd+")),h=Object(d.a)(c,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"card-list"},[i("div",{staticClass:"left-div"},t._l(t.leftArray,(function(e,s){return i("div",{key:s,staticClass:"card",on:{click:function(i){return t.productEvent(e)}}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.isOpen||s<1,expression:"isOpen || index < 1"}]},[t._v("\n         "+t._s(t.dataProcessing(e))+"\n        "),i("div",{staticClass:"card-content theme_bg_white"},[i("div",{staticClass:"img-div"},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.phMainUrl,expression:"item.phMainUrl"}]})]),t._v(" "),i("div",{staticClass:"title theme_font_black single-line",domProps:{innerHTML:t._s(e.skuName)}}),t._v(" "),i("div",{staticClass:"info-row"},[i("PriceOrder",{attrs:{listitem:e}})],1),t._v(" "),i("div",{staticClass:"info-row num-info"},[i("span",{staticClass:"font-small theme_font_tint"},[t._v("销量："+t._s(""!=e.salesNum?e.salesNum:"0"))]),t._v(" "),i("span",{staticClass:"font-small theme_font_tint"},[t._v("库存："+t._s(""!=e.stockNum?e.stockNum:"0"))]),t._v(" "),1!=e.hidden?i("i",{staticClass:"iconfont mall-jia-copy theme_standard_font_i car-size",staticStyle:{float:"right"},on:{click:function(i){return i.stopPropagation(),t.addToCart(e)}}}):i("i",{staticClass:"icon iconfont mall-dui car-size mallDui",staticStyle:{float:"right",color:"#ce8f27"},on:{click:function(e){return e.stopPropagation(),t.addToCart({})}}})])])])])})),0),t._v(" "),i("div",{staticClass:"right-div"},t._l(t.rightArray,(function(e,s){return i("div",{key:s,staticClass:"card",on:{click:function(i){return t.productEvent(e)}}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.isOpen||s<1,expression:"isOpen || index < 1"}]},[t._v("\n         "+t._s(t.dataProcessing(e))+"\n        "),i("div",{staticClass:"card-content theme_bg_white"},[i("div",{staticClass:"img-div"},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.phMainUrl,expression:"item.phMainUrl"}]})]),t._v(" "),i("div",{staticClass:"title theme_font_black single-line",domProps:{innerHTML:t._s(e.skuName)}}),t._v(" "),i("div",{staticClass:"info-row"},[i("PriceOrder",{attrs:{listitem:e}})],1),t._v(" "),i("div",{staticClass:"info-row num-info"},[i("span",{staticClass:"font-small theme_font_tint"},[t._v("销量："+t._s(""!=e.salesNum?e.salesNum:"0"))]),t._v(" "),i("span",{staticClass:"font-small theme_font_tint"},[t._v("库存："+t._s(""!=e.stockNum?e.stockNum:"0"))]),t._v(" "),1!=e.hidden?i("i",{staticClass:"iconfont mall-jia-copy theme_standard_font_i car-size",staticStyle:{float:"right"},on:{click:function(i){return i.stopPropagation(),t.addToCart(e)}}}):i("i",{staticClass:"icon iconfont mall-dui car-size mallDui",staticStyle:{float:"right",color:"#ce8f27"},on:{click:function(e){return e.stopPropagation(),t.addToCart({})}}})])])])])})),0)])}),[],!1,null,"1c4280f8",null).exports,u=i("Y9tE"),p=i("T+U4"),f=i("L5r+"),m=i("9kh8"),A=i("csf6"),g=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t};function v(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var y={name:"list",components:{CardList:h,DetailList:u.a,Filtrate:p.a,PullTo:m.a},data:function(){return{skuAddArr:[],deductionSkuId:"",listStyle:1,pickuYD:!1,selectedType:2,listZitiId:"",filterType:0,category:"",listData:[],showCreated:!1,showFiltrate:!1,filterBrands:[],filterFeatureies:[],pageType:"",activityId:"",couponId:"",subtotal:"0.00",searchKey:"",scrollTopValue1:0,backRefresh:!1,activityInfo:{},cartJS:"",cateLevel:"",nowPage:1,isCanLoadMore:!1,clsType:"1",isFirstEnter:!0,maxPrice:"",minPrice:"",proSkuHasStock:"",lastPath:"",cateText:"全部分类",showCategory:!1,cateList:[],couFaceValue:"0",couThresholdAmount:"0",cartCanUseCouponAmount:"0",endTime:"",tipText:"",isNoList:!1,storeOuCode:"",showGuide:!1,showAllCategory:!1,productType:"",categoryIdList:"",channels:[],selectedChannel:{}}},computed:g({},Object(r.e)(["recommendationSku"])),mounted:function(){},methods:g({},Object(r.d)(["setRecommendationSku"]),(n={channelEvent:function(t){this.selectedChannel=t,this.nowPage=0,this._loadProList()},getCouponTip:function(){var t=""!=this.cartCanUseCouponAmount?this.cartCanUseCouponAmount:"0";return parseFloat(t)>parseFloat(this.couThresholdAmount)?"您已可以使用优惠券，优惠"+this.couFaceValue+"元":"还差"+this.$util.toDecimal2(parseFloat(this.couThresholdAmount)-parseFloat(t))+"元可以优惠"+this.couFaceValue+"元"},cateEvent:function(t){this.showCreated=!1,this.filterBrands=[],this.filterFeatureies=[],this.showAllCategory=!1,this.showCategory=!1,this.cateText=t.name,this.category=t.id,this.cateLevel=t.cateLevel,this.clsType=t.clsType,this.nowPage=0,this._loadProList()},categoryEvent:function(){""!=this.pageType?this.showCategory=!this.showCategory:this.showAllCategory=!this.showAllCategory},getGiftText:function(){return 3==this.activityInfo.linkType?"选择赠品":4==this.activityInfo.linkType?"选择换购":5==this.activityInfo.linkType?"查看赠品":6==this.activityInfo.linkType?"查看换购":void 0},goCart:function(){1==this.$route.query.fromCart?this.$router.go(-1):this.$router.push({path:"/mall2/cart",query:{orderCategory:this.orderCategory,vipUnitUserCode:this.vipUnitUserCode}})},goGift:function(){var t=cartJS.getGiftIsOnlyScan(this.activityInfo),e=cartJS.getGiftType(this.activityInfo);GiftList.open({listData:this.activityInfo.gift,activityId:this.activityInfo.mktActivityId,sureFunc:this.sureFunc,isScan:t,giftType:e})},sureFunc:function(t){var e=this;this.$Loading.open();var i={token:this.$store.state.login.token,carts:t,deliveryType:this.selectedType,orderCategory:this.orderCategory,vipUnitUserCode:this.vipUnitUserCode};this.$http.post("/app/json/app_cart/addCart",i).then((function(t){e.$Loading.close();var i=t.data;0==i.status?(e.$store.state.mall2.cartNum=i.data,e.$Toast("添加购物车成功！"),e.deductionCart()):e.$Toast(i.info)}),(function(t){e.$Loading.close(),e.$Toast("请求数据失败！")}))},backEvent:function(){this.$router.go(-1)},toSearchEvent:function(){var t=this;f.a.open({initData:{barHeight:this.$store.state.barHeight,searchHistory:this.$store.state.mall2.searchHistory},clearSearchHistory:function(){t.$store.state.mall2.searchHistory=[]},searchEvent:function(e){f.a.close(),console.log(e),t.$mallCommon.pushSearchHistory(e),t.searchKey=e,t.nowPage=0,t._loadProList()}})},listStyleEvent:function(){1==this.listStyle?this.listStyle=2:this.listStyle=1},filtrateCloseEvent:function(){this.showFiltrate=!1},selectedTypeEvent:function(t){this.$store.state.mall2.staticDeliverType=t,this.$bridgefunc.vuexStorage(),this.selectedType=t,1==t&&""==this.$store.state.mall2.zitiAddress.id?(this.backRefresh=!0,this.$router.push({path:"/mall2/mypickupaddress"})):(this.nowPage=0,this._loadProList(),this._getCartCount())},filterEvent:function(t){this.showCategory=!1,0==t?this.filterType=0:1==t?2==this.filterType?this.filterType=0:this.filterType=2:2==t&&(3==this.filterType?this.filterType=4:this.filterType=3),this.nowPage=0,this._loadProList()},filtrateEvent:function(t){this.showFiltrate=!1,this.filterBrands=[],this.filterFeatureies=[];for(var e=0;e<t.brands.length;e++)this.filterBrands.push(t.brands[e].id);for(var i=0;i<t.featureies.length;i++)this.filterFeatureies.push({id:t.featureies[i].id,featureType:t.featureies[i].featureType});this.maxPrice=t.maxPrice,this.minPrice=t.minPrice,this.proSkuHasStock=t.proSkuHasStock,this.nowPage=0,this._loadProList()},superFilter:function(){this.showCategory=!1,this.showFiltrate=!0,this.showCreated=!0},_loadProList:function(t){var e=this;"1"==this.selectedType&&A.a.checkIsInitialLoad((function(t){t&&e._loadProList()})),this.isCanLoadMore=!1,this.isNoList=!1;var i=this.nowPage+1;0==this.nowPage&&(this.listData=[]),this.$Loading.open();var s="/app/json/product/getAppProSearchList";"BeanShop"==this.componentName&&(s="/app/json/product/getAppProJDExchangeList");var o={token:this.$store.state.login.token,page:i,rows:"",orderByKey:"",ascOrDesc:"",deliverType:this.selectedType,categoryId:this.category,cateLevel:this.cateLevel,brandIds:this.filterBrands,featureIds:this.filterFeatureies,couTypeCode:this.couponId,activityId:this.activityId,proName:this.searchKey,clsType:this.clsType,maxPrice:this.maxPrice,minPrice:this.minPrice,proSkuHasStock:this.proSkuHasStock,easyCardId:this.$route.query.easyCardId,orderCategory:this.orderCategory,vipUnitUserCode:this.vipUnitUserCode};if(1==this.filterType?(o.orderByKey="1",o.ascOrDesc="0"):2==this.filterType?(o.orderByKey="1",o.ascOrDesc="1"):3==this.filterType?(o.orderByKey="0",o.ascOrDesc="0"):4==this.filterType&&(o.orderByKey="0",o.ascOrDesc="1"),1==this.selectedType){var a=this.$store.state.mall2.zitiAddress;o.pickUpId=a.id}else{var n=this.$store.state.mall2.selectAddress;o.area={provinceId:n.provinceId,cityId:n.cityId,countryId:n.countryId,townId:n.townId}}this.productType&&""!=this.productType&&(o.productType=this.productType),""!=this.categoryIdList&&(o.categoryIdList=this.categoryIdList),this.selectedChannel.id&&(o.categoryId=this.selectedChannel.id,o.clsType="4"),this.$http.post(s,o).then((function(i){console.log(222,e.cateList),e.$Loading.close();var s=i.data;if(console.log(333,s),0==s.status){if(e.activityId?e.$actionStatistics.listAction("130020",JSON.stringify(o),e.activityId):e.$actionStatistics.listAction("130010",JSON.stringify(o),e.activityId),0!=e.nowPage)e.listData=e.listData.concat(s.data.list);else if(e.listData=s.data.list,e.setHidden(),0==e.listData.length?"1"!=sessionStorage.getItem("Pickup_YD_Is_Show")&&"1"==e.selectedType?(e.pickuYD=!0,sessionStorage.setItem("Pickup_YD_Is_Show","1")):e.isNoList=!0:(e.deductionSkuId=e.listData[0].skuId,e.storeOuCode=e.listData[0].storeOuCode,e.deductionCart()),""!=e.pageType&&e.cateList.length<=1){var a=s.data.cateList;e.cateList=[{name:"全部分类",id:"",childList:[{name:"全部分类",id:""}]}];for(var n=0;n<a.length;n++){var r=a[n].childList;e.cateList=e.cateList.concat(r)}}e.nowPage++,s.data.page.count<=e.listData.length?e.isCanLoadMore=!1:e.isCanLoadMore=!0}else e.$Toast(s.info);t&&t("done")}),(function(i){t&&t("done"),e.$Loading.close(),e.$Toast("请求数据失败！")}))},productEvent:function(t){console.log(t);var e="/mall2/detail/"+this.$util.getDataString();2==t.productType&&(e="/mall2/ticketdetail"),this.$router.push({path:e,query:{id:t.id,skuId:t.skuId,lastPath:this.$route.path,productType:t.productType,activityId:t.activityId,orderCategory:this.orderCategory,vipUnitUserCode:this.vipUnitUserCode,easyCardId:!0,recommendCommodity:!0,cardNo:this.$route.query.cardNo,skuCode:t.skuCode,storeOuCode:t.storeOuCode,cardType:this.cardType,cardName:this.$route.query.cardName}})},_getCartCount:function(){var t=this;if(""!=this.$store.state.login.token){var e={token:this.$store.state.login.token,deliveryType:this.selectedType,orderCategory:this.orderCategory,vipUnitUserCode:this.vipUnitUserCode};this.$http.post("/app/json/app_cart/getCartCount",e).then((function(e){var i=e.data;0==i.status?t.$store.state.mall2.cartNum=i.data:t.$Toast(i.info)}),(function(e){t.$Loading.close(),t.$Toast("请求数据失败！")}))}},addToCart:function(t){var e=this;this.$Loading.open();var i={token:this.$store.state.login.token,carts:[{skuId:t.skuId,storeOuCode:t.storeOuCode,activityId:this.activityId,selfActivityId:t.activityId,deliveryType:this.selectedType,number:1}],orderCategory:this.orderCategory,vipUnitUserCode:this.vipUnitUserCode,deliveryType:t.deliverType};this.$http.post("/app/json/app_cart/addCart",i).then((function(i){e.$Loading.close();var s=i.data;0==s.status?(e.$store.state.mall2.cartNum=s.data,e.$Toast("添加购物车成功！"),""==e.pageType?e.$store.state.mall2.cartNum=s.data:e.deductionCart(),e.addToCartItem=t,e.$nextTick((function(){e.showProductImg=!0}))):e.$Toast(s.info)}),(function(t){e.$Loading.close(),e.$Toast("请求数据失败！")}))},deductionCart:function(){var t=this;if(""!=this.pageType&&"activity_nocart"!=this.pageType){this.$Loading.open();var e={token:this.$store.state.login.token,deliveryType:this.selectedType,skuId:this.deductionSkuId,storeOuCode:this.storeOuCode,orderCategory:this.orderCategory,vipUnitUserCode:this.vipUnitUserCode};2==this.selectedType?(e.provinceId=this.$store.state.mall2.selectAddress.provinceId,e.cityId=this.$store.state.mall2.selectAddress.cityId,e.countryId=this.$store.state.mall2.selectAddress.countryId):1==this.selectedType&&(e.pickupId=this.$store.state.mall2.zitiAddress.id),"coupon"==this.pageType?e.couTypeCode=this.couponId:"activity"==this.pageType&&(e.activityId=this.activityId),this.$http.post("/app/json/app_cart/DeductionCart",e).then((function(e){t.$Loading.close();var i=e.data;0==i.status?(t.activityInfo=i.data.activity,t.cartCanUseCouponAmount=i.data.amount,3!=t.activityInfo.linkType&&4!=t.activityInfo.linkType||t.isFirstEnter&&(t.isFirstEnter=!1,t.goGift()),"activity"==t.pageType||"activity_nocart"==t.pageType?(t.tipText=t.activityInfo.mktActivityTitle,t.endTime=t.$util.getDateFromString(t.activityInfo.endDate)):t.couThresholdAmount>0?t.tipText="以下商品可使用满"+t.couThresholdAmount+"元减"+t.couFaceValue+"元的优惠券":t.tipText="以下商品可使用优惠券减"+t.couFaceValue+"元"):t.$Toast(i.info)}),(function(e){t.$Loading.close(),t.$Toast("请求数据失败！")}))}},selectAddressClick:function(){var t="";2==this.selectedType?t="/mall2/addresslist":(t="/mall2/mypickupaddress",this.backRefresh=!0),0!=this.$userCenter.checkLogined({path:t},0)&&this.$router.push({path:t,query:{productType:this.productType}})},productImgAfterEnter:function(t){this.showProductImg=!1,this.showAddCartAn=!0},beforeEnter:function(t){t.style.transform="translate3d(0,0,0)",t.children[0].style.opacity=0},afterEnter:function(t){var e=this,i=t.getBoundingClientRect().bottom,s=t.children[0].getBoundingClientRect().left,o=this.$refs.gouwuche.getBoundingClientRect().left,a=this.$refs.gouwuche.getBoundingClientRect().top;t.style.transform="translate3d(0,"+(a-i)+"px,0)",t.style.transition="transform .55s cubic-bezier(0.3, -0.25, 0.7, -0.15)",t.children[0].style.transform="translate3d("+(o-s)+"px,0,0)",t.children[0].style.transition="transform .55s linear",t.children[0].style.opacity=1,this.showAddCartAn=!1,t.addEventListener("transitionend",(function(){e.addCartBtnAn=!0,e.$refs.gouwuche.addEventListener("webkitAnimationEnd",(function(){e.addCartBtnAn=!1}))}))},queryChannelList:function(){var t=this,e={channelGroupId:this.channelGroupId};this.$Loading.open(),this.$http.post("/app/json/product/getAppProChannelList",e).then((function(e){t.$Loading.close();var i=e.data;if(0==i.status)if(t.channels=i.data.list,t.channels.length>0){var s=t.channels[0];t.selectedChannel=s,t.nowPage=0,t._loadProList()}else t.$Toast("频道组为空！");else t.$Toast(i.info)}),(function(e){t.$Loading.close(),t.$Toast("请求数据失败！")}))}},v(n,"addToCart",(function(t){if(0!=Object.keys(t).length){var e=this.recommendationSku.skuList;e.push(t),this.setRecommendationSku({skuList:e}),this.$set(t,"hidden","1")}})),v(n,"toRecommendation",(function(t){this.recommendationSku.skuList.length?this.$router.push({path:"/recommend-commodity/newRecommendation",query:{status:t}}):this.$Toast("请选择推荐商品")})),v(n,"setHidden",(function(){var t=this;this.listData.forEach((function(e){t.$set(e,"hidden","")})),this.recommendationSku.skuList.forEach((function(e){t.listData.forEach((function(i){e.skuId==i.skuId&&t.$set(i,"hidden","1")}))}))})),n)),created:function(){1==this.$store.state.list_guide_show&&(this.$store.state.list_guide_show=!1,this.$bridgefunc.vuexStorage(),this.showGuide=!0),this.lastPath=this.$route.query.lastPath?this.$route.query.lastPath:"",this.searchKey=this.$route.query.searchKey?this.$route.query.searchKey:"",this.category=this.$route.query.category?this.$route.query.category:"",this.cateLevel=this.$route.query.cateLevel?this.$route.query.cateLevel:"",this.pageType=this.$route.query.pageType?this.$route.query.pageType:"",this.activityId=this.$route.query.activity?this.$route.query.activity:"",this.couponId=this.$route.query.coupon?this.$route.query.coupon:"",this.clsType=this.$route.query.clsType?this.$route.query.clsType:"1",this.cateText=this.$route.query.categoryName?this.$route.query.categoryName:"全部分类",this.couThresholdAmount=this.$route.query.couThresholdAmount?this.$route.query.couThresholdAmount:"0",this.couFaceValue=this.$route.query.couFaceValue?this.$route.query.couFaceValue:"0",this.endTime=this.$route.query.endTime?this.$route.query.endTime:"",this.deductionSkuId=this.$route.query.skuId?this.$route.query.skuId:"",this.storeOuCode=this.$route.query.storeOuCode?this.$route.query.storeOuCode:"",this.categoryIdList=this.$route.query.categoryIdList?this.$route.query.categoryIdList:"",this.listZitiId=this.$store.state.mall2.zitiAddress.id,this.selectedType=this.$store.state.mall2.staticDeliverType,""==this.couponId&&""==this.activityId||(this.listStyle=2),this.nowPage=0,this._loadProList()},activated:function(){this.$store.state.mall2.staticDeliverType!=this.selectedType?(this.selectedType=this.$store.state.mall2.staticDeliverType,this.backRefresh=!0):1==this.selectedType&&this.listZitiId!=this.$store.state.mall2.zitiAddress.id&&(this.backRefresh=!0),this.backRefresh?(this.backRefresh=!1,this.selectedTypeEvent(this.selectedType)):this.$refs.listContent.setScrollTopValue(this.scrollTopValue1)},beforeRouteLeave:function(t,e,i){t.path!=this.lastPath?this.scrollTopValue1=this.$refs.listContent.getScrollTopValue():this.$keepaliveHelper.deleteCache(this),"商品分类"==t.name&&(this.setRecommendationSku({skuList:[]}),this.$keepaliveHelper.deleteCache(this)),i()}},T=(i("MoB1"),Object(d.a)(y,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"list"},[t.pickuYD?i("div",{staticClass:"pickup-yd",on:{click:function(e){e.stopPropagation(),t.pickuYD=!1}}},[i("img",{attrs:{src:"static/image/mall2/pickup-yd.png"}})]):t._e(),t._v(" "),i("nav-top",{attrs:{noTitle:!0},on:{backEvent:t.backEvent}},[i("div",{staticClass:"search-div theme_bg_white_f5",staticStyle:{left:"50px",right:"50px",height:"30px",top:"7px",padding:"0 15px","border-radius":"15px"},on:{click:t.toSearchEvent}},[i("i",{staticClass:"iconfont mall-sousuo theme_font_tint",staticStyle:{"font-size":"16px"}}),t._v(" "),i("span",{staticClass:"theme_font_tint single-line",staticStyle:{"font-size":"14px","margin-left":"10px"}},[t._v(t._s(t.searchKey?t.searchKey:"搜你想要的商品"))])]),t._v(" "),""==t.pageType?i("div",{staticClass:"right-btn",staticStyle:{right:"0px",height:"44px",top:"0px","padding-right":"10px"},on:{click:t.listStyleEvent}},[1==t.listStyle?i("i",{staticClass:"iconfont mall-datubiao theme_font_common",staticStyle:{"font-size":"24px"}}):t._e(),t._v(" "),2==t.listStyle?i("i",{staticClass:"iconfont mall-qiehuan theme_font_common",staticStyle:{"font-size":"24px"}}):t._e()]):t._e()]),t._v(" "),i("nav-content",[i("div",{staticClass:"all-content"},[i("div",{staticClass:"row"},[i("div",{staticClass:"local-div",on:{click:function(e){return t.selectAddressClick()}}},[i("i",{staticClass:"iconfont mall-dingwei icon-size theme_font_gray"}),t._v(" "),2==t.selectedType?i("span",{staticClass:"theme_font_gray single-line"},[t._v(t._s(t.$store.state.mall2.selectAddress.addressFull))]):t._e(),t._v(" "),1==t.selectedType?i("span",{staticClass:"theme_font_gray single-line"},[t._v(t._s(t.$store.state.mall2.zitiAddress.storeName))]):t._e()])]),t._v(" "),i("div",{staticClass:"row row-filter top-showdow"},[i("div",{staticClass:"filter-btn theme_font_black",on:{click:t.categoryEvent}},[i("i",{staticClass:"iconfont mall-datubiao filter-size-1 theme_font_black"}),t._v(" "),i("span",[t._v(t._s(t.cateText))])]),t._v(" "),i("div",{staticClass:"filter-btn theme_font_black",on:{click:function(e){return t.filterEvent(0)}}},[i("span",{class:{theme_standard_font_i:0==t.filterType}},[t._v("综合排序")])]),t._v(" "),i("div",{staticClass:"filter-btn theme_font_black",on:{click:function(e){return t.filterEvent(1)}}},[i("span",{class:{theme_standard_font_i:1==t.filterType||2==t.filterType}},[t._v("销量")])]),t._v(" "),i("div",{staticClass:"filter-btn theme_font_black",on:{click:function(e){return t.filterEvent(2)}}},[i("span",{class:{theme_standard_font_i:3==t.filterType||4==t.filterType}},[t._v("价格")]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:3==t.filterType||4==t.filterType,expression:"filterType == 3 || filterType == 4"}]},[i("i",{staticClass:"iconfont mall-sanjiaoxiabiao arrow-icon theme_font_tint",class:{theme_standard_font_i:3==t.filterType}}),t._v(" "),i("i",{staticClass:"iconfont mall-xiala arrow-icon theme_font_tint",class:{theme_standard_font_i:4==t.filterType}})])]),t._v(" "),i("div",{staticClass:"filter-btn theme_font_black",on:{click:t.superFilter}},[i("span",[t._v("筛选")]),t._v(" "),i("i",{staticClass:"iconfont mall-shaixuan filter-size theme_font_tint"})])]),t._v(" "),i("div",{staticClass:"list-content"},[i("div",{staticClass:"list-pull-to"},[i("pull-to",{ref:"listContent",attrs:{bottomConfig:{pullText:"",triggerText:"释放更新",loadingText:"加载中...",doneText:t.isCanLoadMore?"加载完成":"没有更多数据了",failText:"加载失败",loadedStayTime:400,stayDistance:40,triggerDistance:50},"bottom-load-method":t._loadProList,isBottomAutoS:!0,isBottomBounce:t.isCanLoadMore}},[i("div",[t.listData.length>0&&1==t.listStyle?i("CardList",{attrs:{listData:t.listData},on:{productEvent:t.productEvent,addToCart:t.addToCart}}):t._e(),t._v(" "),t.listData.length>0&&2==t.listStyle?i("DetailList",{attrs:{listData:t.listData,rowStyle:1},on:{productEvent:t.productEvent}}):t._e()],1)])],1),t._v(" "),t.listData.length?t._e():i("div",{staticClass:"no-list"},[i("div",{staticClass:"img-div"},[i("img",{attrs:{src:"static/image/mall2/no-data-img.png"}})]),t._v(" "),i("div",{staticClass:"tip theme_font_gray"},[t._v("抱歉没有找到相应商品~")])])]),t._v(" "),i("div",{staticClass:"activity-btns"},[i("div",{staticClass:"btn theme_font_white theme_bg_y",on:{click:function(e){return t.toRecommendation(0)}}},[t._v("推荐商品 ("+t._s(t.recommendationSku.skuList.length)+")")]),t._v(" "),i("div",{staticClass:"btn theme_bg_red theme_font_white",on:{click:function(e){return t.toRecommendation(1)}}},[t._v("确定")])])])]),t._v(" "),t.showCreated?i("Filtrate",{directives:[{name:"show",rawName:"v-show",value:t.showFiltrate,expression:"showFiltrate"}],attrs:{category:t.category},on:{filtrateEvent:t.filtrateEvent,closeEvent:t.filtrateCloseEvent}}):t._e()],1)}),[],!1,null,"c9c014c4",null));e.default=T.exports},z1K3:function(t,e,i){"use strict";var s=i("4cMt");i.n(s).a}}]);