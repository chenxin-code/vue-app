(window.webpackJsonp=window.webpackJsonp||[]).push([[202],{"3htJ":function(t,e,s){"use strict";var i=s("rNY5");s.n(i).a},GaYg:function(t,e,s){t.exports=s.p+"static/img/banner2.ae9ef00.png"},IEU0:function(t,e,s){"use strict";var i=s("vEIk");s.n(i).a},XWxk:function(t,e,s){"use strict";s.r(e),s("4X9F");var i=s("IkEG"),a={name:"list",components:{Countdown:s("aul4").a},data:function(){return{listStyle:1,deliveryTypes:[{text:"配送",fontclass:"mall-peisong",tag:"2"},{text:"自提",fontclass:"mall-ziti",tag:"1"}],selectedType:2,groupList:[]}},methods:{isopen:function(t){var e=t.startDate;e=e.replace(/-/g,"/");var s=new Date(e).getTime(),i=(new Date).getTime();return t.startDate_time=s/1e3,i>s},selectAddressClick:function(){var t;t=2==this.selectedType?"/mall2/addresslist":"/mall2/mypickupaddress",0!=this.$userCenter.checkLogined({path:t},0)&&this.$router.push({path:t})},selectedTypeEvent:function(t){this.$store.state.mall2.staticDeliverType=t,this.$bridgefunc.vuexStorage(),this.selectedType=t,this.backRefresh=!0,this.getGroupList()},getGroupList:function(){var t=this;this.$Loading.open();var e={token:this.$store.state.login.token,groupBuyType:1,deliveryType:2,pickupId:this.$store.state.mall2.zitiAddress.id};this.$http.post("/app/json/app_fight_group_order/queryAll",e).then((function(e){t.$Loading.close();var s=e.data;0==s.status?t.groupList=s.data.orderList:t.$Toast(s.info)}),(function(e){t.$Loading.close(),t.$Toast("获取数据失败")}))},dealItem:function(t){var e=t.leaderPrice+"";t.dpedData=this.$mallCommon.getPriceData(e),t.leaderUserAward&&t.leaderUserAward.length&&(t.good=t.leaderUserAward[0])},kaituan:function(t){this.openGroupDetails(t)},openGroupDetails:function(t){console.log(t);var e=t.good.sku;this.$router.push({path:"/groupproduct",query:{skuId:e.skuId,productType:e.productType,groupId:t.id,mktGroupBuyId:t.mktGroupBuyId,spuId:e.spuId}})},showagreement:function(){this.$request.post("/app/json/news/getNewsList",{values:20}).then((function(t){0==t.status&&i.a.alert({title:t.data[0].title,message:t.data[0].content}).then((function(){}))}))},toMyGroup:function(){this.$router.push({path:"/my_group"})}},computed:{bg:function(){return s("uqFV")}},created:function(){"1"==this.$store.state.globalConfig.delivertype_default?this.deliveryTypes=[{text:"自提",fontclass:"mall-ziti",tag:"1"}]:"2"==this.$store.state.globalConfig.delivertype_default&&(this.deliveryTypes=[{text:"配送",fontclass:"mall-peisong",tag:"2"}]),this.selectedType=this.$store.state.mall2.staticDeliverType,this.getGroupList()}},n=(s("IEU0"),s("KHd+")),o=Object(n.a)(a,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"list"},[i("nav-top",{attrs:{title:"拼团",bgImg:s("k/uJ")},on:{backEvent:function(e){return t.$router.go(-1)}}}),t._v(" "),i("nav-content",[i("div",{staticClass:"scroll-div"},[i("div",{staticClass:"group-top"},[i("img",{attrs:{src:s("GaYg")}}),t._v(" "),i("div",{staticClass:"explains"},[i("div",{staticClass:"item",on:{click:t.toMyGroup}},[t._v("我的拼团")]),t._v(" "),i("div",{staticClass:"item",on:{click:t.showagreement}},[t._v("活动规则")])])]),t._v(" "),i("div",{staticClass:"list-content"},[i("div",{staticClass:"group-list"},t._l(t.groupList,(function(e,s){return i("div",{key:s,staticClass:"group-item",on:{click:function(s){return t.openGroupDetails(e)}}},[t._v("\n              "+t._s(t.dealItem(e))+"\n              "),i("img",{staticClass:"media-object",attrs:{src:e.good.gameAwardPic,alt:""}}),t._v(" "),i("div",{staticClass:"media-content"},[i("div",{staticClass:"name "},[t._v(t._s(e.good.rewardName))]),t._v(" "),i("div",{staticClass:"center"},[i("div",{staticClass:"price"},[i("span",{staticClass:"unit"},[t._v("￥")]),i("span",{staticClass:"main"},[t._v(t._s(e.dpedData.integer)+".")]),i("span",{staticClass:"unit"},[t._v(t._s(e.dpedData.decimals))]),i("span",{staticClass:"num"},[t._v(t._s(e.groupBuyNumOfPerson)+"人团")])]),t._v(" "),t.isopen(e)?i("p",{staticClass:"kaituan",on:{click:function(s){return s.stopPropagation(),t.kaituan(e)}}},[t._v("立即开团")]):i("p",{staticClass:"kaituan"},[t._v("即将开团")])]),t._v(" "),i("div",{staticClass:"message"},[i("p",[t._v("单买价"+t._s(e.good.sku.retailPrice))]),t._v(" "),t.isopen(e)?t._e():i("p",[i("countdown",{staticClass:"count-down",attrs:{endTime:e.startDate_time}})],1)])])])})),0)])])])],1)}),[],!1,null,"715f58d0",null);e.default=o.exports},aul4:function(t,e,s){"use strict";var i=s("ZToj"),a=void 0,n=0,o=function(){n++,a||(a=window.setInterval((function(){var t=parseInt((new Date).getTime()/1e3);i.a.state.severTime.currentTime=t+i.a.state.severTime.jetlag}),1e3))},r=function(){0==--n&&(window.clearInterval(a),a=null)},c={name:"countdown",props:["endTime","type"],components:{},data:function(){return{d:"0",h:"00",m:"00",s:"00"}},methods:{parsingTime:function(){if(this.endTime){var t=this.$store.state.severTime.currentTime,e=this.endTime-t;this.d=0,this.h="0",this.m="0",this.s="0",e>59?(this.s=e%60,(e=parseInt(e/60))>59?(this.m=e%60,(e=parseInt(e/60))>23?(this.h=parseInt(e%24),e=parseInt(e/24),this.d=e):this.h=e):this.m=e):e>=0&&(this.s=e),this.h<10&&(this.h="0"+this.h),this.m<10&&(this.m="0"+this.m),this.s<10&&(this.s="0"+this.s)}}},created:function(){this.parsingTime(),o()},destroyed:function(){r()},watch:{"$store.state.severTime.currentTime":function(){this.parsingTime()}}},u=(s("3htJ"),s("KHd+")),l=Object(u.a)(c,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"countdown"},[0!=t.d?s("div",{staticClass:"red-div theme_font_white",class:[t.type||"theme_bg_red"]},[t._v(t._s(t.d))]):t._e(),t._v(" "),0!=t.d?s("span",[t._v("天")]):t._e(),t._v(" "),s("div",{staticClass:"red-div theme_font_white",class:[t.type||"theme_bg_red"]},[t._v(t._s(t.h))]),t._v("\n  :\n  "),s("div",{staticClass:"red-div theme_font_white",class:[t.type||"theme_bg_red"]},[t._v(t._s(t.m))]),t._v("\n  :\n  "),s("div",{staticClass:"red-div theme_font_white",class:[t.type||"theme_bg_red"]},[t._v(t._s(t.s))])])}),[],!1,null,"551d2f95",null);e.a=l.exports},"k/uJ":function(t,e,s){t.exports=s.p+"static/img/banner1.3ffbbb1.png"},rNY5:function(t,e,s){},uqFV:function(t,e,s){t.exports=s.p+"static/img/group_bg_top.eb5891c.png"},vEIk:function(t,e,s){}}]);