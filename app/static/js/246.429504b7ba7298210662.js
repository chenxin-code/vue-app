(window.webpackJsonp=window.webpackJsonp||[]).push([[246],{"0xSJ":function(t,o,i){"use strict";var e=i("0oIA"),r=i("EyXw"),n=i("FCEd"),s=i("mISK"),a=i("d0T1"),l=i("rQYt"),c=i("5B+z"),p=Object(e.a)("dropdown-item"),d=p[0],u=p[1];o.a=d({mixins:[Object(n.a)({ref:"wrapper"}),Object(s.a)("vanDropdownMenu")],props:{value:null,title:String,disabled:Boolean,titleClass:String,options:{type:Array,default:function(){return[]}},lazyRender:{type:Boolean,default:!0}},data:function(){return{transition:!0,showPopup:!1,showWrapper:!1}},computed:{displayTitle:function(){var t=this;if(this.title)return this.title;var o=this.options.filter((function(o){return o.value===t.value}));return o.length?o[0].text:""}},watch:{showPopup:function(t){this.bindScroll(t)}},beforeCreate:function(){var t=this,o=function(o){return function(){return t.$emit(o)}};this.onOpen=o("open"),this.onClose=o("close"),this.onOpened=o("opened")},methods:{toggle:function(t,o){void 0===t&&(t=!this.showPopup),void 0===o&&(o={}),t!==this.showPopup&&(this.transition=!o.immediate,this.showPopup=t,t&&(this.parent.updateOffset(),this.showWrapper=!0))},bindScroll:function(t){var o=this.parent.scroller;(t?r.b:r.a)(o,"scroll",this.onScroll,!0)},onScroll:function(){this.parent.updateOffset()},onClickWrapper:function(t){this.getContainer&&t.stopPropagation()}},render:function(){var t=this,o=arguments[0],i=this.parent,e=i.zIndex,r=i.offset,n=i.overlay,s=i.duration,p=i.direction,d=i.activeColor,h=i.closeOnClickOverlay,A=this.options.map((function(i){var e=i.value===t.value;return o(a.a,{attrs:{clickable:!0,icon:i.icon,title:i.text},key:i.value,class:u("option",{active:e}),style:{color:e?d:""},on:{click:function(){t.showPopup=!1,i.value!==t.value&&(t.$emit("input",i.value),t.$emit("change",i.value))}}},[e&&o(l.a,{class:u("icon"),attrs:{color:d,name:"success"}})])})),f={zIndex:e};return"down"===p?f.top=r+"px":f.bottom=r+"px",o("div",[o("div",{directives:[{name:"show",value:this.showWrapper}],ref:"wrapper",style:f,class:u([p]),on:{click:this.onClickWrapper}},[o(c.a,{attrs:{overlay:n,position:"down"===p?"top":"bottom",duration:this.transition?s:0,lazyRender:this.lazyRender,overlayStyle:{position:"absolute"},closeOnClickOverlay:h},class:u("content"),on:{open:this.onOpen,close:this.onClose,opened:this.onOpened,closed:function(){t.showWrapper=!1,t.$emit("closed")}},model:{value:t.showPopup,callback:function(o){t.showPopup=o}}},[A,this.slots("default")])])])}})},Aqyi:function(t,o){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAFTElEQVRoQ72ZVahtVRSGvwsidl1fLGyxW+wCG+saqGAn2L7YoIL9YCvYgd2FLSqoqNiY2Cj6YiuYD/LBWJd5115rzbnW3scBG845e9Q/Y4x/jjONycl8wMbA5sAyyccInyefF4CXgF8nEXramE6mA8cAGwDb9vT1JPAKcDnwQ0/bmepDAcwGHB2fZYcGD7vPgCvi829fX0MAbAOcB6zdEOxr4KE4Lt8nK+tOLRzHahdgiQbbN4FTgKf6gOgL4FDg2oYA1wD3Ak8XBt8a2AM4vEH/MOC6Qj/0AXAqcE7NsYn7eaM0YE1vnQBRB3IacG6Jz1IA2wOPJQ5/BA6O41ISJ6fjsboBWChR3AF4PGdYAmCjKHuVLy+dK/dLznnP7+ePnUyLgmX55S4/OQCrAg8Ay4WTL4GleybWV/0LYKkw+hSYAbzX5iQH4OraRVsJ+KhvRj31VwQ+TGy8Y0cMAeAxeT0xPA64rGcyQ9WPBS5NjNdtKxRdO5Cuvq1/k6HZDLR7MaiJ5q270AbAM+hZrGRv4K7CRKxYNrsNgeWBf4B3gI+jqmQrS8TZC7gziend8w7OIm0ADgRuDM0nAJMqkYuB4zOKtwH7ljgLwNuF7kHATaUATF4Qiu39/IKAbrNdtFRyBUQ/Jwdt8WeTF0TRDqSlbBXgg0xWrrqrX4lUQMphGZwrjpPlcJ9Ex0VxcbpkZeD9UGgs4U2rsADwUxhpbC/okjWB5wDtlLOAM1sM0iP2J7A68EnGvz3ARVQWBH5O9ZsAmNBbofQwYJvvkhOAi0LhVWAz4O8OA98BXvIc2MqF7Hbn+GUt4O0cgF2j+6onPzkkA8DV3yJ0tDVgl6S8SsA+hrrk+uBd6ngMH8wBSM/zhcBJmQDfAIuFzgoFRyI9oprlLvMFwInh392+JAcg7YIlAH4H5g6ncwB/ZQCnR7QvgBE20IR+R+CRSKLkCL0GrBf6WwHPZgDI/e3yilXKZld6hHYCHs3tQFq6Si6xz0vrtVICWH4lz1J80LvjXZJe4pGS3rQDHoM/wuO7wBqZAKsB6lUi4XOrm8TvnGJUsikg5+kSaYjlVpkTsPzOlLYL5Lhj/dByi93qLrHun5EoSD88SrfGK0te5AvOx1El8py0sTX59x1S9YnGitUGIE3ILXarc3I3sGdOKb63F1Qcp8vE3aoofGODbAPgkMpVVGSPvk9LRAqR6xuNnKbFue/wikgKWOCzSBsAx4S+ihYN7ZHb34FG8PtF4OqRLiXxCNxeUKUq12k1/BbwNTgyjuxqIukxsqxW7bxkJyahYwV04ZRWftUFYJF4Ula74Pl2ePV/iEOveyKQq++T8rumwLk2nu7Cb1G/c+xxXIBWPQdl8+ZW3+9zAGYPqlyVv6+Skce4ibbZy/uXjC+dCW3ZxW5zAPSzeFzoecLpM4CzzakQZ6vSEUWO5cWVLLZKCQCNnUSn888SitEXYEoZtJVuOLHulFIAOpHzy/0rKemkufjV93cATj4q8dg8X2LcB0ATCB8bjtzHkXrzK07eoH0BNIEoYZRtAOvkrlfyQwE0gSiZMNRBpDTc73onPw4AbX2Yp9zEnmHHLBGZazq5kH70+tdSFWTIEUoTTPmKfy8BUU++D88aWZxxAehwN+C+xHMXiHryuwP3l2xZm84kAOjbEmgprKQJRD15HzPp8HYQjkkBMPj+wM0tIOrJHwDcMijjmtEkAei6/m/Y6lKnz81e/0bNgZw0AOMdCVzZEvgo4KpcUn2+nwoAxq9Pq/3byFStT6JTfYmb/DsOdCyoOJ50yjdxmaodqBI9PX44e+KZh8P/AI1bAEBefBFIAAAAAElFTkSuQmCC"},CdMl:function(t,o,i){"use strict";i("aO+S"),i("rshv")},KGo4:function(t,o,i){"use strict";i.r(o),i("Ya7C");var e,r=i("0xSJ"),n=(i("CdMl"),i("LW2U")),s=Object.assign||function(t){for(var o=1;o<arguments.length;o++){var i=arguments[o];for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])}return t};function a(t,o,i){return o in t?Object.defineProperty(t,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[o]=i,t}var l={name:"selectStore",components:(e={CheckPaidMember:function(){return i.e(11).then(i.bind(null,"b4vV"))}},a(e,n.a.name,n.a),a(e,r.a.name,r.a),e),data:function(){return{storeList:[],shopType:1,isLoading:!0,finished:!1,isShowAirportModal:!1,airportSelection:{airportName:"请选择机场"},airpostList:{},locationAirport:{airportName:"暂时无法定位到您的位置"},tempSaveAirport:null,selectAirportFloor:{text:"航站楼"},airportFloor:[{text:"全部",value:-1}],pageInfo:{page:0,rows:10},tabType:1}},mounted:function(){this.getAirportList()},methods:{getAirportList:function(){var t=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.$STLoading.open(),this.$http.post("/app/json/app_airport_manage/queryAirportInfoHasLetter",{areaType:o}).then((function(o){var i=o.data;if(t.$STLoading.close(),0==i.status){if(i.data instanceof Array&&0!=i.data.length)if(i.data.forEach((function(o){t.airpostList[o.letter]=o.airportInfoList})),t.$route.query.airportId&&t.$route.query.airportLetter){for(var e in t.airpostList)e==t.$route.query.airportLetter&&(t.airportSelection=t.airpostList[e].find((function(o){return o.id==t.$route.query.airportId})));t.loadMore(),t.getLocationAirport(!0)}else t.getLocationAirport()}else t.$Toast(i.info)})).catch((function(o){t.$Toast("queryAirportInfoHasLetter err "+o),t.$STLoading.close()}))},getLocationAirport:function(t){var o=this;this.$Loading.open(),this.$http.post("/app/json/app_airport_manage/queryAirportInfoClosest",{areaType:this.tabType}).then((function(i){o.$Loading.close();var e=i.data;0==e.status?e.data&&(o.locationAirport=e.data,JSON.parse(e.data.terminalJson).forEach((function(t){o.airportFloor.push({text:t.terminalName,value:t.id})})),t||(o.airportSelection=e.data||{},o.loadMore())):o.$Toast(e.info)})).catch((function(t){o.$Loading.close(),o.$Toast("queryAirportInfoClosest err "+t)}))},selectAirport:function(t){var o=this;this.airportSelection=t,this.selectAirportFloor={text:"航站楼"},this.airportFloor=[{text:"全部",value:-1}],JSON.parse(t.terminalJson).forEach((function(t){o.airportFloor.push({text:t.terminalName,value:t.id})})),this.isShowAirportModal=!1,this.pageInfo={page:0,rows:10},this.storeList=[],this.isLoading=!0,this.finished=!1,this.loadMore()},changeAirportFloor:function(t){var o=this.airportFloor.find((function(o){return o.value==t}));this.selectAirportFloor=o,this.pageInfo={page:0,rows:10},this.storeList=[],this.isLoading=!0,this.finished=!1,this.loadMore()},choseLocationAirport:function(){var t=this;this.airportSelection=this.locationAirport,this.selectAirportFloor={text:"航站楼"},this.airportFloor=[{text:"全部",value:-1}],JSON.parse(this.locationAirport.terminalJson).forEach((function(o){t.airportFloor.push({text:o.terminalName,value:o.id})})),this.isShowAirportModal=!1,this.pageInfo={page:0,rows:10},this.storeList=[],this.isLoading=!0,this.finished=!1,this.loadMore()},changeArea:function(t,o){this.tabType=t,this.airpostList={},this.getLocationAirport(!0),this.getAirportList(t)},failHandler:function(){this.$router.go(-1)},goToMap:function(t){this.$bridgefunc.baiduNav({startlong:this.$store.state.currentLocation.posx,startlat:this.$store.state.currentLocation.posy,endlong:t.posx,endlat:t.posy,type:"nav"})},loadMore:function(){var t=this;this.isLoading=!0,this.pageInfo.page++,this.$Loading.open(),this.$http.post("/app/json/equity_card/queryStore",s({id:this.$route.query.equityId,shopType:this.shopType,airportCode:this.airportSelection.id,terminalCode:-1==this.selectAirportFloor.value?"":this.selectAirportFloor.value},this.pageInfo)).then((function(o){t.isLoading=!1;var i,e=o.data;0==e.status?e.data instanceof Array?((i=t.storeList).push.apply(i,function(t){if(Array.isArray(t)){for(var o=0,i=Array(t.length);o<t.length;o++)i[o]=t[o];return i}return Array.from(t)}(e.data)),t.storeList.length>=e.totalRecords&&(t.finished=!0)):t.finished=!0:(t.$Toast(e.info),t.finished=!0),t.$Loading.close()})).catch((function(o){t.finished=!0,t.$Toast(o),t.$Loading.close()}))},storeDetail:function(t){this.$router.push({path:"/benefits/storeDetail",query:{id:t.id}})},useBenefits:function(t){var o=this;this.$Loading.open();var i={equityMemberId:this.$route.query.id,mchCode:t.mchCode};this.$http.post("/app/json/app_equity_card/equityCodeInfo",i).then((function(i){o.$Loading.close();var e=i.data;0==e.status?o.useCode(i.data.data,t.mchCode):o.$Toast(e.info)})).catch((function(t){o.$Loading.close(),o.$Toast(t)}))},useCode:function(t,o){this.$router.push({path:"/benefits/benefitsCode",query:{item:JSON.stringify(t),mchCode:o}})}}},c=(i("mepU"),i("KHd+")),p=Object(c.a)(l,(function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",[e("nav-top",{on:{backEvent:function(o){return t.$router.go(-1)}}}),t._v(" "),e("nav-content",{staticClass:"store"},[e("van-dropdown-menu",{staticClass:"reset-dropdown",attrs:{"active-color":"#C9A063"}},[e("div",{staticClass:"airport-chose",on:{"!click":function(o){t.isShowAirportModal=!0}}},[e("span",{staticClass:"text"},[t._v(t._s(t.airportSelection.airportName))])]),t._v(" "),e("van-dropdown-item",{attrs:{title:t.selectAirportFloor.text,options:t.airportFloor},on:{change:t.changeAirportFloor}})],1),t._v(" "),e("ul",{staticClass:"stores-c"},[e("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了",offset:200},on:{load:t.loadMore},model:{value:t.isLoading,callback:function(o){t.isLoading=o},expression:"isLoading"}},t._l(t.storeList,(function(o,r){return e("li",{key:r,staticClass:"item"},[e("div",{staticClass:"top"},[e("div",{staticClass:"left"},[e("img",{staticClass:"prod-img",attrs:{src:o.storePictureUrl,alt:""}})]),t._v(" "),e("div",{staticClass:"center"},[e("p",{staticClass:"prod-name"},[t._v(t._s(o.storeName))]),t._v(" "),e("p",{staticClass:"business-hours"},[t._v("时间："+t._s(o.openingTime.slice(0,5)+"-"+o.closingTime.slice(0,5)))]),t._v(" "),e("p",{staticClass:"prod-address"},[t._v(t._s(o.addressFull))])]),t._v(" "),e("div",{staticClass:"right",on:{click:function(i){return t.goToMap(o)}}},[e("img",{staticClass:"icon-nav",attrs:{src:i("xD49"),alt:""}}),t._v(" "),e("span",{staticClass:"prod-distance"},[t._v(t._s(t.$util.toDecimal2(o.distance/1e3))+"km")])])]),t._v(" "),e("div",{staticClass:"line"}),t._v(" "),e("div",{staticClass:"bottom"},[e("van-button",{staticClass:"use",attrs:{round:"",plain:"",color:"#F02C2D",type:"info"},on:{click:function(i){return t.useBenefits(o)}}},[t._v("使用权益")])],1)])})),0)],1)],1),t._v(" "),e("van-popup",{staticClass:"airport-modal",attrs:{position:"right"},model:{value:t.isShowAirportModal,callback:function(o){t.isShowAirportModal=o},expression:"isShowAirportModal"}},[e("van-tabs",{staticClass:"reset-tabs",attrs:{color:"#C9A063","title-active-color":"#C9A063",border:!1},on:{change:t.changeArea}},[e("van-tab",{attrs:{name:1,title:"境内"}}),t._v(" "),e("van-tab",{attrs:{name:2,title:"境外/港澳台"}})],1),t._v(" "),e("div",{staticClass:"local-airport",on:{click:t.choseLocationAirport}},[e("img",{staticClass:"icon-location",attrs:{src:i("Aqyi"),alt:""}}),t._v(" "),e("span",{staticClass:"text"},[t._v(t._s(t.locationAirport.airportName)),e("i",{staticClass:"tip"},[t._v("(距您定位最近)")])])]),t._v(" "),e("div",{staticClass:"index-bar-container"},["{}"!==JSON.stringify(t.airpostList)?e("van-index-bar",t._l(t.airpostList,(function(o,i){return e("div",{key:i},[e("van-index-anchor",{attrs:{index:i}}),t._v(" "),t._l(o,(function(o,i){return e("van-cell",{key:i,attrs:{title:o.airportName},on:{click:function(i){return t.selectAirport(o)}}})}))],2)})),0):e("p",{staticClass:"no-result-message"},[t._v("暂无数据~")])],1)],1),t._v(" "),e("CheckPaidMember",{on:{failHandler:t.failHandler}})],1)}),[],!1,null,"4647da92",null);o.default=p.exports},KKqV:function(t,o,i){},LW2U:function(t,o,i){"use strict";var e=i("0oIA"),r=i("oUJm"),n=i("qMEG"),s=i("mISK"),a=i("siKa"),l=Object(e.a)("dropdown-menu"),c=l[0],p=l[1];o.a=c({mixins:[Object(s.b)("vanDropdownMenu"),Object(a.a)({event:"click",method:"onClickOutside"})],props:{zIndex:[Number,String],activeColor:String,overlay:{type:Boolean,default:!0},duration:{type:[Number,String],default:.2},direction:{type:String,default:"down"},closeOnClickOverlay:{type:Boolean,default:!0}},data:function(){return{offset:0}},computed:{scroller:function(){return Object(n.d)(this.$el)},opened:function(){return this.children.some((function(t){return t.showWrapper}))},barStyle:function(){if(this.opened&&Object(r.c)(this.zIndex))return{zIndex:1+this.zIndex}}},methods:{updateOffset:function(){if(this.$refs.bar){var t=this.$refs.bar.getBoundingClientRect();"down"===this.direction?this.offset=t.bottom:this.offset=window.innerHeight-t.top}},toggleItem:function(t){this.children.forEach((function(o,i){i===t?o.toggle():o.showPopup&&o.toggle(!1,{immediate:!0})}))},onClickOutside:function(){this.children.forEach((function(t){t.toggle(!1)}))}},render:function(){var t=this,o=arguments[0],i=this.children.map((function(i,e){return o("div",{attrs:{role:"button",tabindex:i.disabled?-1:0},class:p("item",{disabled:i.disabled}),on:{click:function(){i.disabled||t.toggleItem(e)}}},[o("span",{class:[p("title",{active:i.showPopup,down:i.showPopup===("down"===t.direction)}),i.titleClass],style:{color:i.showPopup?t.activeColor:""}},[o("div",{class:"van-ellipsis"},[i.slots("title")||i.displayTitle])])])}));return o("div",{class:p()},[o("div",{ref:"bar",style:this.barStyle,class:p("bar",{opened:this.opened})},[i]),this.slots("default")])}})},Ya7C:function(t,o,i){"use strict";i("aO+S"),i("pxog"),i("nXDD"),i("N0PS"),i("GgQP"),i("TXUN"),i("sswI")},mepU:function(t,o,i){"use strict";var e=i("KKqV");i.n(e).a},xD49:function(t,o){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAAH7+Yj7AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAKKADAAQAAAABAAAAKAAAAAB65masAAAE40lEQVRYCcWYTWhcVRTHM180doLk06Qk6hAiEVETjBUsWgeq+IEoCLH4QY0LLbpIIwpVd65E3Oha0YXFheJGqd3ECIJFwaLEdCGCUppFJ9+0Tprv8XeGOS937rvvYzoTfTCce8/5n/8599zz7ntvmpocV8LUtba2lmSe6OzszG9tbX1vGr2xoBTpKWXgVIphZGQk4wUCtSzgRCLxTcJ2WVlZ8YBlPhsQHEQCmVd7e/vr4i2/XU4QPsqKl8ROyTiXyzUjNiv6KlGVoGmB9bCG6+3t7VBbmVEnItfW1i40Nzc3sf6Zubm5r0xb5JgIP1ctxvYwFjfuA/b09OQI/7fpJAtKqqKtre2UMNgg7EuC8e2XOqrU8iQrg6pQCjJlOTTgfnHgOmUalU10vsUYK20ygd5iDKaxyvhJQ+cemqyK8IVWQ1zZ1dU1vLm5+RP4feJTE2GpVErQy6eRj7oClgvnMqiuo6NjbHt7+1Odh0ktZFpB0sqrq6u/Eb1PdZDpMFQmk8mbFJCmBj0cKX8Ui8XrVVmjPLa0tHRRfZw1pH9/INP7FRQkabTPlpeXj5l2J6EJcLWG2CGbhexGE1vW2wrX3EWqm2DjIzNUB5M0iEyxsaVJGuQUO8MgAtWzkc9R17G6Ccn6E0hfFGL68ZFrIuSB0Eodf4UjJ0R6SW29O0WVYZL7+OGdnZ0zAZvygfjGypD6vE+jvxEWTIMEZjgwMLBvYWFBjqVhyMK4pMnPK8CXISfMQQ6FHwFkFBQlW1pa9s/Ozl4VnEfIst4kk3ejnB32LZbrBU+z7ZOAjkQty0FUVrHcvGlLojhnKmodc0BIebwrieKk7BDXq5425oBGfseGejVUA7V8jOWf1nmY1FYxMb7nKBl/K0Ci324C7TErOmvrZO4jVBDH+nmchnRuy6GhoQdsncx9S7ZBriOLQFdZyX4bK/PADA2w6xXiHsNeNYzMUNB2lq7NUNY4GQp2wnNIJl/TcV1SsrQzdREGnjY2mDb6kP68xdbb81g1tJ32Ys7bcxcvxsfljiXxAxKD8df/S4Kjo6OpqampJ3ianCAZ5/1Bfn/S6oP/SYJ8Mg7yDBgn6AsklJXqhF1U7nIqlerjAXQlds+EEZq27u7u7MbGhrzfjZPMrWLj5dOERI13MpnMXXyfXRFg3RXkzjkMzwl+coD4PgrR1XRRuQcXFxe/U6eaKshWHaBvXuF3HIIblKRRkjv7ZTM54Q1MMJ/Pp6enp59im6SRDwm4xq0Sl9gXffceD5yPbAdvi3luyuNNGvl5ErrOBu7lnOS+5I592hUjQWK/k1Dos9fl2EDdOZ5NdwfxySvNHfLw4pJ/d94GWAgC74G+wLdquX2CuL0ttgFymE5OTh5Ff5IK32nbGzDf4Di5eX5+/lIYV2CCLie+JQ6RrLwvP469Jl+bL51OH+Qg/sXW2/O6gtC/n5PsMzZp1Jzj5Ch37BdROLHHfT9yctG/z9K3Z5zGACX4t+ImJxR1VVBzoJJnqeS9Og+RH3NDvhRi95kakiDJyX9WM8jbfBF2FVMkd2R3Gm9U1xZrCLat1N/fP4z0/lFSW0X+NTEx8ZClizVtSAU1krzJrK+vX2Du/aVM0v/w66XvLiuuFtmQCmrAQqFQzGazgyRUrOhKvJ2MXGtyyttwST/2cePM8LuvXvJ/ATbQs32MVWgTAAAAAElFTkSuQmCC"}}]);