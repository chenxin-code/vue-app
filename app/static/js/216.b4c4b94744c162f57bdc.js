(window.webpackJsonp=window.webpackJsonp||[]).push([[216,52],{AbvJ:function(t,e,i){},L1dq:function(t,e,i){"use strict";var s=i("gF63");i.n(s).a},PYMX:function(t,e){t.exports="data:image/png;base64,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"},Wr4Z:function(t,e,i){"use strict";var s=i("AbvJ");i.n(s).a},afTz:function(t,e,i){"use strict";i.r(e);var s=i("nV03"),l={name:"countdown",props:["endTime","type","hiddenDay","callback"],components:{},data:function(){return{d:"0",h:"00",m:"00",s:"00",trigger:!0}},methods:{parsingTime:function(){var t=this;if(this.endTime){var e=this.$store.state.severTime.currentTime,i=this.endTime-e;this.d=0,this.h="0",this.m="0",this.s="0",i<0?this.trigger&&(this.trigger=!1,setTimeout((function(){t.$emit("timeOut")}),1e3)):(this.trigger=!0,i>59?(this.s=i%60,(i=parseInt(i/60))>59?(this.m=i%60,(i=parseInt(i/60))>23?(this.h=parseInt(i%24),i=parseInt(i/24),this.d=i):this.h=i):this.m=i):i>=0&&(this.s=i),this.h<10&&(this.h="0"+this.h),this.m<10&&(this.m="0"+this.m),this.s<10&&(this.s="0"+this.s))}}},created:function(){this.parsingTime(),s.a.heartbeat()},destroyed:function(){s.a.removeHeartbeat()},watch:{"$store.state.severTime.currentTime":function(){this.parsingTime()}}},a=(i("Wr4Z"),i("KHd+")),n=Object(a.a)(l,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"countdown",class:{quan:"theme_bg_quan"==t.type}},[0==t.d||t.hiddenDay?t._e():i("div",{staticClass:"red-div theme_font_white",class:[t.type||"theme_bg_red"]},[t._v(t._s(t.d))]),t._v(" "),0==t.d||t.hiddenDay?t._e():i("span",[t._v("天")]),t._v(" "),i("div",{staticClass:"red-div theme_font_white",class:[t.type||"theme_bg_red"]},[t._v(t._s(t.h))]),t._v("\n  :\n  "),i("div",{staticClass:"red-div theme_font_white",class:[t.type||"theme_bg_red"]},[t._v(t._s(t.m))]),t._v("\n  :\n  "),i("div",{staticClass:"red-div theme_font_white",class:[t.type||"theme_bg_red"]},[t._v(t._s(t.s))])])}),[],!1,null,"403fc346",null);e.default=n.exports},gF63:function(t,e,i){},nV03:function(t,e,i){"use strict";var s=i("ZToj"),l=void 0,a=0,n={heartbeat:function(){a++,l||(l=window.setInterval((function(){var t=parseInt((new Date).getTime()/1e3);s.a.state.severTime.currentTime=t+s.a.state.severTime.jetlag}),1e3))},removeHeartbeat:function(){a>0&&a--,0==a&&(window.clearInterval(l),l=null)}};e.a=n},zIs3:function(t,e,i){"use strict";i.r(e);var s=i("0FX9"),l=i.n(s),a=(i("ygAv"),{data:function(){return{dialogShow:!1,billItem:{},stateInfo:"",activity_type:"",brightnessResult:{},activityTypeList:{1:"撞单",2:"约单",3:"抢单",4:"竞价",5:"限价抢单"}}},mounted:function(){this.billItem=JSON.parse(this.$route.query.billItem),console.log(this.billItem),this.dealWith()},computed:{},methods:{calculatePrice:function(){var t=(1==this.billItem.adjustPriceCheckState?this.billItem.adjustPrice:this.billItem.basePrice)*this.billItem.tonnes-this.billItem.price*this.billItem.tonnes;return t>0?t.toFixed(2):0},dealNum:function(){return((1==this.billItem.adjustPriceCheckState?this.billItem.adjustPrice:this.billItem.basePrice)*this.billItem.tonnes).toFixed(2)},dealWith:function(){var t=this;1==this.billItem.state?this.stateInfo="等待确认!":2==this.billItem.state?(this.stateInfo="等待提货!",this.$nextTick((function(){l.a.toCanvas(document.getElementById("qrcode"),t.billItem.id.toString())}))):3==this.billItem.state?this.stateInfo="订单已完成!":4==this.billItem.state&&(this.stateInfo="订单已取消!")},countDownHandle:function(){this.dialogShow=!0}},components:{Countdown:i("afTz").default},destroyed:function(){this.$bridgefunc.brightness(this.brightnessResult.value,this.brightnessResult.isauto,(function(t){}))},created:function(){var t=this;this.$bridgefunc.brightness(1,0,(function(e){t.brightnessResult=e}))}}),n=(i("L1dq"),i("KHd+")),c=Object(n.a)(a,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"buy-oil-order-details"},[s("nav-top",{attrs:{title:"订单详情"},on:{backEvent:function(e){return t.$router.go(-1)}}}),t._v(" "),s("nav-content",{staticClass:"buy-oil-order-content"},[s("div",{staticClass:"order-status theme_bg_blue_i"},[s("div",{staticClass:"title"},[t._v(t._s(t.stateInfo))]),t._v(" "),2==t.billItem.state?s("div",{staticClass:"time"},[t._v("\n                提货剩余时间:\n                "),s("div",{staticClass:"count-down"},[s("countdown",{staticClass:"count-down-con",attrs:{hiddenDay:!0,endTime:t.billItem.countdown?new Date(t.billItem.countdown.replace(/-/g,"/")).getTime()/1e3:"",type:"theme_bg_blue"}})],1)]):t._e()]),t._v(" "),s("div",{staticClass:"oil-order-details"},[s("div",{staticClass:"user-info"},[s("div",{staticClass:"name"},[s("div",{staticClass:"left"},[t._v(t._s(t.billItem.consignee))]),t._v(" "),s("div",{staticClass:"right"},[t._v(t._s(t.billItem.consigneePhone))])]),t._v(" "),2==t.billItem.deliveryType?s("div",{staticClass:"name"},[t._v("\n                    "+t._s(t.billItem.addressInfo?JSON.parse(t.billItem.addressInfo).regionText:"")+"\n                ")]):s("div",{staticClass:"name"},[s("div",{staticClass:"left"},[t._v("自提油库")]),t._v(" "),s("div",{staticClass:"right"},[t._v(t._s(t.billItem.pickUpOilDepotName))])])]),t._v(" "),2==t.billItem.state?s("div",{staticClass:"user-info"},[s("div",{staticClass:"qr-cord"},[s("div",{staticClass:"left"},[t._v("我的提油码")]),t._v(" "),s("div",{staticClass:"right"},[s("canvas",{staticClass:"qrcode",attrs:{id:"qrcode"}})]),t._v(" "),s("div",{staticClass:"qr-code-num"},[t._v(t._s(t.billItem.id.toString()))])])]):t._e(),t._v(" "),s("div",{staticClass:"oil-sale-container"},[s("div",{staticClass:"buy-bill"},[s("div",{staticClass:"table-view"},[s("div",{staticClass:"table-view-cell"},[s("div",{staticClass:"table-view-cell-text"},[s("div",{staticClass:"bill-item"},[s("div",{staticClass:"img-wrapper"},[s("img",{staticClass:"img",attrs:{src:i("PYMX"),alt:""}})]),t._v(" "),s("div",{staticClass:"center-text"},[s("div",{staticClass:"title"},[t._v("\n                                            "+t._s(t.billItem.matertialName)+"\n                                            "),s("div",{staticClass:"tips-btn"},[t._v(t._s(t.activityTypeList[t.billItem.activityType]))])]),t._v(" "),s("div",{staticClass:"tips info"},[t._v("\n                                            ￥\n                                            "),s("span",{staticClass:"now-price"},[t._v(t._s(1==t.billItem.adjustPriceCheckState?t.billItem.adjustPrice:t.billItem.price))]),t._v("/t\n                                            "),5==t.billItem.activityType?s("van-icon",{attrs:{name:"info-o"},on:{click:t.countDownHandle}}):t._e()],1)])])])]),t._v(" "),s("div",{staticClass:"table-view-cell"},[s("div",{staticClass:"table-view-cell-text"},[s("ul",{staticClass:"details-list"},[s("li",{staticClass:"details-item"},[s("div",{staticClass:"left"},[t._v("订单编号")]),t._v(" "),s("div",{staticClass:"right"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.billItem.id,expression:"billItem.id"}],attrs:{type:"text",disabled:""},domProps:{value:t.billItem.id},on:{input:function(e){e.target.composing||t.$set(t.billItem,"id",e.target.value)}}})])]),t._v(" "),s("li",{staticClass:"details-item"},[s("div",{staticClass:"left"},[t._v("下单时间")]),t._v(" "),s("div",{staticClass:"right"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.billItem.submitTime,expression:"billItem.submitTime"}],attrs:{type:"text",disabled:""},domProps:{value:t.billItem.submitTime},on:{input:function(e){e.target.composing||t.$set(t.billItem,"submitTime",e.target.value)}}})])])])])]),t._v(" "),s("div",{staticClass:"table-view-cell"},[s("div",{staticClass:"table-view-cell-text"},[s("ul",{staticClass:"details-list"},[s("li",{staticClass:"details-item"},[s("div",{staticClass:"left"},[t._v("业务类型")]),t._v(" "),s("div",{staticClass:"right"},[s("input",{directives:[{name:"model",rawName:"v-model",value:""==t.billItem.bizType||0==t.billItem.bizType?"普通购油":"预约提油",expression:"billItem.bizType == '' || billItem.bizType == 0 ? '普通购油' : '预约提油'"}],attrs:{type:"text",disabled:""},domProps:{value:""==t.billItem.bizType||0==t.billItem.bizType?"普通购油":"预约提油"},on:{input:function(e){e.target.composing||t.$set(""==t.billItem.bizType||t.billItem,"bizType == 0 ? '普通购油' : '预约提油'",e.target.value)}}})])]),t._v(" "),1==t.billItem.bizType?s("li",{staticClass:"details-item"},[s("div",{staticClass:"left"},[t._v("提油卡号")]),t._v(" "),s("div",{staticClass:"right"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.billItem.oilCardNo,expression:"billItem.oilCardNo"}],attrs:{type:"text",disabled:""},domProps:{value:t.billItem.oilCardNo},on:{input:function(e){e.target.composing||t.$set(t.billItem,"oilCardNo",e.target.value)}}})])]):t._e(),t._v(" "),1==t.billItem.bizType?s("li",{staticClass:"details-item"},[s("div",{staticClass:"left"},[t._v("预约时间")]),t._v(" "),s("div",{staticClass:"right"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.billItem.submitTime,expression:"billItem.submitTime"}],attrs:{type:"text",disabled:""},domProps:{value:t.billItem.submitTime},on:{input:function(e){e.target.composing||t.$set(t.billItem,"submitTime",e.target.value)}}})])]):t._e(),t._v(" "),1!=t.billItem.bizType?s("li",{staticClass:"details-item"},[s("div",{staticClass:"left"},[t._v("购油数量")]),t._v(" "),s("div",{staticClass:"right"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.billItem.tonnes+"t",expression:"billItem.tonnes+'t'"}],attrs:{type:"text",disabled:""},domProps:{value:t.billItem.tonnes+"t"},on:{input:function(e){e.target.composing||t.$set(t.billItem,"tonnes+'t'",e.target.value)}}})])]):t._e(),t._v(" "),2==t.billItem.state||3==t.billItem.state?s("li",{staticClass:"details-item"},[s("div",{staticClass:"left"},[t._v("确认时间")]),t._v(" "),s("div",{staticClass:"right"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.billItem.confirmTime,expression:"billItem.confirmTime"}],attrs:{type:"text",disabled:""},domProps:{value:t.billItem.confirmTime},on:{input:function(e){e.target.composing||t.$set(t.billItem,"confirmTime",e.target.value)}}})])]):t._e(),t._v(" "),1==t.billItem.bizType&&3==t.billItem.state&&1==t.billItem.deliveryType?s("li",{staticClass:"details-item"},[s("div",{staticClass:"left"},[t._v("提货时间")]),t._v(" "),s("div",{staticClass:"right"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.billItem.pickUpTime,expression:"billItem.pickUpTime"}],attrs:{type:"text",disabled:""},domProps:{value:t.billItem.pickUpTime},on:{input:function(e){e.target.composing||t.$set(t.billItem,"pickUpTime",e.target.value)}}})])]):t._e(),t._v(" "),1==t.billItem.bizType&&3==t.billItem.state&&2==t.billItem.deliveryType?s("li",{staticClass:"details-item"},[s("div",{staticClass:"left"},[t._v("完成时间")]),t._v(" "),s("div",{staticClass:"right"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.billItem.pickUpTime,expression:"billItem.pickUpTime"}],attrs:{type:"text",disabled:""},domProps:{value:t.billItem.pickUpTime},on:{input:function(e){e.target.composing||t.$set(t.billItem,"pickUpTime",e.target.value)}}})])]):t._e(),t._v(" "),1!=t.billItem.bizType&&3==t.billItem.state||1==t.billItem.bizType&&3==t.billItem.state&&2==t.billItem.deliveryType?s("li",{staticClass:"details-item"},[s("div",{staticClass:"left"},[t._v("完成时间")]),t._v(" "),s("div",{staticClass:"right"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.billItem.pickUpTime,expression:"billItem.pickUpTime"}],attrs:{type:"text",disabled:""},domProps:{value:t.billItem.pickUpTime},on:{input:function(e){e.target.composing||t.$set(t.billItem,"pickUpTime",e.target.value)}}})])]):t._e(),t._v(" "),s("li",{staticClass:"details-item"},[s("div",{staticClass:"left"},[t._v("经办人手机号")]),t._v(" "),s("div",{staticClass:"right"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.billItem.userPhone,expression:"billItem.userPhone"}],attrs:{type:"text",disabled:"",placeholder:"请输入联系方式"},domProps:{value:t.billItem.userPhone},on:{input:function(e){e.target.composing||t.$set(t.billItem,"userPhone",e.target.value)}}})])]),t._v(" "),1!=t.billItem.state?s("li",{staticClass:"details-item"},[s("div",{staticClass:"left"},[t._v("配送费用")]),t._v(" "),s("div",{staticClass:"right"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.billItem.freightAmount,expression:"billItem.freightAmount"}],attrs:{type:"text",disabled:""},domProps:{value:t.billItem.freightAmount},on:{input:function(e){e.target.composing||t.$set(t.billItem,"freightAmount",e.target.value)}}})])]):t._e()])])]),t._v(" "),1!=t.billItem.bizType?s("div",{staticClass:"table-view-cell"},[s("div",{staticClass:"table-view-cell-text"},[s("ul",{staticClass:"buy-bill-money-list"},[s("li",{staticClass:"buy-bill-money-item"},[s("div",{staticClass:"money"},[s("div",{staticClass:"left"},[t._v("油品总金额")]),t._v(" "),s("div",{staticClass:"right"},[t._v("\n                                                ￥\n                                                "),s("span",{staticClass:"num"},[t._v(t._s(t.billItem.amount))])])]),t._v(" "),s("div",{staticClass:"money"},[s("div",{staticClass:"left"},[t._v("活动优惠")]),t._v(" "),s("div",{staticClass:"right special"},[t._v("\n                                                ￥"),s("span",{staticClass:"num"},[t._v(t._s(t.billItem.couAmount))])])]),t._v(" "),s("div",{staticClass:"money"},[s("div",{staticClass:"left"},[t._v("实际需支付")]),t._v(" "),s("div",{staticClass:"right special"},[t._v("\n                                                ￥\n                                                "),s("span",{staticClass:"num"},[t._v(t._s(t.billItem.payAmount))])])])])])])]):t._e()])])])]),t._v(" "),2==t.billItem.activityType?s("div",{staticClass:"now-buy-bill-btn"},[s("div",{staticClass:"btn"},[t._v("取消订单")])]):t._e(),t._v(" "),s("van-dialog",{attrs:{title:t.activityTypeList[t.billItem.activityType]+"价格说明"},model:{value:t.dialogShow,callback:function(e){t.dialogShow=e},expression:"dialogShow"}},[s("div",{staticClass:"order-content"},[s("div",{staticClass:"title"},[t._v("订单信息:")]),t._v(" "),t._l(t.billItem.grabDetail?JSON.parse(t.billItem.grabDetail):[],(function(e,i){return s("div",{key:i,staticClass:"orderPrice-List"},[s("div",{staticClass:"price-item borderB"},[s("div",[s("p",{staticClass:"left"},[t._v("油品单价"+t._s(i)+": ")]),t._v(" "),s("p",{staticClass:"right"},[t._v(t._s(e.price)+"元/吨")])]),t._v(" "),s("div",[s("p",{staticClass:"left"},[t._v("油品数量: ")]),t._v(" "),s("p",{staticClass:"right"},[t._v(t._s(e.tonnes)+"吨")])])])])})),t._v(" "),s("div",{staticClass:"average-price"},[s("p",[t._v("平均价: "+t._s(t.billItem.price)+"元/吨")])])],2)])],1)],1)}),[],!1,null,"038c6208",null);e.default=c.exports}}]);