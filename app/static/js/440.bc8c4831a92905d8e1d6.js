(window.webpackJsonp=window.webpackJsonp||[]).push([[440],{"9rVp":function(t,e,r){},Dpzq:function(t,e,r){"use strict";var n=r("L2JU"),i=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,i=!1,s=void 0;try{for(var a,u=t[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){i=!0,s=t}finally{try{!n&&u.return&&u.return()}finally{if(i)throw s}}return r}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};e.a={data:function(){return{stepsValue:{IDcard:"身份证",DriverCard:"驾驶证",DrivingCard:"行驶证"},Verification:{name:"姓名",imgFront:"身份证正面",imgBehind:"身份证背面",selfImageUrl:"手持身份证",idcardNum:"身份证号",sex:"性别",imageUrl:"驾驶证首页",imageUrl2:"驾驶证副页",backImageUrl:"驾驶证背面",driveCode:"证号",driveDocNo:"档案编号",licenceCore:"驾驶证背面编号",imageUrl3:"行驶证首页",plateNum:"车牌号",ownerName:"所有人姓名",vin:"车辆识别代号",engineNum:"发动机号",vehType:"车辆类型"},groupClassify:"/app/json/user/getClusterCategoryList",industryClusterUrl:"/app/json/user/industryCluster",checkIdentifyAllDetail:"/app/json/user/checkIdentifyAllDetail",identifySubmmitUrl:"/app/json/user/identifySubmmit",driverInfoSubmmitUrl:"/app/json/user/driverInfoSubmmit",bindVehicleUrl:"/app/json/user/bindVehicle",submmitIndustryUrl:"/app/json/user/submmitIndustry",findIdentifyClusterInfoUrl:"/app/json/user/findIdentifyClusterInfo",openOrCloseIndustryUrl:"/app/json/user/openOrCloseIndustry",checkBindOilCardUrl:"/app/json/user/isOnceBind"}},computed:s({},Object(n.c)(["userInfo"])),components:{},created:function(){},methods:{regIdNo:function(t){return/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/.test(t)},plateNumber:function(t){return/(^[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领A-Z]{1}[A-Z]{1}[A-Z0-9]{4}[A-Z0-9挂学警港澳]{1}$)/.test(t)},newEnergy:function(t){return/(^[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领A-Z]{1}[A-Z]{1}(([0-9]{5}[DF])|([DF][A-HJ-NP-Z0-9][0-9]{4}))$)/.test(t)},chinese:function(t){return/^[\u4e00-\u9fa5]+$/.test(t)},englishNumbers:function(t){return/^[a-zA-Z0-9]{17}$/.test(t)},numbers:function(t){return/^[0-9]{12}$/.test(t)},gender:function(t){return parseInt(t.substr(16,1))%2==1?"男":"女"},mergeObj:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new Map([].concat(function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(this.objToStrMap(e))).filter((function(e){var n=i(e,2),s=n[0];return n[1],t.objToStrMap(r).has(s)})));return this.strMapToObj(n)},objToStrMap:function(t){var e=new Map,r=!0,n=!1,i=void 0;try{for(var s,a=Object.keys(t)[Symbol.iterator]();!(r=(s=a.next()).done);r=!0){var u=s.value;e.set(u,t[u])}}catch(t){n=!0,i=t}finally{try{!r&&a.return&&a.return()}finally{if(n)throw i}}return e},strMapToObj:function(t){var e=Object.create(null),r=!0,n=!1,s=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var o=a.value,l=i(o,2),c=l[0],d=l[1];e[c]=d}}catch(t){n=!0,s=t}finally{try{!r&&u.return&&u.return()}finally{if(n)throw s}}return e},cardListType:function(t){var e="";switch(t){case 0:e="";break;case 1:e="已认证";break;case 2:e="已关闭";break;case 3:e="已移除";break;case 4:e="已解散";break;case 5:e="待审核";break;case 6:e="已失败"}return e},imgBg:function(t){return 0==t?"":1==t?"标签1@2x":5==t?"标签3@2x":"标签2@2x"}}}},Yloe:function(t,e,r){"use strict";var n=r("9rVp");r.n(n).a},mG4U:function(t,e,r){"use strict";var n=r("oCYn");e.a=new n.default},o1Dk:function(t,e,r){"use strict";r.r(e);var n=r("Dpzq"),i=(r("mG4U"),{name:"authenticationStatus",mixins:[n.a],data:function(){return{industry:!1,showDetail:!1,isAuthentication:!1,enableServiceTerms:!1,popupCardKa:!1,getIndustryDetail:{userClusterModel:{}},activeContent:{activeObj:{index:0,type:""},steps:[]},isActiveObj:{}}},mounted:function(){var t=this;this.$route.query.id?this.$request.post("/app/json/user/getIndustryDetailById",{id:this.$route.query.id}).then((function(e){var r=e.data;0==e.status?(t.getIndustryDetail=r||{},t.$route.query.replacePage&&(t.getIndustryDetail.userClusterModel.industryState=0),t.getIndustryDetail.userClusterModel.enableServiceTerms&&0==t.getIndustryDetail.userClusterModel.industryState?t.enableServiceTerms=!0:0==t.getIndustryDetail.userClusterModel.industryState&&t.bindOil(t.getIndustryDetail),t.showDetail=!0):t.$Toast(e.info)})):this.$Toast("未获取到群组id")},methods:{backEvent:function(){this.$router.go(-1)},enableServiceTermsBtn:function(){this.enableServiceTerms=!1,0==this.getIndustryDetail.userClusterModel.industryState&&this.bindOil(this.getIndustryDetail)},bindOil:function(t){var e=JSON.parse(t.userClusterModel.expression),r=e.cardList||[];r.includes("IDcard")&&r.includes("DriverCard")&&t.isCertificate&&t.isDrinving&&t.usercertificate.idcardNum!=t.driverInfoModel.driveCode?this.industry=!0:this.getIsoilCard(e.isoilCard)},industryBtn:function(){var t=this;this.$request.post("/app/json/user/industryRecertification",{}).then((function(e){0==e.status?(t.industry=!1,t.$router.go(-1)):t.$Toast(e.info)}))},getIsoilCard:function(t){var e=this;"1"==t?this.checkBindOilCard().then((function(t){t?e.isAuthentication=!0:e.popupCardKa=!0})):this.isAuthentication=!0},checkBindOilCard:function(){var t=this;return new Promise((function(e,r){var n={phone:t.userInfo.phone};t.$request.post(t.checkBindOilCardUrl,n).then((function(n){if(0==n.status){var i=n.data;e(i)}else r(),t.$Toast(n.info)}))}))},openingCard:function(){this.$router.push({path:"/addCard"})},activeBtn:function(t){this.$refs.stepsContent.getIdentityObj(this.isActiveObj,t)}},components:{group:function(){return r.e(953).then(r.bind(null,"bBWW"))},authentication:function(){return r.e(952).then(r.bind(null,"MUTf"))}}}),s=(r("Yloe"),r("KHd+")),a=Object(s.a)(i,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"box"},[r("nav-top",{attrs:{title:t.enableServiceTerms?"服务条款":"行业认证"},on:{backEvent:t.backEvent}}),t._v(" "),t.showDetail?r("nav-content",[0==t.getIndustryDetail.userClusterModel.industryState&&t.isAuthentication&&!t.enableServiceTerms?r("authentication",{attrs:{getIndustryDetail:t.getIndustryDetail}}):t._e(),t._v(" "),!t.enableServiceTerms&&1==t.getIndustryDetail.userClusterModel.industryState||2==t.getIndustryDetail.userClusterModel.industryState||3==t.getIndustryDetail.userClusterModel.industryState||5==t.getIndustryDetail.userClusterModel.industryState||6==t.getIndustryDetail.userClusterModel.industryState?r("group",{attrs:{getIndustryDetail:t.getIndustryDetail}}):t._e(),t._v(" "),t.enableServiceTerms&&0==t.getIndustryDetail.userClusterModel.industryState?r("div",{staticClass:"enableService"},[r("div",{staticClass:"rule-content"},[r("div",{domProps:{innerHTML:t._s(t.getIndustryDetail.userClusterModel.serviceTerms)}})]),t._v(" "),r("div",{staticClass:"bottom-btns"},[r("p",[t._v("您需要充分阅读并理解本政策的内容")]),t._v(" "),r("p",[t._v("若你同意，请点击下方按钮开始接受我们的服务!")]),t._v(" "),r("span",{staticClass:"theme_bg_red",on:{click:t.enableServiceTermsBtn}},[t._v("同意并继续")])])]):t._e()],1):t._e(),t._v(" "),r("div",{staticClass:"popup"},[r("van-popup",{staticClass:"popupCard",attrs:{"close-on-click-overlay":!1},model:{value:t.popupCardKa,callback:function(e){t.popupCardKa=e},expression:"popupCardKa"}},[r("div",{staticClass:"popupCardText"},[r("span",[t._v("您尚未绑定加油卡，")]),t._v(" "),r("span",[t._v("需要绑定加油卡后方可参与活动！")])]),t._v(" "),r("div",{staticClass:"popupCardBtn"},[r("span",{on:{click:function(e){return t.$router.go(-1)}}},[t._v("返回")]),t._v(" "),r("span",{on:{click:t.openingCard}},[t._v("立即绑定")])])]),t._v(" "),r("van-popup",{staticClass:"popupCard",attrs:{"close-on-click-overlay":!1},model:{value:t.industry,callback:function(e){t.industry=e},expression:"industry"}},[r("div",{staticClass:"popupCardText"},[r("span",[t._v("当前身份证信息和驾驶证信息不一致")]),t._v(" "),r("span",[t._v("请重新提交！")])]),t._v(" "),r("div",{staticClass:"popupCardBtn"},[r("span",{on:{click:function(e){return t.$router.go(-1)}}},[t._v("返回")]),t._v(" "),r("span",{on:{click:t.industryBtn}},[t._v("确定")])])])],1)],1)}),[],!1,null,"42b5b19d",null);e.default=a.exports}}]);