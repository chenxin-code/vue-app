(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2b69fe26"],{"04b5c":function(t,e,a){"use strict";a("2a38")},"2a38":function(t,e,a){},7692:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"gestures-pwd-set"},[a("nav-top",{attrs:{title:"手势密码"},on:{backEvent:t.backEvent}}),a("nav-content",{staticClass:"gestures-pwd-set-container"},[a("div",{staticClass:"table-view list"},[t.$store.state.pwdStates.gesturePwd?a("div",{staticClass:"table-view-cell item"},[a("div",{staticClass:"table-view-cell-text"},[a("div",{staticClass:"left"},[t._v("开启手势密码")]),a("div",{staticClass:"right"},[a("van-switch",{attrs:{size:"20px","active-color":"#F80F16"},on:{change:t.change},model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}})],1)])]):t._e(),a("div",{staticClass:"table-view-cell item special",on:{click:t.openSetgesture}},[a("div",{staticClass:"table-view-cell-text"},[a("div",{staticClass:"left"},[t._v("修改手势密码")])]),a("div",{staticClass:"table-view-cell-arrow"})])])])],1)},i=[],n=a("1da1"),o=(a("96cf"),a("efff")),c=a("19e7"),r={data:function(){return{checked:!1,digitalPWD:"",defaultPayPwdMode:""}},mounted:function(){this.defaultPayPwdMode=this.$route.query.defaultPayPwdMode,this.checked=12==this.defaultPayPwdMode},destroyed:function(){o["a"].close()},methods:{backEvent:function(){this.$router.go(-1)},openSetgesture:function(){var t=this;this.digitalPWD="",o["a"].open({initData:{payPwdState:2,title:"修改手势密码",tips:"请先输入6位数字支付密码已验证身份"},toSettingPwd:function(){t.$router.push({path:"/usercenter/nosetpwd",query:{isSet:2}}),o["a"].close()},inputFinished:function(e){t.digitalPWD=e,o["a"].close(),t.validPayPwd(t.digitalPWD)}})},validPayPwd:function(t){var e=this;this.$Loading.open();var a={token:this.$store.state.login.token,originalPwd:Object(c["a"])(t),payPwdMode:11};this.$http.post("/app/json/user/validPayPwd",a).then((function(t){e.$Loading.close();var a=t.data;0==a.status?(e.$toast("密码验证成功"),e.$router.push({path:"/usercenter/setgesture-set",query:{type:"2",digitalPWD:e.digitalPWD}})):3007==a.errorCode?Dialog.alert({title:"提示",message:"密码已被锁定!"}).then((function(){o["a"].close()})):(e.$toast(a.info),o["a"].close())}),(function(t){e.$Loading.close(),e.$Toast("请求数据失败！")}))},change:function(){var t=this;0==this.checked?this.closeUserSpecialPayPwd():(this.digitalPWD="",o["a"].open({initData:{payPwdState:2,title:"开启手势密码",tips:"请先输入6位数字支付密码已验证身份"},toSettingPwd:function(){t.$router.push({path:"/usercenter/nosetpwd",query:{isSet:2,source:""}}),o["a"].close()},inputFinished:function(e){t.digitalPWD=e,t.openUserSpecialPayPwd(12,t.digitalPWD),o["a"].close()}}))},closeUserSpecialPayPwd:function(){var t=this;this.$request.post("/app/json/user/closeUserSpecialPayPwd",{payPwdMode:12}).then((function(e){0===e.status?t.$Toast("手势支付关闭成功"):t.$Toast(e.info?e.info:"手势支付关闭失败")}))},openUserSpecialPayPwd:function(t,e){var a=this;return Object(n["a"])(regeneratorRuntime.mark((function s(){var i;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,a.$bridgefunc.getArgsWithPromise();case 2:i=s.sent,a.$request.post("/app/json/user/openUserSpecialPayPwd",{payPwdMode:t,userPayPwd:a.$store.state.pwdStates.gesturePwd,deviceId:i.deviceId,originalPwd:Object(c["a"])(e)}).then((function(t){0===t.status?a.$Toast("手势支付开启成功"):(a.checked=!1,a.$Toast(t.info?t.info:"手势支付开启失败"))}));case 4:case"end":return s.stop()}}),s)})))()}},components:{}},d=r,l=(a("04b5c"),a("0c7c")),u=Object(l["a"])(d,s,i,!1,null,"319b2e60",null);e["default"]=u.exports}}]);