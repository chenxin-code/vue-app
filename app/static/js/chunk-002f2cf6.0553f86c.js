(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-002f2cf6"],{5020:function(t,a,s){t.exports=s.p+"static/images/f85808c6284d92c6379ff37a6f123e05.png"},"54e7":function(t,a){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAAEEfUpiAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACPTkDJAAACoElEQVRYCe1XzWsTQRR/M9tEKYiKGEg36sGjyKYJrSg9COJuEvBgod48eFEQ9OJZEO896amIin+BCLbJiigoFSkh23+gp91NK0IvijVJd3yzuMvszm4+VCiVzCF5n799896bN7sA/ZZd1Jdp3EASxA2G5e2i8dnWdMbtSeAUCAKe/xfWzVAvyn2ax8gJKaw4UmiwVa6e5h4BLCq+cH7g8oOIw3IvhSq1fGtlxUdIMmhPV6tcGcbgWyb8jGbgaMYNtrCQFYFCBEfTv6nrjWewcZS5mrEoGgHm/l1EgIxbvnIyLvt7PikdcVRewyBFXBfuIW44LL/3ABNpoWI+3mK/zwFRzgHrtRRCZ/NWfS1uLwH4iaT0XqFVvyQY+02Jtd5iDHJ4jh4Juv1ORk79MI3ENxwca2nzwwDEbfa+kcYRDJgHtmbsYP8/keotCBKTaM9ePcbrTSi7jQfnMk4hW/CJkBKAW6rMw8/vXw9CtqC2zKeqZZ6iQF5xQBzJSsQbGamVCSG7qtWQjrlbrsx5Pe8DBxBbORIBIdBMcuZOU836R3Xy8CQBssn5/2dFcihuCyv3GhjURNkf0wScAwqZOd5stOMYUrFCg98PFwsW6kYg/JcZBtWeR4voJgUQaYIRcP+Z6TiAcQb2dwbamnHGLRmVfkeCMBywfVb6HEhxYhcfTLjbq4v4rXN3FycVeNDFmyKDl8CnTEaZz60tjzSrhy7BZrl2Fi/HDWd7tYuX0DWg9AIfUgXLzOJXSw6AdTudXhuD+eFOG9eD+BnB18k+KzU9/P7jfnj7PETw+8ggSV6oR/K3yPvnO2mYblG/6QE8xuRgVsBEt0OMsfORTyvBeWAJ8MF3EMjAnb4R/FLJKctcQuWSM6OfgA55yYCVUo3HCszAL+Iz1Ccb033GAAAAAElFTkSuQmCC"},"756b":function(t,a,s){"use strict";s.r(a);var i=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"coupon-detail"},[i("nav-top",{attrs:{bgImg:s("db04")},on:{backEvent:t.backEvent}}),i("nav-content",[i("div",{staticClass:"content"},[i("div",{staticClass:"bg-img"},[i("img",{attrs:{src:s("cd50")}})]),2==t.type?i("div",{staticClass:"coupon-2"},[i("div",{staticClass:"mianer"},[i("span",[t._v("¥")]),i("span",{staticClass:"big"},[t._v(t._s(t.$util.toDecimal2(t.coupenData.couType.couFaceValue)))])]),i("div",{staticClass:"cou-info"},[i("div",{staticClass:"cou-title double-line"},[t._v(t._s(t.coupenData.couType.couTypeTitle))]),i("div",{staticClass:"cou-time"},[t._v("有效期："+t._s(t.coupenData.couType.validDays)+"天")])]),i("div",{staticClass:"right"},[i("div",{staticClass:"text"},[t._v("消耗积分")]),i("div",{staticClass:"points"},[t._v(t._s(t.coupenData.exchangeUnit))]),i("div",{staticClass:"btn",on:{click:function(a){return t.submitExchangeOrder()}}},[t._v("立即兑换")])])]):i("div",{staticClass:"coupon"},[i("div",{staticClass:"mianer"},[i("p",{staticClass:"big"},[t._v("加油券")]),t.coupenData.stockNum?i("p",{staticClass:"number"},[t._v("剩余"+t._s(t.coupenData.stockNum>=100?"99+":t.coupenData.stockNum)+"张")]):i("p",{staticClass:"number"},[t._v("剩余99+张")])]),i("div",{staticClass:"cou-info"},[i("div",{staticClass:"cou-title double-line"},[t._v(t._s(t.coupenData.showTitle))]),i("div",{staticClass:"cou-time"},[t._v("有效期：180天")])]),i("div",{staticClass:"right"},[i("div",{staticClass:"price"},[t._v("¥"+t._s(t.$util.toDecimal2(t.coupenData.activityPrice)))]),i("div",{staticClass:"text"},[t._v("¥"+t._s(t.$util.toDecimal2(t.coupenData.salePrice)))]),i("div",{staticClass:"btn",on:{click:t.submitOrder}},[t._v("立即购买")])])]),i("div",{staticClass:"block"},[i("div",{staticClass:"title-row line_bottom"},[i("div",{staticClass:"title-icon"},[i("img",{attrs:{src:s("54e7")}})]),i("div",{staticClass:"title"},[t._v("优惠券说明")]),i("div",{staticClass:"right-btn",on:{click:function(a){return t.$router.push({path:"/icbc/supportstation"})}}},[i("span",[t._v("可用油站")]),i("i",{staticClass:"iconfont mall-gengduojiantou"})])]),2==t.type?i("div",{staticClass:"block-content"},[i("div",{domProps:{innerHTML:t._s(t.coupenData.couType.couDesc)}})]):t.detailData?i("div",{staticClass:"block-content"},[i("div",{domProps:{innerHTML:t._s(t.detailData.proSkuMediaModel.mobileDetail)}})]):t._e()]),i("div",{staticClass:"block"},[i("div",{staticClass:"title-row line_bottom"},[i("div",{staticClass:"title-icon"},[i("img",{attrs:{src:s("b5d8")}})]),i("div",{staticClass:"title"},[t._v("使用方式")])]),i("div",{staticClass:"block-content"},[i("img",{staticClass:"test-img",attrs:{src:s("5020")}})])])])])],1)},e=[],o=(s("ac1f"),s("5319"),s("75bd")),c=s("a78e"),n=s.n(c),A={name:"coupon-detail",components:{},data:function(){return{coupenData:{},detailData:null,type:1}},methods:{submitExchangeOrder:function(){var t=this,a="/app/json/app_exchange/submitExchangeOrder",s={exchangeDetailId:this.coupenData.id};this.$Loading.open(),this.$http.post(a,s).then((function(a){t.$Loading.close();var s=a.data,i=s.data||{};0==s.status?t.$market.doPay({payMode:305,payModeSub:305007},i.payInfo).then((function(){n.a.set("icbc_tradeNo",i.tradeNo)}))["catch"]((function(){t.$Toast("支付失败！")})):t.$Toast(s.info)}),(function(a){t.$Loading.close(),t.$Toast("请求数据失败！")}))},getCouponDetail:function(t){var a=this;this.$Loading.open();var s="/app/json/product/getAppProDetail",i={productType:t.productType,skuId:t.skuId,deliverType:"2"};i.storeOuCode=t.storeOuCode?t.storeOuCode:"",i.pickupStoreOuCode=t.storeOuCode?t.storeOuCode:"",this.$http.post(s,i).then((function(t){a.$Loading.close();var s=t.data;0==s.status?a.detailData=s.data:a.$Toast(s.info)}),(function(t){a.$Loading.close(),a.$Toast("请求数据失败！")}))},submitOrder:function(){var t=this,a={},s=[{skuId:this.coupenData.skuId,storeOuCode:this.coupenData.storeOuCode,number:1,checked:1,isGift:0}],i="/app/json/fee_life_order/submit";a.deliveryType="2",a.virtualUserPhone=this.$store.state.userInfo.phone,a.orderScene=this.$util.orderScene(),a.carts=s,this.$Loading.open(),this.$http.post(i,a).then((function(a){t.$Loading.close();var s=a.data,i=s.data||{};0==s.status?o["a"].payEvent({payMode:305,payModeSub:305005},i.orderType,i.orderId).then((function(){n.a.set("icbc_tradeNo",i.tradeNo)}))["catch"]((function(){t.$Toast("支付失败！")})):t.$Toast(s.info)}),(function(a){t.$Loading.close(),t.$Toast("请求数据失败！")}))},resultHand:function(t,a){this.$Loading.close(),"1"==t?this.$router.replace({path:"/icbc/success",query:{orderType:a.orderType,orderId:a.id,fromPage:1}}):this.$Toast("支付失败！")},backEvent:function(){this.$router.go(-1)}},created:function(){if(this.type=this.$route.query.type||1,1==this.type){var t=JSON.parse(this.$route.query.couponData);this.coupenData=t,this.getCouponDetail(t)}else this.coupenData=JSON.parse(this.$route.query.couponData)}},d=A,u=(s("b538"),s("0c7c")),r=Object(u["a"])(d,i,e,!1,null,"e58b28fc",null);a["default"]=r.exports},b538:function(t,a,s){"use strict";s("c233")},b5d8:function(t,a){t.exports="data:image/png;base64,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"},c233:function(t,a,s){},cd50:function(t,a,s){t.exports=s.p+"static/images/66a3fcfb9edc7f9ab3906b3c804379a4.png"},db04:function(t,a,s){t.exports=s.p+"static/images/99721781406ba21e46405216d8c0c0e9.png"}}]);