(window.webpackJsonp=window.webpackJsonp||[]).push([[821],{"FbZ/":function(t,e,s){"use strict";s.r(e);var n={name:"mag-center-list",components:{},data:function(){return{dataList:[]}},methods:{getIcon:function(t){return 2001==t||2002==t||2003==t||2004==t||2005==t?"static/image/setting/msg/"+t+".png":"static/image/setting/msg/2999.png"},backEvent:function(){this.$router.go(-1)},enterList:function(t){this.$router.push({path:"/usercenter/msglist",query:{msgType:t.msgType}})},getzf:function(t){return parseInt(t)<10&&(t="0"+t),t},getMessageNumber:function(){var t=this;if(this.$store.state.login.token){var e=this.$market.apiBaseURL()+"/app/json/message/getUnreadMsgCnt",s={token:this.$store.state.login.token};this.$http.post(e,s).then((function(e){var s=e.data;0==s.status&&(t.$store.state.indexData.msgNumber=s.data,t.$bridgefunc.vuexStorage())}),(function(t){}))}},getCenterList:function(){var t=this;this.$Loading.open();var e={token:this.$store.state.login.token};this.$http.post("/app/json/message/getUnreadMsgTypeCnt",e).then((function(e){var s=e.data;t.$Loading.close(),0==s.status?t.dataList=s.data.msgTypeCntList:t.$Toast(s.info)}),(function(e){t.$Loading.close(),t.$Toast("请求数据失败！")}))}},activated:function(){this.getCenterList(),this.getMessageNumber()},created:function(){},beforeRouteLeave:function(t,e,s){"/usercenter/msglist"!=t.path&&this.$keepaliveHelper.deleteCache(this),s()}},i=(s("hnhI"),s("KHd+")),a=Object(i.a)(n,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mag-center-list"},[s("nav-top",{on:{backEvent:t.backEvent}}),t._v(" "),s("nav-content",[s("div",{staticClass:"scroll-div"},t._l(t.dataList,(function(e){return s("div",{staticClass:"list-item",on:{click:function(s){return t.enterList(e)}}},[s("div",{staticClass:"item-img"},[s("img",{attrs:{src:t.getIcon(e.msgType),alt:""}})]),t._v(" "),s("div",{staticClass:"item-content"},[s("div",{staticClass:"line-div"},[s("p",{staticClass:"font-large"},[t._v(t._s(e.msgTypeStr))]),t._v(" "),s("p",{staticClass:"font-small theme_font_tint"},[t._v(t._s(e.newMsgTime))])]),t._v(" "),s("div",{staticClass:"line-div-two"},[s("p",{staticClass:"font-small theme_font_tint single-line"},[t._v(t._s(e.newMsgTitle))]),t._v(" "),s("p",{directives:[{name:"show",rawName:"v-show",value:e.msgTypeCnt>0,expression:"item.msgTypeCnt > 0"}],staticClass:"num theme_font_white theme_bg_red"},[t._v(t._s(e.msgTypeCnt))])])])])})),0)])],1)}),[],!1,null,"73887cfb",null);e.default=a.exports},"PKy+":function(t,e,s){},hnhI:function(t,e,s){"use strict";var n=s("PKy+");s.n(n).a}}]);