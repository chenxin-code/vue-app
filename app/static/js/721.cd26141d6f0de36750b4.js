(window.webpackJsonp=window.webpackJsonp||[]).push([[721],{"60ly":function(t,s,e){},jhPT:function(t,s,e){"use strict";var a=e("60ly");e.n(a).a},oP4Y:function(t,s,e){"use strict";e.r(s),e("YsXA"),e("0FX9");var a={name:"detail",components:{coupon:e("2TyV").a},data:function(){return{couNo:"",couponDedail:{}}},methods:{exchangeProduct:function(){var t=this;if(this.$store.state.mall2.selectAddress.id>0){this.$Loading.open();var s=this.couponDedail.dynamicCode||"";""!=s?this.$http.post("/app/json/coupon/useExchangeCou",{dynamicCode:s,occurOuCode:"1",addessInfo:this.$store.state.mall2.selectAddress}).then((function(s){t.$Loading.close();var e=s.data;0==e.status?(t.$Toast("兑换成功！"),t.$router.go(-1)):t.$Toast(e.info)})).catch((function(s){t.$Loading.close(),t.$Toast("请求数据失败，请稍后！")})):this.$Toast("动态码为空！")}else this.$Toast("请选择地址！")},toSelectAddress:function(){this.$router.push({path:"/mall2/addresslist"})},getCouponDetail:function(){var t=this;this.$Loading.open(),this.$http.post("/app/json/coupon/getMyCouInfo",{couNo:this.couNo}).then((function(s){console.log(s),t.$Loading.close();var e=s.data;0==e.status?t.couponDedail=e.data||{}:t.$Toast(e.info)})).catch((function(s){t.$Loading.close(),t.$Toast("获取数据失败！")}))}},created:function(){this.couNo=this.$route.query.couNo,this.getCouponDetail()},destroyed:function(){}},o=(e("jhPT"),e("KHd+")),i=Object(o.a)(a,(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"detail"},[e("nav-top",{on:{backEvent:function(s){return t.$router.go(-1)}}}),t._v(" "),e("nav-content",[e("div",{staticClass:"content"},[e("div",{staticClass:"address",on:{click:t.toSelectAddress}},[t.$store.state.mall2.selectAddress.id>0?t._e():e("div",{staticClass:"no-address"},[e("span",[t._v(t._s(t.$t("loginRegisterLang.selectAddress")))]),t._v(" "),e("img",{staticClass:"zm-jiantou-14",attrs:{src:"static/image/setting/jt.png"}})]),t._v(" "),t.$store.state.mall2.selectAddress.id>0?e("div",{staticClass:"selected-address"},[e("div",{staticClass:"address-info"},[e("div",{staticClass:"name"},[e("span",[t._v(t._s(t.$store.state.mall2.selectAddress.receiverName))]),t._v(" "),e("span",[t._v(t._s(t.$store.state.mall2.selectAddress.mobile))])]),t._v(" "),e("div",{staticClass:"detail"},[t._v(t._s(t.$store.state.mall2.selectAddress.addressFull))])]),t._v(" "),e("img",{staticClass:"zm-jiantou-14",attrs:{src:"static/image/setting/jt.png"}})]):t._e()]),t._v(" "),e("div",{staticClass:"card-div"},[e("coupon",{attrs:{item:t.couponDedail,buttonType:-1,showCover:!1}})],1),t._v(" "),e("div",{staticClass:"text-div"},[e("div",{staticClass:"title"},[t._v("优惠券使用说明\n")]),t._v(" "),e("div",{staticClass:"text-content",domProps:{innerHTML:t._s(t.couponDedail.couDesc)}})])]),t._v(" "),e("div",{staticClass:"bottom-btn"},[e("div",{staticClass:"btn theme_standard_bg",on:{click:t.exchangeProduct}},[t._v("确认使用\n")])])])],1)}),[],!1,null,"4f551adc",null);s.default=i.exports}}]);