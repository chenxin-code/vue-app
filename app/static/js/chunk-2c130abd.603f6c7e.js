(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2c130abd"],{1582:function(t,i,e){"use strict";var a,s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("div",{directives:[{name:"show",rawName:"v-show",value:!t.sideFiltrateModalShow,expression:"!sideFiltrateModalShow"}],staticClass:"screening",on:{click:function(i){t.sideFiltrateModalShow=!0}}},[t._v("筛选")]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.sideFiltrateModalShow,expression:"sideFiltrateModalShow"}],staticClass:"screening",on:{click:function(i){t.sideFiltrateModalShow=!1}}},[t._v("关闭")]),e("transition",{attrs:{name:"filtrate"}},[t.sideFiltrateModalShow?e("div",{ref:"sideFiltrateModal",staticClass:"filtrate-modal-wrapper",style:{top:t.$store.state.barHeight+t.$market.getNavHeight()+"px"}},[e("div",{staticClass:"filtrate-container"},[e("div",{staticClass:"filtrate-content"},[e("div",{staticClass:"change-time"},[e("div",{staticClass:"table-view time-text"},[e("div",{staticClass:"table-view-cell info",on:{click:function(i){t.showStartTime=!0}}},[e("div",{staticClass:"table-view-cell-text"},[t._v("开始时间")]),e("div",{staticClass:"table-view-cell-arrow"},[t._v(t._s(t.beginTime))])]),e("div",{staticClass:"table-view-cell info",on:{click:function(i){t.showEndTime=!0}}},[e("div",{staticClass:"table-view-cell-text"},[t._v("结束时间")]),e("div",{staticClass:"table-view-cell-arrow"},[t._v(t._s(t.endTime))])])])]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowChangeCard,expression:"isShowChangeCard"}],staticClass:"card-num"},[e("div",{staticClass:"title"},[t._v("提油卡号")]),e("ul",{staticClass:"list"},t._l(t.cardList,(function(i,a){return e("li",{key:a,staticClass:"item"},[e("div",{staticClass:"item",class:{active:t.num==a},on:{click:function(e){return t.changeCard(a,i.userCard)}}},[t._v(" "+t._s(i.userCard)+" ")])])})),0)]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowChangeOilName,expression:"isShowChangeOilName"}],staticClass:"card-num"},[e("div",{staticClass:"title"},[t._v("油品选择")]),e("ul",{staticClass:"list"},t._l(t.oilNameList,(function(i,a){return e("li",{key:a,staticClass:"item"},[e("div",{staticClass:"item",class:{active:t.oil==a},on:{click:function(e){return t.changeOil(a,i.oilname)}}},[t._v(" "+t._s(i.oilname)+" ")])])})),0)])]),e("div",{staticClass:"filtrate-btn"},[e("button",{staticClass:"l-btn u-confirm",on:{click:t.clearData}},[t._v("清除")]),e("button",{staticClass:"l-btn u-confirm theme_bg_blue_i",on:{click:t.confirm}},[t._v("确定")])])])]):t._e()]),e("van-popup",{attrs:{position:"bottom"},model:{value:t.showStartTime,callback:function(i){t.showStartTime=i},expression:"showStartTime"}},[e("van-datetime-picker",{attrs:{type:"date"},on:{confirm:t.confirmActivitesTime,cancel:function(i){t.showStartTime=!1},change:t.setColumnValue},model:{value:t.currentDateStart,callback:function(i){t.currentDateStart=i},expression:"currentDateStart"}})],1),e("van-popup",{attrs:{position:"bottom"},model:{value:t.showEndTime,callback:function(i){t.showEndTime=i},expression:"showEndTime"}},[e("van-datetime-picker",{attrs:{type:"date"},on:{confirm:t.confirmEndTime,cancel:function(i){t.showEndTime=!1},change:t.setColumnValue},model:{value:t.currentDateEnd,callback:function(i){t.currentDateEnd=i},expression:"currentDateEnd"}})],1)],1)},n=[],o=e("ade3"),c=(e("d1cf"),e("ee83")),r=(e("8a58"),e("e41f")),l=e("5530"),d=(e("0d03"),e("b0c0"),e("ca00")),u=e("2f62"),h={data:function(){return{sideFiltrateModalShow:!1,screen:"筛选",showStartTime:!1,showEndTime:!1,currentDateStart:new Date,currentDateEnd:new Date,beginTime:"",endTime:"",cardList:[],oilNameList:[],num:"0",oil:"0",changeNum:"",changeOilName:""}},props:{isShowChangeCard:{type:Boolean,default:!0},isShowChangeOilName:{type:Boolean,default:!1}},mounted:function(){this.getOilCardList(),this.appQueryTakeOilNameList()},methods:{confirmActivitesTime:function(t){this.showStartTime=!1,this.beginTime=d["a"].getMyDate(t)},confirmEndTime:function(t){this.showEndTime=!1,this.endTime=d["a"].getMyDate(t)},setColumnValue:function(t,i){new Date},confirm:function(){var t=this.changeNum,i=this.changeOilName;this.sideFiltrateModalShow=!this.sideFiltrateModalShow,this.$emit("childToDadValue",[this.beginTime,this.endTime,t,i])},clearData:function(){this.beginTime="",this.endTime="",this.changeNum="0"},changeCard:function(t,i){this.num=t,this.changeNum=i},changeOil:function(t,i){this.oil=t,this.changeOilName=i},getOilCardList:function(){var t=this,i={token:this.$store.state.login.token,vipUnitUserCode:this.vipUnitUser.vipUnitUserId};this.$request.post("/app/json/app_oil_appoint/appQueryTakeOilCardList",i).then((function(i){if(0===i.status){var e=i.data;t.cardList=e}}))["catch"]((function(t){}))},appQueryTakeOilNameList:function(){var t=this;this.$request.post("/app/json/app_oil_appoint/appQueryTakeOilNameList",{vipUnitUserCode:this.vipUnitUser.vipUnitUserId}).then((function(i){0===i.status?t.oilNameList=i.data:t.$Toast(i.info?i.info:"获取油品名称失败")}))["catch"]((function(t){}))}},computed:Object(l["a"])({},Object(u["c"])(["vipUnitUser"])),components:(a={},Object(o["a"])(a,r["a"].name,r["a"]),Object(o["a"])(a,c["a"].name,c["a"]),a)},m=h,v=(e("795ce"),e("0c7c")),p=Object(v["a"])(m,s,n,!1,null,"3e8a08b1",null);i["a"]=p.exports},"1a21":function(t,i,e){"use strict";e.r(i);var a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"have-mention"},[e("nav-top",{staticClass:"nav-top",attrs:{title:"提油记录"},on:{backEvent:function(i){return t.$router.go(-1)}}},[e("div",[e("ScreenPopup",{on:{childToDadValue:t.screenChild}})],1)]),e("nav-content",{staticClass:"have-mention-container"},[e("div",{staticClass:"card-show"},[t._v("提油卡号："+t._s(t.oilCardno))]),t.complete?e("div",{staticClass:"my-content"},[t._l(t.cardList,(function(i,a){return e("div",{key:a,staticClass:"my-title-info"},[e("div",{staticClass:"top"},[e("div",{staticClass:"card-num"},[t._v("油品名称："+t._s(i.oilname))])]),e("div",{staticClass:"list"},[e("div",{staticClass:"item"},[e("div",{staticClass:"left"},[t._v("提油油库")]),e("div",{staticClass:"right"},[t._v(t._s(i.oilHouse))])]),e("div",{staticClass:"item"},[e("div",{staticClass:"left"},[t._v("提油数量")]),e("div",{staticClass:"right"},[t._v(t._s(i.tons)+"t")])]),e("div",{staticClass:"item"},[e("div",{staticClass:"left"},[t._v("提油时间")]),e("div",{staticClass:"right"},[t._v(t._s(t.dealTime(i.orderTime)))])])])])})),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.hasMore,expression:"!hasMore"}],staticClass:"no-data theme_font_tint"},[t._v("没有更多数据了~")])],2):t._e()])],1)},s=[],n=e("5530"),o=(e("fb6a"),e("1582")),c=e("2f62"),r={data:function(){return{cardList:[],startTime:"",endTime:"",oilCardno:"",complete:!1,hasMore:!0}},mounted:function(){this.oilCardno=this.$route.query.oilCardno,this.getRecord()},methods:{screenChild:function(t){this.startTime=t[0],this.endTime=t[1],this.oilCardno=t[2],this.cardList=[],this.getRecord()},getRecord:function(){var t=this;this.cardList=[];var i={oilCardno:this.oilCardno,startTime:this.startTime,endTime:this.endTime,vipUnitUserCode:this.vipUnitUser.vipUnitUserId};this.$request.post("/app/json/app_oil_appoint/appOilSaledRecord",i).then((function(i){if(t.complete=!0,t.hasMore=!1,0===i.status){var e=i.data;t.cardList=e}else t.$Toast(i.info?i.info:"获取提油记录失败")}))["catch"]((function(t){}))},dealTime:function(t){var i=this.insertStr(this.insertStr(t,4,"-"),7,"-");return i},insertStr:function(t,i,e){return t.slice(0,i)+e+t.slice(i)}},computed:Object(n["a"])({},Object(c["c"])(["vipUnitUser"])),components:{ScreenPopup:o["a"]}},l=r,d=(e("271c"),e("0c7c")),u=Object(d["a"])(l,a,s,!1,null,"bc372d9a",null);i["default"]=u.exports},"271c":function(t,i,e){"use strict";e("8179")},"795ce":function(t,i,e){"use strict";e("f293")},8179:function(t,i,e){},f293:function(t,i,e){}}]);