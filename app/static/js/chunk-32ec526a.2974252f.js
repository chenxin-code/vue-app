(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-32ec526a","chunk-b02b4cca"],{"3ac8":function(t,e,n){"use strict";var s=n("5530"),a=(n("b64b"),n("ac1f"),n("5319"),n("13d5"),n("2f62"));e["a"]={data:function(){return{isDisplay:null,turnNumber:{1:"一",2:"二",3:"三",4:"四",5:"五",6:"六",7:"七",8:"八",9:"九",10:"十",11:"十一",12:"十二",13:"十三",14:"十四",15:"十五",16:"十六",17:"十七",18:"十八"},getNewsListUrl:"/app/json/news/getNewsList",checkTwoVMemmberUrl:"/app/json/app_jx_hui_buy/checkTwoVMemmber",checkBindOilCardUrl:"/app/json/app_jx_hui_buy/checkBindOilCard",cancelTwoVMemberUrl:"/app/json/app_jx_hui_buy/cancelTwoVMember",getPhoneInfoUrl:"/app/json/app_jx_hui_buy/getPhoneInfo",addTwoVMemberUrl:"/app/json/app_jx_hui_buy/addTwoVMember",getVVGetCouMktListUrl:"/app/json/app_market/getVVGetCouMktList",getCouScanUrl:"/app/json/app_market/getCouScanUrl",queryGetCouActivityAwardUrl:"/app/json/app_market/queryGetCouActivityAward",getUnusedCouponsWithColsUrl:"/app/json/coupon/getUnusedCouponsWithCols",getUsedCouponsUrl:"/app/json/coupon/getUsedCoupons",getMyCouInfoUrl:"/app/json/coupon/getMyCouInfo",useVVCouUrl:"/app/json/app_market/useVVCou",queryCanAttendActivityUrl:"/app/json/app_market/queryCanAttendActivity"}},computed:Object(s["a"])({},Object(a["c"])(["userInfo"])),methods:{checkTwoVMemmber:function(){var t=this;this.$request.post(this.checkTwoVMemmberUrl,{phone:this.userInfo.phone}).then((function(e){0==e.status?(Object.assign(t.statusObj,e.data||{}),t.isDisplay=Object.keys(e.data).length?2:1):t.$Toast(e.info)}))},replacePhone:function(t){return t.replace(/(\d{3})\d{4}(\d{4})/,"$1****$2")},duplicateRemoval:function(t,e){var n={};return t.reduce((function(t,s){return!n[s[e]]&&(n[s[e]]=t.push(s)),t}),[])}}}},"73ab":function(t,e,n){"use strict";n("7a48")},"7a48":function(t,e,n){},8203:function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("nav-content",[n("div",{staticClass:"contentImg"},[n("div",{staticClass:"contentImgBottom"},[n("span"),n("span",[t._v("会员特权")])])]),n("div",{staticClass:"list"},[n("scroll",{attrs:{pullUpLoad:!0,listenScroll:!0,data:t.equityArr.concat(t.openAccess),hasMore:t.isCanLoadMore}},[t._l(t.openAccess,(function(e,s){return n("div",{key:s,staticClass:"equity"},[n("div",{staticClass:"mark"},[n("span",{staticClass:"text"},[t._v(t._s("特权"+t.turnNumber[s+1]))])]),n("div",{staticClass:"equity-details"},[n("div",{staticClass:"equity-details-left"},[n("span",[t._v(t._s(e.activityTitle))])])])])})),t._l(t.equityArr,(function(e,s){return n("div",{key:"equityArr"+s,staticClass:"equity"},[n("div",{staticClass:"mark"},[n("span",{staticClass:"text"},[t._v(t._s("特权"+t.turnNumber[s+1+t.openAccess.length]))])]),n("div",{staticClass:"equity-details"},[n("div",{staticClass:"equity-details-left"},[n("span",[t._v(t._s(e.activityTitle))])])])])})),n("div",{staticClass:"explain"},[n("p",[t._v("活动说明")]),n("div",{staticClass:"content",domProps:{innerHTML:t._s(t.cardPrompt)}})])],2)],1)]),n("div",{staticClass:"bottom-btns"},[n("span",{on:{click:t.openingBtn}},[t._v("10元/月，确认开通")])]),n("van-popup",{staticClass:"popupPhoneInfo",model:{value:t.popupPhoneInfo,callback:function(e){t.popupPhoneInfo=e},expression:"popupPhoneInfo"}},[t._v("该活动仅限江西移动用户参加！")]),n("van-popup",{staticClass:"popupCard",attrs:{"close-on-click-overlay":!1},model:{value:t.isOpening,callback:function(e){t.isOpening=e},expression:"isOpening"}},[n("div",{staticClass:"popupCardText"},[n("span",[t._v("开通双V会员10元/月，")]),n("span",[t._v("可享受更多特权，请确认是否开通！")])]),n("div",{staticClass:"popupCardBtn"},[n("span",{on:{click:function(e){t.isOpening=!1}}},[t._v("取消")]),n("span",{on:{click:t.isOpeningTrue}},[t._v("开通")])])]),n("van-popup",{staticClass:"popupCard",attrs:{"close-on-click-overlay":!1},model:{value:t.popupCard,callback:function(e){t.popupCard=e},expression:"popupCard"}},[n("div",{staticClass:"popupCardText"},[n("span",[t._v("您尚未绑定加油卡，")]),n("span",[t._v("需要绑定加油卡后方可参与活动！")])]),n("div",{staticClass:"popupCardBtn"},[n("span",{on:{click:function(e){t.popupCard=!1}}},[t._v("取消")]),n("span",{on:{click:t.openingCard}},[t._v("立即绑定")])])])],1)},a=[],i=(n("ac1f"),n("5319"),n("d3b7"),n("3ca3"),n("ddb0"),n("3ac8")),o={name:"opening",mixins:[i["a"]],data:function(){return{isOpening:!1,popupCard:!1,popupPhoneInfo:!1,isCanLoadMore:!1,cardPrompt:"",equityArr:[],openAccess:[]}},beforeRouteLeave:function(t,e,n){this.$keepaliveHelper.deleteCache(this),n()},mounted:function(){this.getNewsList(),this.getVVGetCouMktList(),this.queryCanAttendActivity()},methods:{queryCanAttendActivity:function(){var t=this;this.$request.post(this.queryCanAttendActivityUrl,{orderType:999001}).then((function(e){0==e.status?t.openAccess=e.data||[]:t.$Toast(e.info)}))},getVVGetCouMktList:function(){var t=this;this.$request.post(this.getVVGetCouMktListUrl,{activityTag:"移动双V会员"}).then((function(e){var n=e.data;0==e.status?t.equityArr=n:t.$Toast(e.info)}))},getNewsList:function(){var t=this;this.$request.post(this.getNewsListUrl,{values:25}).then((function(e){0==e.status?t.cardPrompt=e.data[0]?e.data[0].content:"":t.$Toast(e.info)}))},openingBtn:function(){var t=this,e={phone:this.userInfo.phone};this.$request.post(this.getPhoneInfoUrl,e).then((function(n){if(0==n.status){var s=n.data.data,a=JSON.parse(s.replace(/\s*/g,""));"1"!=a.code?t.popupPhoneInfo=!0:t.checkBindOilCard(e)}else t.$Toast(n.info)}))},checkBindOilCard:function(t){var e=this;this.$request.post(this.checkBindOilCardUrl,t).then((function(t){0==t.status?(e.popupCard=!t.data,e.isOpening=t.data):e.$Toast(t.info)}))},isOpeningTrue:function(){var t=this;this.$request.post(this.addTwoVMemberUrl,{phone:this.userInfo.phone}).then((function(e){0==e.status?(t.$Toast("开通成功"),t.isOpening=!1,t.$emit("checkTwo")):t.$Toast(e.info)}))},openingCard:function(){this.$router.push({path:"/addCard"})}},components:{Scroll:function(){return Promise.all([n.e("chunk-2d0b724a"),n.e("chunk-28c407f0")]).then(n.bind(null,"bba4"))}}},p=o,c=(n("73ab"),n("0c7c")),u=Object(c["a"])(p,s,a,!1,null,"2a3203f0",null);e["default"]=u.exports}}]);