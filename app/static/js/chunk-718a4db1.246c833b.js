(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-718a4db1"],{"265f":function(t,n,e){"use strict";e.r(n);var i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("nav-top",{attrs:{title:"我的偏好"},on:{backEvent:function(n){return t.$router.go(-1)}}}),e("nav-content",t._l(t.answerList,(function(n,i){return e("div",{staticClass:"box"},[1==n.topicType?e("div",{staticClass:"div2"},[e("p",[t._v(t._s(i+1)+"、"+t._s(n.title)+"（单选）")]),e("van-radio-group",{model:{value:n.answer,callback:function(e){t.$set(n,"answer",e)},expression:"item.answer"}},t._l(n.options,(function(n,i){return e("van-radio",{key:i,attrs:{name:n.id}},[t._v(t._s(t.optionsObj[i])+" 、"+t._s(n.optionContent))])})),1)],1):t._e(),2==n.topicType?e("div",{staticClass:"div3"},[e("p",[t._v(t._s(i+1)+"、"+t._s(n.title)+"（多选）")]),e("van-checkbox-group",{model:{value:n.answer,callback:function(e){t.$set(n,"answer",e)},expression:"item.answer"}},t._l(n.options,(function(n,i){return e("van-checkbox",{key:i,attrs:{name:n.id}},[t._v(t._s(t.optionsObj[i])+" 、"+t._s(n.optionContent))])})),1)],1):t._e(),3==n.topicType?e("div",{staticClass:"div3",staticStyle:{display:"flex"}},[e("p",[t._v(t._s(i+1)+"、"+t._s(n.title)+"（下拉）")]),e("div",{staticClass:"xiala",staticStyle:{"margin-left":"5px"},on:{click:function(e){return t.select1(n)}}},[e("span",[t._v(t._s(n.name||"请选择"))]),e("span",{staticClass:"icon iconfont mall-xiala"})]),e("van-action-sheet",{attrs:{actions:n.options},on:{select:function(e){return t.onSelect(e,n)}},model:{value:n.show,callback:function(e){t.$set(n,"show",e)},expression:"item.show"}})],1):t._e(),e("div",{staticClass:"btnBox"},[e("div",{staticClass:"btn",on:{click:t.commit}},[t._v("保存")])])])})),0)],1)},o=[],s=(e("4160"),e("159b"),e("b0c0"),e("c975"),{data:function(){return{show:!1,answerList:[],options:[],actions:[]}},mounted:function(){this.getList(),this.getLetter()},methods:{getList:function(){var t=this,n="/app/jqGrid/prefer/getUserPreferSetList",e={token:this.$store.state.login.token};this.$Loading.open(),this.$http.post(n,e).then((function(n){t.$Loading.close();var e=n.data;if(0==e.status){var i=e.data||[];i.forEach((function(t){"2"==t.topicType?t.answer=[]:t.answer="",t.options.forEach((function(n){"1"==n.isAnswer&&("2"==t.topicType?t.answer.push(n.id):(t.answer=n.id,t.name=n.optionContent)),n.name=n.optionContent})),t.show=!1})),t.answerList=i}else t.$Toast(e.info)}))},getLetter:function(){this.optionsObj=this.generateBig_1()},generateBig_1:function(){for(var t=[],n=65;n<91;n++)t.push(String.fromCharCode(n));return t},select1:function(t){t.show=!0},onSelect:function(t,n){n.answer=t.id,n.name=t.name,n.show=!1},commit:function(){var t=this,n="/app/json/prefer/updatePreferSet",e={preferSets:[]};this.answerList.forEach((function(t){var n={};n.id=t.id,n.topicType=t.topicType,n.title=t.title,n.options=[],t.options.forEach((function(e){"number"==typeof t.answer?String(t.answer):t.answer,"number"==typeof e.id?String(e.id):e.id;String(t.answer).indexOf(String(e.id))>-1&&n.options.push({id:e.id,optionContent:e.optionContent})})),e.preferSets.push(n)})),this.$Loading.open(),this.$http.post(n,e).then((function(n){t.$Loading.close();var e=n.data;0==e.status?(t.$Toast("保存成功"),t.$router.go(-1)):t.$Toast(e.info)}))}}}),a=s,r=(e("ef74"),e("0c7c")),c=Object(r["a"])(a,i,o,!1,null,"f4118acc",null);n["default"]=c.exports},"598c":function(t,n,e){},ef74:function(t,n,e){"use strict";e("598c")}}]);