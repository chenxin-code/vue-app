(window.webpackJsonp=window.webpackJsonp||[]).push([[493],{"A+Ag":function(t,a,e){},eKAE:function(t,a,e){"use strict";e.r(a),e("5+UC");var i=e("05lO"),s=e("qXmS"),n=(e("L2JU"),{name:"answerList",mixins:[s.a],data:function(){return{url:"",id:"",detailData1:!1,answerList:[],createTime:"",validityTime:"",jiangList:[],detailId:"",ouCode:""}},mounted:function(){this.loadData(),this.Intercept()},methods:{detail:function(t){var a=this;a.detailData1=!0,-1==t.indexOf("&quot")?(JSON.parse(t)||[]).forEach((function(t){a.jiangList=a.jiangList.concat(t.activityPrize)})):a.jiangList=[]},dati:function(t){var a=this;a.detailId=t.id,a.ouCode=t.ouCode,console.log(111,t);var e={id:a.detailId,token:this.$store.state.login.token,ouCode:a.ouCode};console.log(e),a.participateData(e).then((function(t){console.log(t),"success"===t.data.result?a.$router.push({path:"/answer",query:{subId:a.detailId}}):Object(i.a)(t.data.info)}))},closeDetail:function(){this.detailData1=!1},formatDate:function(t){var a;return(a=new Date(t)).getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate()},loadData:function(){var t=this,a={token:this.$store.state.login.token};t.listData(a).then((function(a){a.data.result&&(t.answerList=a.data.data||[],t.answerList.forEach((function(a){console.log(a.createTime);var e=new Date(a.createTime);t.formatDate(e),t.createTime=t.formatDate(e),t.validityTime=a.startTime+"至"+a.endTime})))}))},Intercept:function(){var t=this.url||window.location.href;console.log(t);var a=t.substr(t.indexOf("?"));console.log(a);var e=a.slice(1).split("=");console.log(e[1]),this.id=e[1]}},computed:{},components:{},watch:{}}),l=(e("qKYF"),e("KHd+")),o=Object(l.a)(n,(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"body"},[e("nav-top",{attrs:{title:"每日答题"},on:{backEvent:function(a){return t.$router.go(-1)}}},[e("div",{staticClass:"shareBox"},[e("div",[e("router-link",{attrs:{to:"/answerHistory"}},[e("i",{staticClass:"icon iconfont mall-dingdan"})])],1)])]),t._v(" "),e("nav-content",[e("div",{staticClass:"containDiv"},[t.answerList.length>0?e("div",{staticClass:"contain"},t._l(t.answerList,(function(a,i){return e("div",[2==a.serviceType?e("div",{staticClass:"publicInvoice"},[e("p",{staticClass:"p"},[e("span",[t._v(t._s(a.title))]),e("span",[t._v("未答")])]),t._v(" "),e("van-cell-group",[e("van-field",{attrs:{value:t.formatDate(a.createTime),disabled:"",label:"派发时间"}}),t._v(" "),e("van-field",{attrs:{disabled:"",label:"订单编号"},model:{value:a.ouCode,callback:function(e){t.$set(a,"ouCode",e)},expression:"item.ouCode"}}),t._v(" "),e("van-field",{attrs:{disabled:"",label:"订单类型"},model:{value:a.orderType,callback:function(e){t.$set(a,"orderType",e)},expression:"item.orderType"}}),t._v(" "),e("van-field",{attrs:{disabled:"",label:"有效期"},model:{value:t.validityTime,callback:function(a){t.validityTime=a},expression:"validityTime"}}),t._v(" "),e("div",{staticClass:"publicInvoiceDiv",on:{click:function(e){return t.detail(a.questionPrize)}}},[e("van-field",{attrs:{label:"问券奖品",disabled:""}}),t._v(" "),e("span",{staticClass:"img"},[e("img",{attrs:{src:"/static/image/invoice/arrows.png",alt:""}})])],1),t._v(" "),e("van-field",{staticClass:"neirong",attrs:{disabled:"",label:"问券说明"},model:{value:a.remark,callback:function(e){t.$set(a,"remark",e)},expression:"item.remark"}})],1),t._v(" "),e("div",{staticClass:"answerd",on:{click:function(e){return t.dati(a)}}},[e("a",{staticClass:"theme_bg_red"},[t._v("去答题")])])],1):t._e(),t._v(" "),1==a.serviceType?e("div",{staticClass:"publicInvoice"},[e("p",{staticClass:"p"},[e("span",[t._v(t._s(a.title))]),e("span",[t._v("未答")])]),t._v(" "),e("van-cell-group",[e("van-field",{attrs:{disabled:"",label:"开始时间"},model:{value:a.startTime,callback:function(e){t.$set(a,"startTime",e)},expression:"item.startTime"}}),t._v(" "),e("van-field",{attrs:{disabled:"",label:"结束时间"},model:{value:a.endTime,callback:function(e){t.$set(a,"endTime",e)},expression:"item.endTime"}}),t._v(" "),e("div",{staticClass:"publicInvoiceDiv",on:{click:function(e){return t.detail(a.questionPrize)}}},[e("van-field",{attrs:{label:"问券奖品",disabled:""}}),t._v(" "),e("span",{staticClass:"img"},[e("img",{attrs:{src:"/static/image/invoice/arrows.png",alt:""}})])],1),t._v(" "),e("van-field",{staticClass:"neirong",attrs:{disabled:"",label:"问券说明"},model:{value:a.remark,callback:function(e){t.$set(a,"remark",e)},expression:"item.remark"}})],1),t._v(" "),e("div",{staticClass:"answerd",on:{click:function(e){return t.dati(a)}}},[e("a",{staticClass:"theme_bg_red"},[t._v("去答题")])])],1):t._e()])})),0):t._e(),t._v(" "),0==t.answerList.length?e("div",{staticClass:"contain"},[e("span",{staticClass:"emptyState"},[t._v("暂无列表")])]):t._e()]),t._v(" "),t.detailData1?e("div",{staticClass:"detailModal"},[e("div",{staticClass:"detailDiv"},[e("div",{staticClass:"divTitle"},[e("p",{staticClass:"title-p"},[t._v("问卷奖品")]),t._v(" "),e("div",{staticClass:"closeBtn",on:{click:t.closeDetail}},[e("img",{attrs:{src:"static/image/invoice/close-btn.png",alt:""}})])]),t._v(" "),e("ul",[t._l(t.jiangList,(function(a,i){return t.jiangList.length>0?e("li",{key:i},[e("img",{attrs:{src:a.prizeImgUrl,alt:""}}),t._v(" "),e("span",[t._v(t._s(a.prizeName))]),t._v(" "),e("span",[t._v(t._s(a.prizeNum))])]):t._e()})),t._v(" "),0==t.jiangList.length?e("p",{staticClass:"pNull"},[t._v("暂无奖品")]):t._e()],2)])]):t._e()])],1)}),[],!1,null,"4964878e",null);a.default=o.exports},qKYF:function(t,a,e){"use strict";var i=e("A+Ag");e.n(i).a},qXmS:function(t,a,e){"use strict";a.a={methods:{participateData:function(t){return this.$http.post("/app/json/questionaire/startAnswer",t)},questionData:function(t){return this.$http.post("/app/json/questionaire/appUserConfig",t)},commitData:function(t){return this.$http.post("/app/json/questionaire/dailyAnswer",t)},prizeData:function(t){return this.$http.post("/app/json/questionaire/completeAct",t)},listData:function(t){return this.$http.post("/app/json/questionaire/findDailyAnswerByuserId",t)},historyData:function(t){return this.$http.post("/app/json/questionaire/historyDailyAnswerList",t)},historydetailData:function(t){return this.$http.post("/app/json/questionaire/questionaireDetail",t)}}}}}]);