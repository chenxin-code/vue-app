(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-62c5c09a"],{8290:function(t,e,i){"use strict";i("d0b7")},d0b7:function(t,e,i){},da54:function(t,e,i){"use strict";i.r(e);var l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"live-stream"},[i("div",{staticClass:"my-overlay",on:{click:function(e){return e.stopPropagation(),t.overlayEvent.apply(null,arguments)}}}),i("div",{attrs:{id:"stream_div"}})])},a=[],n=(i("ac1f"),i("1276"),i("acd8"),{name:"live-stream",components:{},data:function(){return{lbId:"",detail:{}}},methods:{overlayEvent:function(){this.player.volume(1)},getDetailInfo:function(){var t=this;if(""!=this.lbId){this.$Loading.open();var e="/app/json/live_broadcast/detail",i={lbId:this.lbId};this.$http.post(e,i).then((function(e){t.$Loading.close();var i=e.data;0==i.status?(t.detail=i.data,t.initPlayer()):t.$Toast(i.info)}),(function(e){t.$Loading.close(),t.$Toast("获取数据失败")}))}else this.$Toast("没有获取到直播ID！")},getVideoStyle:function(t){var e=document.documentElement.clientWidth,i=document.documentElement.clientHeight,l=t.resolution,a=[];if(l&&""!=l&&(a=l.split("*")),a&&2==a.length){var n=parseFloat(a[0]),o=parseFloat(a[1]);if(n>0&&o>0){var s=e/n,d=i/o;s>d?(t.fullVideoWidth=e,t.fullVideoHeight="auto"):(t.fullVideoWidth="auto",t.fullVideoHeight=i)}}else t.fullVideoWidth=e,t.fullVideoHeight=i},initPlayer:function(){this.getVideoStyle(this.detail);var t="stream_div",e=this.detail.fullVideoWidth,i=this.detail.fullVideoHeight;this.player=new TcPlayer(t,{m3u8:this.detail.pullHlsUrl,flv:this.detail.pullFlvUrl,autoplay:!0,flash:!1,controls:"none",poster:this.detail.lbImg,width:e,height:i,listener:function(t){"error"==t.type||"loadeddata"==t.type||t.type}}),this.player.volume(0)}},created:function(){},mounted:function(){this.lbId=this.$route.query.lbId||"",this.getDetailInfo()}}),o=n,s=(i("8290"),i("0c7c")),d=Object(s["a"])(o,l,a,!1,null,"fd5a5888",null);e["default"]=d.exports}}]);