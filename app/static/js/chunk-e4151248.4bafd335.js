(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e4151248"],{2336:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cancel-user login2"},[n("nav-top",{on:{backEvent:t.backEvent}}),n("nav-content",[n("div",{staticClass:"content"},[t.isSuccess?n("div",{staticClass:"success"},[n("div",{staticClass:"tip"},[n("van-icon",{attrs:{name:"checked",color:"#00c200",size:"50"}}),n("span",[t._v("账号"),n("i",[t._v(t._s(t.phone(t.userInfo.phone)))]),t._v(" 已成功注销")])],1),n("div",{staticClass:"common-btn theme_bg_red theme_font_white mt100",on:{click:t.goHome}},[t._v("前往APP首页")])]):n("div",{staticClass:"haveHand"},[n("span",[t._v("短信验证码将发送至 "),n("i",[t._v(t._s(t.phone(t.userInfo.phone)))])]),n("van-field",{attrs:{"label-width":"60px",center:"",size:"large",label:"验证码",placeholder:"请输入验证码"},scopedSlots:t._u([{key:"button",fn:function(){return[n("count-button",{ref:"countBtn",staticClass:"theme_standard_font",attrs:{phone:t.userInfo.phone},on:{getSmsEvent:t.getMsgCode}})]},proxy:!0}],null,!1,2983719552),model:{value:t.verifyCode,callback:function(e){t.verifyCode=e},expression:"verifyCode"}}),n("div",{staticClass:"common-btn theme_bg_red theme_font_white mt100",on:{click:t.cancelRequest}},[t._v("确定")])],1)])])],1)},s=[],i=n("5530"),c=(n("ac1f"),n("5319"),n("2f62")),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("button",{staticClass:"btn_vercode",attrs:{disabled:t.btnStatus,size:"small",type:"primary"},on:{click:t.loadVerCode}},[t._v("  | "+t._s(t.buttonCode)+" ")])])},u=[],r=(n("a9e3"),n("4795"),{name:"vercodebtn",props:{phone:[String,Number]},data:function(){return{buttonCode:"获取验证码",sec:60,btnStatus:!1}},methods:{loadVerCode:function(){("no"===this.phone||this.validatePhone())&&this.$emit("loadVerCode")},countDown:function(){var t=this,e=t.sec;0===e?t.reset():(e--,t.sec=e,t.btnStatus=!0,t.buttonCode="".concat(e,"s重新发送"),clearTimeout(this.timer),this.timer=setTimeout((function(){t.countDown()}),1e3))},validatePhone:function(){var t=this;return!(""===t.phone||!/^1(3|4|5|7|8|9)\d{9}$/.test(t.phone))||(this.$Toast("手机号不正确"),!1)},reset:function(){clearTimeout(this.timer),this.buttonCode="获取验证码",this.sec=60,this.btnStatus=!1}},mounted:function(){},watch:{countDownFlag:function(t){t&&(this.countDown(),this.btnStatus=!0)},codeBtnStatus:function(t){this.btnStatus=this.codeBtnStatus}}}),h=r,d=(n("6675"),n("0c7c")),l=Object(d["a"])(h,a,u,!1,null,"4b27abdd",null),f=(l.exports,n("b90b")),p={name:"authentication",components:{CountButton:f["a"]},data:function(){return{isSuccess:!1,verifyCode:""}},computed:Object(i["a"])({},Object(c["c"])(["userInfo"])),methods:{phone:function(t){var e=/(\d{3})\d*(\d{4})/;return t.replace(e,"$1****$2")},getMsgCode:function(t,e){var n=this;if(""!=this.phone)if(this.$util.checkMobile(this.userInfo.phone)){this.$refs.countBtn.startTime(),this.$Loading.open();var o="/app/json/login/sendSms",s={smsType:"1020",phone:this.userInfo.phone,imgVerifyCode:t,uuid:e};this.$http.post(o,s).then((function(t){n.$Loading.close();var e=t.data;0==e.status?n.$Toast("获取验证码成功"):(n.$refs.countBtn.resetClock(),n.$Toast(e.info?e.info:"获取短信验证码失败"))}),(function(t){n.$Loading.close(),n.$refs.countBtn.resetClock(),n.$Toast("系统运行过程中遇到问题，请稍候再试")}))}else this.$Toast("请输入正确的手机号码！");else this.$Toast("手机号不能为空!")},cancelRequest:function(){var t=this;if(this.verifyCode){this.$Loading.open();var e="/app/json/user/cancelUser",n={verifyCode:this.verifyCode,token:this.$store.state.login.token};this.$http.post(e,n).then((function(e){t.$Loading.close();var n=e.data;0==n.status?(t.$Toast("注销成功！"),t.isSuccess=!0):t.$Toast(n.info)}),(function(e){t.$Loading.close(),t.$Toast("获取数据失败")}))}else this.$Toast("请输入验证码")},backEvent:function(){this.isSuccess?this.$userCenter.loginOut(-3):this.$router.go(-1)},goHome:function(){this.$userCenter.loginOut(-3)}},created:function(){}},v=p,m=(n("44f0"),Object(d["a"])(v,o,s,!1,null,"07461693",null));e["default"]=m.exports},"44f0":function(t,e,n){"use strict";n("80fe")},4706:function(t,e,n){},6675:function(t,e,n){"use strict";n("4706")},"80fe":function(t,e,n){}}]);