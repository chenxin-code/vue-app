(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-94cfc22a","chunk-90808508"],{1726:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"agreement-content"},[a("div",{staticClass:"content",domProps:{innerHTML:t._s(t.agreementContent)}})])},i=[],o={name:"agreement-content",components:{},props:["value","noloading"],data:function(){return{agreementContent:""}},methods:{getAgreement:function(){var t,e,a=this;"true"!=this.noloading&&this.$Loading.open(),18==this.value?(t="/app/json/news/getNewsList",e={values:52}):(t="/app/json/news/getList",e={token:this.$store.state.login.token,value:this.value}),this.$http.post(t,e).then((function(t){"true"!=a.noloading&&a.$Loading.close();var e=t.data,s=e.data;if(s&&""!=s){var i=s[0];a.agreementContent=i.content}}),(function(t){"true"!=a.noloading&&a.$Loading.close(),a.$Toast("ËØ∑Ê±ÇÊï∞ÊçÆÂ§±Ë¥•ÔºÅ")}))}},mounted:function(){this.getAgreement()},created:function(){}},r=o,n=(a("ad60"),a("0c7c")),c=Object(n["a"])(r,s,i,!1,null,"9f41190a",null);e["a"]=c.exports},"17c5":function(t,e,a){},1868:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"agreement theme_bg_white"},[a("nav-top",{attrs:{title:t.topTitle},on:{backEvent:t.backEvent}}),a("nav-content",[a("div",{staticClass:"content"},[a("AgreementContent",{attrs:{value:t.value}})],1)])],1)},i=[],o=a("1726"),r={name:"agreement",components:{AgreementContent:o["a"]},props:["propsValue"],data:function(){return{value:"",topTitle:"ÂçèËÆÆ"}},methods:{backEvent:function(){this.propsValue?this.$emit("backEvent"):this.$router.go(-1)}},created:function(){this.value=this.$route.query.value?this.$route.query.value:3,this.topTitle="ÂçèËÆÆ",this.propsValue&&(this.value=this.propsValue),3!=this.$store.state.webtype&&(9==this.value?(this.topTitle="ÂèëÁ•®È°ªÁü•",document.title="ÂèëÁ•®È°ªÁü•"):10==this.value?(this.topTitle="ÁßØÂàÜËßÑÂàô",document.title="ÁßØÂàÜËßÑÂàô"):11==this.value?(this.topTitle="ÁßØÂàÜ‰ΩøÁî®ËßÑÂàô",document.title="ÁßØÂàÜ‰ΩøÁî®ËßÑÂàô"):17==this.value?(this.topTitle="Áî®Êà∑ÂçèËÆÆ",document.title="Áî®Êà∑ÂçèËÆÆ"):18==this.value?(this.topTitle="ÊçêËµ†ÂçèËÆÆ",document.title="ÊçêËµ†ÂçèËÆÆ"):63==this.value?(this.topTitle="ÈöêÁßÅÂçèËÆÆ",document.title="ÈöêÁßÅÂçèËÆÆ"):(65==this.value||80==this.value)&&(this.topTitle="‰ΩøÁî®ËßÑÂàô",document.title="‰ΩøÁî®ËßÑÂàô"))}},n=r,c=(a("be46"),a("0c7c")),l=Object(c["a"])(n,s,i,!1,null,"34da5652",null);e["default"]=l.exports},"52b1":function(t,e,a){},"55e9":function(t,e,a){},ad60:function(t,e,a){"use strict";a("52b1")},b3cb:function(t,e,a){"use strict";a("55e9")},be46:function(t,e,a){"use strict";a("17c5")},c9a1:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"placeorder mall2"},[t.noNavTop?t._e():s("nav-top",{on:{backEvent:function(e){return t.$router.go(-1)}}}),t.complete?s("nav-content",{style:t.getContentTop()},[s("div",{staticClass:"flex-div"},[s("div",{staticClass:"scroll-div"},[2==t.deliveryType&&1==t.occurData.needAddress||1==t.deliveryType&&"wish"!=t.$route.query.entryType?s("div",{staticClass:"block-div no-padding-bottom"},[t.$store.state.mall2.selectAddress.id>0&&2==t.deliveryType?s("div",{on:{click:t.toSelectAddress}},[s("div",{staticClass:"flex-row"},[s("div",{staticClass:"name theme_font_black"},[t._v(t._s(t.$store.state.mall2.selectAddress.receiverName))]),s("div",{staticClass:"name theme_font_black"},[t._v(t._s(t.$store.state.mall2.selectAddress.mobile))]),1==t.$store.state.mall2.selectAddress.isDefault?s("div",{staticClass:"act-item-full theme_standard_bg theme_font_white"},[t._v("ÈªòËÆ§ ")]):t._e()]),s("div",{staticClass:"flex-row"},[s("div",{staticClass:"full theme_font_tint font-small"},[t._v(t._s(t.$store.state.mall2.selectAddress.addressFull)+" ")]),s("div",[s("i",{staticClass:"iconfont mall-gengduojiantou theme_font_tint icon-font"})])])]):t._e(),t.$store.state.mall2.selectAddress.id>0||2!=t.deliveryType?t._e():s("div",{on:{click:t.toSelectAddress}},[s("div",{staticClass:"flex-row"},[t._v("ËØ∑ÈÄâÊã©Âú∞ÂùÄ‰ø°ÊÅØ")])]),t.$store.state.mall2.zitiAddress.id>0&&1==t.deliveryType?s("div",{on:{click:t.toSelectZitiAddress}},[s("div",{staticClass:"pickup-shop"},[s("div",{staticStyle:{flex:"1"}},[s("div",{staticClass:"flex-row"},[s("div",{staticClass:"name theme_font_black"},[t._v("Ëá™ÊèêÂ∫óÈì∫Ôºö"+t._s(t.$store.state.mall2.zitiAddress.storeName)+" ")])]),s("div",{staticClass:"flex-row"},[s("div",{staticClass:"full theme_font_tint font-small",staticStyle:{"line-height":"1.4"}},[t._v(" "+t._s(t.$store.state.mall2.zitiAddress.addressFull)+" "+t._s(t.$store.state.mall2.zitiAddress.phone&&""!=t.$store.state.mall2.zitiAddress.phone?"("+t.$store.state.mall2.zitiAddress.phone+")":"")+" ")])])]),s("div",[s("i",{staticClass:"iconfont mall-gengduojiantou theme_font_tint icon-font"})])])]):t._e(),s("div",{staticClass:"colorfulline"},[s("img",{attrs:{src:"static/image/mall2/colorfulline.png"}})])]):t._e(),1==t.deliveryType?s("div",{staticClass:"block-div"},[s("div",{staticClass:"flex-row"},[s("div",{staticClass:"title theme_font_black"},[t._v("ÊèêË¥ß‰∫∫‰ø°ÊÅØ")])]),s("div",{staticClass:"flex-row flex-row-smallbottom"},[s("div",{staticClass:"label-middle theme_font_common"},[t._v("ÂßìÂêç")]),s("div",{staticClass:"full"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.$store.state.mall2.pickUpUser,expression:"$store.state.mall2.pickUpUser"}],staticClass:"row-input",attrs:{placeholder:"ËØ∑ËæìÂÖ•ÊèêË¥ß‰∫∫ÂßìÂêç"},domProps:{value:t.$store.state.mall2.pickUpUser},on:{input:function(e){e.target.composing||t.$set(t.$store.state.mall2,"pickUpUser",e.target.value)}}})])]),s("div",{staticClass:"flex-row"},[s("div",{staticClass:"label-middle theme_font_common"},[t._v("ËÅîÁ≥ªÊñπÂºè")]),s("div",{staticClass:"full"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.pickupPhone,expression:"pickupPhone"}],staticClass:"row-input",attrs:{placeholder:"ËØ∑ËæìÂÖ•ÊèêË¥ß‰∫∫ËÅîÁ≥ªÊñπÂºè"},domProps:{value:t.pickupPhone},on:{input:function(e){e.target.composing||(t.pickupPhone=e.target.value)}}})])]),0==t.hasShengxian&&"false"!=t.$store.state.globalConfig.order_pickup_time_selecter_show?s("div",{staticClass:"flex-row",on:{click:t.openPicker}},[s("div",{staticClass:"label-middle theme_font_common"},[t._v("Ëá™ÊèêÊó∂Èó¥")]),t.pickupTime?s("div",{staticClass:"full theme_font_common",class:{theme_font_tint_i:""==t.pickupTime},staticStyle:{"text-align":"right"}},[t._v(t._s(t.pickerConfirm(t.pickupTime))+" ")]):t._e(),s("div",[s("i",{staticClass:"iconfont mall-gengduo more-icon theme_font_tint"})])]):t._e(),1==t.hasShengxian?s("div",{staticClass:"flex-row"},[s("div",{staticClass:"pick-up-tip"},[t._v(" ÊèêË¥ßÊó∂Èó¥Ôºö"+t._s(t.getSelectReceiveTime())+"Âà∞"+t._s(t.getReceiveEndTime())+"ÔºåË∂ÖËøáËá™ÊèêÊó∂Èó¥ÂêéÁ≥ªÁªüÂ∞ÜËá™Âä®ÂèñÊ∂àËÆ¢Âçï"),"0"!=t.$store.state.globalConfig.order_fresh_pickup_cancel_type?s("span",[t._v("Âπ∂ÈÄÄÊ¨æ")]):t._e()])]):"false"!=t.$store.state.globalConfig.order_pickup_cancel_tip_show?s("div",{staticClass:"flex-row"},[s("div",{staticClass:"pick-up-tip"},[t._v("ËØ∑‰∫é"+t._s(t.pickUpEndTime)+"‰πãÂâçÊèêË¥ßÔºåË∂ÖËøáËá™ÊèêÊó∂Èó¥ÂêéÁ≥ªÁªüÂ∞ÜËá™Âä®ÂèñÊ∂àËÆ¢ÂçïÂπ∂ÈÄÄÊ¨æ")])]):t._e()]):t._e(),"wish"==t.$route.query.entryType?s("div",{staticClass:"block-div wish-message-container"},[s("div",{staticClass:"top"},[s("p",{staticClass:"title"},[t._v("ÂØπTAËØ¥ÁöÑËØù")]),s("span",{staticClass:"random-btn",on:{click:function(e){return t.getWishMsg()}}},[t._v("ÈöèÊú∫Êç¢‰∏ÄÂè•")])]),s("div",{staticClass:"msg-input-c"},[s("van-field",{staticClass:"msg-input",attrs:{type:"textarea",placeholder:"ËØ∑ËæìÂÖ•ÊÉ≥ËØ¥ÁöÑËØù"},model:{value:t.wishData.payMsg,callback:function(e){t.$set(t.wishData,"payMsg",e)},expression:"wishData.payMsg"}})],1),s("div",{staticClass:"nick-container"},[s("p",{staticClass:"nick-title"},[t._v("ÁïôË®ÄÊòµÁß∞")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.wishData.payNiceName,expression:"wishData.payNiceName"}],staticClass:"name",attrs:{type:"text",placeholder:"ËØ∑ËæìÂÖ•ÊòµÁß∞"},domProps:{value:t.wishData.payNiceName},on:{input:function(e){e.target.composing||t.$set(t.wishData,"payNiceName",e.target.value)}}})])]):t._e(),"1"==t.occurData.needVirtualUserPhone?s("div",{staticClass:"block-div"},[s("div",{staticClass:"flex-row"},[s("div",{staticClass:"right-margin theme_font_common"},[t._v("Êé•Êî∂Áü≠‰ø°ÁöÑÊâãÊú∫Âè∑")]),s("div",{staticClass:"theme_font_common"},[t._v(t._s(t.$store.state.login.phone))])]),s("div",{staticClass:"flex-row theme_font_tint"},[s("div",{staticClass:"font-small"},[t._v("Ë¥≠‰π∞ÊàêÂäüÂêéÁõ∏ÂÖ≥Áü≠‰ø°‰ºöËá™Âä®ÂèëÈÄÅÂà∞ÊÇ®ÊâãÊú∫‰∏ä")])])]):t._e(),s("div",{staticClass:"block-div"},[s("div",{staticClass:"flex-row",on:{click:t.payWayShow}},[s("div",{staticClass:"label-middle theme_font_common"},[t._v("ÊîØ‰ªòÊñπÂºè")]),s("div",{staticClass:"full"}),s("div",{staticClass:"theme_font_common right-margin"},[t._v(t._s(t.payWayText))]),s("div",[s("i",{staticClass:"iconfont mall-gengduo more-icon theme_font_tint"})])])]),2==t.pageType?s("div",{staticClass:"block-div"},[s("div",{staticClass:"flex-row",on:{click:t.contratWayShow}},[s("div",{staticClass:"label-middle theme_font_common",staticStyle:{width:"100px"}},[t._v("È¢ÑÁ∫¶ÂçïËÅîÁ≥ªÊñπÂºè")]),s("div",{staticClass:"full"}),s("div",{staticClass:"theme_font_common right-margin"},[t._v(t._s(t.contratWayText))]),s("div",[s("i",{staticClass:"iconfont mall-gengduo more-icon theme_font_tint"})])]),"ÈÄâÊã©ËÅîÁ≥ªÊñπÂºè"!=t.contratWayText?s("div",{},[s("van-cell",{attrs:{title:"ÂßìÂêçÔºö",value:t.selectItem.realName}}),s("van-cell",{attrs:{title:"ËÅîÁ≥ªÁîµËØùÔºö",value:t.selectItem.userName}})],1):t._e()]):t._e(),t._l(t.occurData.store,(function(e){return s("div",{staticClass:"block-div"},[s("div",{staticClass:"flex-row"},[s("div",{staticClass:"name"},[t._v(t._s(e.storeName))])]),1==e.storeProData.num?s("div",[t._l(e.storeProData.proArr,(function(e){return s("div",{staticClass:"pro-row"},[s("div",{staticClass:"img-div"},[s("img",{attrs:{src:e.phPictureUrl}})]),s("div",{staticClass:"info-div"},[s("div",{staticClass:"title theme_font_black"},[t._v(t._s(e.productName))]),s("div",{staticClass:"title theme_font_black"},[s("span",[t._v(t._s(e.specs))])]),s("div",{staticClass:"price"},[s("PriceOrder",{attrs:{productData:e}}),"wish"==t.$route.query.entryType?s("van-stepper",{staticClass:"wish-prod-stepper",attrs:{max:t.$route.params.wishProdInfo.saleNumMax,min:t.$route.params.wishProdInfo.saleNumBegin,step:t.$route.params.wishProdInfo.saleNumStep,integer:""},model:{value:e.number,callback:function(a){t.$set(e,"number",a)},expression:"prodata.number"}}):s("span",{staticStyle:{float:"right"}},[t._v("x "+t._s(e.number))])],1)])])})),s("div",{staticClass:"service"},[s("div",{staticClass:"title"},[t._v("‰øùÈöúÊúçÂä°")]),t._l(e.storeProData.serviceArr,(function(e){return s("div",{staticClass:"service-row line_top",on:{click:function(a){return t.toServiceEvent(e)}}},[s("div",{staticClass:"name single-line"},[t._v(t._s(e.productName))]),s("div",{staticClass:"price"},[t._v("¬•"+t._s(t.$util.toDecimal2(e.price))+" x "+t._s(e.number)+" "),s("i",{staticClass:"iconfont mall-gengduojiantou"})])])}))],2)],2):t._e(),e.storeProData.num>1?s("div",{on:{click:function(a){return t.showProsDetailEvent(e)}}},[s("div",{staticClass:"pros-row"},[s("div",{staticClass:"pros-msg"},[s("span",[t._v("ÂÖ±"+t._s(e.storeProData.proNum)+"‰ª∂")]),s("i",{staticClass:"iconfont mall-gengduo more-icon theme_font_tint"})]),t._l(e.storeProData.proArr,(function(e,a){return a<3?s("div",{staticClass:"img-div"},[s("img",{attrs:{src:e.phPictureUrl}})]):t._e()}))],2)]):t._e(),s("div",{staticClass:"flex-row"},[s("div",{staticClass:"label-middle theme_font_common"},[t._v("Â§áÊ≥®")]),s("div",{staticClass:"full"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.remark,expression:"store.remark"}],staticClass:"row-input theme_font_common",attrs:{placeholder:"ËØ∑Áïô‰∏ãÊÇ®ÊÉ≥ËØ¥ÁöÑËØù"},domProps:{value:e.remark},on:{input:function(a){a.target.composing||t.$set(e,"remark",a.target.value)}}})])])])})),s("div",{staticClass:"block-div"},[s("div",{staticClass:"flex-row"},[s("div",{staticClass:"label-middle full theme_font_common"},[t._v("ËÆ¢ÂçïÈáëÈ¢ù")]),s("div",{staticClass:"theme_font_black"},[t._v("Ôø•"+t._s(t.$util.toDecimal2(t.occurData.amount)))])])])],2),s("div",{staticClass:"bottom-btns"},[2==t.deliveryType&&1==t.occurData.needAddress?s("div",{staticClass:"tip theme_bg_yl theme_standard_font theme_light_bg"},[t._v(t._s(t.$store.state.mall2.selectAddress.addressFull)+" ")]):t._e(),"songli"==t.buyType?s("div",{staticClass:"btn theme_standard_bg theme_font_white",on:{click:t.checkProductStock}},[t._v(" Êèê‰∫§Á§ºÂçï ")]):s("div",{staticClass:"btn theme_standard_bg theme_font_white",on:{click:t.checkProductStock}},[t._v("Êèê‰∫§ËÆ¢Âçï")]),s("div",{staticClass:"price"},[Object.keys(t.occurData).length?s("div",{staticClass:"rmb-div"},[s("span",{directives:[{name:"show",rawName:"v-show",value:t.$mallCommon.getOccurShowPrice(t.occurData),expression:"$mallCommon.getOccurShowPrice(occurData)"}],staticClass:"theme_font_red"},[t._v("Ôø•")]),s("span",{directives:[{name:"show",rawName:"v-show",value:t.$mallCommon.getOccurShowPrice(t.occurData),expression:"$mallCommon.getOccurShowPrice(occurData)"}],staticClass:"left-no-space price-big theme_font_red"},[t._v(t._s(t.getTotalPriceDuan(0)))]),s("span",{directives:[{name:"show",rawName:"v-show",value:t.$mallCommon.getOccurShowPrice(t.occurData),expression:"$mallCommon.getOccurShowPrice(occurData)"}],staticClass:"theme_font_red"},[t._v("."+t._s(t.getTotalPriceDuan(1)))]),t._l(t.occurData.digitalList,(function(e,a){return t.$mallCommon.getTotalUsePoints(e)>0?s("div",{staticClass:"digital-div"},[a!=t.$mallCommon.getFirstVartualIndex(t.occurData)||t.$mallCommon.getOccurShowPrice(t.occurData)?s("span",{staticClass:"price-big theme_font_red"},[t._v("+")]):t._e(),s("span",{staticClass:"price-big theme_font_red"},[t._v(t._s(t.$mallCommon.getTotalUsePoints(e)))]),s("span",{staticClass:"theme_font_red"},[t._v(t._s(t.$mallCommon.getTotalUnitStr(e.acctType)))])]):t._e()}))],2):t._e()])]),s("van-popup",{staticClass:"pay-modal",attrs:{position:"bottom"},model:{value:t.showYJChange,callback:function(e){t.showYJChange=e},expression:"showYJChange"}},[s("div",{staticClass:"top"},[s("div",{staticClass:"close-img"},[s("div",{staticClass:"text"},[t._v("ÊòìÊç∑Âç°")]),s("div",{staticClass:"img"},[s("img",{staticClass:"close-btn",attrs:{src:a("fba9"),alt:""},on:{click:function(e){t.showYJChange=!1}}})])])]),s("van-radio-group",{model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[s("van-radio",{staticClass:"title-change",attrs:{"checked-color":"#f80f16",name:"a"},on:{click:t.changeYjCard}},[t._v("‰∏ç‰ΩøÁî®ÊòìÊç∑Âç°")]),t._l(t.cardList,(function(e,a){return s("van-radio",{key:a,attrs:{"checked-color":"#f80f16",name:a},on:{click:function(a){return t.changeYjCard(e)}}},[s("div",{staticClass:"item"},[s("img",{staticClass:"pro-img",attrs:{src:e.cardFrontPicUrl,alt:""}}),s("div",{staticClass:"card-content"},[s("p",{staticClass:"top"},[s("span",{staticClass:"card-name"},[t._v(t._s(e.cardName))]),s("span",{staticClass:"card-type"},[t._v(t._s(e.cardTypeStr))])]),s("p",{staticClass:"mid-price"},[s("span",{staticClass:"icon"},[t._v("‰ΩôÈ¢ùÔºöÔø•")]),t._v(t._s(e.balance))]),s("div",{staticClass:"btm-content"},[s("span",{staticClass:"card-number"},[t._v("Âç°Âè∑Ôºö"+t._s(e.cardNo))])])])])])}))],2),s("div",{staticClass:"pay-confirm",on:{click:t.queryBtn}},[t._v("Á°ÆÂÆö")])],1)],1)]):t._e(),t.payWayPopShow?s("pop-view",{on:{closeEvent:t.popClose}},[s("div",{staticClass:"pop-body"},[s("div",{staticClass:"pop-title theme_font_common"},[t._v("ËØ∑ÈÄâÊã©ÊîØ‰ªòÊñπÂºè")]),s("div",{staticClass:"items-div pop-scroll-div"},t._l(t.payWays,(function(e){return s("div",{staticClass:"item theme_font_common theme_bg_white_ef",class:{theme_light_bg:t.payWaySelected==e.tag,theme_standard_font_i:t.payWaySelected==e.tag,theme_standard_bdr_i:t.payWaySelected==e.tag},on:{click:function(a){return t.payWayEvent(e)}}},[t._v(t._s(e.text)+" ")])})),0),s("div",{staticClass:"bottom-btn theme_font_white theme_standard_bg bottom-space",on:{click:t.popSureEvent}},[t._v("Á°ÆÂÆö ")])])]):t._e(),t.payWayPopShow1?s("pop-view",{on:{closeEvent:t.popClose2}},[s("div",{staticClass:"pop-body"},[s("div",{staticClass:"pop-title theme_font_common"},[t._v("ËØ∑ÈÄâÊã©ÊîØ‰ªòÊñπÂºè")]),s("div",{staticClass:"items-div pop-scroll-div"},t._l(t.payWays1,(function(e,a){return s("div",{staticClass:"item theme_font_common theme_bg_white_ef",class:{theme_light_bg:t.payWaySelected==a,theme_standard_font_i:t.payWaySelected==a,theme_standard_bdr_i:t.payWaySelected==a},on:{click:function(s){return t.payWayEvent1(e,a)}}},[t._v(t._s(e.text)+" ")])})),0),s("div",{staticClass:"bottom-btn theme_font_white theme_standard_bg bottom-space",on:{click:t.popSureEvent2}},[t._v("Á°ÆÂÆö ")])])]):t._e(),t.contratWayPopShow?s("pop-view",{on:{closeEvent:t.popClose1}},[s("div",{staticClass:"pop-body"},[s("div",{staticClass:"pop-title theme_font_common"},[t._v("ËØ∑ÈÄâÊã©ËÆ§ËØÅ‰ø°ÊÅØ")]),s("div",{staticClass:"items-div pop-scroll-div"},[s("van-radio-group",{model:{value:t.radio1,callback:function(e){t.radio1=e},expression:"radio1"}},[s("van-cell-group",t._l(t.contratWayList,(function(e,a){return s("van-cell",{key:a,attrs:{title:"",clickable:""},on:{click:function(s){return t.changePer(e,a)}},scopedSlots:t._u([{key:"icon",fn:function(){return[s("div",{staticClass:"per-con"},[s("div",{staticClass:"title"},[t._v(t._s(1==e.type?"‰ºÅ‰∏ö":"‰∏™‰∫∫"))]),e.userName?s("div",{staticClass:"detail"},[s("div",{staticClass:"name"},[t._v("ÂßìÂêçÔºö"+t._s(e.realName))]),s("div",{staticClass:"phone"},[t._v("ÊâãÊú∫Âè∑Ôºö"+t._s(e.userName))])]):s("div",{staticClass:"detail"},[s("div",{staticClass:"name"},[t._v("ÊöÇÊú™"+t._s(1==e.type?"‰ºÅ‰∏öÂõ¢Ë¥≠":"ÂÆûÂêç")+"ËÆ§ËØÅ,ÁÇπÂáª "),s("span",{staticStyle:{color:"#8080FF"},on:{click:function(a){return t.auther(e.type)}}},[t._v("ÂâçÂæÄËÆ§ËØÅ")])])])])]},proxy:!0},{key:"right-icon",fn:function(){return[s("van-radio",{attrs:{name:a}})]},proxy:!0}],null,!0)})})),1)],1)],1)])]):t._e(),t.showProsDetail?s("pop-view",{on:{closeEvent:function(e){t.showProsDetail=!1}}},[s("div",{staticClass:"pop-body"},[s("div",{staticClass:"pop-title theme_font_common"},[t._v("ÂïÜÂìÅÊòéÁªÜ")]),s("div",{staticClass:"pop-scroll-div"},[t._l(t.currentStore.storeProData.proArr,(function(e){return s("div",{staticClass:"pro-row"},[s("div",{staticClass:"img-div"},[s("img",{attrs:{src:e.phPictureUrl}})]),s("div",{staticClass:"info-div"},[s("div",{staticClass:"title-min theme_font_black"},[t._v(t._s(e.productName))]),s("div",{staticClass:"title-min theme_font_gray"},[s("span",{staticClass:"font-small"},[t._v(t._s(e.specs))])]),s("div",{staticClass:"price"},[s("PriceOrder",{attrs:{productData:e}}),s("span",{staticStyle:{float:"right"}},[t._v("x "+t._s(e.number))])],1)])])})),s("div",{staticClass:"service"},[s("div",{staticClass:"title"},[t._v("‰øùÈöúÊúçÂä°")]),t._l(t.currentStore.storeProData.serviceArr,(function(e){return s("div",{staticClass:"service-row line_top",on:{click:function(a){return t.toServiceEvent(e)}}},[s("div",{staticClass:"name single-line"},[t._v(t._s(e.productName))]),s("div",{staticClass:"price"},[t._v("¬•"+t._s(t.$util.toDecimal2(e.price))+" x "+t._s(e.number)+" "),s("i",{staticClass:"iconfont mall-gengduojiantou"})])])}))],2)],2)])]):t._e(),s("mt-datetime-picker",{ref:"dateDom",attrs:{type:"date",startDate:new Date,endDate:t.getEndDate(),"year-format":"{value} Âπ¥","month-format":"{value} Êúà","date-format":"{value} Êó•"},model:{value:t.pickupTime,callback:function(e){t.pickupTime=e},expression:"pickupTime"}}),t.showAgreement?s("Agreement",{attrs:{propsValue:9},on:{backEvent:function(e){t.showAgreement=!1}}}):t._e(),t.showPointsRule?s("Agreement",{attrs:{propsValue:11},on:{backEvent:function(e){t.showPointsRule=!1}}}):t._e()],1)},i=[],o=(a("e7e5"),a("d399")),r=a("5530"),n=(a("a9e3"),a("e25e"),a("0d03"),a("4160"),a("159b"),a("c975"),a("ac1f"),a("1276"),a("b0c0"),a("acd8"),a("99af"),a("5319"),a("662b")),c=a("5edf"),l=a("41ca"),u=(a("b695"),a("efff")),p=a("590c"),d=a("1868"),h=(a("19e7"),{name:"placeorder",components:{PriceOrder:p["a"],Agreement:d["default"]},data:function(){return{contactFlag:!1,contratWayList:[],isApplyPriceFlag:!1,paramsData:{},payWays:[{text:"Á∫ø‰∏ãÂØπÂÖ¨ÊîØ‰ªò",tag:"0"},{text:"Âú®Á∫øÊîØ‰ªò",tag:"1"}],payWays1:[{text:"Á∫ø‰∏ãÂØπÂÖ¨ÊîØ‰ªò",tag:"0"},{text:"Âú®Á∫øÊîØ‰ªò",tag:"1"}],payType:0,contratWayText:"ÈÄâÊã©ËÅîÁ≥ªÊñπÂºè",payWaySelected:1,payWayText:"Âú®Á∫øÊîØ‰ªò",payWayPopShow:!1,contratWayPopShow:!1,usePoints:!1,payDigitals:[],useInvoice:!1,lastRes:{},pointsGain:0,occurData:{},usedCoupons:[],invoiceData:null,invoiceInfo:"",currentInvoice:{},proImgArr:[],showProsDetail:!1,pickupPhone:this.$store.state.userInfo.phone,pickupTime:"",currentStore:{},isFirst:!0,referrer:"",canEditReferrer:!0,scanCode:"",showAgreement:!1,showPointsRule:!1,digitalPWD:"",dictByAlias:[],easyCardId:"",cardBalance:"",showYjPayInfo:!1,cardType:"",showYJChange:!1,radio:1,radio1:0,cardList:[],cardDetails:"",userCanUseDigital:"",cardAmount:"",limitType:"",deliveryType:"",complete:!1,backReloadCoupon:!1,pickUpEndTime:"",hasShengxian:!1,selectItem:{},pageType:null,payWayPopShow1:!1,overFlag:!1,wishData:{payNiceName:"",payMsg:""},buyType:"",lbId:"",lsProductName:"",noNavTop:!1}},computed:{recommendDisabled:function(){return!this.$store.state.globalConfig.recommendDisabled||!Number(this.$store.state.globalConfig.recommendDisabled)}},created:function(){var t=this,e=this.$store.state.globalConfig.order_timeout_pickup_cancel||360;0==parseInt(e)&&(e=360);var a=(new Date).getTime();a+=3600*parseInt(e)*1e3,this.pickUpEndTime=this.$util.getPreTime(a);var s=this.$store.state.globalConfig.acctList||[],i="";if(s.forEach((function(t){"LimitWallet"==t.acctType&&(i=t.startUsing)})),this.limitType=i,this.$route.query.SCREEN)this.getShortAddress(this.$route.query.SCREEN);else{this.complete=!0,this.lastRes=this.$route.params.res?this.$route.params.res:{},this.easyCardId=this.$route.params.easyCardId,this.cardType=this.$route.params.cardType,this.buyType=this.$route.params.buyType||"",this.lbId=this.$route.params.lbId||"",this.lsProductName=this.$route.params.lsProductName||"",this.paramsData=this.$route.params.paramsData?this.$route.params.paramsData:{},this.deliveryType=this.$route.params.deliveryType?this.$route.params.deliveryType:"2";var o=sessionStorage.getItem("USER_NO")||this.$route.params.recommendPhone;if(o&&void 0!=o&&o.length&&(this.referrer=o,this.canEditReferrer=!1),this.$route.query.carts){this.deliveryType=this.$route.query.deliveryType?this.$route.query.deliveryType:"1",this.noNavTop="1"==this.$route.query.noNavTop,this.paramsData={carts:JSON.parse(this.$route.query.carts),userAddress:this.$store.state.mall2.selectAddress,pickupId:this.$route.query.pickupId,userAddressId:this.$store.state.mall2.selectAddress.id,deliveryType:this.deliveryType};var r=sessionStorage.getItem("USER_NO")||this.$route.query.recommendPhone;if(r&&void 0!=r&&r.length&&(this.referrer=r,this.canEditReferrer=!1),this.$route.query.pickupId)this.$mallCommon.getSysStoreById(this.$route.query.pickupId,(function(e){t.$store.state.mall2.zitiAddress=e,sessionStorage.setItem("RHY_Pickup_Address",t.$route.query.pickupId),t._reSettleCart(null),t.$userCenter._setDefaultPickupAddress(e.id)}));else if(this.$route.query.pickupAddress){var n=JSON.parse(this.$route.query.pickupAddress);this.$store.state.mall2.zitiAddress=n,sessionStorage.setItem("RHY_Pickup_Address",this.$route.query.pickupAddress),this._reSettleCart(null),this.$userCenter._setDefaultPickupAddress(n.id)}else this._reSettleCart(null)}else this.$route.params.paramsData?(sessionStorage.setItem("Place_Order_Params",JSON.stringify(this.paramsData)),sessionStorage.setItem("Place_Order_Delivery_Type",this.deliveryType),this.initData()):sessionStorage.getItem("Place_Order_Params")&&(this.paramsData=JSON.parse(sessionStorage.getItem("Place_Order_Params")),this.deliveryType=sessionStorage.getItem("Place_Order_Delivery_Type"),this._reSettleCart(null));"true"==this.limitType&&this.getCardList()}void 0!=this.$store.state.mall2.pickUpUser&&""!=this.$store.state.mall2.pickUpUser||(this.$store.state.mall2.pickUpUser=this.$store.state.login.nickName);var c=this.$store.state.mall2.behalf.referrerInvalidDate;if(c&&void 0!=c&&""!=c){var l=new Date(c).getTime(),u=(new Date).getTime();l>=u&&(this.referrer=this.$store.state.mall2.behalf.referrer)}var p=this.$store.state.globalConfig.order_timeout_pickup_cancel||0,d=new Date;d.setHours(d.getHours()+parseInt(p)),this.pickupTime=d,"wish"==this.$route.query.entryType&&this.getWishMsg(1)},mounted:function(){this.getAuthInfo(),this.pageType=this.$route.query.pageType,this.pageType=2,this.payWaySelected=1,this.payWayText="Âú®Á∫øÊîØ‰ªò",this.noMath()},methods:{auther:function(t){1==t?this.$router.push({path:"/authentication/index",query:{}}):this.$bridgefunc.customPush({path:window.location.origin+"/app-vue/oildrop",isnativetop:"0",superback:1,isVuePage:"0"})},changePer:function(t,e){this.contratWayPopShow=!1,this.selectItem=t,this.radio1=e,1==t.type?this.contratWayText="‰ºÅ‰∏ö":this.contratWayText="‰∏™‰∫∫"},getAuthInfo:function(){var t=this,e={};this.$http.post("/app/json/app_purchase_order/getAuthInfo",e).then((function(e){var a=e.data;0==a.status?(t.contratWayList=e.data.data,t.contratWayList.forEach((function(e,a,s){1==e.type&&(t.selectItem=e,t.contratWayText="‰ºÅ‰∏ö",t.radio1=a)}))):t.$Toast(a.info)}))["catch"]((function(e){t.$Toast(e)}))},toServiceEvent:function(t){var e=this,a="/app/json/product/getThirdServeDetail",s={id:t.thirdServeId};this.$http.post(a,s).then((function(t){var a=t.data;if(0==a.status){var s=a.data.pageUrl;if(""==s)return void e.$Toast("ÊöÇÊó†ËØ¶ÊÉÖÔºÅ");-1!=s.indexOf("?")?s+="&":s+="?",s+="token="+token+"&lng="+store.state.currentLocation.posx+"&lat="+store.state.currentLocation.posy+"&pickupId="+store.state.mall2.zitiAddress.id+"&webtype="+store.state.webtype,window.location.href=s}}))},getSelectReceiveTime:function(){var t=this.$store.state.globalConfig.order_fresh_pickup_timeout_startday||0,e=this.$util.nextDate(t),a=this.$store.state.globalConfig.order_fresh_pickup_timeout_starttime||"09:00:00",s=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()+" "+a;return s},getReceiveEndTime:function(){var t=this.$store.state.globalConfig.order_fresh_pickup_timeout_endday||1,e=this.$util.nextDate(t),a=this.$store.state.globalConfig.order_fresh_pickup_timeout_endtime||"15:00:00",s=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()+" "+a;return s},getShortAddress:function(t){var e=this;this.$request.post("/app/json/short_address/getShortAddress",{code:t}).then((function(t){if(0==t.status){var a=JSON.parse(t.data.addressData);e.deliveryType=a.deliveryType,a.token=e.$store.state.login.token,e.paramsData=a,e._reSettleCart(a.carts)}else e.$toast(t.info)}))},getTotalPriceDuan:function(t){var e=this.$util.toDecimal2(this.occurData.payAmount),a=e.split(".");return a[t]},queryBtn:function(){this.showYJChange=!1,"a"==this.radio?this._reSettleCart(null,""):this._reSettleCart(null,this.cardDetails.cardNo)},getCardList:function(){},changeYjCard:function(t){"a"!=this.radio?(this.cardAmount=t.balance,this.cardDetails=t):(this.cardAmount=0,this.cardDetails="")},getCanNotUseStr:function(t){return 1==t||3==t?"‰ΩôÈ¢ù‰∏çË∂≥":1==t?"ËÆ¢ÂçïÈáëÈ¢ù‰∏çÂ§ü":"Êú™Áü•ÂéüÂõ†"},getDictByAlias:function(){var t=this,e="/app/json/app_dict/getDictByAlias",a={token:this.$store.state.login.token,alias:"rewards_group"};this.$http.post(e,a).then((function(e){var a=e.data;0==a.status&&0!=a.data.length&&(t.dictByAlias=a.data)}))},getDigitalDisplayName:function(t){return this.$mallCommon.accTypeToName(t,"200001")},pointsRuleEvent:function(){this.showPointsRule=!0},getEndDate:function(){var t=this.$store.state.globalConfig.order_timeout_pickup_cancel||0,e=new Date;return t?e.setHours(e.getHours()+parseInt(t)):e.setDate(e.getDate()+14),e},scanCodeFunc:function(){var t=this;this.$bridgefunc.scanCode((function(e){t.scanCode=e.code,t.referrer=e.code}))},getTotalPrice:function(){return this.$util.toDecimal2(this.occurData.payAmount)},getImgArrs:function(t){for(var e=[],a=0;a<t.activity.length;a++)for(var s=t.activity[a].cart,i=0;i<s.length;i++)e.push(s[i].phPictureUrl);for(var o=t.noActivityCart,r=0;r<o.length;r++)e.push(o[r].phPictureUrl);return e},getNoStockImgArrs:function(t){for(var e=[],a=[],s=0;s<t.activity.length;s++)for(var i=t.activity[s].cart,o=0;o<i.length;o++){var r=i[o];if(r.number>r.stockNumber)""!=r.currentSelfActivity&&r.currentSelfActivity.mktActivityId&&""!=r.currentSelfActivity.mktActivityId&&(r.selfActivityId=r.currentSelfActivity.mktActivityId),e.push(r);else{var n={id:"",skuId:r.skuId,storeOuCode:r.storeOuCode,number:this.prodata.number,activityId:r.activityId,proSkuDistributionId:r.proSkuDistributionId||"",checked:r.checked,isGift:r.isGift,spCode:r.spCode};""!=r.currentSelfActivity&&r.currentSelfActivity.mktActivityId&&""!=r.currentSelfActivity.mktActivityId&&(n.selfActivityId=r.currentSelfActivity.mktActivityId),a.push(n)}}for(var c=t.noActivityCart,l=0;l<c.length;l++){var u=c[l];if(u.number>u.stockNumber)""!=u.currentSelfActivity&&u.currentSelfActivity.mktActivityId&&""!=u.currentSelfActivity.mktActivityId&&(u.selfActivityId=u.currentSelfActivity.mktActivityId),e.push(u);else{var p={id:"",skuId:u.skuId,storeOuCode:u.storeOuCode,number:u.number,activityId:u.activityId,proSkuDistributionId:u.proSkuDistributionId||"",checked:u.checked,isGift:u.isGift,spCode:u.spCode};""!=u.currentSelfActivity&&u.currentSelfActivity.mktActivityId&&""!=u.currentSelfActivity.mktActivityId&&(p.selfActivityId=u.currentSelfActivity.mktActivityId),a.push(p)}}return{noStockArr:e,canBuyArr:a}},showFreightDetail:function(){for(var t=[],e=0;e<this.occurData.store.length;e++){var a=this.occurData.store[e],s={};s.storeName=a.storeName,s.freightAmount=a.freightAmount,s.freightDiscountAmount=a.freightDiscountAmount,s.proImgs=this.getImgArrs(a),t.push(s)}l["a"].open({initData:{listData:t},sureEvent:function(){l["a"].close()}})},pickerConfirm:function(t){var e="ÊòüÊúü"+"Â§©‰∏Ä‰∫å‰∏âÂõõ‰∫îÂÖ≠ ".charAt(new Date(t).getDay()),a=this.$util.getMyDate(t);return a+" „Äê"+e+"„Äë"},openPicker:function(){this.$refs.dateDom.open()},showProsDetailEvent:function(t){this.currentStore=t,this.showProsDetail=!0},getPeisongString:function(t){return"0"==t?"Âø´ÈÄíÈÖçÈÄÅ":"1"==t?"‰∫¨‰∏úÈÖçÈÄÅ":"Á¨¨‰∏âÊñπÈÖçÈÄÅ"},toSelectZitiAddress:function(){if("cnooc"!=this.$store.state.globalConfig.app_home_special_flag){for(var t=this.paramsData.carts,e=[],a=0;a<t.length;a++)e.push(t[a].skuId);this.$router.push({path:"/mall2/mypickupaddress",query:{skuIds:JSON.stringify(e)}})}},toSelectAddress:function(){this.$router.push({path:"/mall2/addresslist"})},useInvoiceEvent:function(){var t=this;if(this.useInvoice=!this.useInvoice,this.useInvoice&&null==this.invoiceData){this.$Loading.open();var e="/app/json/order_invoice/loadTwoTypeDefaultUserInvoiceHead",a={token:this.$store.state.login.token};this.$http.post(e,a).then((function(e){t.$Loading.close();var a=e.data;0==a.status?(t.invoiceData=a.data,"personal"==t.invoiceData.current?(t.currentInvoice=t.invoiceData.personal,t.currentInvoice.name=t.invoiceData.personal.title,t.invoiceInfo=t.invoiceData.personal.title,t.currentInvoice.type=0):(t.currentInvoice.type=1,t.currentInvoice=t.invoiceData.company,t.currentInvoice.invoiceTitle=t.invoiceData.company.title,t.invoiceInfo=t.invoiceData.company.title),t.invoiceData.phone=t.$store.state.login.phone,t.invoiceData.email=t.$store.state.userInfo.email,t.invoiceData.name=t.$store.state.userInfo.nickName):t.$Toast(a.info)}),(function(e){t.$Loading.close(),t.$Toast("ËØ∑Ê±ÇÊï∞ÊçÆÂ§±Ë¥•ÔºÅ")}))}},changeInvoice:function(){var t=this;c["a"].open({initData:Object(r["a"])(Object(r["a"])({},this.invoiceData),{},{token:this.$store.state.login.token}),selectedInvoice:function(e){t.currentInvoice=e,0==e.type?(t.invoiceInfo="‰∏™‰∫∫",t.invoiceData.personal.title=e.name,t.invoiceData.personal.userPhone=e.phone,t.invoiceData.personal.userEmail=e.email):(t.invoiceInfo=e.company,t.invoiceData.company.userPhone=e.phone,t.invoiceData.company.userEmail=e.email,t.invoiceData.company.orgTaxNo=e.identifyNumber,t.invoiceData.company.title=e.company),c["a"].close()},invoiceInformation:function(){t.showAgreement=!0}})},reloadSelectedCoupon:function(){if(0!=this.backReloadCoupon){this.backReloadCoupon=!1;var t=this.occurData.couNo;if(this.usedCoupons=[],t.length>0)for(var e=0;e<t.length;e++)this.usedCoupons.push({couNo:t[e]});for(var a=[],s=0;s<this.occurData.userCanUseCoupon.length;s++){var i=this.occurData.userCanUseCoupon[s].couNo;this.occurData.userCanUseCoupon[s].selected=!1;for(var o=0;o<this.usedCoupons.length;o++){var r=this.usedCoupons[o].couNo;if(r==i){this.occurData.userCanUseCoupon[s].selected=!0;break}}a.push(this.occurData.userCanUseCoupon[s])}n["a"].reloadSelectedCoupon(a,[],this.occurData.userCanUseWhenNotSelectCoupon)}},couponEvent:function(){for(var t=this,e=[],a=0;a<this.occurData.userCanUseCoupon.length;a++){var s=this.occurData.userCanUseCoupon[a].couNo;this.occurData.userCanUseCoupon[a].selected=!1;for(var i=0;i<this.usedCoupons.length;i++){var o=this.usedCoupons[i].couNo;if(o==s){this.occurData.userCanUseCoupon[a].selected=!0;break}}e.push(this.occurData.userCanUseCoupon[a])}n["a"].open({initData:{listData:[],userCanNotUseCoupon:this.occurData.userCanNotUseCoupon,userCanUseCoupon:e,userCanUseWhenNotSelectCoupon:this.occurData.userCanUseWhenNotSelectCoupon,type:"use",skuId:"",categoryId:"",storeOuCode:"",token:this.$store.state.login.token,payAmount:this.$util.toDecimal2(parseFloat(this.occurData.payAmount)+parseFloat(this.occurData.couponAmount))},selectedCoupon:function(e){t.usedCoupons=e,t.backReloadCoupon=!0,t._reSettleCart(null)}})},useDigitalEvent:function(t){if(t.userCanUseDigital<=0){var e=this.getCanNotUseStr(t.deductionState);this.$Toast(e+"Ôºå‰∏çÊîØÊåÅ"+this.getDigitalDisplayName(t.acctType)+"ÊîØ‰ªòÔºÅ")}else{var a=t.acctType;if(t.payDigital<=t.fixedDigital){for(var s=[],i=0;i<this.payDigitals.length;i++)this.payDigitals[i].acctType!=a&&s.push(this.payDigitals[i]);this.payDigitals=s,this.payDigitals.push({acctType:a,payDigital:t.userCanUseDigital+t.fixedDigital})}else{for(var o=[],r=0;r<this.payDigitals.length;r++)this.payDigitals[r].acctType!=a?o.push(this.payDigitals[r]):o.push({acctType:a,payDigital:0});this.payDigitals=o}this._reSettleCart(null)}},usePointsEvent:function(){0!=this.occurData.userCanUsePoints?(this.usePoints=!this.usePoints,this._reSettleCart(null)):this.$Toast("ÊÇ®Ê≤°ÊúâÂΩìÂâçËÆ¢ÂçïÂèØÁî®ÁßØÂàÜÔºÅ")},payWayShow:function(){2==this.pageType?this.payWayPopShow1=!0:this.payWayPopShow=!0},contratWayShow:function(){this.contratWayPopShow=!0},payWayEvent:function(t){this.payWaySelected=t.tag,this.payWayText=t.text},payWayEvent1:function(t,e){this.payWaySelected=e,this.payWayText=t.text,"Âú®Á∫øÊîØ‰ªò"==this.payWayText&&(this.payType=1)},popSureEvent:function(){this.payWayPopShow=!1},popSureEvent1:function(){this.contratWayPopShow=!1},popSureEvent2:function(){this.payWayPopShow1=!1},popClose:function(){this.payWayPopShow=!1},popClose2:function(){this.payWayPopShow1=!1},popClose1:function(){this.contratWayPopShow=!1},_reSettleCart:function(t,e){var a=this;this.$Loading.open();var s="/app/json/app_purchase_order/settleCart",i=this.paramsData;if(i.couNo=[],t)i.carts=t;else if(this.usedCoupons.length>0)for(var o=0;o<this.usedCoupons.length;o++)i.couNo.push(this.usedCoupons[o].couNo);else i.couNo.push("-1");i.limitWalletCardNo=e,2==this.deliveryType?""!=this.$store.state.mall2.selectAddress.id&&(i.userAddressId=this.$store.state.mall2.selectAddress.id):i.pickupId=this.$store.state.mall2.zitiAddress.id;for(var r=[],n=0;n<this.payDigitals.length;n++){var c=this.payDigitals[n];"LimitWallet"!=c.acctType&&r.push(c)}i.payDigital=r,i.microStoreCode=this.$route.query.microStoreCode,this.$http.post(s,i).then((function(t){a.$Loading.close();var e=t.data;a.complete=!0,0==e.status?(a.hasShengxian=!1,a.lastRes=e.data,a.paramsData=i,a.initData(),"true"==a.limitType&&a.getCardList(),a.$mallCommon.isExistCanNotAttendActivity(e.data.occur,!0)):(a.$Toast(e.info),a.reloadSelectedCoupon())}),(function(t){a.$Loading.close(),a.$Toast("ËØ∑Ê±ÇÊï∞ÊçÆÂ§±Ë¥•ÔºÅ"),a.reloadSelectedCoupon()}))},checkProductStock:function(){if(2!=this.pageType||this.selectItem.realName)if(this.occurData.store&&0!=this.occurData.store.length){if(1==this.deliveryType){if(void 0==this.$store.state.mall2.pickUpUser||""==this.$store.state.mall2.pickUpUser)return void this.$Toast("ËØ∑ÂÆåÂñÑËá™Êèê‰∫∫‰ø°ÊÅØ");if(""==this.pickupPhone)return void this.$Toast("ËØ∑ÂÆåÂñÑËá™Êèê‰∫∫‰ø°ÊÅØ");this.$bridgefunc.vuexStorage()}if(this.$store.state.mall2.selectAddress.id>0||2!=this.deliveryType||"1"==this.occurData.needVirtualUserPhone){if(this.occurData&&this.occurData.needReferrer&&(!this.referrer||0==this.referrer.length))return this.$Toast("ËØ∑Â°´ÂÜôÊé®Ëçê‰∫∫"),!1;for(var t=0;t<this.payDigitals.length;t++){var e=this.payDigitals[t];if(e.payDigital>0&&e.payDigital>e.userBalanceDigital){var a="ÂèØÁî®";return a+=this.getDigitalDisplayName(e.acctType),a+="‰ΩôÈ¢ù‰∏çË∂≥ÔºÅ",void this.$Toast(a)}}for(var s=[],i=[],r=0;r<this.occurData.store.length;r++){var n=this.occurData.store[r],c={};c.storeName=n.storeName;var l=this.getNoStockImgArrs(n);i=i.concat(l.canBuyArr),c.noStockArr=l.noStockArr,l.noStockArr.length>0&&!0,s.push(c)}if(2==this.pageType){var u=this.$util.toDecimal2(this.occurData.amount);if("ÊèêË¥ß‰ªòÊ¨æ"!=this.payWayText&&u>1e4)return void Object(o["a"])("ËÆ¢ÂçïÈáëÈ¢ùÂ∑≤Ë∂ÖËøá10000ÂÖÉÔºåËØ∑ÈÄâÊã©ÊèêË¥ß‰ªòÊ¨æÊîØ‰ªòÊñπÂºè");this._submitOrder(i)}else this.checkCouponPrice(i)}else this.$Toast("ËØ∑Áª¥Êä§Âπ∂ÈÄâÊã©Êî∂Ë¥ßÂú∞ÂùÄÔºÅ")}else 1==this.deliveryType?this.$Toast("ÂΩìÂâçËá™ÊèêÁÇπÊó†Â∫ìÂ≠òÔºÅ"):this.$Toast("ÂΩìÂâçÂú∞ÂùÄÊó†Â∫ìÂ≠òÔºÅ");else this.$Toast("ËØ∑ÈÄâÊã©È¢ÑÁ∫¶ÂçïËÅîÁ≥ªÊñπÂºèÔºÅ")},checkHighest_recharge:function(t,e){var a=this,s=this,i=this.$util.toDecimal2(this.occurData.amount);if(this.amount=this.$util.toDecimal2(this.occurData.amount),Number(i)>1e4){if("ÊèêË¥ß‰ªòÊ¨æ"!=this.payWayText)return void Object(o["a"])("ËÆ¢ÂçïÈáëÈ¢ùÂ∑≤Ë∂ÖËøá10000ÂÖÉÔºåËØ∑ÈÄâÊã©ÊèêË¥ß‰ªòÊ¨æÊîØ‰ªòÊñπÂºè");s._submitOrder()}else Number(i)>Number(this.$store.state.globalConfig.bulkpurchase_modifyprice)?(this.overFlag=!0,this.$dialog.confirm({title:"ÊèêÁ§∫",confirmButtonText:"Áî≥ËØ∑Êîπ‰ª∑",className:"price-con",getContainer:".placeorder",cancelButtonText:"ÁÆó‰∫ÜÂêß~",message:"ÊÇ®ÁöÑËÆ¢ÂçïÈáëÈ¢ùÂ∑≤Âà∞ËææÊîπ‰ª∑ÈáëÈ¢ù".concat(this.$store.state.globalConfig.bulkpurchase_modifyprice,"ÂÖÉÔºåÂèØÈÄâÊã©ËÅîÁ≥ªÁÆ°ÁêÜÂëòËøõË°åÊîπ‰ª∑ÂêéËøõË°åÊîØ‰ªò")}).then((function(){a.applyPrice(e)}))["catch"]((function(){a.enterNext(e)}))):this.enterNext(e)},enterNext:function(t,e){e?this.$router.replace({path:"/mall2/submitFinished",query:{payInfo:JSON.stringify(t.data),occurOuCode:this.occurData.ouCode,orderCategory:this.paramsData.orderCategory,vipUnitUserCode:this.paramsData.vipUnitUserCode,buyType:this.buyType,deliveryType:this.deliveryType}}):"Âú®Á∫øÊîØ‰ªò"==this.payWayText?this.$router.replace({path:"/mall2/checkstand",query:{payInfo:JSON.stringify(t.data),occurOuCode:this.occurData.ouCode,orderCategory:this.paramsData.orderCategory,vipUnitUserCode:this.paramsData.vipUnitUserCode,buyType:this.buyType,deliveryType:this.deliveryType,type:"app_purchase_order"}}):this.$router.replace({path:"/mall2/submitFinished",query:{payInfo:JSON.stringify(t.data),occurOuCode:this.occurData.ouCode,orderCategory:this.paramsData.orderCategory,vipUnitUserCode:this.paramsData.vipUnitUserCode,buyType:this.buyType,deliveryType:this.deliveryType}})},checkCouponPrice:function(t){var e=this;this.occurData.cashCouponFaceValue>this.occurData.cashCouponAmount?this.$MessageBox.confirm("ÊÇ®ÁöÑ‰ºòÊÉ†Âà∏ÈáëÈ¢ùÊØîËÆ¢ÂçïÈáëÈ¢ùÂ§ßÔºåÁ°ÆÂÆö‰ΩøÁî®ÂêóÔºü","ÊèêÁ§∫",{confirmButtonText:"Á°ÆÂÆö"}).then((function(a){e.checkNeedPwd(t)}))["catch"]((function(t){})):this.checkNeedPwd(t)},checkNeedPwd:function(t){var e=this;if(this.digitalPWD="",this.occurData.needPayPwd){var a=!0;if(a){if("1"==this.occurData.payPwdState)return void this.$Toast("ÊîØ‰ªòÂØÜÁ†ÅÂ∑≤ÈîÅÂÆöÔºåËØ∑Á®çÂêéÂÜçËØïÔºÅ");u["a"].open({initData:{payPwdState:this.occurData.payPwdState},toSettingPwd:function(){e.$router.push({path:"/usercenter/nosetpwd",query:{isSet:0}}),u["a"].close()},inputFinished:function(a){e.digitalPWD=a,e._submitOrder(t),u["a"].close()}})}else this._submitOrder(t)}else this._submitOrder(t)},pustLiveStreamMsg:function(){var t=this,e="/app/json/live_broadcast/comment",a={lbId:this.lbId,content:"„Äê‰∏ãÂçï„ÄëÊàêÂäü‰∏ãÂçï "+this.lsProductName+" üéâüéâüéâ"};this.$http.post(e,a).then((function(e){var a=e.data;0==a.status||t.$Toast(a.info)}),(function(t){}))},_submitOrder:function(t){var e=this,a="/app/json/app_purchase_order/submitOrder",s={token:this.$store.state.login.token,deliverType:this.$route.query.deliveryType?this.$route.query.deliveryType:this.deliveryType,subscOrdReceiver:this.selectItem.realName,subscOrdMobile:this.selectItem.userName,Remark:this.remark,groupFlag:1,microStoreCode:this.$route.query.microStoreCode?this.$route.query.microStoreCode:this.$route.params.paramsData.microStoreCode,amount:JSON.parse(this.$util.toDecimal2(this.occurData.amount)),payType:this.payWaySelected,userAuthModel:this.selectItem,carts:this.$route.query.carts?this.$route.query.carts:this.$route.params.paramsData.carts};1==this.$route.query.deliveryType?s.pickupId=this.$store.state.mall2.zitiAddress.id:s.userAddressId=this.$store.state.mall2.selectAddress.id,this.$Loading.open(),this.$http.post(a,s).then((function(a){e.$Loading.close();var s=a.data;0==s.status?e.checkHighest_recharge(t,s):e.$Toast(s.info)}),(function(t){e.$Loading.close(),e.$Toast("ËØ∑Ê±ÇÊï∞ÊçÆÂ§±Ë¥•ÔºÅ")}))},applyPrice:function(t){var e=this,a=t,s={id:t.data.orderId};this.$http.post("/app/json/app_purchase_order/applyPrice",s).then((function(t){var s=t.data;0==s.status?e.enterNext(a,!0):e.$Toast(s.info)}))["catch"]((function(t){e.$Toast(t)}))},returnStoreProducts:function(t){for(var e=0,a=0,s=[],i=[],o=0;o<t.noActivityCart.length;o++){var r=t.noActivityCart[o];a+=r.number,512==r.productType||1==o||3==o?i.push(r):(e++,s.push(r),6==r.productType&&(this.hasShengxian=!0))}for(var n=0;n<t.activity.length;n++)for(var c=0;c<t.activity[n].cart.length;c++){var l=t.activity[n].cart[c];a+=l.number,512==l.productType?i.push(l):(e++,s.push(l),6==l.productType&&(this.hasShengxian=!0))}var u={num:e,proNum:a,proArr:s,serviceArr:i};t.storeProData=u},initData:function(){if(2==this.$store.state.webtype){var t=sessionStorage.getItem("USER_NO")||sessionStorage.getItem("recommendPhone");t&&t.length&&(this.referrer=t,this.canEditReferrer=!1)}if(this.pointsGain=this.lastRes.pointsGain,this.occurData=this.lastRes.occur[0],!this.occurData)return this.occurData={},void(1==this.deliveryType?this.$Toast("ÂΩìÂâçËá™ÊèêÁÇπÊó†Â∫ìÂ≠òÔºÅ"):this.$Toast("ÂΩìÂâçÂú∞ÂùÄÊó†Â∫ìÂ≠òÔºÅ"));for(var e=0;e<this.occurData.store.length;e++){var a=this.occurData.store[e];this.returnStoreProducts(a)}var s=this.occurData.couNo;if(this.usedCoupons=[],s&&s.length>0)for(var i=0;i<s.length;i++)this.usedCoupons.push({couNo:s[i]});this.payDigitals=[];for(var o=0;o<this.occurData.digitalList.length;o++){var r=this.occurData.digitalList[o];"LimitWallet"==r.acctType&&(this.cardAmount=r.userBalanceDigital,this.userCanUseDigital=r.userCanUseDigital),r.payDigital>r.fixedDigital?this.payDigitals.push({acctType:r.acctType,userBalanceDigital:r.userBalanceDigital,payDigital:r.userCanUseDigital+r.fixedDigital}):this.payDigitals.push({acctType:r.acctType,userBalanceDigital:r.userBalanceDigital,payDigital:r.fixedDigital})}this.reloadSelectedCoupon()},noMath:function(){var t=this,e=!!this.$route.params.noMatch&&this.$route.params.noMatch;e&&this.$MessageBox.confirm("Ê≤°ÊúâÁõ∏ÂÖ≥Âå∫ÂüüÁöÑÊî∂Ë¥ßÂú∞ÂùÄÔºåÊòØÂê¶Ë¶ÅÊ∑ªÂä†Ôºü","ÊèêÁ§∫",{confirmButtonText:"Á°ÆÂÆö"}).then((function(e){t.$router.push({path:"addaddress",query:{type:1,isSave:!0,direct:"direct"}})}))["catch"]((function(t){}))},getWishMsg:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.$http.post("/app/json/wish_order/getRandomWishOrderConfig",{type:2,isDefault:e}).then((function(e){var a=e.data;0==a.status?t.wishData=a.data:t.$Toast(a.info)}))["catch"]((function(e){t.$Toast(e)}))},getContentTop:function(){return this.noNavTop?"top: 0px;":""}},activated:function(){this.isFirst?this.isFirst=!1:this._reSettleCart(null)},beforeRouteLeave:function(t,e,a){"/mall2/addresslist"==t.path||"/mall2/mypickupaddress"==t.path||"/mall2/addaddress"==t.path||"/usercenter/agreement"==t.path||"/usercenter/nosetpwd"==t.path||this.$keepaliveHelper.deleteCache(this),a()}}),m=h,v=(a("b3cb"),a("0c7c")),f=Object(v["a"])(m,s,i,!1,null,"4bd1a18b",null);e["default"]=f.exports},fba9:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQwIDc5LjE2MDQ1MSwgMjAxNy8wNS8wNi0wMTowODoyMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChNYWNpbnRvc2gpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkEwNDQ1REE3RENFMjExRThCMEE1QjE1MjEzODU2Rjc0IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkEwNDQ1REE4RENFMjExRThCMEE1QjE1MjEzODU2Rjc0Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QTA0NDVEQTVEQ0UyMTFFOEIwQTVCMTUyMTM4NTZGNzQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QTA0NDVEQTZEQ0UyMTFFOEIwQTVCMTUyMTM4NTZGNzQiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5KZ6ijAAABVElEQVR42rTXsUvDQBTH8fQhCC6dOtlB6CbOgoNSOxSEUvpXRHAUhP4JTu7J3N0iDtJBS7GLs3QrdHBzculY/D3oEEIuuffu5eCb0jTwIdfr0TSSJLmLougBfaJbtI0EI45jr+vSNG3h5RldoMcDHJ7QITpBx2ggxT3Rd3S2PzUmHFaZa67RKzqqEeWxYHiI1nXgDvQLjRj+QV1rvATtY1380f6EKV6F8hvKfGCC+6B5OBj3RYtgNS5BXbAYl6I8Gti5ymavjeaokzn3kdtkxGjZHVfd+RtqalEf2IVfopkW9YVd+LkWlcAuXIVKYdMhgYtWeHbaZ/hZNa3hIpSn91uLkxJd8HeKelqcFChvIDeIF9KvFqfAXYv/c6lwCkFDcApFtThZoBqcrFApTpaoBCdr1Bdn+MUa9cCnDJ/WgVbgVwzfow2a1PHclMOXaMcPbf8CDAAKSNzDF/bAzAAAAABJRU5ErkJggg=="}}]);