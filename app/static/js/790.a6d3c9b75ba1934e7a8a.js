(window.webpackJsonp=window.webpackJsonp||[]).push([[790],{"CVR+":function(t,e,s){},E5VR:function(t,e,s){"use strict";var a=s("CVR+");s.n(a).a},TcXZ:function(t,e,s){"use strict";s.r(e);var a=s("KJ3S"),i={name:"my-assets",components:{},props:["myIndex","usePorpData","propData","pageCurrentData"],mixins:[s("A8ay").a],data:function(){return{orderItems:[],refresh:!0}},computed:{pageData:function(){return 1==this.usePorpData?this.propData:this.$store.state.pageData},moduleData:function(){return this.pageData.moduleList[this.myIndex].data}},created:function(){var t=this;-1!=this.$store.state.webtype||this.moduleData.idCode||(this.moduleData.idCode=this.$util.randomString()),this.myAssetsInit(),this.getMyAssets(),a.a.$on("myAssetsRefresh",(function(e){t.myAssetsInit()}))},methods:{hotEvent:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.actionBtnEvent(this.pageData.pgCode,this.moduleData.idCode+t)},getSidesStyle:function(){var t="",e=this.moduleData.upMargin,s=this.moduleData.downMargin;return e>0&&(t+="padding-top: "+e+"%;"),s>0&&(t+="padding-bottom: "+s+"%;"),t},customPush:function(t){""!=t.link.path&&this.$market.customPush(t.link)},accTypeToName:function(t,e){try{return this.$mallCommon.accTypeToName(t,e)}catch(t){return""}},initModuleData:function(){this.$set(this.moduleData,"isShowJYK",!0),this.$set(this.moduleData,"isShowDZQ",!0),this.$set(this.moduleData,"isShowYJ",!1),this.$set(this.moduleData,"isShowJF",!0)},sortData:function(){},myAssetsInit:function(){var t=this;if(void 0===this.moduleData.isShowYJ&&this.initModuleData(),this.sortData(),this.orderItems=[{name:"加油卡",defaultName:"加油卡",countKey:"cardNum",link:{path:"/addcard"}},{name:"电子券",defaultName:"电子券",countKey:"couponNum",link:{path:1==this.$store.state.globalConfig.couponGroupMode?"/coupon_list2":"/coupon_list"}},{name:"积分",defaultName:"积分",countKey:"surplusPoints",link:{path:"/mall2/integralinfo"}}],"3"==this.moduleData.styleTempl&&this.orderItems.splice(1,1,{name:"电子券",defaultName:"电子券",countKey:"couponNum",link:{path:1==this.$store.state.globalConfig.couponGroupMode?"/coupon_list2":"/coupon_list"}}),0==this.moduleData.isShowJF&&this.orderItems.splice(2,1),this.moduleData.isShowYJ){var e=void 0,s=void 0;"3"==this.moduleData.styleTempl?(e=this.accTypeToName("Rewards","100")||"油金",s="/oil-point-history"):(e="油金",s="/usercenter/rebatebonus"),this.orderItems.splice(2,0,{name:e,defaultName:e,rewardType:"100",link:{path:s}})}if(this.moduleData.sortArr){for(var a=[],i=0;i<this.moduleData.sortArr.length;i++)for(var o=0;o<this.orderItems.length;o++)if(this.moduleData.sortArr[i].countKey&&this.moduleData.sortArr[i].countKey==this.orderItems[o].countKey||this.moduleData.sortArr[i].rewardType&&this.moduleData.sortArr[i].rewardType===this.orderItems[o].rewardType){this.orderItems[o].name=this.moduleData.sortArr[i].name,a.push(this.orderItems[o]);break}this.orderItems=a}this.refresh=!1,this.$nextTick((function(){t.refresh=!0}))},getAssetsValue:function(t){if(t.rewardType){for(var e=this.$store.state.mall2.myAssets.rewardList,s=0;e&&s<e.length;s++)if(e[s].rewardsSurplusOrderType==t.rewardType)return e[s].rewardsSurplus;return"0"}return this.$store.state.mall2.myAssets[t.countKey]},getBgStyle:function(){var t="",e=this.moduleData.bgImgUrl;""!=e&&(t+="background: url('"+e+"') no-repeat center center / 100% 100%;");var s=this.moduleData.bgColor;return""!=s&&(t+="background-color: "+s+";"),t},modeleReshow:function(){this.getMyAssets()},getMyAssets:function(){var t=this,e=this.$market.apiBaseURL()+"/app/json/user/getUserWallet",s={token:this.$store.state.login.token};this.$http.post(e,s).then((function(e){var s=e.data;0==s.status&&(t.$store.state.mall2.myAssets=s.data)}),(function(t){}))}}},o=(s("E5VR"),s("KHd+")),r=Object(o.a)(i,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"my-assets"},["1"==t.moduleData.styleTempl?s("div",{staticClass:"style1"},[s("div",{staticClass:"content"},[t.refresh?s("div",{staticClass:"items-row"},t._l(t.orderItems,(function(e,a){return s("div",{key:a,staticClass:"item",on:{click:function(s){return t.customPush(e)}}},[s("div",{staticClass:"number"},[t._v(t._s(t.getAssetsValue(e)))]),t._v(" "),s("div",{staticClass:"text"},[t._v(t._s(e.name))])])})),0):t._e()])]):t._e(),t._v(" "),"2"==t.moduleData.styleTempl?s("div",{staticClass:"style2"},[s("div",{staticClass:"content",style:t.getSidesStyle()},[t.refresh?s("div",{staticClass:"items-row"},t._l(t.orderItems,(function(e,a){return s("div",{key:a,staticClass:"item",on:{click:function(s){return t.customPush(e)}}},[s("div",{staticClass:"number"},[t._v(t._s(t.getAssetsValue(e)))]),t._v(" "),s("div",{staticClass:"text"},[t._v(t._s(e.name))])])})),0):t._e()])]):t._e(),t._v(" "),"3"==t.moduleData.styleTempl?s("div",{staticClass:"style2"},[s("div",{staticClass:"content",style:t.getSidesStyle()},[t.refresh?s("div",{staticClass:"items-row"},t._l(t.orderItems,(function(e,a){return s("div",{key:a,staticClass:"item",on:{click:function(s){return t.customPush(e)}}},[s("div",{staticClass:"number"},[t._v(t._s(t.getAssetsValue(e)))]),t._v(" "),s("div",{staticClass:"text"},[t._v(t._s(e.name))])])})),0):t._e()])]):t._e(),t._v(" "),s("div",{staticClass:"bg-div",style:t.getBgStyle()})])}),[],!1,null,"f5841a86",null);e.default=r.exports}}]);