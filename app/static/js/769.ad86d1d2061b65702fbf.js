(window.webpackJsonp=window.webpackJsonp||[]).push([[769],{"1gmA":function(t,i,o){},j0Qy:function(t,i,o){"use strict";o.r(i);var s=o("ygAv"),e={components:{},props:{},data:function(){return{value:"",showTime:!1,showOil:!1,currentYear:(new Date).getFullYear(),currentMonth:(new Date).getMonth()+1,currentDate:new Date,dateFrom:"",currentIndex:-1,list:[],page:0,loading:!1,finished:!1,oil:"",oilShow:"",rows:10,columns:["92#","95#","98#","0#","CNG","LNG"],info:""}},computed:{},created:function(){},mounted:function(){this.dateFrom=s.a.getDealMonthFrom(this.currentYear,this.currentMonth)},methods:{loadMore:function(){var t=this;console.log(this.oilShow),this.oilShow&&("92#"==this.oilShow?this.oil="92":"95#"==this.oilShow?this.oil="95":"98#"==this.oilShow?this.oil="98":"0#"==this.oilShow?this.oil="0":"CNG"==this.oilShow?this.oil="cng":"LNG"==this.oilShow&&(this.oil="lng")),this.list=[],this.page=this.page+1;var i={page:this.page,rows:this.rows,token:this.$store.state.login.token,sDate:this.dateFrom.start,eDate:this.dateFrom.end,cashierPhone:this.$store.state.login.phone,oilCls:this.oil};this.$http.post("/app/json/app_emp_performance/queryEmpRefuelPerformanceDaySum",i).then((function(i){var o=i.data;if(0==o.status){t.info=o.data;var s=o.data.items||[];t.list=t.list.concat(s),t.list.length>=o.totalRecords&&(t.finished=!0)}else t.finished=!0,t.$Toast(i.info?i.info:"获取列表失败");t.loading=!1}))},detailsQuery:function(t){this.$router.push({path:"/emolument/detail",query:{cashierId:t.cashierId,sDate:t.posRptDate,eDate:t.posRptDate}})},goback:function(){this.$route.query.submitSuc?this.$router.go(-4):this.$router.go(-1)},confirmDate:function(t){this.currentYear=new Date(this.currentDate).getFullYear(),this.currentMonth=new Date(this.currentDate).getMonth()+1,this.dateFrom=s.a.getDealMonthFrom(this.currentYear,this.currentMonth),this.showTime=!1,this.list=[],this.loadMore()},formatter:function(t,i){return"year"===t?i+"年":"month"===t?i+"月":i},confirmBtn:function(t){console.log(t),this.oilShow=t,this.list=[],this.loadMore(),this.showOil=!1}},filters:{},watch:{}},n=(o("qVTA"),o("KHd+")),a=Object(n.a)(e,(function(){var t=this,i=t.$createElement,o=t._self._c||i;return o("div",{staticClass:"emolument-query"},[o("nav-top",{attrs:{title:"联量薪酬查询"},on:{backEvent:t.goback}}),t._v(" "),o("nav-content",{staticClass:"content"},[o("div",{staticClass:"top"},[o("div",{staticClass:"emolument-content-header"},[o("div",{staticClass:"search-item",on:{click:function(i){t.showOil=!0}}},[o("span",[t._v(t._s(t.oilShow?t.oilShow:"所有油品"))]),t._v(" "),o("i",{staticClass:"icon iconfont mall-arrow-down",class:{active:t.showOil}})]),t._v(" "),o("div",{staticClass:"time-change"},[o("div",{staticClass:"filter-btn",on:{click:function(i){t.showTime=!0}}},[o("div",{staticClass:"time"},[t._v(t._s(t.currentYear)+"年"+t._s(t.currentMonth)+"月")]),t._v(" "),o("i",{staticClass:"icon iconfont mall-arrow-down",class:{active:t.showTime}})])])]),t._v(" "),o("div",{staticClass:"emolument-content-info"},[o("div",{staticClass:"info-item line_right"},[o("div",{staticClass:"title"},[t._v("付油量")]),t._v(" "),o("div",{staticClass:"value"},[t._v(t._s(t.info.totalLitre||0)+"L")])]),t._v(" "),o("div",{staticClass:"info-item"},[o("div",{staticClass:"title"},[t._v("联量薪酬")]),t._v(" "),o("div",{staticClass:"value"},[t._v("￥"+t._s(t.info.totalAmount?t.info.totalAmount.toFixed(2):0))])])])]),t._v(" "),o("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.loadMore},model:{value:t.loading,callback:function(i){t.loading=i},expression:"loading"}},[o("div",{staticClass:"emolument-content-list"},t._l(t.list,(function(i,s){return o("div",{key:s,staticClass:"list-div"},[o("div",{staticClass:"list-left"},[o("div",{staticClass:"time"},[t._v(t._s(i.posRptDate))]),t._v(" "),o("div",{staticClass:"amount"},[t._v("付油量："+t._s(i.totalLitre||0)+"L")]),t._v(" "),o("div",{staticClass:"amount"},[t._v("联量薪酬："+t._s(i.totalAmount?i.totalAmount.toFixed(2):0)+"元")])]),t._v(" "),o("div",{staticClass:"list-right",on:{click:function(o){return t.detailsQuery(i)}}},[t._v("明细查询")])])})),0)]),t._v(" "),o("van-popup",{attrs:{position:"bottom"},model:{value:t.showTime,callback:function(i){t.showTime=i},expression:"showTime"}},[o("van-datetime-picker",{attrs:{type:"year-month",formatter:t.formatter},on:{confirm:t.confirmDate,cancel:function(i){t.showTime=!1}},model:{value:t.currentDate,callback:function(i){t.currentDate=i},expression:"currentDate"}})],1),t._v(" "),o("van-popup",{attrs:{position:"bottom"},model:{value:t.showOil,callback:function(i){t.showOil=i},expression:"showOil"}},[o("van-picker",{attrs:{"show-toolbar":"",title:"油品",columns:t.columns},on:{cancel:function(i){t.showOil=!1},confirm:t.confirmBtn}})],1)],1)],1)}),[],!1,null,"774c0007",null);i.default=a.exports},qVTA:function(t,i,o){"use strict";var s=o("1gmA");o.n(s).a}}]);