(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8d41749e"],{17871:function(t,e,i){t.exports=i.p+"static/images/4c91a4930bc4bc037b132e53a2d63901.png"},"51b0":function(t,e,i){},"72ff":function(t,e,i){"use strict";i("51b0")},"8d6f0":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("nav-top",{attrs:{bgImg:t.bg},on:{backEvent:function(e){return t.$router.go(-1)}}}),s("nav-content",[s("div",{staticClass:"share-container"},[s("div",{staticClass:"layout-top"},[s("img",{staticClass:"img",attrs:{src:"static/image/microShop/title@2x.png",alt:""}}),s("p",{staticClass:"p"},[t._v(t._s(t.desc))]),s("div",{staticClass:"couponDiv"},[s("ul",[s("li",[s("div",{staticClass:"coupon-left",style:{backgroundImage:"url("+(t.prizeObj.couPic?t.prizeObj.couPic:t.couPic)+")"}}),s("div",{staticClass:"coupon-right"},[s("div",{staticClass:"double-line"},[s("span",{staticClass:"text"},[t._v(t._s(t.prizeObj.couTypeTitle))])]),s("div",{staticClass:"time-wrapper"},[s("span",{staticClass:"time"},[t._v(t._s(t.prizeObj.validStartDate)+"-"+t._s(t.prizeObj.validEndDate))])]),s("div",{staticClass:"status"})])])])]),t.isReceiveAward?s("div",{staticClass:"btn",on:{click:t.get}},[t._v("领取优惠券")]):s("div",{staticClass:"btn",on:{click:t.use}},[t._v("立即使用")])]),s("div",{staticClass:"layout-bottom"},[s("div",{staticClass:"title"},[t._v("已有"+t._s(t.receiveNum?t.receiveNum:0)+"人领取，还剩"+t._s(t.residueNum?t.residueNum:0)+"人可领取")]),s("div",{staticClass:"list"},[t._l(t.peopleList,(function(e,a){return t.peopleList.length>0?s("div",{key:a,staticClass:"item"},[s("img",{staticClass:"avatar",attrs:{src:i("17871"),alt:""}}),s("div",{staticClass:"content"},[s("div",{staticClass:"info"},[s("div",{staticClass:"name"},[t._v(t._s(e.joinUserNickName))])]),s("div",{staticClass:"time"},[t._v(t._s(e.createTime))])])]):t._e()})),0==t.peopleList.length?s("div",{staticClass:"item"},[s("p",[t._v("暂无数据")])]):t._e()],2)])])]),s("van-popup",{staticClass:"stateBox",model:{value:t.shareView,callback:function(e){t.shareView=e},expression:"shareView"}},[s("img",{attrs:{src:"static/image/microShop/jiantou@2x.png",alt:""}}),s("p",[t._v("请点击右上角进行分享")])]),t.sharedView?s("div",{staticClass:"boxModel",on:{click:t.close}},[s("div",{staticClass:"tip shared"},[s("i",{staticClass:"icon iconfont mall-guanbi",on:{click:t.close}}),s("p",{staticClass:"p"},[t._v("领取成功")]),s("div",{staticClass:"prizes"},t._l(t.getPrize,(function(e,i){return s("p",{key:i},[t._v("恭喜您获得"+t._s(e.awardName)+t._s(e.awardNum))])})),0)])]):t._e()],1)},a=[],c=(i("ac1f"),i("5319"),i("c975"),i("fb6a"),i("5b7e"),i("da71"),i("ee7c"),i("c95d")),o={name:"",mixins:[c["a"]],data:function(){return{prizeObj:{},money:"",shareView:!1,sharedView:!1,couPic:"static/image/microShop/succee-icon.png",desc:"",receiveNum:"",residueNum:"",peopleList:[],isReceiveAward:!1,getPrize:[]}},mounted:function(){this.loadIndex()},computed:{bg:function(){return i("fad0")}},methods:{get:function(){var t=this,e={token:this.$store.state.login.token,couNo:this.$route.query.couNo};t.getData(e).then((function(e){if("success"===e.data.result){var i=e.data.data.mktAwardModelList||[];i.length>0&&(t.getPrize=i,t.sharedView=!0,t.loadIndex())}else t.$toast(e.data.info)}))},use:function(){this.$router.replace({path:"/coupon_list"})},close:function(){this.sharedView=!1},backEvent:function(){3==this.$store.state.webtype&&1===window.history.length?wx.miniProgram.reLaunch({url:"/pages/common/home/index"}):this.$router.go(-1)},loadIndex:function(){var t=this,e={token:this.$store.state.login.token,couNo:this.$route.query.couNo};t.detailData(e).then((function(e){if("success"===e.data.result){var i=e.data.data||{};t.desc=i.desc,t.receiveNum=i.receiveNum?i.receiveNum:0,t.residueNum=i.residueNum?i.residueNum:0,t.prizeObj=i.awardSetings[0]||{},t.prizeObj.couPic.indexOf("%")>=0?t.prizeObj.couPic=t.prizeObj.couPic.slice(6,t.prizeObj.couPic.length-6):t.prizeObj.couPic=t.prizeObj.couPic,t.peopleList=i.awards||[],1==i.isReceiveAward?t.isReceiveAward=!1:t.isReceiveAward=!0}else t.$toast(e.data.info)}))}},components:{}},n=o,r=(i("72ff"),i("0c7c")),u=Object(r["a"])(n,s,a,!1,null,"9f5c052c",null);e["default"]=u.exports},c95d:function(t,e,i){"use strict";var s="/app/json/fission_activity/getShareUsedCoupons",a="/app/json/fission_activity/share",c="/app/json/fission_activity/sharedReceiveAward",o="/app/json/fission_activity/shareDetails",n="/app/json/fission_activity/beSharedReceiveAward";e["a"]={methods:{listData:function(t){return this.$http.post(s,t)},sharecont:function(t){return this.$http.post(a,t)},prize:function(t){return this.$http.post(c,t)},detailData:function(t){return this.$http.post(o,t)},getData:function(t){return this.$http.post(n,t)}}}},fad0:function(t,e,i){t.exports=i.p+"static/images/49789a3a58fef87e9dfc66dcaaba956c.png"}}]);