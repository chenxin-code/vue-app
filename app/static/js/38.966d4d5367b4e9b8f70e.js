(window.webpackJsonp=window.webpackJsonp||[]).push([[38,52],{ANbv:function(t,e,i){"use strict";var s=i("H7qB"),a=function(t,e){var i,s,a,n=[],r="";i=function(){s.forEach((function(t,e){var i=n[e];void 0===i?t.removeAttribute("style"):t.setAttribute("style",i)}))},function t(e,i){e&&e.parentElement&&(i.push(e.parentNode),t(e.parentElement,i))}(t,a=[]),a.push(t),s=a.filter((function(t){return"none"===function(t,e){return t.style[e]?t.style[e]:t.currentStyle?t.currentStyle[e]:window.getComputedStyle(t,null)[e]}(t,"display")})),r+="visibility: hidden !important; display: block !important; ",s.forEach((function(t,e){var i=t.getAttribute("style");n.push(i),t.setAttribute("style",i?i+";"+r:r)}));var l=0;return"width"==e?l=t.clientWidth:"height"==e&&(l=t.clientHeight),i(),l},n={name:"",props:{dataList:{type:Array,default:function(){return[]}},click:{type:Boolean,default:!0},percentWidth:{type:Number,default:0}},data:function(){return{}},mounted:function(){this._refresh()},methods:{touchstart:function(t){},disable:function(){this.scroll&&this.scroll.disable()},enable:function(){this.scroll&&this.scroll.enable()},_refresh:function(){var t=this;this.$nextTick((function(){setTimeout((function(){t._setWidth(),t._initScroll()}),200)}))},_setWidth:function(){if(this.$refs.scrollContent){for(var t=this.$refs.scrollContent.children,e=this.$refs.scroll.clientWidth,i=0,s=0;s<t.length;s++){var n=t[s];this.percentWidth&&(n.style.width=e*this.percentWidth/100+"px"),i+=a(n,"width")}this.$refs.scrollContent.style.width=i+10+"px"}},_initScroll:function(){this.$refs.scroll&&(this.scroll=new s.a(this.$refs.scroll,{scrollX:!0,scrollY:!1,click:this.click,preventDefault:!1}))}},components:{},watch:{dataList:{handler:function(t){t&&t.length&&this._refresh()},immediate:!0}}},r=(i("JmlT"),i("KHd+")),l=Object(r.a)(n,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{ref:"scroll",staticClass:"scroll-wrapper",on:{touchstart:this.touchstart}},[e("div",{ref:"scrollContent",staticClass:"scroll-content"},[this._t("default")],2)])}),[],!1,null,"43d437b2",null);e.a=l.exports},AbvJ:function(t,e,i){},JmlT:function(t,e,i){"use strict";var s=i("rGnI");i.n(s).a},Pe7J:function(t,e,i){"use strict";i.r(e);var s=i("afTz"),a=i("ANbv"),n=i("A8ay"),r={name:"seconds-kill",components:{Countdown:s.default,HScroll:a.a},props:["myIndex","usePorpData","propData"],mixins:[n.a],data:function(){return{mktActivity:{},productList:[],fieldString:"",isShow:!1,endTime:0,beforeClear:!0}},computed:{pageData:function(){return 1==this.usePorpData?this.propData:this.$store.state.pageData},moduleData:function(){return this.pageData.moduleList[this.myIndex].data}},created:function(){-1!=this.$store.state.webtype||this.moduleData.idCode||(this.moduleData.idCode=this.$util.randomString()),this.beforeClear=!0,this.getProducts()},methods:{hotEvent:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.actionBtnEvent(this.pageData.pgCode,this.moduleData.idCode+t)},modeleReshow:function(){},productEvent:function(t){this.$market.secondsKillProEvent(t,this.mktActivity.id,this.moduleData.onlyDeliveryType)},allSecondsKill:function(){this.$market.customPush({path:"/mall2/seckilllist",query:{onlyDeliveryType:this.moduleData.onlyDeliveryType}})},timeToTitle:function(t){return"date"==this.$store.state.globalConfig.seckill_title_type?this.dateFilter(t):this.hourFilter(t)},dateFilter:function(t){if(t){var e=new Date(t.replace(/-/g,"/"));return e.getMonth()+1+"月"+e.getDate()+"日场"}return""},hourFilter:function(t){if(t){t=t.replace(/-/g,"/");var e=new Date(t);return""+e.getHours()+this._padLeft(e.getMinutes())+"场"}return""},myTimeOut:function(){this.getProducts()},_padLeft:function(t){return 0==parseInt(t)?"点":":"+"00".substr(t.toString().length)+t},getProducts:function(){var t=this;this.beforeClear&&(this.mktActivity={},this.productList=[],this.fieldString="");var e=this.$market.apiBaseURL()+"/app/json/product/getAppProSecKillList",i={fromFrontPage:"1"};"-1"==this.$store.state.webtype&&(i.fromFrontPage=""),"-1"!=this.$store.state.webtype&&(i.token=this.$store.state.login.token),i.deliverType=this.$store.state.mall2.staticDeliverType,1==this.$store.state.mall2.staticDeliverType&&(i.pickUpId=this.$store.state.mall2.zitiAddress.id),this.$http.post(e,i).then((function(e){var i=e.data;if(0==i.status){var s=i.data.mktActivityList;if(s&&s.length>0){t.mktActivity=i.data.mktActivityList[0],t.fieldString=t.timeToTitle(t.mktActivity.startDate),t.productList=[];for(var a=[],n=0;n<i.data.list.length;n++){var r=t.$market.dataProcessing(i.data.list[n]);a.push(r)}t.productList=a;var l=t.mktActivity.startDate.replace(/-/g,"/"),o=new Date(l).getTime()/1e3;if(o>t.$store.state.severTime.currentTime)t.endTime=o;else{var c=t.mktActivity.endDate.replace(/-/g,"/");t.endTime=new Date(c).getTime()/1e3}t.isShow=!0,t.$nextTick((function(){var e="";"2"==t.moduleData.styleTempl?e="hscroll2":"1"==t.moduleData.styleTempl&&(e="hscroll1");var i=t.$refs[e];i&&i._refresh()}))}else t.isShow=!1}}),(function(t){}))},loadImage:function(){if(!this.checkloaded){this.checkloaded=!0;var t="";"2"==this.moduleData.styleTempl?t="hscroll2":"1"==this.moduleData.styleTempl&&(t="hscroll1");var e=this.$refs[t];e&&e._refresh()}}}},l=(i("kgY9"),i("KHd+")),o=Object(l.a)(r,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.$market.moduleIsShow(t.moduleData)?i("div",{staticClass:"seconds-kill",class:{"min-height":"-1"==t.$store.state.webtype}},[t.isShow&&"1"==t.moduleData.styleTempl&&t.productList.length>0?i("div",{staticClass:"style1"},[i("div",{staticClass:"content"},[i("div",{staticClass:"title-row",class:t.hotareaClass({idCode:t.moduleData.idCode+"allSecondsKill"}),on:{click:function(e){t.hotEvent("allSecondsKill"),t.allSecondsKill()}}},[i("img",{attrs:{src:"static/images/seconds-kill/miaosha.png"}}),t._v(" "),i("div",{staticClass:"field"},[t._v(t._s(t.fieldString))]),t._v(" "),i("div",{staticClass:"remaining"},[t._v("还剩：")]),t._v(" "),i("Countdown",{attrs:{endTime:t.endTime,type:"theme_bg_black"},on:{timeOut:t.myTimeOut}}),t._v(" "),i("div",{staticStyle:{flex:"1"}}),t._v(" "),i("img",{staticClass:"arrow",attrs:{src:"static/images/my-order/all-order.png"}})],1),t._v(" "),i("div",{staticClass:"items-row"},[i("HScroll",{ref:"hscroll1",attrs:{dataList:t.productList,click:!1}},t._l(t.productList,(function(e,s){return i("div",{key:s,staticClass:"pro-itm"},[i("div",{staticClass:"item",class:t.hotareaClass({idCode:t.moduleData.idCode+e.id}),on:{click:function(i){t.hotEvent(e.id),t.productEvent(e)}}},[i("img",{attrs:{src:e.phMainUrl},on:{load:t.loadImage}}),t._v(" "),i("div",{staticClass:"price"},[i("span",[t._v("￥")]),t._v(" "),i("span",{staticClass:"price-z"},[t._v(t._s(e.dpedData.integer))]),t._v(" "),i("span",[t._v("."+t._s(e.dpedData.decimals))])]),t._v(" "),i("div",{staticClass:"price-line",class:{"line-through":2==t.$store.state.globalConfig.priceShowType}},[1==t.$store.state.globalConfig.priceShowType?i("span",[t._v("原价:")]):t._e(),t._v("￥"+t._s(t.$market.toDecimal2(e.dpedData.linePrice)))])])])})),0)],1)])]):t._e(),t._v(" "),t.isShow&&"2"==t.moduleData.styleTempl&&t.productList.length>0&&t.$market.moduleIsShow(t.moduleData)?i("div",{staticClass:"style2",style:t.$market.getModuleBgStyle(t.moduleData)},[i("div",{staticClass:"content"},[i("div",{staticClass:"title-row",class:t.hotareaClass({idCode:t.moduleData.idCode+"allSecondsKill"}),on:{click:function(e){t.hotEvent("allSecondsKill"),t.allSecondsKill()}}},[i("img",{staticClass:"bg-img",attrs:{src:"static/images/seconds-kill/title-bg.png"}}),t._v(" "),i("div",{staticClass:"title-content"},[i("div",{staticClass:"field"},[t._v(t._s(t.fieldString))]),t._v(" "),i("Countdown",{attrs:{endTime:t.endTime,type:"theme_bg_quan"},on:{timeOut:t.myTimeOut}}),t._v(" "),i("div",{staticStyle:{flex:"1"}})],1)]),t._v(" "),i("div",{staticClass:"items-row"},[i("HScroll",{ref:"hscroll2",attrs:{dataList:t.productList,click:!1}},t._l(t.productList,(function(e,s){return i("div",{key:s,staticClass:"pro-itm"},[i("div",{staticClass:"item",class:t.hotareaClass({idCode:t.moduleData.idCode+e.id}),on:{click:function(i){t.hotEvent(e.id),t.productEvent(e)}}},[i("img",{attrs:{src:e.phMainUrl},on:{load:t.loadImage}}),t._v(" "),i("div",{staticClass:"price"},[i("span",[t._v("￥")]),t._v(" "),i("span",{staticClass:"price-z"},[t._v(t._s(e.dpedData.integer))]),t._v(" "),i("span",[t._v("."+t._s(e.dpedData.decimals))])]),t._v(" "),i("div",{staticClass:"price-line",class:{"line-through":2==t.$store.state.globalConfig.priceShowType}},[1==t.$store.state.globalConfig.priceShowType?i("span",[t._v("原价:")]):t._e(),t._v("￥"+t._s(t.$market.toDecimal2(e.dpedData.linePrice)))])])])})),0)],1)])]):t._e()]):t._e()}),[],!1,null,"96370cf6",null);e.default=o.exports},Wr4Z:function(t,e,i){"use strict";var s=i("AbvJ");i.n(s).a},afTz:function(t,e,i){"use strict";i.r(e);var s=i("nV03"),a={name:"countdown",props:["endTime","type","hiddenDay","callback"],components:{},data:function(){return{d:"0",h:"00",m:"00",s:"00",trigger:!0}},methods:{parsingTime:function(){var t=this;if(this.endTime){var e=this.$store.state.severTime.currentTime,i=this.endTime-e;this.d=0,this.h="0",this.m="0",this.s="0",i<0?this.trigger&&(this.trigger=!1,setTimeout((function(){t.$emit("timeOut")}),1e3)):(this.trigger=!0,i>59?(this.s=i%60,(i=parseInt(i/60))>59?(this.m=i%60,(i=parseInt(i/60))>23?(this.h=parseInt(i%24),i=parseInt(i/24),this.d=i):this.h=i):this.m=i):i>=0&&(this.s=i),this.h<10&&(this.h="0"+this.h),this.m<10&&(this.m="0"+this.m),this.s<10&&(this.s="0"+this.s))}}},created:function(){this.parsingTime(),s.a.heartbeat()},destroyed:function(){s.a.removeHeartbeat()},watch:{"$store.state.severTime.currentTime":function(){this.parsingTime()}}},n=(i("Wr4Z"),i("KHd+")),r=Object(n.a)(a,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"countdown",class:{quan:"theme_bg_quan"==t.type}},[0==t.d||t.hiddenDay?t._e():i("div",{staticClass:"red-div theme_font_white",class:[t.type||"theme_bg_red"]},[t._v(t._s(t.d))]),t._v(" "),0==t.d||t.hiddenDay?t._e():i("span",[t._v("天")]),t._v(" "),i("div",{staticClass:"red-div theme_font_white",class:[t.type||"theme_bg_red"]},[t._v(t._s(t.h))]),t._v("\n  :\n  "),i("div",{staticClass:"red-div theme_font_white",class:[t.type||"theme_bg_red"]},[t._v(t._s(t.m))]),t._v("\n  :\n  "),i("div",{staticClass:"red-div theme_font_white",class:[t.type||"theme_bg_red"]},[t._v(t._s(t.s))])])}),[],!1,null,"403fc346",null);e.default=r.exports},kgY9:function(t,e,i){"use strict";var s=i("nP5v");i.n(s).a},nP5v:function(t,e,i){},nV03:function(t,e,i){"use strict";var s=i("ZToj"),a=void 0,n=0,r={heartbeat:function(){n++,a||(a=window.setInterval((function(){var t=parseInt((new Date).getTime()/1e3);s.a.state.severTime.currentTime=t+s.a.state.severTime.jetlag}),1e3))},removeHeartbeat:function(){n>0&&n--,0==n&&(window.clearInterval(a),a=null)}};e.a=r},rGnI:function(t,e,i){}}]);