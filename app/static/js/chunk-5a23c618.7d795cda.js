(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5a23c618"],{1386:function(s,t,e){"use strict";e.r(t);var i=function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"set-pwd"},[e("nav-top",{attrs:{title:"密码设置"},on:{backEvent:function(t){return s.$router.go(-1)}}}),e("nav-content",{staticClass:"set-pwd-container"},[e("van-cell-group",[e("van-field",{attrs:{label:"请输入密码",type:"password",placeholder:"请输入8-16位字母,数字+字符组合","error-message":s.errorPwd,"right-icon":"question-o"},on:{"click-right-icon":function(t){s.showSymbol=!0},blur:s.inputPwd},model:{value:s.userPwd.pwd,callback:function(t){s.$set(s.userPwd,"pwd",t)},expression:"userPwd.pwd"}}),e("van-field",{attrs:{label:"再次输入密码",type:"password",placeholder:"请输入8-16位字母,数字+字符组合","error-message":s.errorAgainPwd},on:{blur:s.inputConfirmPwd},model:{value:s.userPwd.confirmPwd,callback:function(t){s.$set(s.userPwd,"confirmPwd",t)},expression:"userPwd.confirmPwd"}}),e("van-field",{attrs:{label:"身份证号",placeholder:"请输入身份证号","error-message":s.errorID},on:{blur:s.inputIdCard},model:{value:s.userPwd.idCard,callback:function(t){s.$set(s.userPwd,"idCard",t)},expression:"userPwd.idCard"}}),e("van-field",{attrs:{label:"预留手机号",disabled:"","right-icon":"question-o",placeholder:"请输入预留手机号"},on:{"click-right-icon":function(t){s.show=!0}},model:{value:s.vipUnitUserCodeInfo.vipUserPhone,callback:function(t){s.$set(s.vipUnitUserCodeInfo,"vipUserPhone",t)},expression:"vipUnitUserCodeInfo.vipUserPhone"}})],1),e("div",{staticClass:"table-view special"},[e("div",{staticClass:"table-view-cell"},[e("div",{staticClass:"table-view-cell-text"},[e("div",{staticClass:"left"},[e("div",{staticClass:"text"},[s._v("验证码")]),e("div",{staticClass:"inp"},[e("input",{directives:[{name:"model",rawName:"v-model",value:s.userPwd.sms,expression:"userPwd.sms"}],attrs:{type:"text",maxlength:"6",placeholder:"请输入短信验证码"},domProps:{value:s.userPwd.sms},on:{input:function(t){t.target.composing||s.$set(s.userPwd,"sms",t.target.value)}}})])]),e("div",{staticClass:"right"},[s._v(" | "),e("count-button",{ref:"countBtn",staticClass:"theme_font_blue_i",attrs:{phone:s.vipUnitUserCodeInfo.vipUserPhone},on:{getSmsEvent:s.getMsgCode}})],1)])])]),e("div",{staticClass:"bill-btn",on:{click:s.keepPwdSet}},[e("div",{staticClass:"btn-show"},[s._v("保存")])]),e("van-dialog",{attrs:{title:"温馨提示",confirmButtonText:"确定"},on:{confirm:function(t){s.show=!1}},model:{value:s.show,callback:function(t){s.show=t},expression:"show"}},[e("div",{staticClass:"content"},[s._v("当前手机号为单位用户绑定预留手机号,若需修改,请持相关证件前往xxx地方进行修改。")])]),e("van-dialog",{attrs:{title:"温馨提示",confirmButtonText:"确定"},on:{confirm:function(t){s.showSymbol=!1}},model:{value:s.showSymbol,callback:function(t){s.showSymbol=t},expression:"showSymbol"}},[e("div",{staticClass:"content"},[s._v("字符包括:@$!%*#?&")])])],1)],1)},r=[],o=(e("ac1f"),e("841c"),e("b90b")),n=e("986e"),d=/^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*#?&])[A-Za-z\d@$!%*#?&]{8,16}$/,a={data:function(){return{errorPwd:"",errorAgainPwd:"",errorID:"",userPwd:{},show:!1,showSymbol:!1,vipUnitUserCodeInfo:""}},mounted:function(){this.vipUnitUserCodeInfo=JSON.parse(this.$route.query.vipUnitUserCodeInfo)||""},methods:{keepPwdSet:function(){var s=this;this.userPwd.pwd?this.userPwd.confirmPwd?this.userPwd.idCard?this.userPwd.sms?this.$request.post("/app/json/user/vipUnitUserModifyPwd",{vipOriginPassword:this.userPwd.pwd,vipUserPassword:this.userPwd.confirmPwd,vipUserIdCard:this.userPwd.idCard,smsVerifyCode:this.userPwd.sms}).then((function(t){0===t.status?(s.$router.go(-1),n["a"].$emit("getVipVipUnitListByUserId")):s.$Toast(t.info?t.info:"设置密码失败")})):this.$toast("请输入短信验证码"):this.$toast("请输入身份证号"):this.$toast("请输入确认密码"):this.$toast("请输入密码")},getMsgCode:function(s,t){var e=this;this.$refs.countBtn.startTime(),this.$Loading.open();var i="/app/json/login/sendSms",r={phone:this.vipUnitUserCodeInfo.vipUserPhone,smsType:"1020",imgVerifyCode:s,uuid:t};this.$http.post(i,r).then((function(s){e.$Loading.close();var t=s.data;0==t.status?e.$Toast("获取短信验证码成功"):(e.$Toast(t.info?t.info:"获取短信验证码失败"),e.$refs.countBtn.resetClock())}),(function(s){e.$Loading.close(),e.$Toast("系统运行过程中遇到问题，请稍候再试"),e.$refs.countBtn.resetClock()}))},inputPwd:function(){this.userPwd.pwd&&(this.userPwd.pwd.length<8||this.userPwd.pwd.length>16?(this.errorPwd="请输入8-16位密码",this.userPwd.pwd=""):-1==this.userPwd.pwd.search(d)?(this.errorPwd="密码必须包含字母,数字+字符",this.userPwd.pwd=""):this.errorPwd="")},inputConfirmPwd:function(){this.userPwd.confirmPwd&&(this.userPwd.confirmPwd.length<8||this.userPwd.confirmPwd.length>16?(this.errorAgainPwd="请输入8-16位密码",this.userPwd.confirmPwd=""):-1==this.userPwd.confirmPwd.search(d)?(this.errorAgainPwd="密码必须包含字母,数字+字符",this.userPwd.confirmPwd=""):this.userPwd.pwd!=this.userPwd.confirmPwd?(this.errorAgainPwd="两次密码不一致",this.userPwd.confirmPwd=""):this.errorAgainPwd="")},inputIdCard:function(){var s=this.vipUnitUserCodeInfo.vipUserIdCard;this.userPwd.idCard&&this.userPwd.idCard!=s?this.errorID="身份证信息不对":this.errorID=""}},components:{CountButton:o["a"]}},c=a,u=(e("d107"),e("0c7c")),l=Object(u["a"])(c,i,r,!1,null,"061c5a4b",null);t["default"]=l.exports},9816:function(s,t,e){},"986e":function(s,t,e){"use strict";var i=e("a026");t["a"]=new i["default"]},d107:function(s,t,e){"use strict";e("9816")}}]);