(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5b6f57fa","chunk-612ce34b"],{2999:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"slide"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"virtual-keyboard",on:{touchstart:function(t){t.stopPropagation()}}},t._l(t.keyboard,(function(e,s){return i("div",{key:s,staticClass:"keyboard-row"},[3===s?i("span",{staticClass:"keyboard-item fn-key",on:{click:t.changeKey}},[t._v(t._s(1===t.keyType?"ABC":"中文"))]):t._e(),t._l(e,(function(e){return i("span",{staticClass:"keyboard-item",class:{"flex-shrink":2===s||3===s},style:{width:2===s||3===s?t.keyWidth:"auto"},on:{click:function(a){return t.inputKey(e)}}},[t._v(t._s(e))])})),3===s?i("span",{staticClass:"keyboard-item fn-key"},[i("img",{staticClass:"delete",attrs:{src:a("b2be"),alt:""},on:{click:t.deleteKey}})]):t._e()],2)})),0)])},s=[],n=(a("a9e3"),a("4795"),{name:"",props:{show:Boolean,type:{type:Number,default:1}},data:function(){return{vanShow:!0,keyboardZh:[["京","津","渝","沪","冀","晋","辽","吉","黑","苏"],["浙","皖","闽","赣","鲁","豫","鄂","湘","粤","琼"],["川","贵","云","陕","甘","青","蒙","桂","宁","新"],["藏","使","领","警","学","港","澳"]],keyboardEn:[[1,2,3,4,5,6,7,8,9,0],["Q","W","E","R","T","Y","U","I","O","P"],["A","S","D","F","G","H","J","K","L"],["Z","X","C","V","B","N","M"]],keyboard:[],keyWidth:0,keyType:1}},methods:{setWidth:function(){this.keyWidth=document.querySelectorAll(".keyboard-item")[0].clientWidth+"px"},changeKey:function(){this.keyType=1===this.keyType?0:1,this.keyboard=1===this.keyType?this.keyboardZh:this.keyboardEn},deleteKey:function(){this.$emit("delete")},inputKey:function(t){this.$emit("input",t)},onBlur:function(){this.$emit("blur"),this.$emit("update:show",!1)},selfHandler:function(){this.$emit("update:show",!0)},handler:function(t){document.body[(t?"add":"remove")+"EventListener"]("touchstart",this.onBlur)}},mounted:function(){this.keyType=this.type,this.keyboard=1==this.keyType?this.keyboardZh:this.keyboardEn,this.handler(!0)},destroyed:function(){this.handler(!1)},activated:function(){this.handler(!0)},deactivated:function(){this.handler(!1)},watch:{show:function(t){t&&(clearTimeout(this.timer),this.timer=setTimeout(this.setWidth,20))},type:function(t){t&&(this.keyType=t,this.keyboard=1==this.keyType?this.keyboardZh:this.keyboardEn,this.handler(!0))}},components:{}}),o=n,c=(a("8bdc"),a("0c7c")),l=Object(c["a"])(o,i,s,!1,null,"02c6819a",null);e["default"]=l.exports},"41c5e":function(t,e,a){},"6afa":function(t,e,a){},"6b79":function(t,e,a){"use strict";a("41c5e")},"8bdc":function(t,e,a){"use strict";a("6afa")},"9dd8":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"body"},[a("nav-top",{attrs:{title:"在线签约"},on:{backEvent:function(e){return t.$router.go(-1)}}}),a("nav-content",[a("div",{staticClass:"tipDiv"},[a("p",{staticClass:"box"},[t._v("签约信息")]),a("div",{staticClass:"table-view"},[a("div",{staticClass:"table-view-cell"},[a("div",{staticClass:"table-view-cell-text"},[a("div",{staticClass:"left"},[a("img",{staticClass:"img1",attrs:{src:"static/image/janePay/icon_VIPNumber.png",alt:""}}),a("span",[t._v("会员手机号")])]),a("div",{staticClass:"center"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],attrs:{type:"text",disabled:""},domProps:{value:t.phone},on:{input:function(e){e.target.composing||(t.phone=e.target.value)}}})])])]),a("div",{staticClass:"table-view-cell"},[a("div",{staticClass:"table-view-cell-text"},[a("div",{staticClass:"left"},[a("img",{staticClass:"img1",attrs:{src:"static/image/janePay/icon_Signing2.png",alt:""}}),a("span",[t._v("签约支付方")])]),a("div",{staticClass:"center right1"},[a("mt-field",{attrs:{disabled:t.disabled},model:{value:t.modelObj.payWayName,callback:function(e){t.$set(t.modelObj,"payWayName",e)},expression:"modelObj.payWayName"}})],1)])]),t.$store.state.globalConfig.density_free_sign_type.length>1?a("div",{staticClass:"table-view-cell"},[a("div",{staticClass:"table-view-cell-text"},[a("div",{staticClass:"left left1"},[a("img",{staticClass:"img1",attrs:{src:"static/image/janePay/renzheng.png",alt:""}}),a("span",[t._v("签约方式")])]),a("div",{staticClass:"center"},[a("van-radio-group",{staticClass:"radioBtn",on:{change:t.selectRadio},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[a("div",{staticClass:"radioBtnDiv"},[1==t.singWay1?a("van-radio",{attrs:{name:"3","checked-color":"#ff884f"}},[t._v("标签号")]):t._e(),2==t.singWay2?a("van-radio",{attrs:{name:"1","checked-color":"#ff884f"}},[t._v("身份证号")]):t._e(),3==t.singWay3?a("van-radio",{attrs:{name:"2","checked-color":"#ff884f"}},[t._v("车牌号")]):t._e()],1)])],1)])]):t._e(),"3"==t.radio?a("div",[a("div",{staticClass:"table-view-cell"},[a("div",{staticClass:"table-view-cell-text"},[a("div",{staticClass:"left"},[a("img",{staticClass:"img1",attrs:{src:"static/image/janePay/icon_OilCard.png",alt:""}}),a("span",[t._v("标签号")])]),a("div",{staticClass:"center"},[a("mt-field",{attrs:{label:"",placeholder:"扫码或手动输入卡编号"},on:{input:t.changeRfrCodeType},model:{value:t.tidSign,callback:function(e){t.tidSign=e},expression:"tidSign"}},[a("img",{attrs:{src:"static/image/fuelcard//btn_Sweep.png",width:"25",height:"25"},on:{click:t.sweep}})])],1)])]),a("div",{staticClass:"table-view-cell"},[a("div",{staticClass:"table-view-cell-text"},[a("div",{staticClass:"left"},[a("img",{staticClass:"img1",attrs:{src:"static/image/janePay/icon_recommended.png",alt:""}}),a("span",[t._v("车牌号")])]),a("div",{staticClass:"center"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.plateNum,expression:"plateNum"}],staticClass:"carint",attrs:{type:"text",readonly:"",placeholder:"请输入车牌号"},domProps:{value:t.plateNum},on:{focus:t.focus,touchstart:function(t){t.stopPropagation()},input:function(e){e.target.composing||(t.plateNum=e.target.value)}}})])])])]):t._e(),"1"==t.radio&&1==t.shenfenView?a("div",[a("div",{staticClass:"table-view-cell"},[a("div",{staticClass:"table-view-cell-text"},[a("div",{staticClass:"left"},[a("img",{staticClass:"img1",attrs:{src:"static/image/janePay/ren.png",alt:""}}),a("span",[t._v("姓名")])]),a("div",{staticClass:"center"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.shenfen.name,expression:"shenfen.name"}],attrs:{placeholder:"请输入姓名",type:"text"},domProps:{value:t.shenfen.name},on:{input:function(e){e.target.composing||t.$set(t.shenfen,"name",e.target.value)}}})])])]),a("div",{staticClass:"table-view-cell"},[a("div",{staticClass:"table-view-cell-text"},[a("div",{staticClass:"left"},[a("img",{staticClass:"img1",attrs:{src:"static/image/janePay/icon_recommended.png",alt:""}}),a("span",[t._v("身份证号")])]),a("div",{staticClass:"center"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.shenfen.idcardNum,expression:"shenfen.idcardNum"}],attrs:{type:"text",readonly:"",placeholder:"请输入身份证号"},domProps:{value:t.shenfen.idcardNum},on:{focus:t.focus,touchstart:function(t){t.stopPropagation()},input:function(e){e.target.composing||t.$set(t.shenfen,"idcardNum",e.target.value)}}})])])])]):t._e(),"2"==t.radio?a("div",[a("div",{staticClass:"table-view-cell"},[a("div",{staticClass:"table-view-cell-text"},[a("div",{staticClass:"left"},[a("img",{staticClass:"img1",attrs:{src:"static/image/janePay/ren.png",alt:""}}),a("span",[t._v("姓名")])]),a("div",{staticClass:"center"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.chepai.ownerName,expression:"chepai.ownerName"}],attrs:{placeholder:"请输入姓名",type:"text"},domProps:{value:t.chepai.ownerName},on:{input:function(e){e.target.composing||t.$set(t.chepai,"ownerName",e.target.value)}}})])])]),a("div",{staticClass:"table-view-cell",on:{click:t.cheColor}},[a("div",{staticClass:"table-view-cell-text"},[a("div",{staticClass:"left"},[a("img",{staticClass:"img1",attrs:{src:"static/image/janePay/icon_colour.png",alt:""}}),a("span",[t._v("车牌颜色")])]),a("div",{staticClass:"center right1"},[a("mt-field",{attrs:{disabled:t.disabled},model:{value:t.colorstyle,callback:function(e){t.colorstyle=e},expression:"colorstyle"}})],1),a("i",{staticClass:"icon iconfont mall-arrow-down"})])]),a("div",{staticClass:"table-view-cell"},[a("div",{staticClass:"table-view-cell-text"},[a("div",{staticClass:"left"},[a("img",{staticClass:"img1",attrs:{src:"static/image/janePay/icon_recommended.png",alt:""}}),a("span",[t._v("车牌号")])]),a("div",{staticClass:"center"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.plateNum,expression:"plateNum"}],staticClass:"carint",attrs:{type:"text",readonly:"",placeholder:"请输入车牌号"},domProps:{value:t.plateNum},on:{focus:t.focus,touchstart:function(t){t.stopPropagation()},input:function(e){e.target.composing||(t.plateNum=e.target.value)}}})]),t.actions.length>0?a("i",{staticClass:"icon iconfont mall-arrow-down",on:{click:t.morePlate}}):t._e(),a("van-action-sheet",{attrs:{id:"xialaView",actions:t.actions},on:{select:function(e){return t.onSelect(e,t.item)}},model:{value:t.showxiala,callback:function(e){t.showxiala=e},expression:"showxiala"}})],1)])]):t._e(),a("div",{staticClass:"btns"},[a("div",{staticClass:"div1"},[a("van-checkbox",{attrs:{"checked-color":"#ff884f"},on:{click:t.allSelect},model:{value:t.allRadio,callback:function(e){t.allRadio=e},expression:"allRadio"}},[t._v(" 我已阅读并同意 "),a("router-link",{attrs:{to:"/jane/agreement"}},[t._v("《加油支付协议》")])],1)],1),a("div",{staticClass:"div2",on:{click:t.nextIndex}},[t._v("下一步")])])])])]),a("virtual-keyboard",{attrs:{show:t.show},on:{input:t.inputKey,delete:t.deleteKey,blur:function(e){t.show=!1}}}),a("van-action-sheet",{attrs:{actions:t.actions1},on:{select:t.onSelect1},model:{value:t.show1,callback:function(e){t.show1=e},expression:"show1"}}),a("van-action-sheet",{attrs:{actions:t.actions2},on:{select:t.onSelect2},model:{value:t.show2,callback:function(e){t.show2=e},expression:"show2"}}),a("van-action-sheet",{attrs:{actions:t.actionsche},on:{select:t.onSelectche},model:{value:t.showche,callback:function(e){t.showche=e},expression:"showche"}})],1)},s=[],n=(a("e7e5"),a("d399")),o=(a("e17f"),a("2241")),c=a("5530"),l=(a("c975"),a("b0c0"),a("4160"),a("159b"),a("2f62")),r=a("2999"),d=(a("da71"),a("75bd"),a("f109")),u={name:"signing",mixins:[d["a"]],data:function(){return{referee:"",referee1:"",plateNum:"",radio:"",rfrCodeType:"",disabled:!0,allRadio:!0,colorstyle:"蓝",cvn2:"",expired:"",way:"",waySub:"",show:!1,actions:[],showxiala:!1,shenfenView:!1,styleMoney1:"",styleMoney:"",cardStyle:"",cardType:"",custName:"",cardNo:"",show2:!1,actions2:[{name:"借记卡",id:"1"},{name:"贷记卡",id:"3"},{name:"合并卡",id:"A"}],tidSign:"",show1:!1,actions1:[],showche:!1,actionsche:[{name:"绿"},{name:"黄"},{name:"蓝"},{name:"白"},{name:"黑"}],signingstyle:"",gonghangView:!1,id:"",htmlView:"",umsVerifyCode:"",obj:{},phone:"",shenfen:{},chepai:{},list:[],signType:"",isweChat:[],backUUID:"",singWay1:"",singWay2:"",singWay3:"",hasToSign:!1,modelObj:{}}},computed:Object(c["a"])({},Object(l["c"])(["userInfo"])),mounted:function(){var t=this,e="";e=this.$store.state.globalConfig.density_free_sign_type||"",""==e?(this.singWay1=1,this.singWay2=2,this.singWay3=3):(e.indexOf("1")>=0&&(this.singWay1=1),e.indexOf("2")>=0&&(this.singWay2=2),e.indexOf("3")>=0&&(this.singWay3=3)),this.modelObj=this.$route.query.modelObj,this.radio=this.modelObj.radio,this.backUUID=this.$util.randomString(),this.listenAndriodBack(),this.phone=this.userInfo.phone,this.isauthentication(),this.chepaiList(),this.$bridgefunc.enterForegroundCallBack((function(){t.hasToSign&&t.checkSignResult()}))},methods:{checkSignResult:function(){this.hasToSign=!1},listenAndriodBack:function(){var t=this;this.$bridgefunc.registeBridge("phonebridge",(function(e){var a=JSON.parse(e);a.type==t.backUUID&&o["a"].close()}))},onSelect1:function(t){this.show1=!1,this.styleMoney1=t.name,this.way=t.payWayName,this.waySub=t.payWayModel,"农行"==this.way?this.gonghangView=!0:"工银"==this.way||"微信"==this.way||"ET"==this.way?this.gonghangView=!1:this.way},pays:function(){var t=this;if("2"==t.radio){if("绿"==t.colorstyle){if(8!=t.plateNum.length)return void t.$Toast("请输入8位车牌号")}else if(7!=t.plateNum.length)return void t.$Toast("请输入7位车牌号")}else if("3"==t.radio&&7!=t.plateNum.length)return void t.$Toast("请输入7位车牌号");this.show1=!0},cheColor:function(){this.showche=!0},cardpays:function(){this.show2=!0},onSelect2:function(t){this.show2=!1,this.cardStyle=t.name,this.cardType=t.id},onSelectche:function(t){this.colorstyle=t.name,this.showche=!1},selectRadio:function(t){this.radio=t,this.isauthentication()},morePlate:function(){this.showxiala=!0},onSelect:function(t){this.showxiala=!1,this.plateNum=t.name},isauthentication:function(){var t=this,e=this;this.gonghangView=!1;var a={token:this.$store.state.login.token};e.judgeData(a).then((function(a){"success"==a.data.result?(e.isweChat=JSON.parse(a.data.data.payWayModel)||[],e.isweChat.forEach((function(t){t.name=t.payWayName})),e.actions1=e.isweChat,e.styleMoney1=e.actions1[0].payWayName,e.waySub=e.actions1[0].payWayModel,e.way=e.actions1[0].payWayName,"农行"==e.actions1[0].payWayName&&(t.gonghangView=!0),"1"==e.radio?1==a.data.data.isCertificate?(e.shenfen=a.data.data.usercertificate||{},e.shenfenView=!0):(e.shenfenView=!1,t.$bridgefunc.andriodaddback(t.backUUID,(function(){o["a"].alert({title:"提示",message:"请先完成实名认证"}).then((function(){t.$bridgefunc.delandriodback(t.backUUID,(function(){t.authentication()}))}))}))):"2"==e.radio&&1==a.data.data.isVehicle&&(e.plateNum=a.data.data.vehicleModel.plateNum||"",e.chepai=a.data.data.vehicleModel||{})):Object(n["a"])(a.data.info)}))},authentication:function(){this.$router.push({path:"/real-name-authentication"})},chepaiList:function(){var t=this,e={token:this.$store.state.login.token};t.chepaiData(e).then((function(e){if("success"==e.data.result){var a=e.data.data||[];a.forEach((function(t){t.name=t.plateNum})),t.actions=a}}))},focus:function(){this.show=!0,document.activeElement.blur()},inputKey:function(t){this.plateNum.length<8&&(this.plateNum=this.plateNum+t)},deleteKey:function(){this.plateNum=this.plateNum.substr(0,this.plateNum.length-1)},changeRfrCodeType:function(){this.rfrCodeType=1},nextIndex:function(){var t=this,e=this;if(0!=e.allRadio){if("1"==e.radio)e.signType=3,e.colorstyle="";else if("2"==e.radio){if("绿"==e.colorstyle){if(8!=e.plateNum.length)return void e.$Toast("请输入8位车牌号")}else if(7!=e.plateNum.length)return void e.$Toast("请输入7位车牌号");e.signType=2,e.colorstyle=e.colorstyle}else if("3"==e.radio){if(16!=e.tidSign.length)return void e.$Toast("请输入16位标签");if(7!=e.plateNum.length)return void e.$Toast("请输入7位车牌号");e.signType=1,e.colorstyle=""}var a={token:this.$store.state.login.token,plateNo:e.plateNum?e.plateNum:"",generateKey:e.tidSign?e.tidSign:"",payModelSub:e.waySub,signType:e.signType,idCardNo:e.shenfen.idcardNum?e.shenfen.idcardNum:"",returnUrl:window.location.origin+"/app-vue/app/index.html#/jane/complete",plateColor:e.colorstyle};e.nextData(a).then((function(i){if("success"==i.data.result)if("工银"==e.way)t.$bridgefunc.customPush({path:window.location.origin+"/app-vue/app/index.html#/jane/janeView",isnativetop:"1",superback:1,query:{info:encodeURIComponent(JSON.stringify(a))}});else if("微信"==e.way){var s=i.data.data.info,n={pre_entrustweb_id:s};e.$bridgefunc.wxFreePay(JSON.stringify(n),(function(t){"1"==t?e.hasToSign=!0:e.$Toast("签约失败！")}))}else("建行"==e.way||"ET"==e.way)&&e.$bridgefunc.customPush({path:i.data.data.info,isnativetop:"1",superback:1});else e.$Toast(i.data.info)}))}else e.$Toast("请勾选同意协议")},sweep:function(){var t=this;this.$bridgefunc.scanCode((function(e){t.rfrCodeType=2,t.tidSign=e.code}))},allSelect:function(){var t=this;t.allRadio=!t.allRadio}},components:{VirtualKeyboard:r["default"]}},h=u,p=(a("6b79"),a("0c7c")),f=Object(p["a"])(h,i,s,!1,null,"5aad059e",null);e["default"]=f.exports},b2be:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABV0lEQVRYhe2Wy23DMAyGNUJG8FEAfwIawSNkBI+QEbKBR/Eldx8yQEYIMoFHcA+lAFa2JDp1ChQwAR7y/D4wfMS5I474D0FEFwDjzjkAaK3w+UM5WOETM5+9980eSURBvvdhhqevhRBOth/QuRDCiYg6/bgoIPApA+8AzET0tEgIbJDPdFUBAazCY0gTVSU0HMAY35sVANBGuC7ZOxI5eFZAGmPSpapFTqIEXxVI4BcLPCdRgy8ENJyZ+y3wVALAC8CtBF8IRNt34UrirhbM3dCc3wLM3FeXQiWSss8AXmYBsY8lHH8JH2MlSiO6EJAnHlslcg1nHNGfVd8qUev2kkR2EVklLKNWkiiuYjkcz9xkWOElieox8t43ud2gTmkVviLRmQQUaHU7Ami3nGPnnNOHzSSgJOJsX5n5vEfGk27aPYnE3/4lSySuzNzvmd77xiRwxBGfjC/Uf6m5/t20ZAAAAABJRU5ErkJggg=="},f109:function(t,e,a){"use strict";var i="/app/json/user/getSignTagListByUserId",s="/app/json/user/getSignDetail",n="/app/json/user/brokageSign",o="/app/json/user/getSignLogListByUserId",c="/app/json/user/applySign",l="/app/json/app_shopping_order/queryEasyPayOrder",r="/app/json/user/getSignDetailById",d="/app/json/user/checkIdentifyAllDetail",u="/app/json/user/getVehicleListByUserId",h="/app/json/user/queryBankCardType",p="/app/json/user/signAgreementConfirm",f="/app/json/user/signResendReq",m="/app/json/user/passfreeQuery",g="/app/json/user/confirmCompletetSign",y="/app/json/user/cancelApply";e["a"]={methods:{gongcompleteData:function(t){return this.$http.post(g,t)},jiansheData:function(t){return this.$http.post(m,t)},duanxinData:function(t){return this.$http.post(f,t)},messageData:function(t){return this.$http.post(p,t)},leixing:function(t){return this.$http.post(h,t)},chepaiData:function(t){return this.$http.post(u,t)},judgeData:function(t){return this.$http.post(d,t)},signlistData:function(t){return this.$http.post(i,t)},signlistdetailData:function(t){return this.$http.post(s,t)},jieyueData:function(t){return this.$http.post(n,t)},jiluData:function(t){return this.$http.post(o,t)},nextData:function(t){return this.$http.post(c,t)},orderData:function(t){return this.$http.post(l,t)},successData:function(t){return this.$http.post(r,t)},cancelApply:function(t){return this.$http.post(y,t)}}}}}]);