(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-372fa325"],{"0fc3":function(t,e,i){},1150:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"have-mention"},[i("nav-top",{staticClass:"nav-top",attrs:{title:"购油记录"},on:{backEvent:function(e){return t.$router.go(-1)}}},[i("div",{staticClass:"screen-popup"},[i("ScreenPopup",{attrs:{isShowChangeCard:t.isShowChangeCard},on:{childToDadValue:t.screenChild}})],1)]),i("nav-content",{staticClass:"have-mention-container"},[t._l(t.cardList,(function(e,a){return t.complete?i("div",{key:a,staticClass:"my-title-info"},[i("div",{staticClass:"top"},[i("div",{staticClass:"card-num"},[t._v("油品名称："+t._s(e.oilcode)+t._s(e.oilname))])]),i("div",{staticClass:"list"},[i("div",{staticClass:"item"},[i("div",{staticClass:"left"},[t._v("订单编号")]),i("div",{staticClass:"right"},[t._v(t._s(e.orderNo))])]),i("div",{staticClass:"item"},[i("div",{staticClass:"left"},[t._v("购油数量")]),i("div",{staticClass:"right"},[t._v(t._s(e.tons))])]),i("div",{staticClass:"item"},[i("div",{staticClass:"left"},[t._v("购油油库")]),i("div",{staticClass:"right"},[t._v(t._s(e.oilHouse))])]),i("div",{staticClass:"item"},[i("div",{staticClass:"left"},[t._v("下单时间")]),i("div",{staticClass:"right"},[t._v(t._s(t.dealTime(e.orderTime)))])])])]):t._e()})),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.hasMore,expression:"!hasMore"}],staticClass:"no-data theme_font_tint"},[t._v("没有更多数据了~")])],2)],1)},s=[],n=i("5530"),o=(i("fb6a"),i("1582")),c=i("2f62"),l={data:function(){return{cardList:[],isShowChangeCard:!1,startTime:"",endTime:"",complete:!1,hasMore:!0}},mounted:function(){this.getRecord()},methods:{screenChild:function(t){this.startTime=t[0],this.endTime=t[1],this.getRecord()},getRecord:function(){var t=this,e={token:this.$store.state.login.token,startTime:this.startTime,endTime:this.endTime,vipUnitUserCode:this.vipUnitUser.vipUnitUserId};this.$request.post("/app/json/app_oil_appoint/appAllOilSaledRecord",e).then((function(e){if(t.complete=!0,t.hasMore=!1,0===e.status){var i=e.data;t.cardList=i}else t.$Toast(e.info?e.info:"获取购油记录失败")}))["catch"]((function(t){}))},dealTime:function(t){var e=this.insertStr(this.insertStr(t,4,"-"),7,"-");return e},insertStr:function(t,e,i){return t.slice(0,e)+i+t.slice(e)}},computed:Object(n["a"])({},Object(c["c"])(["vipUnitUser"])),components:{ScreenPopup:o["a"]}},r=l,d=(i("21b9"),i("0c7c")),u=Object(d["a"])(r,a,s,!1,null,"6a9111ea",null);e["default"]=u.exports},1582:function(t,e,i){"use strict";var a,s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{directives:[{name:"show",rawName:"v-show",value:!t.sideFiltrateModalShow,expression:"!sideFiltrateModalShow"}],staticClass:"screening",on:{click:function(e){t.sideFiltrateModalShow=!0}}},[t._v("筛选")]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.sideFiltrateModalShow,expression:"sideFiltrateModalShow"}],staticClass:"screening",on:{click:function(e){t.sideFiltrateModalShow=!1}}},[t._v("关闭")]),i("transition",{attrs:{name:"filtrate"}},[t.sideFiltrateModalShow?i("div",{ref:"sideFiltrateModal",staticClass:"filtrate-modal-wrapper",style:{top:t.$store.state.barHeight+t.$market.getNavHeight()+"px"}},[i("div",{staticClass:"filtrate-container"},[i("div",{staticClass:"filtrate-content"},[i("div",{staticClass:"change-time"},[i("div",{staticClass:"table-view time-text"},[i("div",{staticClass:"table-view-cell info",on:{click:function(e){t.showStartTime=!0}}},[i("div",{staticClass:"table-view-cell-text"},[t._v("开始时间")]),i("div",{staticClass:"table-view-cell-arrow"},[t._v(t._s(t.beginTime))])]),i("div",{staticClass:"table-view-cell info",on:{click:function(e){t.showEndTime=!0}}},[i("div",{staticClass:"table-view-cell-text"},[t._v("结束时间")]),i("div",{staticClass:"table-view-cell-arrow"},[t._v(t._s(t.endTime))])])])]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowChangeCard,expression:"isShowChangeCard"}],staticClass:"card-num"},[i("div",{staticClass:"title"},[t._v("提油卡号")]),i("ul",{staticClass:"list"},t._l(t.cardList,(function(e,a){return i("li",{key:a,staticClass:"item"},[i("div",{staticClass:"item",class:{active:t.num==a},on:{click:function(i){return t.changeCard(a,e.userCard)}}},[t._v(" "+t._s(e.userCard)+" ")])])})),0)]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowChangeOilName,expression:"isShowChangeOilName"}],staticClass:"card-num"},[i("div",{staticClass:"title"},[t._v("油品选择")]),i("ul",{staticClass:"list"},t._l(t.oilNameList,(function(e,a){return i("li",{key:a,staticClass:"item"},[i("div",{staticClass:"item",class:{active:t.oil==a},on:{click:function(i){return t.changeOil(a,e.oilname)}}},[t._v(" "+t._s(e.oilname)+" ")])])})),0)])]),i("div",{staticClass:"filtrate-btn"},[i("button",{staticClass:"l-btn u-confirm",on:{click:t.clearData}},[t._v("清除")]),i("button",{staticClass:"l-btn u-confirm theme_bg_blue_i",on:{click:t.confirm}},[t._v("确定")])])])]):t._e()]),i("van-popup",{attrs:{position:"bottom"},model:{value:t.showStartTime,callback:function(e){t.showStartTime=e},expression:"showStartTime"}},[i("van-datetime-picker",{attrs:{type:"date"},on:{confirm:t.confirmActivitesTime,cancel:function(e){t.showStartTime=!1},change:t.setColumnValue},model:{value:t.currentDateStart,callback:function(e){t.currentDateStart=e},expression:"currentDateStart"}})],1),i("van-popup",{attrs:{position:"bottom"},model:{value:t.showEndTime,callback:function(e){t.showEndTime=e},expression:"showEndTime"}},[i("van-datetime-picker",{attrs:{type:"date"},on:{confirm:t.confirmEndTime,cancel:function(e){t.showEndTime=!1},change:t.setColumnValue},model:{value:t.currentDateEnd,callback:function(e){t.currentDateEnd=e},expression:"currentDateEnd"}})],1)],1)},n=[],o=i("ade3"),c=(i("d1cf"),i("ee83")),l=(i("8a58"),i("e41f")),r=i("5530"),d=(i("0d03"),i("b0c0"),i("ca00")),u=i("2f62"),h={data:function(){return{sideFiltrateModalShow:!1,screen:"筛选",showStartTime:!1,showEndTime:!1,currentDateStart:new Date,currentDateEnd:new Date,beginTime:"",endTime:"",cardList:[],oilNameList:[],num:"0",oil:"0",changeNum:"",changeOilName:""}},props:{isShowChangeCard:{type:Boolean,default:!0},isShowChangeOilName:{type:Boolean,default:!1}},mounted:function(){this.getOilCardList(),this.appQueryTakeOilNameList()},methods:{confirmActivitesTime:function(t){this.showStartTime=!1,this.beginTime=d["a"].getMyDate(t)},confirmEndTime:function(t){this.showEndTime=!1,this.endTime=d["a"].getMyDate(t)},setColumnValue:function(t,e){new Date},confirm:function(){var t=this.changeNum,e=this.changeOilName;this.sideFiltrateModalShow=!this.sideFiltrateModalShow,this.$emit("childToDadValue",[this.beginTime,this.endTime,t,e])},clearData:function(){this.beginTime="",this.endTime="",this.changeNum="0"},changeCard:function(t,e){this.num=t,this.changeNum=e},changeOil:function(t,e){this.oil=t,this.changeOilName=e},getOilCardList:function(){var t=this,e={token:this.$store.state.login.token,vipUnitUserCode:this.vipUnitUser.vipUnitUserId};this.$request.post("/app/json/app_oil_appoint/appQueryTakeOilCardList",e).then((function(e){if(0===e.status){var i=e.data;t.cardList=i}}))["catch"]((function(t){}))},appQueryTakeOilNameList:function(){var t=this;this.$request.post("/app/json/app_oil_appoint/appQueryTakeOilNameList",{vipUnitUserCode:this.vipUnitUser.vipUnitUserId}).then((function(e){0===e.status?t.oilNameList=e.data:t.$Toast(e.info?e.info:"获取油品名称失败")}))["catch"]((function(t){}))}},computed:Object(r["a"])({},Object(u["c"])(["vipUnitUser"])),components:(a={},Object(o["a"])(a,l["a"].name,l["a"]),Object(o["a"])(a,c["a"].name,c["a"]),a)},m=h,v=(i("795ce"),i("0c7c")),p=Object(v["a"])(m,s,n,!1,null,"3e8a08b1",null);e["a"]=p.exports},"21b9":function(t,e,i){"use strict";i("0fc3")},"795ce":function(t,e,i){"use strict";i("f293")},f293:function(t,e,i){}}]);