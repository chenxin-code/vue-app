(window.webpackJsonp=window.webpackJsonp||[]).push([[870],{IkjT:function(t,e,a){"use strict";a.r(e);var i=a("L2JU"),s={computed:(Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t})({},Object(i.c)(["userInfo"])),data:function(){return{mindate:new Date(1900,1,1),maxdate:new Date(2050,1,1),passportNum:"",pubPassportNum:"",cateType:"",idData:{},carditem:{},cardList:[],currentDate:new Date,showTimePicker:!1,pickerType:"",canEdit:!1}},watch:{currentEndDate:function(t,e){"未填写"!=this.currentEffectDate&&"未填写"!=this.currentEndDate&&""==this.carditem.expiryDate&&new Date(this.currentEffectDateTime)>=new Date(this.currentEndDateTime)&&(this.currentEndDate="未填写")},currentEffectDate:function(t,e){"未填写"!=this.currentEffectDate&&"未填写"!=this.currentEndDate&&""==this.carditem.effectDate&&new Date(this.currentEffectDateTime)>=new Date(this.currentEndDateTime)&&(this.currentEffectDate="未填写")}},methods:{getIdCate:function(t){return 0==t?"身份证":3==t?"台胞证":2==t?"港澳通行证":1==t?"护照":4==t?"边民证":"其他"},focusEn:function(){this.canEdit=!0},blurEn:function(){""==this.passportNum&&(this.passportNum="未填写"),""==this.pubPassportNum&&this.pubPassportNum},pickerClick:function(t){this.canEdit=!0,1==t?(this.mindate=new Date(1900,1,1),this.maxdate=new Date):2==t?(this.mindate=new Date(1900,1,1),this.maxdate=new Date):3==t&&(this.mindate=new Date,this.maxdate=new Date(2050,1,1)),0!=this.carditem.cateType?(this.pickerType=t,this.showTimePicker||(this.showTimePicker=!this.showTimePicker)):this.$Toast(this.$i18n.t("loginRegisterLang.birthinputToast"))},confirmClick:function(t){var e=t,a=e.getMonth()+1,i=e.getDate();a>=1&&a<=9&&(a="0"+a),i>=0&&i<=9&&(i="0"+i);var s=e.getFullYear()+"-"+a+"-"+i;1==this.pickerType?this.birthday=s:2==this.pickerType?(this.currentEffectDate=s,this.currentEffectDateTime=t):3==this.pickerType&&(this.currentEndDate=s,this.currentEndDateTime=t),this.currentDate=new Date,this.showTimePicker=!1},cancleClick:function(){this.showTimePicker=!1},timeFormat:function(t){if(""!=t)return t.split(" ")[0]},idcardList:function(t){var e=this,a={idType:t};this.$Loading.open(),this.$http.post("/app/json/user/getUserCertificateList",a).then((function(a){e.$Loading.close();var i=a.data,s=i.status,r=(i.result,i.info);0==s?(a.data.data&&a.data.data.forEach((function(a){if(a.cateType==t)return e.carditem=a,(!e.carditem.realName||e.carditem.realName.length<=0)&&(e.carditem.realName=e.carditem.name),!1})),e.carditem.name||(e.carditem.name=e.$store.state.userInfo.realName),e.carditem.realName||(e.carditem.realName=e.carditem.name),e.passportNum=e.carditem.passportNum?e.carditem.passportNum:"未填写",e.pubPassportNum=e.carditem.pubPassportNum?e.carditem.pubPassportNum:"未填写"):e.$Toast(r)})).catch((function(t){e.$Loading.close()}))},queryBtn:function(){var t=this;if(""!=this.passportNum)return 0==this.$util.checkPassport(this.passportNum)?(this.passportNum="",void this.$Toast("护照号填写有误")):void this.$request.post("/app/json/user/passportSubmmit",{cateType:1,pubPassportNum:this.pubPassportNum,passportNum:this.passportNum}).then((function(e){0===e.status?t.$router.go(-1):t.$Toast(e.info?e.info:"提交失败")}));thsi.$Toast("护照号不能为空")}},created:function(){this.cateType=this.$route.query.type,this.idData=this.$route.query.idData||{},this.idcardList(this.cateType),console.log(this.$route.query.type),console.log(this.$route.query.idData)}},r=(a("mHdA"),a("KHd+")),n=Object(r.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"iddetail"},[a("nav-top",{on:{backEvent:function(e){return t.$router.go(-1)}}}),t._v(" "),a("nav-content",[a("div",{staticClass:"content"},[a("div",{staticClass:"list"},[a("div",{staticClass:"list-con"},[0==this.carditem.cateType?a("div",{staticClass:"row"},[a("div",{staticClass:"label"},[t._v("姓名")]),t._v(" "),a("div",{staticClass:"labelvalue"},[t._v(t._s(t.carditem.realName))])]):t._e(),t._v(" "),0==this.carditem.cateType?a("div",{staticClass:"row line_top"},[a("div",{staticClass:"label"},[t._v("身份证号")]),t._v(" "),a("div",{staticClass:"labelvalue"},[t._v(t._s(t.$util.dealIds(t.carditem.idcardNum)))])]):t._e(),t._v(" "),1==this.carditem.cateType?a("div",[a("div",{staticClass:"row line_top"},[a("div",{staticClass:"label"},[t._v("普通护照号")]),t._v(" "),a("div",{staticClass:"labelvalue"},[a("van-field",{staticClass:"van",attrs:{size:"16",type:"phone","input-align":"right"},on:{focus:t.focusEn,blur:t.blurEn},model:{value:t.passportNum,callback:function(e){t.passportNum=e},expression:"passportNum"}})],1)]),t._v(" "),a("div",{staticClass:"row line_top"},[a("div",{staticClass:"label"},[t._v("公务护照号")]),t._v(" "),a("div",{staticClass:"labelvalue"},[a("van-field",{staticClass:"van",attrs:{size:"16",type:"phone","input-align":"right"},on:{focus:t.focusEn,blur:t.blurEn},model:{value:t.pubPassportNum,callback:function(e){t.pubPassportNum=e},expression:"pubPassportNum"}})],1)])]):t._e()])]),t._v(" "),a("div",{staticClass:"empty"}),t._v(" "),t.canEdit?a("div",{staticClass:"submit",on:{click:t.queryBtn}},[t._v("保存")]):t._e()])])],1)}),[],!1,null,"c2c17574",null);e.default=n.exports},cekN:function(t,e,a){},mHdA:function(t,e,a){"use strict";var i=a("cekN");a.n(i).a}}]);