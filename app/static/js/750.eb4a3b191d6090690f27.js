(window.webpackJsonp=window.webpackJsonp||[]).push([[750],{"4U2t":function(t,e,s){"use strict";s.r(e);var i={name:"address-edit",components:{},data:function(){return{location:{},position:"",name:"",phone:"",editAddress:{},storeOuCode:""}},methods:{phoneBlur:function(){},toMap:function(){this.$router.push({path:"/mall2/store-delivery/address-map"})},addAddressEvent:function(){var t=this;if(this.$util.checkMobile(this.phone))if(""!=this.position)if(""!=this.name){var e=this.location;e.storeOuCode=this.storeOuCode,e.houseNumber=this.position,e.receiverName=this.name,e.mobile=this.phone,""==e.countryId&&(e.countryId="-1"),""==e.townId&&(e.townId="-1"),e.addressFull=this.location.address+this.position,this.location.id&&(e.id=this.location.id),this.$Loading.open(),this.$http.post("/app/json/user_address/updateStoreDeliveryUserAddress",e).then((function(e){t.$Loading.close();var s=e.data;0==s.status?(localStorage.setItem("Address_List_Seleted",JSON.stringify(s.data)),t.$router.go(-2)):t.$Toast(s.info)}),(function(e){t.$Loading.close(),t.$Toast("请求数据失败！")}))}else this.$Toast("请输入收货人姓名！");else this.$Toast("请输入门牌号！");else this.$Toast("请输入正确的手机号！")},getLoaction:function(){var t=this;this.$bridgefunc.getLocation((function(e){t.$mallCommon.nearAddress((function(e){t.location=e}),e)}))}},mounted:function(){var t=this,e=sessionStorage.getItem("Address_Map_Seleted");if(e){sessionStorage.removeItem("Address_Map_Seleted");var s={province:(e=JSON.parse(e)).province,city:e.city,district:e.area,longitude:e.location.lng,latitude:e.location.lat,address:e.address+e.name,name:e.name};e.city==e.province&&(s.city=e.area,s.district=""),this.$mallCommon.pureLocationAnalysis((function(e){t.location=e}),s)}else"1"==this.$route.query.pageType?(this.editAddress=JSON.parse(this.$route.query.address),this.location=this.editAddress,this.position=this.editAddress.houseNumber,this.name=this.editAddress.receiverName,this.phone=this.editAddress.mobile):this.getLoaction()}},o=(s("UQ5Z"),s("KHd+")),a=Object(o.a)(i,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("nav-top",{on:{backEvent:function(e){return t.$router.go(-1)}}}),t._v(" "),s("nav-content",[s("div",{staticClass:"address-edit"},[s("div",{staticClass:"list"},[s("div",{staticClass:"card-div"},[s("div",{staticClass:"row line_bottom"},[s("div",{staticClass:"label"},[t._v("小区/大厦/学校")]),t._v(" "),s("div",{staticClass:"value",on:{click:t.toMap}},[s("div",{staticClass:"loaction single-line"},[t._v(t._s(t.location.area))])]),t._v(" "),s("i",{staticClass:"iconfont mall-gengduojiantou theme_font_black icon-font"})]),t._v(" "),s("div",{staticClass:"row line_bottom"},[s("div",{staticClass:"label"},[t._v("楼号-门牌号")]),t._v(" "),s("div",{staticClass:"value"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.position,expression:"position"}],attrs:{placeholder:"例如：B座1009"},domProps:{value:t.position},on:{input:function(e){e.target.composing||(t.position=e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"row line_bottom"},[s("div",{staticClass:"label"},[t._v("收货人")]),t._v(" "),s("div",{staticClass:"value"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{placeholder:"请输入收货人姓名"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"label"},[t._v("手机号")]),t._v(" "),s("div",{staticClass:"value"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],attrs:{placeholder:"请输入收货人手机号",type:"tel",maxlength:"11",onkeypress:"return( /[\\d]/.test(String.fromCharCode(event.keyCode)))",pattern:"[0-9]*"},domProps:{value:t.phone},on:{input:[function(e){e.target.composing||(t.phone=e.target.value)},function(e){t.phone=/^\d+/.exec(t.phone)?/^\d+/.exec(t.phone)[0]:""}],blur:t.phoneBlur}})])])])]),t._v(" "),s("div",{staticClass:"bottom-btn theme_bg_red",on:{click:t.addAddressEvent}},[s("p",[t._v("保存并使用")])])])])],1)}),[],!1,null,"2cce33fe",null);e.default=a.exports},"530w":function(t,e,s){},UQ5Z:function(t,e,s){"use strict";var i=s("530w");s.n(i).a}}]);