(window.webpackJsonp=window.webpackJsonp||[]).push([[109,61],{"22sX":function(t,e,i){"use strict";var a=i("oYWQ");i.n(a).a},"7bPR":function(t,e,i){},"9SVu":function(t,e,i){"use strict";var a=i("KVU/");i.n(a).a},HcFU:function(t,e,i){"use strict";var a=i("Ohrn");i.n(a).a},"KVU/":function(t,e,i){},Ohrn:function(t,e,i){},Xfxn:function(t,e,i){"use strict";var a=i("7bPR");i.n(a).a},hDEW:function(t,e,i){"use strict";i.r(e);var a={name:"",props:{initData:{type:Object,default:{}}},data:function(){return{popShow:!1,selectedIndexs:[],selectedItems:[],dataCache:[],cusOptions:[],cusIndex:0,initAreas:[],myTimeout:null}},methods:{close:function(){var t=this;this.popShow=!1,this.myTimeout&&(clearTimeout(this.myTimeout),this.myTimeout=null),this.myTimeout=setTimeout((function(){t.$emit("closeEvent","")}),240)},reSelect:function(t){if(1!=this.initData.canNotReselect){var e=this.selectedItems.length-t;console.log(e),this.selectedItems.splice(t,e),this.selectedIndexs.splice(t,e);var i=this.dataCache[t];this.dataCache.splice(t+1,e),this.cusOptions=i}},selectOption:function(t,e){this.cusIndex=e,this.selectedItems.push(t),this.selectedIndexs.push(e),this.cusOptions=[];var i={item:t,selecteds:this.selectedItems};this.$emit("selectedItemsEvent",i)},pushCustomOptions:function(t){if(0==this.selectedIndexs.length&&(this.selectedIndexs=[],this.selectedItems=[],this.dataCache=[],this.cusIndex=0),this.dataCache.push(t),this.cusOptions=t,this.initAreas&&this.initAreas.length>0){for(var e=this.initAreas.shift(),i=!1,a=0;a<t.length;a++){var s=t[a];if(this.$util.areaEqual(e,s.name)){i=!0,this.selectOption(s,a);break}}0==i&&(this.initAreas=[])}},reset:function(t){this.selectedIndexs=[],this.selectedItems=[],this.cusIndex=0,t?(this.dataCache=[],this.dataCache.push(t),this.cusOptions=t):(this.cusOptions=this.dataCache[0],this.dataCache=[],this.dataCache.push(this.cusOptions))}},created:function(){try{this.initAreas=JSON.parse(JSON.stringify(this.initData.initAreas))}catch(t){this.initAreas=[]}},mounted:function(){this.popShow=!0}},s=(i("22sX"),i("KHd+")),l=Object(s.a)(a,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"region-select"},[i("div",{staticClass:"other-div",on:{click:t.close}}),t._v(" "),i("transition",{attrs:{name:"pop_transiton"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.popShow,expression:"popShow"}],staticClass:"select-content"},[i("div",{staticClass:"close-btn",on:{click:t.close}},[i("img",{attrs:{src:"static/image/mall/close.png"}})]),t._v(" "),i("div",{staticClass:"font-medium-l-x title"},[t._v(t._s(t.initData.title?t.initData.title:"请选择区域"))]),t._v(" "),i("div",{staticClass:"selected-item font-medium"},[t._l(t.selectedItems,(function(e,a){return i("div",{staticClass:"item-div",on:{click:function(e){return t.reSelect(a)}}},[i("div",{staticClass:"item-text"},[t._v(t._s(e.name))])])})),t._v(" "),t.cusOptions.length>0?i("div",{staticClass:"item-div"},[i("div",{staticClass:"item-text item-selected theme_font_red"},[t._v("请选择")])]):t._e()],2),t._v(" "),i("div",{staticClass:"options-div"},t._l(t.cusOptions,(function(e,a){return i("div",{staticClass:"option",on:{click:function(i){return t.selectOption(e,a)}}},[t._v(t._s(e.name))])})),0)])])],1)}),[],!1,null,"60a4d13e",null);e.default=l.exports},oYWQ:function(t,e,i){},sB9D:function(t,e,i){},xCOK:function(t,e,i){"use strict";i.r(e),i("4X9F");var a,s=i("IkEG"),l=(i("0c+n"),i("7oM2")),n=(i("ilju"),i("5B+z")),o=i("F8w7"),c=i("hDEW"),r=(i("L2JU"),{data:function(){return{columns:[],showOil:!1}},props:{isOpenPopup:{type:Boolean,default:!1},title:{type:String,default:"选择汽车类型"}},mounted:function(){console.log(this.$store)},methods:{onCancel:function(){this.showOil=!1},onConfirm:function(t,e){this.showOil=!1,this.$emit("getOilInfo",t),console.log(t)},openPopup:function(){1==this.isOpenPopup?this.showOil=!0:this.showOil=!1},getCarTypeList:function(){var t=this;this.$request.post("/app/json/user/queryVehicleType").then((function(e){0==e.status&&(t.columns=e.data)}))}},components:{}}),v=(i("Xfxn"),i("KHd+")),u=Object(v.a)(r,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"table-view-cell-arrow",on:{click:t.openPopup}}),t._v(" "),i("van-popup",{attrs:{position:"bottom"},model:{value:t.showOil,callback:function(e){t.showOil=e},expression:"showOil"}},[i("van-picker",{attrs:{"show-toolbar":"",title:t.title,columns:t.columns},on:{cancel:t.onCancel,confirm:t.onConfirm}})],1)],1)}),[],!1,null,"3f096645",null).exports,d=i("ygAv");function p(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var m={data:function(){return{showSelect:!1,showStartTime:!1,areaList:{},currentDateStart:new Date,penaltyDate:"",initData:{title:"请选择地区"},disabled:!1,titleOil:"请选择汽车类型",isOpenPopup:!0,companyName:"",region:[],regionText:"",violaData:{},carNumberList:[],columns:[],showplateNumber:!1}},mounted:function(){var t=this;this.areaList=o.a,this.$request.post("/app/json/user/getVehicleListByUserId").then((function(e){if(0==e.status){t.carNumberList=e.data;var i=[];e.data.forEach((function(t){i.push(t.plateNum)})),t.columns=i}}))},methods:{getAddressFun:function(){this.showSelect=!0},getAddress:function(t){for(var e="",i=0;i<t.length;i++)e+=t[i].name;this.regionText=e,this.violaData.province=t[0].name,this.violaData.cityName=t[1].name,this.showSelect=!1},onConfirm:function(t,e){this.violaData.plateNumber=t,this.violaData.engineNum=this.carNumberList[e].engineNum,this.showplateNumber=!1},confirmActivitesTime:function(t){this.showStartTime=!1,this.violaData.penaltyDate=d.a.getMyDate(t)},setColumnValue:function(t,e){new Date}},components:(a={TipsPopup:u,RegionSelect:c.default},p(a,n.a.name,n.a),p(a,l.a.name,l.a),a)},h=(i("HcFU"),Object(v.a)(m,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"viola-ticket-content"},[i("div",{staticClass:"table-view"},[i("div",{staticClass:"table-view-cell"},[i("div",{staticClass:"table-view-cell-text"},[i("div",{staticClass:"left"},[i("div",{staticClass:"title"},[t._v("处罚决定书编号：")]),t._v(" "),i("div",{staticClass:"inp"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.violaData.number,expression:"violaData.number"}],attrs:{type:"text",disabled:t.disabled,placeholder:"请输入处罚决定书编号"},domProps:{value:t.violaData.number},on:{input:function(e){e.target.composing||t.$set(t.violaData,"number",e.target.value)}}})])])])]),t._v(" "),i("div",{staticClass:"table-view-cell",on:{click:t.getAddressFun}},[i("div",{staticClass:"table-view-cell-text"},[i("div",{staticClass:"left"},[i("div",{staticClass:"title"},[t._v("违章省份：")]),t._v(" "),i("div",{staticClass:"inp"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.regionText,expression:"regionText"}],attrs:{type:"text",disabled:"",placeholder:"请选择罚单省份"},domProps:{value:t.regionText},on:{input:function(e){e.target.composing||(t.regionText=e.target.value)}}})]),t._v(" "),i("div",{staticClass:"table-view-cell-arrow"})])])]),t._v(" "),i("div",{staticClass:"table-view-cell",on:{click:function(e){t.showStartTime=!0}}},[i("div",{staticClass:"table-view-cell-text"},[i("div",{staticClass:"left"},[i("div",{staticClass:"title"},[t._v("罚单日期：")]),t._v(" "),i("div",{staticClass:"inp"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.violaData.penaltyDate,expression:"violaData.penaltyDate"}],attrs:{type:"text",disabled:"",placeholder:"请选择罚单日期"},domProps:{value:t.violaData.penaltyDate},on:{input:function(e){e.target.composing||t.$set(t.violaData,"penaltyDate",e.target.value)}}})]),t._v(" "),i("div",{staticClass:"table-view-cell-arrow"})])])]),t._v(" "),i("div",{staticClass:"table-view-cell",on:{click:function(e){t.showplateNumber=!0}}},[i("div",{staticClass:"table-view-cell-text"},[i("div",{staticClass:"left"},[i("div",{staticClass:"title"},[t._v("车牌编号：")]),t._v(" "),i("div",{staticClass:"inp"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.violaData.plateNumber,expression:"violaData.plateNumber"}],attrs:{type:"text",disabled:!t.disabled,placeholder:"请选择车牌号"},domProps:{value:t.violaData.plateNumber},on:{input:function(e){e.target.composing||t.$set(t.violaData,"plateNumber",e.target.value)}}})]),t._v(" "),i("div",{staticClass:"table-view-cell-arrow"})])])]),t._v(" "),i("div",{staticClass:"table-view-cell"},[i("div",{staticClass:"table-view-cell-text"},[i("div",{staticClass:"left"},[i("div",{staticClass:"title"},[t._v("发动机号：")]),t._v(" "),i("div",{staticClass:"inp"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.violaData.engineNum,expression:"violaData.engineNum"}],attrs:{type:"text",disabled:!t.disabled},domProps:{value:t.violaData.engineNum},on:{input:function(e){e.target.composing||t.$set(t.violaData,"engineNum",e.target.value)}}})])])])]),t._v(" "),i("div",{staticClass:"table-view-cell"},[i("div",{staticClass:"table-view-cell-text"},[i("div",{staticClass:"left"},[i("div",{staticClass:"title"},[t._v("罚单金额：")]),t._v(" "),i("div",{staticClass:"inp"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.violaData.fine,expression:"violaData.fine"}],attrs:{type:"text",disabled:t.disabled,placeholder:"请输入罚单金额"},domProps:{value:t.violaData.fine},on:{input:function(e){e.target.composing||t.$set(t.violaData,"fine",e.target.value)}}})])])])])]),t._v(" "),i("van-popup",{attrs:{position:"bottom"},model:{value:t.showplateNumber,callback:function(e){t.showplateNumber=e},expression:"showplateNumber"}},[i("van-picker",{attrs:{"show-toolbar":"",title:"选择车牌编号",columns:t.columns},on:{cancel:function(e){t.showplateNumber=!1},confirm:t.onConfirm}})],1),t._v(" "),i("van-popup",{attrs:{position:"bottom"},model:{value:t.showSelect,callback:function(e){t.showSelect=e},expression:"showSelect"}},[i("van-area",{attrs:{"area-list":t.areaList,"columns-num":2,title:"请选择罚单省份"},on:{confirm:t.getAddress}})],1),t._v(" "),i("van-popup",{attrs:{position:"bottom"},model:{value:t.showStartTime,callback:function(e){t.showStartTime=e},expression:"showStartTime"}},[i("van-datetime-picker",{attrs:{type:"date"},on:{confirm:t.confirmActivitesTime,cancel:function(e){t.showStartTime=!1},change:t.setColumnValue},model:{value:t.currentDateStart,callback:function(e){t.currentDateStart=e},expression:"currentDateStart"}})],1)],1)}),[],!1,null,"42ac93bb",null).exports),f={props:{violadetail:{}},data:function(){return{}},mounted:function(){console.log(this.violadetail)}},C=(i("xLKJ"),{data:function(){return{componentName:"ViolaTicketQuery",checked:!1,violadetail:{}}},methods:{bindBtn:function(){var t=this;if("ViolaTicketQuery"==this.componentName){var e=this.$refs.violaTicket.violaData;e.storeOuCode=this.$store.state.globalConfig.trafficStoreOuCode,e.fine&&e.penaltyDate&&e.plateNumber&&e.number?this.$request.post("/app/json/fee_life_order/queryTrafficPenalty",e).then((function(e){0==e.status?(t.violadetail=e.data,t.componentName="ViolaTicketPayment"):t.$Toast("查询失败")})):this.$Toast("请将内容填写完整")}},payment:function(){var t=this;if(this.checked){console.log(this.violadetail);var e={carts:[{number:1,skuId:this.$store.state.globalConfig.trafficPenaltySkuId,storeOuCode:this.$store.state.globalConfig.trafficStoreOuCode,checked:"1"}],rechargeNo:this.violadetail.number,plateNumber:this.violadetail.plateNumber,deliveryType:"2"};this.$request.post("/app/json/fee_life_order/submit",e).then((function(e){0==e.status?t.$router.push({name:"violation-pay",params:{occurOuCode:t.$store.state.globalConfig.trafficStoreOuCode,payInfo:e.data}}):t.$Toast(e.info)}))}else this.$Toast('请同意"违章代缴协议"')},showagreement:function(){this.$request.post("/app/json/news/getNewsList",{values:19}).then((function(t){0==t.status&&s.a.confirm({title:t.data[0].title,message:t.data[0].content}).then((function(){}))}))},ViolationQueryFun:function(){this.$router.push({path:"/violation-query",query:{type:3}})}},components:{ViolaTicketQuery:h,ViolaTicketPayment:Object(v.a)(f,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"viola-detail"},[i("ul",[i("li",{staticClass:"viola-item"},[i("div",{staticClass:"viola-title"},[t._v("决定书编码：")]),t._v(" "),i("div",{staticClass:"viola-content"},[t._v(t._s(t.violadetail.number))])]),t._v(" "),i("li",{staticClass:"viola-item"},[i("div",{staticClass:"viola-title"},[t._v("车牌号码：")]),t._v(" "),i("div",{staticClass:"viola-content"},[t._v(t._s(t.violadetail.plateNumber))])]),t._v(" "),i("li",{staticClass:"viola-item"},[i("div",{staticClass:"viola-title"},[t._v("违法时间：")]),t._v(" "),i("div",{staticClass:"viola-content"},[t._v(t._s(t.violadetail.penaltyDate))])]),t._v(" "),i("li",{staticClass:"viola-item"},[i("div",{staticClass:"viola-title"},[t._v("违法城市：")]),t._v(" "),i("div",{staticClass:"viola-content"},[t._v(t._s(t.violadetail.province))])]),t._v(" "),i("li",{staticClass:"viola-item"},[i("div",{staticClass:"viola-title"},[t._v("罚款金额：")]),t._v(" "),i("div",{staticClass:"viola-content"},[t._v(t._s(t.violadetail.fine)+"元")])]),t._v(" "),i("li",{staticClass:"viola-item"},[i("div",{staticClass:"viola-title"},[t._v("服务费：")]),t._v(" "),i("div",{staticClass:"viola-content"},[t._v(t._s(t.violadetail.serviceCharge)+"元")])]),t._v(" "),i("li",{staticClass:"viola-item"},[i("div",{staticClass:"viola-title"},[t._v("滞纳金：")]),t._v(" "),i("div",{staticClass:"viola-content"},[t._v(t._s(t.violadetail.overdueFine)+"元")])]),t._v(" "),i("li",{staticClass:"viola-item"},[i("div",{staticClass:"viola-title"},[t._v("共需支付：")]),t._v(" "),i("div",{staticClass:"viola-content total-price"},[t._v(t._s(t.violadetail.salePrice)+"元")])])])])])}),[],!1,null,"59c9b864",null).exports}}),b=(i("9SVu"),Object(v.a)(C,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"viola-ticket-index"},[i("nav-top",{attrs:{title:"罚单代缴"},on:{backEvent:function(e){return t.$router.go(-1)}}},["ViolaTicketQuery"==t.componentName?i("div",{staticClass:"go-pay-record",on:{click:t.ViolationQueryFun}},[t._v("缴费记录")]):t._e()]),t._v(" "),i("nav-content",{staticClass:"viola-ticket-container"},[i("div",{staticClass:"viola-ticket-content"},[i(t.componentName,{ref:"violaTicket",tag:"component",attrs:{violadetail:t.violadetail}})],1),t._v(" "),i("div",{staticClass:"bill-btn"},["ViolaTicketQuery"!=t.componentName?i("div",[i("div",{staticClass:"agreement"},[i("van-checkbox",{model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}}),t._v(" "),i("div",[t._v("\n                        同意\n                        "),i("a",{on:{click:t.showagreement}},[t._v("《违章代缴协议》")])])],1),t._v(" "),i("div",{class:t.checked?"btn-show":"btn-show btn-payment",attrs:{disabled:t.checked},on:{click:t.payment}},[t._v("确认支付")])]):i("div",{staticClass:"btn-show",on:{click:t.bindBtn}},[t._v("立即查询")])])])],1)}),[],!1,null,"0ebb7b1c",null));e.default=b.exports},xLKJ:function(t,e,i){"use strict";var a=i("sB9D");i.n(a).a}}]);