(window.webpackJsonp=window.webpackJsonp||[]).push([[971],{AVBY:function(t,a,e){"use strict";var i=e("xngp");e.n(i).a},Nthf:function(t,a,e){"use strict";e.r(a);var i=e("ygAv"),n={data:function(){return{list:[],loading:!1,finished:!1,page:0}},mounted:function(){},methods:{loadMore:function(){var t=this;this.page=this.page+1;var a={token:this.$store.state.login.token,page:{index:this.page,pageSize:20}};this.$http.post("/app/json/app_package_refuel/queryPackageOrderHistory",a).then((function(a){var e=a.data;0==e.status?(t.list=t.list.concat(e.data||[]),t.list.length>=e.totalRecords&&(t.finished=!0)):(t.finished=!0,t.$Toast(e.info?e.info:"获取列表失败")),t.loading=!1}))},dealState:function(t,a,e){var n=i.a.getMyDate(new Date);if("WAIT_SIGN_UP"==t)return"待签约";if("SIGNED_UP"==t){var s=i.a.dateCompare(n,a.split(" ")[0]),o=i.a.dateCompare(n,e.split(" ")[0]);return 1==s?"未开始":0!=s&&-1!=s||1!=o&&0!=o?"已结束":"签约中"}return"SETTLED"==t?"已结算":"CANCELED"==t?"已取消":void 0},dealTime:function(t){return t},openDetails:function(t){this.$router.push({path:"/history-details",query:{id:t.packageRefuelOrderId}})}},components:{}},s=(e("AVBY"),e("KHd+")),o=Object(s.a)(n,(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"my-invitation"},[e("nav-top",{attrs:{title:"历史签约"},on:{backEvent:function(a){return t.$router.go(-1)}}}),t._v(" "),e("nav-content",{staticClass:"my-invitation-container"},[e("ul",{staticClass:"list"},[e("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.loadMore},model:{value:t.loading,callback:function(a){t.loading=a},expression:"loading"}},t._l(t.list,(function(a,i){return e("li",{key:i,staticClass:"item",on:{click:function(e){return t.openDetails(a)}}},[e("div",{staticClass:"time"},[t._v(t._s(a.createTime))]),t._v(" "),e("div",{staticClass:"info"},[e("div",{staticClass:"title"},[e("div",{staticClass:"left"},[t._v(t._s(a.packageRefuelName)+"  "+t._s(a.duration)+"天")]),t._v(" "),e("div",{staticClass:"right"},[t._v(t._s(t.dealState(a.state,a.startDate,a.endDate)))])]),t._v(" "),e("div",{staticClass:"text"},[t._v("开通时间："+t._s(t.dealTime(a.startDate)))]),t._v(" "),e("div",{staticClass:"text"},[t._v("到期时间："+t._s(t.dealTime(a.endDate)))])])])})),0)],1)])],1)}),[],!1,null,"17693f1a",null);a.default=o.exports},xngp:function(t,a,e){}}]);