(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-27bc829d"],{"00d6":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"scroll",staticClass:"scroll-wrapper",on:{touchstart:t.touchstart}},[s("div",{ref:"scrollContent",staticClass:"scroll-content"},[t._t("default")],2)])},i=[],o=(s("a9e3"),s("4795"),s("1fba"));s("4de4"),s("4160"),s("159b");function l(t,e){var s,a,i,o={absolute:!1,clone:!1,includeMargin:!1,display:"block"},l=[],c="";s=function(){var e=[];r(t,e),e.push(t),i=e.filter((function(t){return"none"===n(t,"display")})),c+="visibility: hidden !important; display: "+o.display+" !important; ",!0===o.absolute&&(c+="position: absolute !important; "),i.forEach((function(t,e){var s=t.getAttribute("style");l.push(s),t.setAttribute("style",s?s+";"+c:c)}))},a=function(){i.forEach((function(t,e){var s=l[e];void 0===s?t.removeAttribute("style"):t.setAttribute("style",s)}))},s();var d=0;return"width"==e?d=t.clientWidth:"height"==e&&(d=t.clientHeight),a(),d}function r(t,e){t&&t.parentElement&&(e.push(t.parentNode),r(t.parentElement,e))}function n(t,e){return t.style[e]?t.style[e]:t.currentStyle?t.currentStyle[e]:window.getComputedStyle(t,null)[e]}var c=l,d={name:"",props:{dataList:{type:Array,default:function(){return[]}},click:{type:Boolean,default:!0},percentWidth:{type:Number,default:0}},data:function(){return{}},mounted:function(){this._refresh()},methods:{touchstart:function(t){},disable:function(){this.scroll&&this.scroll.disable()},enable:function(){this.scroll&&this.scroll.enable()},_refresh:function(){var t=this;this.$nextTick((function(){setTimeout((function(){t._setWidth(),t._initScroll()}),200)}))},_setWidth:function(){if(this.$refs.scrollContent){for(var t=this.$refs.scrollContent.children,e=this.$refs.scroll.clientWidth,s=0,a=0;a<t.length;a++){var i=t[a];this.percentWidth&&(i.style.width=e*this.percentWidth/100+"px"),s+=c(i,"width")}this.$refs.scrollContent.style.width=s+10+"px"}},_initScroll:function(){this.$refs.scroll&&(this.scroll=new o["a"](this.$refs.scroll,{scrollX:!0,scrollY:!1,click:this.click,preventDefault:!1}))}},components:{},watch:{dataList:{handler:function(t){t&&t.length&&this._refresh()},immediate:!0}}},u=d,h=(s("297f"),s("0c7c")),p=Object(h["a"])(u,a,i,!1,null,"77eb9db6",null);e["a"]=p.exports},"1e6b":function(t,e,s){"use strict";s("b389")},"297f":function(t,e,s){"use strict";s("6438")},6438:function(t,e,s){},"87aa":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.showProductInfiinite?s("div",[s("div",{staticClass:"product-list",style:t.$market.getModuleBgStyle(t.moduleData)},[1==t.moduleData.hasDeliverTabs?s("div",{staticClass:"delivery-types"},[t._l(t.deliveryTypes,(function(e){return s("div",{staticClass:"type-btn",class:{theme_bg_ml_red:t.$store.state.mall2.staticDeliverType==e.tag,theme_border_red_i:t.$store.state.mall2.staticDeliverType==e.tag},on:{click:function(s){return t.selectedTypeEvent(e.tag)}}},[s("i",{staticClass:"iconfont theme_font_common icon-size",class:[e.fontclass,{theme_font_red_i:t.$store.state.mall2.staticDeliverType==e.tag}]}),s("span",{staticClass:"theme_font_common single-line",class:{theme_font_red_i:t.$store.state.mall2.staticDeliverType==e.tag}},[t._v(t._s(e.text))])])})),s("div",{staticClass:"space"}),s("div",{staticClass:"local-div",on:{click:function(e){return t.selectAddressClick()}}},[2==t.$store.state.mall2.staticDeliverType?s("span",{staticClass:"theme_font_gray single-line"},[t._v(t._s(t.$store.state.mall2.selectAddress.addressFull))]):t._e(),1==t.$store.state.mall2.staticDeliverType&&"cnooc"!=t.$store.state.globalConfig.app_home_special_flag?s("span",{staticClass:"theme_font_gray single-line"},[t._v(t._s(t.$store.state.mall2.zitiAddress.storeName))]):t._e(),2==t.$store.state.mall2.staticDeliverType&&"cnooc"==t.$store.state.globalConfig.app_home_special_flag?s("i",{staticClass:"iconfont mall-dingwei icon-size theme_font_gray"}):t._e()])],2):t._e(),1==t.moduleData.hasFilters?s("div",{staticClass:"row row-filter top-showdow"},[2!=t.moduleData.useApi?s("div",{staticClass:"filter-btn theme_font_black",on:{click:t.categoryEvent}},[s("i",{staticClass:"iconfont mall-datubiao filter-size-1 theme_font_black"}),s("span",[t._v(t._s(t.cateText))])]):t._e(),s("div",{staticClass:"filter-btn theme_font_black",on:{click:function(e){return t.filterEvent(0)}}},[s("span",{class:{theme_standard_font_i:0==t.filterType}},[t._v("综合排序")])]),s("div",{staticClass:"filter-btn theme_font_black",on:{click:function(e){return t.filterEvent(1)}}},[s("span",{class:{theme_standard_font_i:1==t.filterType||2==t.filterType}},[t._v("销量")])]),s("div",{staticClass:"filter-btn theme_font_black",on:{click:function(e){return t.filterEvent(2)}}},[s("span",{class:{theme_standard_font_i:3==t.filterType||4==t.filterType}},[t._v("价格")]),s("div",{directives:[{name:"show",rawName:"v-show",value:3==t.filterType||4==t.filterType,expression:"filterType == 3 || filterType == 4"}]},[s("i",{staticClass:"iconfont mall-sanjiaoxiabiao arrow-icon theme_font_tint",class:{theme_standard_font_i:3==t.filterType}}),s("i",{staticClass:"iconfont mall-xiala arrow-icon theme_font_tint",class:{theme_standard_font_i:4==t.filterType}})])]),s("div",{staticClass:"filter-btn theme_font_black",on:{click:t.superFilter}},[s("span",[t._v("筛选")]),s("i",{staticClass:"iconfont mall-shaixuan filter-size theme_font_tint"})])]):t._e(),t.isEnableNewTabStyle()?s("div",{ref:"Van_Tabs_Div"},["4"==t.moduleData.useApi?s("div",[s("van-tabs",{attrs:{swipeable:"",sticky:"","offset-top":t.getTopHeight()},on:{change:t.channelChanged},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},t._l(t.moduleData.channels,(function(e,a){return s("van-tab",{key:a,attrs:{title:e.name}},[t.showTip?s("div",{staticClass:"tip theme_bg_yl theme_font_red"},[t._v("活动已结束，以下商品将会以原价进行购买")]):t._e(),t.dataLoaded&&0==t.moduleData.rows.length?s("div",{staticClass:"no-products"},[s("div",{staticClass:"img-div"},[s("img",{attrs:{src:"static/image/mall2/no-data-img.png"}})]),s("div",{staticClass:"tip theme_font_gray"},[t._v("抱歉没有找到相应商品~")])]):t._e(),t.dataLoaded||1!=t.usePorpData?s("ProductListGrid",{attrs:{myIndex:-1,usePorpData:t.usePorpData,propData:t.propData,isRMBEnd:"3"==t.moduleData.useApi&&t.moduleData.showTabs?"1":"0"}}):t._e()],1)})),1)],1):t._e(),"3"==t.moduleData.useApi?s("div",[s("van-tabs",{attrs:{swipeable:"",sticky:"","offset-top":t.getTopHeight()},on:{change:t.tabsChanged},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},t._l(t.moduleData.showTabs,(function(e,a){return s("van-tab",{key:a,attrs:{title:e.title}},[t.sections.length>0?s("HScroll",{attrs:{dataList:t.sections,click:!1}},t._l(t.sections,(function(e,a){return s("div",{staticClass:"section",on:{click:function(e){return t.sectionEvent(a)}}},[s("div",{staticClass:"btn line_circle",class:{selected:t.sectionIdx==a}},[t._v(t._s(e.name))])])})),0):t._e(),t.showTip?s("div",{staticClass:"tip theme_bg_yl theme_font_red"},[t._v("活动已结束，以下商品将会以原价进行购买")]):t._e(),t.dataLoaded&&0==t.moduleData.rows.length?s("div",{staticClass:"no-products"},[s("div",{staticClass:"img-div"},[s("img",{attrs:{src:"static/image/mall2/no-data-img.png"}})]),s("div",{staticClass:"tip theme_font_gray"},[t._v("抱歉没有找到相应商品~")])]):t._e(),t.dataLoaded||1!=t.usePorpData?s("ProductListGrid",{attrs:{myIndex:-1,usePorpData:t.usePorpData,propData:t.propData,isRMBEnd:"3"==t.moduleData.useApi&&t.moduleData.showTabs?"1":"0"}}):t._e()],1)})),1)],1):t._e()]):s("div",["4"==t.moduleData.useApi&&t.moduleData.channels&&t.moduleData.channels.length>1?s("div",{staticClass:"channels-div"},t._l(t.moduleData.channels,(function(e){return s("div",{staticClass:"channel",class:{selected:t.selectedChannel&&t.selectedChannel.id==e.id},on:{click:function(s){return t.selectChannel(e)}}},[t._v(t._s(e.name)+" ")])})),0):t._e(),"3"==t.moduleData.useApi&&t.moduleData.showTabs?s("HScroll",{attrs:{dataList:t.moduleData.tabs,click:!1}},t._l(t.moduleData.tabs,(function(e,a){return s("div",{staticClass:"tab",class:{selected:t.selectedId==a},on:{click:function(s){return t.selectTabs(e,a)}}},[s("div",{staticClass:"tab-cont",class:{"left-bdr":0!=a}},[s("div",{staticClass:"title"},[t._v(t._s(e.title))]),s("div",{staticClass:"line"})])])})),0):t._e(),"3"==t.moduleData.useApi&&t.moduleData.showTabs&&t.sections.length>0?s("HScroll",{attrs:{dataList:t.sections,click:!1}},t._l(t.sections,(function(e,a){return s("div",{staticClass:"section",on:{click:function(e){return t.sectionEvent(a)}}},[s("div",{staticClass:"btn line_circle",class:{selected:t.sectionIdx==a}},[t._v(t._s(e.name))])])})),0):t._e(),t.showTip?s("div",{staticClass:"tip theme_bg_yl theme_font_red"},[t._v("活动已结束，以下商品将会以原价进行购买")]):t._e(),t.dataLoaded&&0==t.moduleData.rows.length?s("div",{staticClass:"no-products"},[t._m(0),s("div",{staticClass:"tip theme_font_gray"},[t._v("抱歉没有找到相应商品~")])]):t._e(),t.dataLoaded||1!=t.usePorpData?s("ProductListGrid",{attrs:{myIndex:-1,usePorpData:t.usePorpData,propData:t.propData,isRMBEnd:"3"==t.moduleData.useApi&&t.moduleData.showTabs?"1":"0"}}):t._e()],1)])]):t._e()},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"img-div"},[s("img",{attrs:{src:"static/image/mall2/no-data-img.png"}})])}],o=(s("0cc8"),s("3104")),l=(s("ac1f"),s("1276"),s("b0c0"),s("4795"),s("e25e"),s("0d03"),s("99af"),s("4160"),s("159b"),s("5319"),s("959f")),r=s("00d6"),n=s("f094"),c={name:"product-list-infinite",components:{ProductListGrid:l["a"],HScroll:r["a"],Sticky:o["a"]},mixins:[n["a"]],props:["usePorpData","propData","scrollSite","modulesDomId"],data:function(){return{active:0,page:1,showTip:!1,deliveryTypes:[{text:"配送",fontclass:"mall-peisong",tag:"2"},{text:"自提",fontclass:"mall-ziti",tag:"1"}],dataLoaded:!1,filterType:0,cateText:"全部分类",cateData:null,filterBrands:[],filterFeatureies:[],maxPrice:"",minPrice:"",selectedChannel:null,selectedItem:{},selectedId:0,sectionIdx:0,sections:[],selectedSection:{},totalPros:0,showProductInfiinite:!0,tabsDom:null,tabsParentDom:null,outSidleDom:null,tabsOffsetTop:0,isAdd:!1}},watch:{scrollSite:function(t,e){this.tabsDom&&(t>this.tabsOffsetTop?0==this.isAdd&&(this.isAdd=!0,this.tabsDom.style.position="absolute",this.tabsDom.style.top="0px",this.tabsDom.style.left="0px",this.tabsDom.style.right="0px",this.tabsDom.style.height=44*this.$store.state.clientWidth/375+"px",this.outSidleDom.appendChild(this.tabsDom)):1==this.isAdd&&(this.isAdd=!1,this.tabsDom.style.position="",this.tabsDom.style.top="",this.tabsDom.style.left="",this.tabsDom.style.right="",this.tabsParentDom.appendChild(this.tabsDom)))},"$store.state.mall2.zitiAddress.id":function(t,e){this.page=1,this.getProducts()},"$store.state.mall2.selectAddress.id":function(t,e){this.page=1,this.getProducts()}},methods:{getTopHeight:function(){var t=this.$market.getBarHeight()+this.$market.getNavHeight();return t},tabsChanged:function(t){var e=this.moduleData.showTabs[t];this.selectTabs(e,t)},channelChanged:function(t){var e=this.moduleData.channels[t];this.selectChannel(e)},isEnableNewTabStyle:function(){if(this.moduleData.enableNewTabStyle){if("4"==this.moduleData.useApi&&this.moduleData.channels&&this.moduleData.channels.length>1)return!0;if("3"==this.moduleData.useApi&&this.moduleData.showTabs)return!0}return!1},getSectionsFromStr:function(t){if(!t||""==t)return[];for(var e=[],s=t.split(","),a=0;a<s.length;a++){var i=s[a];if("*-*"==i)e.push({name:"全部",min:"",max:""});else{var o=i.split("-");if(2==o.length){var l=o[0],r=o[1];"*"==r?e.push({name:l+"以上",min:l,max:""}):e.push({name:l+"-"+r,min:l,max:r})}}}return e},selectTabs:function(t,e){this.selectedId=e,this.selectedItem=t,this.sections=this.getSectionsFromStr(this.selectedItem.sectionStr),this.page=1,this.getProducts()},sectionEvent:function(t){this.sectionIdx=t,this.selectedSection=this.sections[t],this.page=1,this.getProducts()},selectChannel:function(t){this.moduleData.selectedId=t.id,this.selectedChannel=t,this.page=1,this.getProducts()},superFilter:function(){},categoryEvent:function(){var t=this;"-1"!=this.$store.state.webtype&&this.$market.showCategories({barHeight:this.$store.state.barHeight},(function(e){t.cateText=e.name,t.cateData={clsType:e.clsType,id:e.id,cateLevel:e.cateLevel},t.page=1,t.getProducts()}))},filterEvent:function(t){0==t?this.filterType=0:1==t?2==this.filterType?this.filterType=0:this.filterType=2:2==t&&(3==this.filterType?this.filterType=4:this.filterType=3),this.page=1,this.getProducts()},selectAddressClick:function(){if("-1"!=this.$store.state.webtype)if(""!=this.$store.state.login.token){var t="";if(2==this.$store.state.mall2.staticDeliverType)t="/mall2/addresslist";else{if("cnooc"==this.$store.state.globalConfig.app_home_special_flag)return!1;t="/mall2/mypickupaddress"}this.$router.push({path:t})}else this.$util.toLogin()},selectedTypeEvent:function(t){if("-1"!=this.$store.state.webtype){if("cnooc"==this.$store.state.globalConfig.app_home_special_flag){if("1"==t&&""==this.$store.state.mall2.zitiAddress.id)return void this.$Toast("当前店铺没有自提商品！");if("2"==t&&""==this.$store.state.mall2.zitiAddress.mchOuCode)return void this.$Toast("当前店铺没有配送商品！")}this.$store.state.mall2.staticDeliverType=t,this.$bridgefunc.vuexStorage(),1==t&&""==this.$store.state.mall2.zitiAddress.id&&"cnooc"!=this.$store.state.globalConfig.app_home_special_flag?this.$router.push({path:"/mall2/mypickupaddress"}):(this.page=1,this.getProducts())}},loadMore:function(){if(this.totalPros<=this.moduleData.rows.length)return"";this.page++,this.getProducts()},modeleReshow:function(){},queryChannelList:function(){var t=this,e=this.$market.apiBaseURL()+"/app/json/product/getAppProChannelList",s={token:this.$store.state.login.token,channelGroupId:this.moduleData.productFrom.id};this.$http.post(e,s).then((function(e){var s=e.data;if(0==s.status){var a=s.data.list;if(a.length>0){var i=a[0];t.moduleData.channels=a,t.moduleData.selectedId=i.id,t.selectedChannel=i,t.getProducts()}}}),(function(t){}))},getProducts:function(){(2==this.moduleData.useApi||3==this.moduleData.useApi||4==this.moduleData.useApi)&&this._getCurrentDatas()},_getCurrentDatas:function(){var t=this,e=this.$market.apiBaseURL()+"/app/json/product/getAppProSearchList",s={fromFrontPage:"1",brandIds:this.filterBrands,featureIds:this.filterFeatureies,maxPrice:this.maxPrice,minPrice:this.minPrice};if("-1"==this.$store.state.webtype&&(s.fromFrontPage=""),s.page=this.page,s.rows=10,2==this.moduleData.useApi)if("2"==this.moduleData.productFrom.multiple){if(this.moduleData.productFrom.backCates){for(var a=[],i=0;i<this.moduleData.productFrom.backCates.length;i++)a.push(this.moduleData.productFrom.backCates[i].id);s.categoryIdList=JSON.stringify(a)}}else{var o=this.moduleData.productFrom.cate;s.clsType=o.clsType,s.categoryId=o.id,s.cateLevel=o.cateLevel}else if(3==this.moduleData.useApi){var l=this.moduleData.productFrom.activity;s.activityId=l.activityId}else if(4==this.moduleData.useApi){if(!this.selectedChannel)return void this.queryChannelList();s.categoryId=this.selectedChannel.id,s.clsType="4"}if(this.cateData&&(s.clsType=this.cateData.clsType,s.categoryId=this.cateData.id,s.cateLevel=this.cateData.cateLevel),s.deliverType=this.$store.state.mall2.staticDeliverType,1==s.deliverType){if("cnooc"==this.$store.state.globalConfig.app_home_special_flag&&(!this.$store.state.mall2.zitiAddress.id||!this.$store.state.mall2.zitiAddress.storeCode))return this.dataLoaded=!0,void(this.moduleData.rows=[]);s.pickUpId=this.$store.state.mall2.zitiAddress.id,s.pickupStoreOuCode=this.$store.state.mall2.zitiAddress.storeCode}else{var r=this.$store.state.mall2.selectAddress;s.area={provinceId:r.provinceId,cityId:r.cityId,countryId:r.countryId,countyId:r.countryId,townId:r.townId},"4"==this.$store.state.deployType&&this.$store.state.mall2.zitiAddress.mchOuCode&&(s.storeOuCode=this.$store.state.mall2.zitiAddress.storeCode,s.mchOuCode=this.$store.state.mall2.zitiAddress.mchOuCode)}if(1==this.filterType?(s.orderByKey="1",s.ascOrDesc="0"):2==this.filterType?(s.orderByKey="1",s.ascOrDesc="1"):3==this.filterType?(s.orderByKey="0",s.ascOrDesc="0"):4==this.filterType&&(s.orderByKey="0",s.ascOrDesc="1"),this.moduleData.showTabs&&3==this.moduleData.useApi){var n=this.selectedSection.min,c=this.selectedSection.max;s.startPoints=n,s.endPoints=c;var d=this.selectedItem.cates;s.categoryIdList=JSON.stringify(d),s.queryType="PointsExPro"}this.$store.state.webtype,this.$http.post(e,s).then((function(e){"-1"!=t.$store.state.webtype&&t.$Loading.close(),t.dataLoaded=!0;var s=e.data;if(0==s.status){var a=s.data.list;if(t.totalPros=s.data.page.count,1==t.page){setTimeout((function(){if(t.isEnableNewTabStyle()){var e=document.getElementsByClassName("van-tabs__wrap");e&&e.length>0?(t.tabsParentDom=document.getElementsByClassName("van-sticky")[0],t.tabsDom=e[0],t.tabsDom.style.zIndex="1"):t.tabsDom=null;var s=t.$refs.Van_Tabs_Div;t.tabsOffsetTop=s.offsetTop}}),50),t.moduleData.rows=[];for(var i=0;i<a.length;i++){var o=t.$market.dataProcessing(a[i]);t.moduleData.rows.push(o)}if(3==t.moduleData.useApi&&t.moduleData.rows.length>0){var l=t.moduleData.rows[0],r=l.mktEndDate;if(r&&void 0!=r&&""!=r){var n=t.getDateFromString(r),c=parseInt((new Date).getTime()/1e3);t.showTip=0==n||n<c}}}else{for(var d=[],u=0;u<a.length;u++){var h=t.$market.dataProcessing(a[u]);d.push(h)}t.moduleData.rows=t.moduleData.rows.concat(d)}t.testCorerMark(t.moduleData),t.moduleData.rows.length<t.totalPros?t.$emit("loadedEvent",!0):t.$emit("loadedEvent",!1)}else t.page--,t.$emit("loadedEvent",!1)}),(function(e){"-1"!=t.$store.state.webtype&&t.$Loading.close(),t.page--,t.$emit("loadedEvent",!1)}))},testCorerMark:function(t){var e=this;t.rows.forEach((function(t){!t.cornerMark&&e.$set(t,"cornerMark",0),!t.selfCornerMarkUrl&&e.$set(t,"selfCornerMarkUrl","")}))},getDateFromString:function(t){return""==t||null==t||void 0==t?0:(t=t.replace(/-/g,"/"),parseInt(new Date(t).getTime()/1e3))},lazyLoadPageData:function(){this.getProducts()}},computed:{pageData:function(){return 1==this.usePorpData?this.propData:this.$store.state.pageData},moduleData:function(){return this.pageData.productInfinite.data}},mounted:function(){var t=this.moduleData.onlyDeliveryType;this.$store.state.globalConfig&&"1"==this.$store.state.globalConfig.delivertype_default||"1"==t?(this.deliveryTypes=[{text:"自提",fontclass:"mall-ziti",tag:"1"}],this.$store.state.mall2.staticDeliverType="1"):(this.$store.state.globalConfig&&"2"==this.$store.state.globalConfig.delivertype_default||"2"==t)&&(this.deliveryTypes=[{text:"配送",fontclass:"mall-peisong",tag:"2"}],this.$store.state.mall2.staticDeliverType="2"),"cnooc"==this.$store.state.globalConfig.app_home_special_flag&&(this.showProductInfiinite=!0,""==this.$store.state.mall2.zitiAddress.id&&""==this.$store.state.mall2.zitiAddress.mchOuCode?this.showProductInfiinite=!1:""==this.$store.state.mall2.zitiAddress.id&&"1"==this.$store.state.mall2.staticDeliverType?this.$store.state.mall2.staticDeliverType="2":""==this.$store.state.mall2.zitiAddress.mchOuCode&&"2"==this.$store.state.mall2.staticDeliverType&&(this.$store.state.mall2.staticDeliverType="1")),this.usePorpData||(this.moduleData.rows=[]),this.moduleData.showTabs&&(this.selectedId=0,this.selectedItem=this.moduleData.tabs[this.selectedId],this.sections=this.getSectionsFromStr(this.selectedItem.sectionStr)),this.outSidleDom=window.document.getElementById(this.modulesDomId)}},d=c,u=(s("1e6b"),s("0c7c")),h=Object(u["a"])(d,a,i,!1,null,"caafe2dc",null);e["default"]=h.exports},"959f":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"product-list"},[s("div",{staticClass:"wrapper"},[s("div",{staticClass:"scroll"},[s("div",{staticClass:"layout-grid good-list",style:t.getSideMargin()},t._l(t.moduleData.rows,(function(e,a){return s("div",{staticClass:"goods",class:{"no-stock":"0"==e.stockNum&&"1"==t.$store.state.globalConfig.showNoStockCover,"row-three-pro":1==t.moduleData.rowThreeProduct},on:{click:function(s){return t.enterNav(e)}}},[s("div",{staticClass:"goods-picture"},[s("img",{staticClass:"full-img",attrs:{src:e.phMainUrl?e.phMainUrl+"?x-oss-process=image/format,jpg":"static/images/defaultImg_w.png"}}),e.cornerMark>0?s("div",{staticClass:"corner-mark"},[s("img",{attrs:{src:t._f("counerMarkUrl")(e)}})]):t._e()]),"1"==t.moduleData.layout.hasTitle?s("div",{staticClass:"goods-name double-line",domProps:{innerHTML:t._s(e.showTitle)}}):t._e(),e.activityTags.length>0?s("div",{staticClass:"activity-tags"},t._l(e.activityTags,(function(e){return s("div",{staticClass:"tag single-line"},[t._v(t._s(e))])})),0):t._e(),s("div",{staticClass:"goods-footer"},["1"==t.moduleData.layout.hasPrice?s("div",{staticClass:"price"},[s("PriceOrder",{attrs:{listitem:e,isRMBEnd:t.isRMBEnd}})],1):t._e(),"1"==t.moduleData.layout.btnType?s("div",{staticClass:"icon"},[2!=e.productType&&-1==t.$store.state.webtype?s("img",{attrs:{src:"static/images/product-list/icon_gods_car01.png"}}):2!=e.productType?s("i",{staticClass:"iconfont mall-gouwuche theme_font_red car-size",class:{theme_font_gray_i:"0"==e.stockNum},on:{click:function(s){return s.stopPropagation(),t.addToCart(e)}}}):t._e()]):t._e(),"2"==t.moduleData.layout.btnType?s("div",{staticClass:"icon"},[s("img",{attrs:{src:"static/images/product-list/icon_gods_car02.png"}})]):t._e(),"3"==t.moduleData.layout.btnType?s("div",{staticClass:"icon"},[s("img",{attrs:{src:"static/images/product-list/icon_gods_car03.png"}})]):t._e(),"4"==t.moduleData.layout.btnType?s("div",{staticClass:"icon"},[s("img",{attrs:{src:"static/images/product-list/icon_gods_car04.png"}})]):t._e(),"5"==t.moduleData.layout.btnType?s("div",{staticClass:"icon"},[s("img",{attrs:{src:"static/images/product-list/icon_gods_car05.png"}})]):t._e()])])})),0)])])])},i=[],o=(s("4160"),s("159b"),s("590c")),l={name:"product-list-grid",components:{PriceOrder:o["a"]},props:["myIndex","usePorpData","propData","isRMBEnd"],computed:{pageData:function(){return 1==this.usePorpData?this.propData:this.$store.state.pageData},moduleData:function(){return-1==this.myIndex?this.pageData.productInfinite.data:this.pageData.moduleList[this.myIndex].data},dev:function(){return"-1"===this.$store.state.webtype}},data:function(){return{}},created:function(){this.testCorerMark()},filters:{counerMarkUrl:function(t){return t.cornerMark<6?"static/images/product-list/icon_gods_hot0".concat(t.cornerMark,".png"):t.selfCornerMarkUrl}},methods:{testCorerMark:function(){var t=this;this.moduleData.rows.forEach((function(e){!e.cornerMark&&t.$set(e,"cornerMark",0),!e.selfCornerMarkUrl&&t.$set(e,"selfCornerMarkUrl","")}))},getSideMargin:function(){var t=this.moduleData.sideMargin;if(t){var e="margin-left:"+t+"%;";return e+="margin-right:"+t+"%;",e}return""},enterNav:function(t){this.$market.productEvent(t,this.$route,this.moduleData.onlyDeliveryType)},addToCart:function(t){var e=this;this.$Loading.open();var s="/app/json/app_cart/addCart",a={token:this.$store.state.login.token,carts:[{skuId:t.skuId,storeOuCode:t.storeOuCode,activityId:"",selfActivityId:t.activityId,deliveryType:this.$store.state.mall2.staticDeliverType,number:1}],orderCategory:void 0,vipUnitUserCode:void 0,deliveryType:t.deliverType};this.$http.post(s,a).then((function(t){e.$Loading.close();var s=t.data;0==s.status?(e.$store.state.mall2.cartNum=s.data,e.$toast("添加购物车成功！")):e.$Toast(s.info)}),(function(t){e.$Loading.close(),e.$Toast("请求数据失败！")}))}}},r=l,n=(s("de15"),s("0c7c")),c=Object(n["a"])(r,a,i,!1,null,"330bef07",null);e["a"]=c.exports},"9ffe":function(t,e,s){},b389:function(t,e,s){},de15:function(t,e,s){"use strict";s("9ffe")},f094:function(t,e,s){"use strict";e["a"]={data:function(){return{lazyLoadedData:!1}},props:["isScrollPage","scrollSite"],watch:{scrollSite:function(t,e){this.lazyLoadedData||t+1.3*document.documentElement.clientHeight>this.$el.offsetTop&&(this.lazyLoadedData=!0,this.lazyLoadPageData&&this.lazyLoadPageData())}},mounted:function(){if(this.isScrollPage){if(this.lazyLoadedData)return;1.3*document.documentElement.clientHeight>this.$el.offsetTop&&(this.lazyLoadedData=!0,this.lazyLoadPageData&&this.lazyLoadPageData())}else this.lazyLoadPageData&&this.lazyLoadPageData()}}}}]);