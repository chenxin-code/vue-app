(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-338d5ef2","chunk-7baddb58"],{"1d33":function(e,t,i){"use strict";i("a6be")},"51eb":function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"address"},[i("li",{staticClass:"details-item"},[i("div",{staticClass:"left"},[e._v("收货人姓名")]),i("div",{staticClass:"right"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.receiver.receiverName,expression:"receiver.receiverName"}],attrs:{type:"text",placeholder:"请输入收货人姓名"},domProps:{value:e.receiver.receiverName},on:{input:function(t){t.target.composing||e.$set(e.receiver,"receiverName",t.target.value)}},nativeOn:{"!input":function(t){return e.receiverInputChange.apply(null,arguments)}}})])]),i("li",{staticClass:"details-item"},[i("div",{staticClass:"left"},[e._v("收货人手机号")]),i("div",{staticClass:"right"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.receiver.mobile,expression:"receiver.mobile"}],attrs:{type:"tel",placeholder:"请输入收货人手机号"},domProps:{value:e.receiver.mobile},on:{input:function(t){t.target.composing||e.$set(e.receiver,"mobile",t.target.value)}}})])]),i("li",{staticClass:"details-item"},[i("div",{staticClass:"left"},[e._v("选择区域")]),i("div",{staticClass:"right"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.receiver.regionText,expression:"receiver.regionText"}],attrs:{type:"text",disabled:"",placeholder:"请选择区域"},domProps:{value:e.receiver.regionText},on:{input:function(t){t.target.composing||e.$set(e.receiver,"regionText",t.target.value)}}})]),i("div",{staticClass:"icon",on:{click:function(t){return t.stopPropagation(),e.selectRegion.apply(null,arguments)}}},[i("img",{attrs:{width:"20px",height:"20px",src:"static/image/mall2/area.png"}})])]),i("li",{staticClass:"details-item"},[i("div",{staticClass:"left"},[e._v("详细地址")]),i("div",{staticClass:"right"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.receiver.address,expression:"receiver.address"}],attrs:{type:"text",placeholder:"请输入详细地址"},domProps:{value:e.receiver.address},on:{input:function(t){t.target.composing||e.$set(e.receiver,"address",t.target.value)}}})])]),e.showSelect?i("RegionSelect",{ref:"regionselect",attrs:{initData:e.initData},on:{selectedItemsEvent:e.selectedItemsEvent,closeEvent:e.regionCloseEvent}}):e._e()],1)},n=[],a=(i("fb6a"),i("b0c0"),i("8431")),o={data:function(){return{showSelect:!1,initData:{title:"请选择地区"},region:[],selectedItems:[]}},props:["receiver"],mounted:function(){},methods:{receiverInputChange:function(e){var t=e.target.value;t.length>50&&(t=t.slice(0,50),this.$Toast("收货人最大输入50个字")),this.receiverName=t},selectRegion:function(){this.showSelect=!0,this._getRegionData(0)},selectedItemsEvent:function(e){var t=e.item;this.selectedItems=e.selecteds;var i={};if(this.selectedItems.length>0){for(var s=0;s<4;s++){var n={id:"",name:""};this.selectedItems.length>s&&(n=this.selectedItems[s]),0==s?(i.provinceId=n.id,i.provinceName=n.name):1==s?(i.cityId=n.id,i.cityName=n.name):2==s?(i.countryId=n.id,i.countryName=n.name):3==s&&(i.townId=n.id,i.townName=n.name)}this.$emit("info",i)}if(4==this.selectedItems.length)return this.showSelect=!1,this.region=this.selectedItems,void this.getRegionText();this._getRegionData(t.id)},regionCloseEvent:function(){this.showSelect=!1},_getRegionData:function(e){var t=this;this.$Loading.open();var i="/app/json/area/loadAreaList",s={token:this.$store.state.login.token,parentId:e};this.$http.post(i,s).then((function(e){t.$Loading.close();var i=e.data;if(0==i.status){var s=i.data;s.length>0?t.$nextTick((function(){this.$refs.regionselect.pushCustomOptions(s)})):(t.showSelect=!1,t.region=t.selectedItems,t.getRegionText())}else t.$Toast(i.info)}),(function(e){t.$Loading.close(),t.$Toast("获取数据失败")}))},getRegionText:function(){for(var e="",t=0;t<this.region.length;t++)e+=this.region[t].name;this.receiver.regionText=e,this.$refs.regionselect.reset(null)}},components:{RegionSelect:a["default"]}},c=o,r=(i("d15a"),i("0c7c")),l=Object(r["a"])(c,s,n,!1,null,"7ba3df7e",null);t["a"]=l.exports},"7c36":function(e,t,i){"use strict";i("8c81")},8431:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"region-select"},[i("div",{staticClass:"other-div",on:{click:e.close}}),i("transition",{attrs:{name:"pop_transiton"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.popShow,expression:"popShow"}],staticClass:"select-content"},[i("div",{staticClass:"close-btn",on:{click:e.close}},[i("img",{attrs:{src:"static/image/mall/close.png"}})]),i("div",{staticClass:"font-medium-l-x title"},[e._v(e._s(e.initData.title?e.initData.title:"请选择区域"))]),i("div",{staticClass:"selected-item font-medium"},[e._l(e.selectedItems,(function(t,s){return i("div",{staticClass:"item-div",on:{click:function(t){return e.reSelect(s)}}},[i("div",{staticClass:"item-text"},[e._v(e._s(t.name))])])})),e.cusOptions.length>0?i("div",{staticClass:"item-div"},[i("div",{staticClass:"item-text item-selected theme_font_red"},[e._v("请选择")])]):e._e()],2),i("div",{staticClass:"options-div"},e._l(e.cusOptions,(function(t,s){return i("div",{staticClass:"option",on:{click:function(i){return e.selectOption(t,s)}}},[e._v(e._s(t.name))])})),0)])])],1)},n=[],a=(i("4795"),i("a434"),i("b0c0"),{name:"",props:{initData:{type:Object,default:{}}},data:function(){return{popShow:!1,selectedIndexs:[],selectedItems:[],dataCache:[],cusOptions:[],cusIndex:0,initAreas:[],myTimeout:null}},methods:{close:function(){var e=this;this.popShow=!1,this.myTimeout&&(clearTimeout(this.myTimeout),this.myTimeout=null),this.myTimeout=setTimeout((function(){e.$emit("closeEvent","")}),240)},reSelect:function(e){if(1!=this.initData.canNotReselect){var t=this.selectedItems.length-e;this.selectedItems.splice(e,t),this.selectedIndexs.splice(e,t);var i=this.dataCache[e];this.dataCache.splice(e+1,t),this.cusOptions=i}},selectOption:function(e,t){this.cusIndex=t,this.selectedItems.push(e),this.selectedIndexs.push(t),this.cusOptions=[];var i={item:e,selecteds:this.selectedItems};this.$emit("selectedItemsEvent",i)},pushCustomOptions:function(e){if(0==this.selectedIndexs.length&&(this.selectedIndexs=[],this.selectedItems=[],this.dataCache=[],this.cusIndex=0),this.dataCache.push(e),this.cusOptions=e,this.initAreas&&this.initAreas.length>0){for(var t=this.initAreas.shift(),i=!1,s=0;s<e.length;s++){var n=e[s];if(this.$util.areaEqual(t,n.name)){i=!0,this.selectOption(n,s);break}}0==i&&(this.initAreas=[])}},reset:function(e){this.selectedIndexs=[],this.selectedItems=[],this.cusIndex=0,e?(this.dataCache=[],this.dataCache.push(e),this.cusOptions=e):(this.cusOptions=this.dataCache[0],this.dataCache=[],this.dataCache.push(this.cusOptions))}},created:function(){try{this.initAreas=JSON.parse(JSON.stringify(this.initData.initAreas))}catch(e){this.initAreas=[]}},mounted:function(){this.popShow=!0}}),o=a,c=(i("1d33"),i("0c7c")),r=Object(c["a"])(o,s,n,!1,null,"6251ae42",null);t["default"]=r.exports},"8c81":function(e,t,i){},9537:function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"icon-info",on:{click:e.openPopup}},[e._m(0)]),i("van-popup",{attrs:{position:"bottom"},model:{value:e.showOil,callback:function(t){e.showOil=t},expression:"showOil"}},[i("van-picker",{attrs:{"show-toolbar":"",title:e.title,columns:e.columns},on:{cancel:e.onCancel,confirm:e.onConfirm}})],1)],1)},n=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",{staticClass:"icon"},[i("img",{attrs:{width:"20px",height:"20px",src:"static/image/mall2/area.png"}})])}],a=i("5530"),o=(i("d81d"),i("b0c0"),i("2f62")),c={data:function(){return{columns:[],showOil:!1}},props:{isOpenPopup:{type:Boolean,default:!1},title:{type:String,default:"选择油库"}},mounted:function(){},methods:{onCancel:function(){this.showOil=!1},onConfirm:function(e,t){this.showOil=!1,this.$emit("getOilInfo",e),this.$emit("getOilNameNum",e),this.$emit("getOilCard",e)},openPopup:function(){1==this.isOpenPopup?this.showOil=!0:this.showOil=!1},queryPickUpDepot:function(){var e=this;this.$request.post("/app/json/app_oil_sale/queryPickUpDepot",{vipUnitUserCode:this.vipUnitUser.vipUnitUserId}).then((function(t){if(0===t.status){var i=t.data,s=[];i.map((function(e){return s.push({text:e.name,code:e.code}),s})),e.columns=s,e.$emit("getPickUpDepot",s)}else e.$Toast(t.info?t.info:"获取自提油库失败")}))},appQueryTakeOilCardList:function(){var e=this;this.$request.post("/app/json/app_oil_appoint/appQueryTakeOilCardList",{vipUnitUserCode:this.vipUnitUser.vipUnitUserId}).then((function(t){if(0===t.status){var i=t.data,s=[];i.map((function(e){return s.push({text:e.userCard}),s})),e.columns=s}else e.$Toast(t.info?t.info:"获取提油卡失败")}))["catch"]((function(e){}))},appQueryTakeOilNameList:function(){var e=this;this.$request.post("/app/json/app_oil_appoint/appQueryTakeOilNameList",{vipUnitUserCode:this.vipUnitUser.vipUnitUserId}).then((function(t){if(0===t.status){var i=t.data,s=[];i.map((function(e){return s.push({text:e.oilname}),s})),e.columns=s}else e.$Toast(t.info?t.info:"获取油品名称失败")}))["catch"]((function(e){}))}},computed:Object(a["a"])({},Object(o["c"])(["vipUnitUser"])),components:{}},r=c,l=(i("7c36"),i("0c7c")),u=Object(l["a"])(r,s,n,!1,null,"34126626",null);t["a"]=u.exports},a6be:function(e,t,i){},d15a:function(e,t,i){"use strict";i("f6fc")},f6fc:function(e,t,i){}}]);