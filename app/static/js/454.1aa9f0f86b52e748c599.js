(window.webpackJsonp=window.webpackJsonp||[]).push([[454],{"37Oi":function(t,e,s){"use strict";var o=s("qBcz");s.n(o).a},BELV:function(t,e,s){t.exports=s.p+"static/img/saodianpu.9d2e872.png"},Eu7x:function(t,e,s){"use strict";s.r(e);var o=s("Wbz3"),i={name:"index",components:{},data:function(){return{storeOuCode:"",pickupId:"",shopDetail:{},lastPath:""}},methods:{backEvent:function(){this.$router.go(-1)},scanShop:function(){var t=this;this.$bridgefunc.scanCode((function(e){var s=e.code,o=JSON.parse(s);t.storeOuCode=o.storeOuCode,t.pickupId=o.pickupId,null==t.storeOuCode||null==t.storeOuCode||""==t.storeOuCode||null==t.pickupId||""==t.pickupId||null==t.pickupId?(t.$Toast("店铺码错误，店铺码需要包括storeOuCode和pickupId"),t.storeOuCode="",t.pickupId=""):t.storeOuCode&&t._getStoreDetail(t.storeOuCode)}))},scanGoods:function(){var t=this;1==this.$store.state.webtype?this.$bridgefunc.scanCode((function(e){var s=e.code;t.$router.push({path:"/mall2/scanbuywxlist",query:{code:s,storeOuCode:t.storeOuCode,pickupId:t.pickupId}})})):this.$bridgefunc.scanCode((function(e){var s=e.code.split(",")[1];t.$router.push({path:"/mall2/scanbuywxlist",query:{code:s,storeOuCode:t.storeOuCode,pickupId:t.pickupId}})}))},_getStoreDetail:function(t){var e=this;this.$Loading.open();var s={token:this.$store.state.login.token,storeOuCode:t};this.$http.post("/app/json/app_store/getStoreDetail",s).then((function(t){var s=t.data;e.$Loading.close(),0==s.status?e.shopDetail=s.data||{}:e.$Toast(s.info)}),(function(t){e.$Loading.close(),e.$Toast("请求数据失败！")}))}},created:function(){this.lastPath=this.$route.query.lastPath?this.$route.query.lastPath:"","2"==this.$store.state.webtype||"3"==this.$store.state.webtype?this.$bridgefunc.setItem("scanbuy_cart_number","0"):o.a.set({key:"scanbuy_cart_number",value:"0",isPublic:!0}),window.localStorage.setItem("historyPros",JSON.stringify(this.historyPros)),window.localStorage.removeItem("historyPros")},beforeRouteLeave:function(t,e,s){t.path==this.lastPath&&this.$keepaliveHelper.deleteCache(this),s()}},a=(s("37Oi"),s("KHd+")),n=Object(a.a)(i,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"index"},[o("nav-top",{on:{backEvent:t.backEvent}}),t._v(" "),o("nav-content",[o("div",[o("div",{directives:[{name:"show",rawName:"v-show",value:""==t.storeOuCode,expression:"storeOuCode == ''"}]},[o("div",{staticClass:"img"},[o("img",{attrs:{src:s("BELV")}})])]),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:""!=t.storeOuCode,expression:"storeOuCode != ''"}]},[o("div",{staticClass:"img"},[o("img",{attrs:{src:s("mWGh")}})]),t._v(" "),o("div",{staticClass:"store-name"},[t._v(t._s(t.shopDetail.storeName))]),t._v(" "),o("div",{staticClass:"store-address"},[t._v(t._s(t.shopDetail.address))])]),t._v(" "),""!=t.storeOuCode?o("div",{staticClass:"btn theme_bg_red theme_font_white",on:{click:t.scanGoods}},[t._v("请扫描商品条码")]):o("div",{staticClass:"btn theme_bg_red theme_font_white",on:{click:t.scanShop}},[t._v("请扫描店铺二维码")])])])],1)}),[],!1,null,"4b73e224",null);e.default=n.exports},mWGh:function(t,e,s){t.exports=s.p+"static/img/saoshangpin.a3c385d.png"},qBcz:function(t,e,s){}}]);