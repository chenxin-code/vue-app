(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d8ae55e2"],{1109:function(t,s,e){"use strict";e.r(s);var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"body"}},[e("nav-top",{attrs:{title:"每日答题"},on:{backEvent:t.backEvent}},[t.shareView?e("div",{staticClass:"shareBox"},[e("div",{on:{click:t.sharegoods}},[e("i",{staticClass:"icon iconfont mall-fenxiang"})])]):t._e()]),e("nav-content",[e("div",{staticClass:"content"},[e("div",{staticClass:"box"},[e("div",{staticClass:"top"},[1===t.listItem.kindId?e("div",{staticClass:"singleList"},[e("span",{staticClass:"theme_bg_red"},[t._v("单选")]),e("div",{staticClass:"divObj"},[e("span",[t._v(t._s(t.listItem.orderNo)+"、"+t._s(t.listItem.title))]),e("van-radio-group",{model:{value:t.listItem.result,callback:function(s){t.$set(t.listItem,"result",s)},expression:"listItem.result"}},t._l(t.listItem.options,(function(s,i){return e("van-radio",{key:i,attrs:{disabled:t.prohibit,"checked-color":"#F80F16",name:t.optionsObj[i]}},[t._v(" "+t._s(t.optionsObj[i])+" 、"+t._s(s.lable)+" "),!0===s.rightResult&&!0===t.flag?e("span",{staticClass:"correct"},[t._v("正确答案")]):t._e(),!1===s.rightResult&&!0===t.flag&&t.listItem.result===s.code?e("span",{staticClass:"wrong theme_font_red"},[t._v("回答错误")]):t._e()])})),1)],1)]):t._e(),2===t.listItem.kindId?e("div",{staticClass:"singleList multipleList"},[e("span",{staticClass:"theme_bg_red"},[t._v("多选")]),e("div",{staticClass:"divObj"},[e("span",[t._v(t._s(t.listItem.orderNo)+"、"+t._s(t.listItem.title))]),e("van-checkbox-group",{model:{value:t.listItem.result,callback:function(s){t.$set(t.listItem,"result",s)},expression:"listItem.result"}},t._l(t.listItem.options,(function(s,i){return e("van-checkbox",{key:i,attrs:{"checked-color":"#F80F16",name:t.optionsObj[i]}},[t._v(" "+t._s(t.optionsObj[i])+" 、"+t._s(s.lable)+" "),!0===s.rightResult&&!0===t.flag?e("span",{staticClass:"correct"},[t._v("正确答案")]):t._e(),!1===s.rightResult&&!0===t.flag&&t.listItem.result.indexOf(s.code)>-1?e("span",{staticClass:"wrong theme_font_red",staticStyle:{"margin-left":"15px"}},[t._v("回答错误")]):t._e()])})),1)],1)]):t._e(),5===t.listItem.kindId?e("div",{staticClass:"singleList"},[e("span",{staticClass:"theme_bg_red"},[t._v("问答")]),e("div",{staticClass:"divObj"},[e("span",[t._v(t._s(t.listItem.orderNo)+"、"+t._s(t.listItem.title))]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.listItem.result,expression:"listItem.result"}],staticClass:"textType",staticStyle:{"min-height":"90px"},attrs:{maxlength:t.listItem.limitMax},domProps:{value:t.listItem.result},on:{input:function(s){s.target.composing||t.$set(t.listItem,"result",s.target.value)}}})])]):t._e(),6===t.listItem.kindId?e("div",{staticClass:"singleList score"},[e("span",{staticClass:"theme_bg_red"},[t._v("打分")]),e("div",{staticClass:"divObj"},[e("span",[t._v(t._s(t.listItem.orderNo)+"、"+t._s(t.listItem.title))]),1===t.listItem.styleType?e("van-rate",{attrs:{color:"#F80F16","void-color":"#F80F16"},model:{value:t.listItem.result,callback:function(s){t.$set(t.listItem,"result",s)},expression:"listItem.result"}}):t._e(),2===t.listItem.styleType?e("van-rate",{attrs:{color:"#F80F16",icon:"like","void-color":"#F80F16","void-icon":"like-o"},model:{value:t.listItem.result,callback:function(s){t.$set(t.listItem,"result",s)},expression:"listItem.result"}}):t._e(),3===t.listItem.styleType?e("van-rate",{attrs:{color:"#F80F16",icon:"static/image/microShop/xiaoicon.png","void-color":"#F80F16","void-icon":"smile-o"},model:{value:t.listItem.result,callback:function(s){t.$set(t.listItem,"result",s)},expression:"listItem.result"}}):t._e()],1)]):t._e(),3===t.listItem.kindId?e("div",{staticClass:"singleList"},[e("span",{staticClass:"theme_bg_red"},[t._v("图片")]),e("div",{staticClass:"divObj"},[e("span",[t._v(t._s(t.listItem.orderNo)+"、"+t._s(t.listItem.title))]),t._l(t.listItem.options,(function(s,i){return e("div",{key:i,staticClass:"pics"},[e("div",{staticClass:"picsDiv"},[e("span",[t._v(t._s(t.optionsObj[i])+"、")]),e("img",{attrs:{src:s.imgUrl,alt:""}})]),e("div",[e("van-radio-group",{model:{value:t.listItem.result,callback:function(s){t.$set(t.listItem,"result",s)},expression:"listItem.result"}},[e("van-radio",{attrs:{disabled:t.prohibit,"checked-color":"#F80F16",name:t.optionsObj[i]}},[t._v(t._s(s.lable)+" "),!0===s.rightResult&&!0===t.flag?e("span",{staticClass:"correct"},[t._v("正确答案")]):t._e(),!1===s.rightResult&&!0===t.flag&&t.listItem.result===s.code?e("span",{staticClass:"wrong theme_font_red"},[t._v("回答错误")]):t._e()])],1)],1)])}))],2)]):t._e()]),e("div",{staticClass:"btn"},[e("span",{staticClass:"theme_bg_red",on:{click:t.confirm}},[e("button",{class:{grays:t.prohibit,theme_bg_red:!t.prohibit},attrs:{disabled:t.prohibit}},[t._v("确认")])]),t.disappear?e("span",{on:{click:t.next}},[e("button",{class:{grays:!t.prohibit,theme_bg_red:t.prohibit},attrs:{disabled:!t.prohibit}},[t._v("下一题")])]):t._e()])]),e("div",{staticClass:"bottom"},[e("div",{staticClass:"head"},[e("div",{staticClass:"div1"},[t._v("当前得分："),e("span",{staticClass:"theme_font_red"},[t._v(t._s(t.subjectValue))]),t._v("分")]),e("div",{staticClass:"div2"},[t._v(t._s(t.i+1)+"/"+t._s(t.answerList.length))])]),e("div",{staticClass:"result"},[e("p",{staticClass:"result-p"},[t._v("题目")]),e("ul",t._l(t.answerList,(function(s,i){return e("li",{key:i,class:{red:1==s.active,green:2==s.active}},[t._v(" "+t._s(i+1)+" ")])})),0)])])])]),e("van-popup",{model:{value:t.commitModel,callback:function(s){t.commitModel=s},expression:"commitModel"}},[e("div",{staticClass:"modal"},[e("p",{staticClass:"title-p"},[t._v("恭喜您成功提交问券，您获得"+t._s(t.subjectValue)+"分，奖励如下")]),e("ul",t._l(t.mktAwardList,(function(s,i){return e("li",{key:i},[e("img",{attrs:{src:s.prizeImgUrl,alt:""}}),e("span",[t._v(t._s(s.prizeName)+t._s(s.prizeNum))])])})),0)]),e("div",{staticClass:"btns"},[e("span",{on:{click:t.closeBtn}},[t._v("确定")]),e("span",{staticClass:"theme_bg_red"},[e("router-link",{attrs:{to:"/mall2/win_record"}},[t._v("查看奖品")])],1)])])],1)},a=[],r=(e("e17f"),e("2241")),n=(e("e7e5"),e("d399")),o=(e("4160"),e("159b"),e("b0c0"),e("99af"),e("0d03"),e("d3b7"),e("25f0"),e("4e82"),e("c975"),e("ac1f"),e("1276"),e("fb6a"),e("a979")),l=e("da71"),c={name:"",mixins:[o["a"]],data:function(){return{resultList:[],listItem:"",i:0,flag:!1,prohibit:!1,subjectValue:0,numList:[],disappear:!0,type:{1:"green",2:"red"},answerList:[],optionsObj:{0:"A",1:"B",2:"C",3:"D",4:"E",5:"F",6:"G",7:"H",8:"I"},radio:"B",list:["a","b","c","d"],result:["a","b"],value:3,show:!1,commitModel:!1,actions:[],mktAwardList:[],id:"",url:"",paramsData:{},shareTitle:"",shareContent:"",shareImgUrl:"",shareurl:"",shareUserid:"",shareView:!0}},created:function(){var t=this;t.paramsData=t.$route.query,t.$route.query?t.shareUserid=t.$route.query.shareUserid:t.shareUserid=""},mounted:function(){this.loadData(),this.Intercept()},methods:{loadData:function(){var t=this,s={id:t.paramsData.subId,token:this.$store.state.login.token};t.questionData(s).then((function(s){if("success"===s.data.result){var e=s.data.data.subjectList,i=JSON.parse(s.data.data.questionShare);0==i.length?t.shareView=!1:t.shareView=!0,e.forEach((function(s,e){if(1===s.kindId||2===s.kindId||3===s.kindId||4===s.kindId){s.active=0;var i=JSON.parse(s.options);2===s.kindId?(s.right=[],i.forEach((function(e,i){e.name=e.lable,e.code=t.optionsObj[i],!0===e.rightResult&&s.right.push(t.optionsObj[i])}))):i.forEach((function(e,i){e.name=e.lable,e.code=t.optionsObj[i],!0===e.rightResult&&(s.right=t.optionsObj[i])})),s.options=i}2===s.kindId?s.result=[]:6===s.kindId?(s.result=0,s.right=0):(s.result="",4===s.kindId&&(s.show=!1))})),t.answerList=e,t.listItem=t.answerList[t.i],t.shareTitle=s.data.data.shareTitle,t.shareContent=s.data.data.shareContent,t.shareImgUrl=s.data.data.shareImgUrl}}))},next:function(){var t=this;t.i++,t.listItem=t.answerList[t.i],t.prohibit=!1,t.flag=!1,t.disappearData()},closeBtn:function(){this.commitModel=!1,this.$router.go(-1)},sharegoods:function(){var t=this,s={title:t.shareTitle,sharetext:t.shareContent,imageurl:t.shareImgUrl,detailurl:"".concat(this.$store.state.globalConfig.wxBaseUrl).concat(l["a"].shareUrl,"/answer?shareUserid=").concat(this.$store.state.userInfo.userId)};this.$bridgefunc.wechatShare(s)},disappearData:function(){var t=this;t.i+1>=t.answerList.length&&(t.disappear=!1)},select1:function(t){t.show=!0},onSelect:function(t,s){s.result=t.code,s.show=!1},confirm:function(){var t=this;t.flag=!0,t.prohibit=!0;var s=t.answerList[t.i];2===s.kindId?s.right.sort().toString()===s.result.sort().toString()?(s.active=2,s.scoreValue=s.subjectValue,t.subjectValue=t.subjectValue+s.subjectValue):(s.active=1,s.scoreValue=0):s.result===s.right?(s.active=2,s.scoreValue=s.subjectValue,t.subjectValue=t.subjectValue+s.subjectValue):(s.active=1,s.scoreValue=0);var e={kindId:s.kindId,configId:s.configId,subjectId:s.id,kindName:s.kindName,options:JSON.stringify(s.options),title:s.title,result:s.result.toString(),orderNo:s.orderNo,score:s.scoreValue};e.token=this.$store.state.login.token,t.commitData(e).then((function(s){"success"===s.data.result?t.i+1>=t.answerList.length&&(Object(n["a"])("恭喜您已经答完最后一道题了"),t.prize()):Object(n["a"])(s.data.info)}))},prize:function(){var t=this,s={id:t.paramsData.subId,token:this.$store.state.login.token,shareUserid:t.shareUserid};t.prizeData(s).then((function(s){"success"===s.data.result?(t.mktAwardList=s.data.data.mktAwardList||[],t.mktAwardList.length>0?t.commitModel=!0:(t.commitModel=!1,t.$router.go(-1))):(t.commitModel=!1,t.$router.go(-1))}))},backEvent:function(){var t=this;r["a"].confirm({title:"标题",message:"问卷尚未答完，确定要离开吗？",cancelButtonText:"现在离开",confirmButtonText:"继续答题"}).then((function(){}))["catch"]((function(){t.$router.go(-1)}))},Intercept:function(){var t=this.url||window.location.href,s=t.substr(t.indexOf("?")),e=s.slice(1).split("=");this.id=e[1]}},computed:{},components:{},watch:{}},d=c,u=(e("600a"),e("0c7c")),p=Object(u["a"])(d,i,a,!1,null,"81ea09a8",null);s["default"]=p.exports},"600a":function(t,s,e){"use strict";e("c0b8")},a979:function(t,s,e){"use strict";var i="/app/json/questionaire/startAnswer",a="/app/json/questionaire/appUserConfig",r="/app/json/questionaire/dailyAnswer",n="/app/json/questionaire/completeAct",o="/app/json/questionaire/findDailyAnswerByuserId",l="/app/json/questionaire/historyDailyAnswerList",c="/app/json/questionaire/questionaireDetail";s["a"]={methods:{participateData:function(t){return this.$http.post(i,t)},questionData:function(t){return this.$http.post(a,t)},commitData:function(t){return this.$http.post(r,t)},prizeData:function(t){return this.$http.post(n,t)},listData:function(t){return this.$http.post(o,t)},historyData:function(t){return this.$http.post(l,t)},historydetailData:function(t){return this.$http.post(c,t)}}}},c0b8:function(t,s,e){}}]);