(window.webpackJsonp=window.webpackJsonp||[]).push([[370],{R5V9:function(t,e,s){"use strict";var i=s("fxpu");s.n(i).a},Y9tE:function(t,e,s){"use strict";s("KD6U");var i=s("WQzh"),a={name:"detail-list",props:{listData:Array,rowStyle:[String,Number]},components:{PriceOrder:i.a},data:function(){return{}},methods:{itemSelect:function(t,e){t.selected=!t.selected,this.listData.splice(e,1,t),this.$emit("selectedItemEvent",t)},getShowPrice:function(t){return!!(0!=t.activityPrice&&""!=t.activityPrice||""!=t.points&&t.points)},dataProcessing:function(t){var e=this.$mallCommon.priceFromItem(t);t.dpedData=e;var s=[];if(t.activityTypes)for(var i=0;i<t.activityTypes.length;i++){var a=t.activityTypes[i],n=t.activityTags.length>i?t.activityTags[i]:"";~s.indexOf(a)||-1!=n.indexOf("不显示")||s.push(a)}t.showActivities=s},delSku:function(t){this.$emit("delSku",t)},productEvent:function(t){this.$emit("productEvent",t)},addToCart:function(t){this.$emit("addToCart",t)},addshare:function(t){this.$emit("addshare",t)},addShopping:function(t){this.$emit("addShopping",t)},deleteShare:function(t){this.$emit("deleteShare",t)},upperShelf:function(t){this.$emit("upperShelf",t)},text:function(t){var e="";return 3==t?e="积分":8==t?e="油滴":9==t?e="豌豆":0==t&&(e="元"),e}},created:function(){}},n=(s("b+sH"),s("KHd+")),o=Object(n.a)(a,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"detail-list"},t._l(t.listData,(function(e,i){return s("div",{key:i,staticClass:"row theme_bg_white",on:{click:function(s){return t.productEvent(e)}}},[t._v("\n    "+t._s(t.dataProcessing(e))+"\n    "),s("div",{staticClass:"img-div"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.phMainUrl,expression:"item.phMainUrl"}]})]),t._v(" "),1==t.rowStyle?s("div",{staticClass:"info-div"},[s("div",{staticClass:"title theme_font_black double-line",domProps:{innerHTML:t._s(e.skuName)}}),t._v(" "),s("div",{staticClass:"info-row"},[s("PriceOrder",{attrs:{listitem:e}})],1),t._v(" "),s("div",{staticClass:"info-row num-info"},[s("span",{staticClass:"font-small theme_font_tint"},[t._v("销量："+t._s(""!=e.salesNum?e.salesNum:"0"))]),t._v(" "),s("span",{staticClass:"font-small theme_font_tint"},[t._v("库存："+t._s(""!=e.stockNum?e.stockNum:"0"))]),t._v(" "),1!=e.hidden?s("i",{staticClass:"iconfont mall-jia-copy theme_standard_font_i car-size",staticStyle:{float:"right"},on:{click:function(s){return s.stopPropagation(),t.addToCart(e)}}}):s("i",{staticClass:"icon iconfont mall-dui car-size mallDui theme_standard_font_i",staticStyle:{float:"right"},on:{click:function(e){return e.stopPropagation(),t.addToCart({})}}})])]):t._e(),t._v(" "),2==t.rowStyle?s("div",{staticClass:"info-div"},[s("div",{staticClass:"title theme_font_black double-line",domProps:{innerHTML:t._s(e.skuName)}}),t._v(" "),s("div",{staticClass:"info-row"},[s("PriceOrder",{attrs:{listitem:e}})],1),t._v(" "),s("div",{staticClass:"info-row num-info"},[s("span",{staticClass:"font-small theme_font_tint"},[t._v("销量："+t._s(""!=e.salesNum?e.salesNum:"0"))]),t._v(" "),s("span",{staticClass:"font-small theme_font_tint"},[t._v("库存："+t._s(""!=e.stockNum?e.stockNum:"0"))]),t._v(" "),s("span",{staticClass:"theme_standard_font_i",staticStyle:{float:"right"},on:{click:function(s){return t.delSku(e.skuId)}}},[t._v("删除")])])]):t._e(),t._v(" "),3==t.rowStyle?s("div",{staticClass:"info-div"},[s("div",{staticClass:"title theme_font_black double-line",domProps:{innerHTML:t._s(e.skuName)}}),t._v(" "),s("div",{staticClass:"info-row"},[s("PriceOrder",{attrs:{listitem:e}})],1),t._v(" "),s("div",{staticClass:"info-row num-info"})]):t._e()])})),0)}),[],!1,null,"3b5cb3a8",null);e.a=o.exports},"b+sH":function(t,e,s){"use strict";var i=s("dpaf");s.n(i).a},cWOa:function(t,e,s){"use strict";s.r(e);var i=s("L2JU"),a=s("Y9tE"),n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(t[i]=s[i])}return t},o={name:"modifyintroduction",data:function(){return{referralsReason:"",params:{status:0}}},components:{DetailList:a.a},computed:n({},Object(i.e)(["recommendationSku","mall2"])),mounted:function(){this.params=this.$route.query},methods:n({},Object(i.d)(["setRecommendationSku"]),{delSku:function(t){var e=JSON.parse(JSON.stringify(this.recommendationSku.skuList));this.recommendationSku.skuList.forEach((function(s,i){s.skuId!=t||e.splice(i,1)})),console.log(e,t),this.setRecommendationSku({skuList:e})},setQrcode:function(){var t=this;if(this.referralsReason){var e=[];this.recommendationSku.skuList.forEach((function(t){e.push({skuId:t.skuId,storeOuCode:t.storeOuCode,salePrice:t.salePrice,activityPrice:t.activityPrice})})),this.$request.post("/app/json/app_employee/addEmployeeReferrals",{referralsReason:this.referralsReason,deliverType:this.mall2.staticDeliverType,proSkuList:e}).then((function(e){0==e.status?t.$router.push({path:"/recommend-commodity/qrcode",query:{qrcode:e.data||""}}):t.$Toast(e.info)}))}else this.$Toast("请输入推荐理由")},ortListBtn:function(){this.$router.push({path:"/recommend-commodity/sort_list"})}})},r=(s("R5V9"),s("KHd+")),c=Object(r.a)(o,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"recommendation"},[s("nav-top",{on:{backEvent:function(e){return t.$router.go(-1)}}}),t._v(" "),s("nav-content",[s("div",{staticClass:"box",class:{isHeigthA:!!t.params.status,isHeigthB:!t.params.status}},[t.params.status?s("div",{staticClass:"recommendation-box"},[s("p",[t._v("推荐理由")]),t._v(" "),s("div",{staticClass:"box-text"},[s("van-cell-group",[s("van-field",{attrs:{label:"",type:"textarea",placeholder:"请输入推荐理由",maxlength:"50",autosize:""},model:{value:t.referralsReason,callback:function(e){t.referralsReason=e},expression:"referralsReason"}})],1),t._v(" "),s("p",[t._v(t._s(t.referralsReason.length)+"/50")])],1)]):t._e(),t._v(" "),s("div",{staticClass:"recommendation-list"},[s("span",{staticClass:"titer"},[s("p",[t._v("推荐商品")]),t._v(" "),s("p",{staticStyle:{color:"#f80f16"},on:{click:t.ortListBtn}},[t._v("推荐排序")])]),t._v(" "),s("div",{staticClass:"list"},[s("DetailList",{attrs:{listData:t.recommendationSku.skuList,rowStyle:2},on:{delSku:t.delSku}})],1)])]),t._v(" "),t.params.status?s("div",{staticClass:"recommendation-btn"},[s("span",{on:{click:t.setQrcode}},[t._v("生成推荐码")])]):t._e()])],1)}),[],!1,null,"0e0fe59d",null);e.default=c.exports},dpaf:function(t,e,s){},fxpu:function(t,e,s){}}]);