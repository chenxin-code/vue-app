(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-17874306"],{"9df6":function(e,t,s){},df7b:function(e,t,s){"use strict";s("9df6")},eb08:function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("nav-top",{attrs:{title:"配置礼盒"},on:{backEvent:function(t){return e.$router.go(-1)}}}),s("nav-content",{staticClass:"giftBox-content"},[s("div",{staticClass:"giftBox-details"},[s("p",{staticClass:"gift-form"},[e._v("来自"),s("span",{staticClass:"fromUser"},[e._v(e._s(e.$store.state.userInfo.realName))]),e._v("的礼单")]),s("div",{staticClass:"goods-info boxShadow"},[s("div",{staticClass:"left"},[s("img",{attrs:{src:e.goodsInfo.phMainUrl,alt:"",width:"70",height:"70"}})]),s("div",{staticClass:"right"},[s("div",{staticClass:"goods-info-title"},[e._v(e._s(e.goodsInfo.skuName))]),s("div",{staticClass:"goods-info-number"},[s("p",{staticClass:"goods-price color_r"}),s("p",{staticClass:"goods-number"},[e._v("*"+e._s(e.g_num))])])])]),s("div",{staticClass:"isVisible boxShadow"},[s("p",[e._v("收礼人互相可见")]),s("van-switch",{attrs:{"active-color":"#ee0a24","inactive-color":"#ccc",size:"14"},model:{value:e.isVisible,callback:function(t){e.isVisible=t},expression:"isVisible"}})],1),s("div",{staticClass:"receive-mode boxShadow"},[s("p",[e._v("领取方式")]),s("div",{staticClass:"mode-check"},[s("p",{staticClass:"mode-title"},[e._v(e._s(e.receiveTitle)),s("span",[e._v("(每人限领一份)")])]),s("van-icon",{attrs:{name:"arrow",size:"14"},on:{click:e.receiveHandle}})],1)]),s("div",{staticClass:"message-inp boxShadow"},[s("p",[e._v("留言")]),s("van-field",{attrs:{rows:"3",autosize:"",type:"textarea",maxlength:"20",placeholder:"请输入留言","show-word-limit":""},model:{value:e.message,callback:function(t){e.message=t},expression:"message"}})],1),s("van-popup",{attrs:{position:"bottom"},model:{value:e.receiveModal,callback:function(t){e.receiveModal=t},expression:"receiveModal"}},[s("van-picker",{attrs:{"show-toolbar":"",title:"领取方式",columns:e.columns,"value-key":"title"},on:{cancel:function(t){e.receiveModal=!1},confirm:e.onConfirm}})],1)],1),s("div",{staticClass:"btns-receive btns"},[s("div",{on:{click:e.shareFriendsHandle}},[e._v("分享给好友")])])])],1)},o=[],a=(s("99af"),s("da71")),r=s("27ae"),n={data:function(){return{isVisible:!1,message:"",receiveModal:!1,receiveType:"1",receiveTitle:"先到先得",columns:[{type:1,title:"先到先得"},{type:2,title:"拼手气"}],g_skuId:"",g_num:"",deliverType:"",goodsInfo:{},payInfo:{},flag:!1,configGiftBoxData:{},wishNo:""}},mounted:function(){var e=this,t=JSON.parse(this.$route.query.carts);this.payInfo=JSON.parse(this.$route.query.payInfo),this.g_skuId=t[0].skuId,this.g_num=t[0].number,this.deliverType=this.$route.query.deliveryType,this.$request.post("/app/json/product/getAppProDetail",{skuId:this.g_skuId,deliverType:this.deliverType}).then((function(t){0===t.status?e.goodsInfo=t.data:e.$Toast(t.info)})),this.$request.post("/app/json/app_shopping_order/detail",{orderId:this.payInfo.orderId,orderType:this.payInfo.orderType}).then((function(t){0==t.status?e.wishNo=t.data.wishNo:e.$Toast(t.info)})),this.$request.post("/app/json/app_send_gift_order/getSendGiftRemark",{type:"1"}).then((function(t){0===t.status?e.message=t.data.message:e.$Toast(t.info)}))},methods:{receiveHandle:function(){this.receiveModal=!0},onConfirm:function(e){this.receiveModal=!1,this.receiveType=e.type,this.receiveTitle=e.title},shareFriendsHandle:function(){var e=this,t={wishNo:this.wishNo,orderId:this.payInfo.orderId,orderType:this.payInfo.orderType,proSkuId:this.g_skuId,totalNum:this.g_num,proImgUrl:this.goodsInfo.phMainUrl,proName:this.goodsInfo.skuName,receiveType:this.receiveType,isVisible:this.isVisible?1:0},s={goodsName:this.goodsInfo.skuName,goodsImg:this.goodsInfo.phMainUrl};if(this.flag){var i={title:"来自".concat(this.$store.state.userInfo.realName,"的礼单"),sharetext:this.goodsInfo.skuName,imageurl:this.goodsInfo.phMainUrl,detailurl:this.$store.state.globalConfig.wxBaseUrl+a["a"].shareUrl+"/receive-gift?userId=".concat(this.configGiftBoxData.userId,"&orderId=").concat(this.configGiftBoxData.orderId,"&goodsDetails=").concat(r["Base64"].encode(JSON.stringify(s)))};this.$bridgefunc.wechatShare(i)}else this.$request.post("/app/json/app_send_gift_order/configGiftBox",t).then((function(t){if(0===t.status){e.flag=!0,e.configGiftBoxData=t.data,e.$Toast("配置成功!");var i={title:"来自".concat(e.$store.state.userInfo.realName,"的礼单"),sharetext:e.goodsInfo.skuName,imageurl:e.goodsInfo.phMainUrl,detailurl:e.$store.state.globalConfig.wxBaseUrl+a["a"].shareUrl+"/receive-gift?userId=".concat(t.data.userId,"&orderId=").concat(t.data.orderId,"&goodsDetails=").concat(r["Base64"].encode(JSON.stringify(s)))};e.$bridgefunc.wechatShare(i)}else e.$Toast(t.info)}))}}},c=n,d=(s("df7b"),s("0c7c")),l=Object(d["a"])(c,i,o,!1,null,"2e90bfea",null);t["default"]=l.exports}}]);