(window.webpackJsonp=window.webpackJsonp||[]).push([[948],{TAwC:function(t,s,a){"use strict";var e=a("w3/+");a.n(e).a},"w3/+":function(t,s,a){},x6m8:function(t,s,a){"use strict";a.r(s);var e=a("L2JU"),i={name:"myhkd",components:{},computed:(Object.assign||function(t){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(t[e]=a[e])}return t})({},Object(e.c)(["userInfo"])),data:function(){return{payTypeCodes:"100",acctData:{},listData:[],page:1,loading:!0,finished:!1,pwdState:{payPwdState:0},showChangePwd:!1,active:!1}},methods:{openmMdifyPwd:function(){this.$router.push({path:"/usercenter/nosetpwd",query:{isSet:1}})},openForgetPwd:function(){this.$router.push({path:"/usercenter/forgetPwd"})},openPWD:function(){0==this.pwdState.payPwdState?this.$router.push({path:"/usercenter/nosetpwd",query:{isSet:0}}):1==this.pwdState.payPwdState?this.$Toast("数字密码已被锁定，请您在"+this.pwdState.lockDate+"后重试"):2==this.pwdState.payPwdState&&(this.showChangePwd=!0,this.active=!0)},cancelBtn:function(){this.showChangePwd=!1,this.active=!1},paPayPwdSate:function(){var t=this;this.$http.post("/app/json/user/paPayPwdSate",{}).then((function(s){var a=s.data;0==a.status?t.pwdState=a.data:t.$Toast(a.info)})).catch((function(s){t.$Toast("请求数据失败，请稍后重试！")}))},onLoad:function(){this.page++,this.getHkdList()},tabEvent:function(t){this.listData=[],this.page=1,this.payTypeCodes=t,this.getHkdList()},getHkdList:function(){var t=this;this.$Loading.open();var s={page:this.page,rows:20,acctType:"8",payTypeCodes:this.payTypeCodes};this.$http.post("/app/json/acct/getAccountPaymentList",s).then((function(s){t.loading=!1,t.$Loading.close();var a=s.data;if(0==a.status){if(t.listData=t.listData.concat(a.data),t.listData.length>=a.totalRecords)return void(t.finished=!0)}else t.finished=!0,t.$Toast(a.info)}),(function(s){t.$Loading.close(),t.$Toast("请求数据失败，请稍后重试！")}))},getHkdInfo:function(){var t=this;this.$Loading.open(),this.$http.post("/app/json/acct/getAccountBaseInfo",{acctType:"8"}).then((function(s){t.$Loading.close();var a=s.data;0==a.status?t.acctData=a.data:t.$Toast(a.info)}),(function(s){t.$Loading.close(),t.$Toast("请求数据失败，请稍后重试！")}))},getAssetsValue:function(t){if(t.rewardType){for(var s=this.$store.state.mall2.myAssets.rewardList,a=0;s&&a<s.length;a++)if(s[a].rewardsSurplusOrderType==t.rewardType)return s[a].rewardsSurplus;return"0"}return this.$store.state.mall2.myAssets[t.countKey]},getHeadImg:function(){return this.userInfo.headImg&&this.userInfo.headImg.length&&"undefined"!=this.userInfo.headImg?this.userInfo.headImg:"2"==this.userInfo.gender?"static/image/setting/setting-img.png":"static/image/setting/setting-img-man.png"},toSettingPwd:function(){this.$router.push({path:"/usercenter/nosetpwd",query:{isSet:0}})}},created:function(){this.getHkdInfo(),this.tabEvent("100"),this.paPayPwdSate()}},n=(a("TAwC"),a("KHd+")),o=Object(n.a)(i,(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"myhkd"},[a("nav-top",{on:{backEvent:function(s){return t.$router.go(-1)}}}),t._v(" "),a("nav-content",[a("div",{staticClass:"scroll-div"},[a("van-list",{attrs:{finished:t.finished},on:{load:t.onLoad},model:{value:t.loading,callback:function(s){t.loading=s},expression:"loading"}},[a("div",{staticClass:"top-div"},[a("div",{staticClass:"white-bg"},[a("div",{staticClass:"user-info"},[a("div",{staticClass:"name"},[t._v("\n                优客点余额："),a("span",[t._v(t._s(t.getAssetsValue({rewardType:"100"})))])]),t._v(" "),"0"==this.pwdState.payPwdState?a("div",{staticClass:"pwd",on:{click:t.toSettingPwd}},[t._v("设置密码")]):a("div",{staticClass:"pwd",on:{click:t.openPWD}},[t._v("支付密码管理")])])])]),t._v(" "),a("div",{staticClass:"list"},[a("div",{staticClass:"tabs"},[a("div",{staticClass:"tab",class:{"tab-bg-1":"100"==t.payTypeCodes},on:{click:function(s){return t.tabEvent(100)}}},[t._v("\n              兑换明细\n            ")]),t._v(" "),a("div",{staticClass:"tab",class:{"tab-bg-2":"400"==t.payTypeCodes},on:{click:function(s){return t.tabEvent(400)}}},[t._v("\n              过期明细\n            ")]),t._v(" "),a("div",{staticClass:"tab",class:{"tab-bg-3":"200,300"==t.payTypeCodes},on:{click:function(s){return t.tabEvent("200,300")}}},[t._v("\n              使用明细\n            ")])]),t._v(" "),a("div",{staticClass:"list-content"},[a("div",{directives:[{name:"show",rawName:"v-show",value:"100"==t.payTypeCodes,expression:"payTypeCodes == '100'"}],staticClass:"tip"},[t._v("共计兑换过"+t._s(t.acctData.totalAddUnit)+"点")]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"400"==t.payTypeCodes,expression:"payTypeCodes == '400'"}],staticClass:"tip"},[t._v("共计过期"+t._s(t.acctData.expireBalanceUnit)+"点")]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"200,300"==t.payTypeCodes,expression:"payTypeCodes == '200,300'"}],staticClass:"tip"},[t._v("共计使用"+t._s(t.acctData.totalConsumeUnit)+"点")]),t._v(" "),a("div",[t._l(t.listData,(function(s){return a("div",{staticClass:"item line_bottom"},["100"==t.payTypeCodes?a("div",{staticClass:"info"},[a("div",{staticClass:"row"},[a("div",{staticClass:"label"},[t._v("兑换时间")]),t._v(" "),a("div",{staticClass:"time"},[t._v(t._s(s.effectiveDate))])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"label"},[t._v("有效期")]),t._v(" "),a("div",{staticClass:"time"},[t._v(t._s(s.expireDate))])])]):t._e(),t._v(" "),"200,300"==t.payTypeCodes?a("div",{staticClass:"info"},[a("div",{staticClass:"row"},[a("div",{staticClass:"label"},[t._v("兑换时间")]),t._v(" "),a("div",{staticClass:"time"},[t._v(t._s(s.paidTime))])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"label"},[t._v("消费类型")]),t._v(" "),a("div",{staticClass:"time"},[t._v(t._s(s.orderTypeName))])])]):t._e(),t._v(" "),a("div",{staticClass:"points"},[a("span"),t._v(t._s("100"==t.payTypeCodes?"+":"")+t._s(s.amountUnit)),a("span",[t._v("点")])])])})),t._v(" "),0==t.listData.length?a("div",{staticClass:"no-data"},[t._v("暂无详细数据")]):t._e()],2)])])])],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showChangePwd,expression:"showChangePwd"}],staticClass:"content-box",class:{mask:t.active}},[a("div",{staticClass:"change-pwd-info"},[a("div",{staticClass:"change-info-btn theme_font_black_i"},[a("div",{staticClass:"pwd",on:{click:t.openmMdifyPwd}},[t._v("修改6位数字支付密码")]),t._v(" "),a("div",{staticClass:"pwd forget-pwd",on:{click:t.openForgetPwd}},[t._v("忘记6位数字支付密码")])]),t._v(" "),a("div",{staticClass:"cancel-btn theme_font_red_i",on:{click:t.cancelBtn}},[t._v("取消")])])])])],1)}),[],!1,null,"4519d4c6",null);s.default=o.exports}}]);