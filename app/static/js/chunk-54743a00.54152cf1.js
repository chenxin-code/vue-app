(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-54743a00","chunk-2d0d6337"],{"0bb7":function(e,t,i){},"1f02":function(e,t,i){"use strict";i("8e0c")},22417:function(e,t,i){"use strict";i("2ea2")},2319:function(e,t,i){e.exports=i.p+"static/images/9340b6b0d8df505624b87a2382916377.png"},"24e5":function(e,t,i){"use strict";i("9549")},2734:function(e,t,i){e.exports=i.p+"static/images/7502664c92b860886a836d56f344b70f.png"},"28ae":function(e,t,i){"use strict";var r=i("91ec");i("d3b7");function a(){return r["a"].use("com.zkty.module.router",[{name:"openTargetRouter",default_args:{type:"h5",uri:"http://192.168.10.51:8081/index.html",path:"",hideNavbar:!1}},{name:"_testh5",default_args:{}},{name:"_testnative",default_args:{}},{name:"_testmicroapp",default_args:{}},{name:"_testmicroapp_version1",default_args:{}},{name:"_testmicroapp_version_not_exist",default_args:{}},{name:"_testmicroapp_path",default_args:{}},{name:"_testmicroapp_path_version1",default_args:{}},{name:"_testmicroapp_path_query",default_args:{}},{name:"_testuni",default_args:{}}])}t["a"]=a()},"2ea2":function(e,t,i){},"3c31":function(e,t,i){"use strict";i("eaad")},"41d2":function(e,t,i){},"4bcf":function(e,t,i){e.exports=i.p+"static/images/06f321228900c1f5a989be8c599bcec6.png"},"592e":function(e,t,i){e.exports=i.p+"static/images/f8cdb35f1146c51b6bf7246def5da0af.png"},"61fa":function(e,t,i){},6266:function(e,t,i){"use strict";i("8444")},"68cb":function(e,t,i){"use strict";var r=i("91ec");function a(){return r["a"].use("com.zkty.module.yjzdbill",[{name:"queryBillDetail",default_args:{}},{name:"YJQRCodePayment",default_args:{appScheme:"x-engine-m",payType:!0}},{name:"YJBillPayment",default_args:{appScheme:"x-engine",payType:!1}},{name:"YJBillRefund",default_args:{}},{name:"YJBillList",default_args:{appScheme:"x-engine",billType:"0",billStatus:"0",payType:!1}},{name:"callWallet",default_args:{appScheme:"x-engine-c"}}])}t["a"]=a()},"6df9":function(e,t,i){"use strict";var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"empty"},[i("van-empty",{staticClass:"custom-image",attrs:{image:e.imgUrl,description:e.description}})],1)},a=[],s={name:"empty",props:{description:{type:String,default:"暂无订单"}},data:function(){return{imgUrl:i("c769")}}},o=s,n=(i("7650"),i("0c7c")),l=Object(n["a"])(o,r,a,!1,null,"2a48d16f",null);t["a"]=l.exports},7040:function(e,t,i){"use strict";i("e87a")},7217:function(e,t,i){"use strict";var r=i("53ca"),a=i("d4ec"),s=i("bee2"),o=(i("c975"),i("4795"),i("4160"),i("159b"),i("da71")),n=document.getElementsByTagName("head")[0],l=function(){function e(t,i){var r=this;Object(a["a"])(this,e),this.url=t||"",this.funcName=i;var s=document.createElement("script");t+=(~t.indexOf("?")?"&":"?")+"callback="+i,s.src=t,s.type="text/javascript",this.myTimer=setTimeout((function(){r.callCallback({status:1,info:"网络加载较慢！"}),r.clearup()}),1e4),window[i]=function(e){r.callCallback({status:0,data:e,info:""}),r.clearup()},s.onerror=function(){r.callCallback({status:1,info:"网络加载较慢！"}),r.clearup()},this.scriptNode=s,n.appendChild(this.scriptNode)}return Object(s["a"])(e,[{key:"then",value:function(e){this.callbackFunc=e}},{key:"callCallback",value:function(e){var t=this;setTimeout((function(){t.callbackFunc(e)}),0)}},{key:"clearup",value:function(){this.myTimer&&clearTimeout(this.myTimer),this.myTimer=null,this.scriptNode.src="",n.removeChild(this.scriptNode)}}]),e}(),d={request:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(!e)throw new Error("url 不能为空");0!=e.indexOf("http")&&(e=o["a"].baseURL+e),i.forEach((function(t){if("object"===Object(r["a"])(t))for(var i in t)e+=~e.indexOf("?")?"&":"?",e+=i+"="+t[i]}));var a=new l(e,t);return a},cancelAll:function(){}};t["a"]=d},7650:function(e,t,i){"use strict";i("0bb7")},"7d87":function(e,t,i){"use strict";i("cd21")},"818b":function(e,t,i){},8444:function(e,t,i){},"8a33":function(e,t,i){},"8e0c":function(e,t,i){},9549:function(e,t,i){},"9bab":function(e,t,i){e.exports=i.p+"static/images/686189dcd03c7599d125069effec9672.png"},a623:function(e,t,i){"use strict";var r=i("23e7"),a=i("b727").every,s=i("a640"),o=s("every");r({target:"Array",proto:!0,forced:!o},{every:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},ad6b:function(e,t,i){"use strict";i("818b")},bbe7:function(e,t,i){},bd8c:function(e,t,i){e.exports=i.p+"static/images/a01739cd0ec97ffa084200bc57e4b3ff.png"},c769:function(e,t,i){e.exports=i.p+"static/images/6272a9f4fc28fbfbd7a82f8b2fa6ca57.png"},cd21:function(e,t,i){},d03c:function(e,t,i){e.exports=i.p+"static/images/8b460eef78396f25609f538e3099228e.png"},dfc8:function(e,t,i){e.exports=i.p+"static/images/458a5bac45f6cb453dff4638b782a64f.png"},e0b1:function(e,t,i){e.exports=i.p+"static/images/ee935d970f9058932d37a306f7f3fdcb.png"},e141:function(e,t,i){},e70c:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAFMN540AAAAAXNSR0IArs4c6QAAArFJREFUSA3dVtuKE0EU3ExQ3/It+Q1RUdYnRVkEJQZ8yOU7ciEPZrOsIPqgZBRF9iU/kZ9IPiEBMdnEqnGq7e6Z3pmwgmhg6O5zqs6pPn1JHx3l/Xq93p72/X5fMX4ZE4M8jtFA1XG84YHg/X5/p75asX7rgEfGTqcTVSqVRKsIibOcPEMp0akSMxgMTmez2YXwTFOr1RrJmE5+HMARSaRRLudut2t0u93EHilUvV5/RUcURRPZEud0Or05n883YihKQmcOOciiE7ndgijcH2md2Uhwu91+6UdnCbCgl7RrnQxZYOq1g2Cy1cVisbVJwmbIcihIHkmYDHkymdxYrVY/RBoOh2NbiYhsDXk0Gt3abDbfRfL3npRwETM1QTFOUBQTzM5g94Eb2+O/2Mf2anCLFcmG5DN85vAmGxeLfkbtdIQCIPgb+F6gkAmWeFMgkhRVO4gA/mB/C/+JX2lDJigvAIjvYX/iE4l3yH4AjD/ge5RHJDZDptFWECISZ64BDvTDborV59ZkMI3tNkNGVb8A/JAZWTiCQ6vgRAToG4j3bKn2FPxVMGQQLwC8YxMlMRRAsr6GiAzAE2ZPQUFNi7m+NoNAhwqA+3VNBzD/oJlTQuHHnN515aeLNM4rkxM8TWiue654q9Vq+ldhkaA0IU/9c2ER4xSL3TRjddSSpItatrICwI1wos7RPiviOjMWmO0hAtKEvKaeKkaR2GBiBbhKQBzH0XK5fAfMY+GLEgpXmFjAPAHysS2bUJzM5SWH33KD8ZEEu7kVhTk0KXmlZsxXwnq9/ohZH9vJ2OeVbNvKnoIrE6cJYyS8HwqetwRlKpCbmM9LvLg+I9ndUELZ1R4qwEnMN9R2u+Uf1G0FLKNeWLZlBTiJcfgfgPgJX/XQhHZyXwA3Jn5NvMPNy93H///jn7F9J4R5jRZtAAAAAElFTkSuQmCC"},e87a:function(e,t,i){},e9a7:function(e,t,i){"use strict";i("ee1ab")},eaa9:function(e,t,i){"use strict";i.r(t);var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"order"},[i("van-sticky",{ref:"stickyIndex",attrs:{"offset-top":e.offsetTop}},[i("nav-top"),i("van-tabs",{attrs:{swipeable:"","swipe-threshold":"6","title-active-color":"#E8374A"},on:{click:e.navTo},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},e._l(e.orderStatusList,(function(e,t){return i("van-tab",{key:t,attrs:{title:e.title,"title-class":"tabTitle",name:e.components}})})),1)],1),i(e.active,{key:e.$route.path+e.$route.query.time,tag:"component"})],1)},a=[],s=(i("4de4"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"nav-top",style:{"padding-top":e.adapterTop}},[i("div",{on:{click:e.goBack}},[i("i",{staticClass:"icon"}),i("span",{staticClass:"title"},[e._v("我的订单")])]),i("span",{staticClass:"history",on:{click:e.navToHistory}},[e._v("历史缴费记录")])])}),o=[],n=(i("ac1f"),i("5319"),i("a946")),l=i("59bc"),d=i("28ae"),c={data:function(){return{adapterTop:"0.426667rem",showPopover:!1,actions:[{text:"历史缴费记录",className:"history"},{text:"发票查询",className:"invoice"}],moreIcon:i("fa52"),backIndex:!1}},created:function(){var e=window.screen.height/window.screen.width,t=window.screen.height==window.screen.availHeight?1.8:1.65;this.adapterTop=e<t?"1.173333rem":"0.426667rem",this.$route.query.backIndex&&(this.backIndex=!0)},methods:{onSelect:function(e){"history"==e.className&&this.navToMicroapp("com.times.microapp.AppcPrepay","/bill/index",!1),"invoice"==e.className&&this.navToMicroapp("com.times.microapp.AppcInvoice","/",!0)},goBack:function(){var e=this;this.backIndex?this.$router.replace({path:"/common"}):l["a"].get({key:"LLBIsHomeView",isPublic:!0}).then((function(t){var i=t.result;i&&""!=i&&"null"!=i&&void 0!=i?"1"==i?e.$router.replace({path:"/common"}):("0"==i||"2"==i)&&n["a"].navigatorBack({url:"0"}).then((function(e){})):n["a"].navigatorBack({url:"0"}).then((function(e){}))}))},navToMicroapp:function(e,t,i){d["a"].openTargetRouter({type:"microapp",uri:e,path:t,hideNavbar:i})},navToHistory:function(){this.navToMicroapp("com.times.microapp.AppcPrepay","/bill/index",!1)}}},p=c,u=(i("1f02"),i("0c7c")),h=Object(u["a"])(p,s,o,!1,null,"b1756176",null),y=h.exports,m=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"allOrder"},[i("van-pull-refresh",{on:{refresh:e.onRefresh},model:{value:e.refreshing,callback:function(t){e.refreshing=t},expression:"refreshing"}},[i("van-list",{attrs:{finished:e.finished,"finished-text":e.showEmpty?"":"- 亲, 没有更多订单了 -",error:e.error,"error-text":"请求失败，点击重新加载","immediate-check":!1},on:{load:e.onLoad,"update:error":function(t){e.error=t}},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[e._l(e.currentOrderList,(function(e,t){return i("div",{key:t,staticClass:"scroll"},[i("OrderItem",{attrs:{pageType:"allOrder",billType:e.billType,dataList:e.dataList,amount:e.amount,submitTime:e.submitTime,params:e.params,billId:e.billId,billDetailObj:e.billDetailObj,orderType:e.orderType,payInfo:e.payInfo,orderStateType:e.orderStateType}})],1)})),i("Empty",{directives:[{name:"show",rawName:"v-show",value:e.showEmpty,expression:"showEmpty"}]})],2)],1)],1)},f=[],g=(i("99af"),i("d81d"),i("b0c0"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"order-item"},[i("div",{staticClass:"title"},[e.isWaitPay?i("van-checkbox",{attrs:{disabled:e.isDisabled,"checked-color":"#f80f16","icon-size":"18px"},on:{change:function(t){return e.checkEvent(t,e.orderItem)}},model:{value:e.isChecked,callback:function(t){e.isChecked=t},expression:"isChecked"}}):e._e(),i("i",{staticClass:"icon",class:e.iconClass}),i("span",[e._v(e._s(e.billTypeName))]),i("div",{staticClass:"stateText"},[e._v(e._s(e.stateText))])],1),i("div",{staticClass:"product-box",class:[e.isShow?"show":""],on:{click:function(t){return t.stopPropagation(),e.gotoBillDetail.apply(null,arguments)}}},e._l(e.showMore?e.dataList:e.smallDataList,(function(t,r){return i("product-item",{key:r,attrs:{productItem:t,billType:e.billType,billId:e.billId}})})),1),e.dataList.length>=3?i("div",{staticClass:"show-product-btn",on:{click:function(t){return t.stopPropagation(),e.switchProductList.apply(null,arguments)}}},[i("p",{directives:[{name:"show",rawName:"v-show",value:!e.isShow,expression:"!isShow"}]},[e._v("显示剩余"+e._s(e.dataList.length-2)+"件商品")]),i("p",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}]},[e._v("收起商品")]),i("i",{directives:[{name:"show",rawName:"v-show",value:!e.isShow,expression:"!isShow"}],staticClass:"downIco"}),i("i",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],staticClass:"upIco"})]):e._e(),11!=e.billType?i("div",{staticClass:"need-pay"},[i("p",{staticClass:"time"},[e._v(e._s(e.submitTime))]),i("p",{staticClass:"pr"},[i("i",[e._v(e._s(e.moneyText)+":")]),i("span",{staticClass:"smallRMB"},[e._v("￥")]),e._v(e._s(e.goodsAmount.integer)),i("span",{staticClass:"decimal"},[e._v("."+e._s(e.goodsAmount.decimal))])])]):e._e(),11==e.billType?i("div",{staticClass:"total"},[i("span",{staticClass:"to"},[e._v("共"),i("i",[e._v(e._s(e.amountTotal))]),e._v("件商品")]),i("span",{staticClass:"pr"},[i("i",[e._v(e._s(e.moneyText)+":")]),i("span",{staticClass:"smallRMB"},[e._v("￥")]),e._v(e._s(e.goodsAmount.integer)),i("span",{staticClass:"decimal"},[e._v("."+e._s(e.goodsAmount.decimal))])])]):e._e(),i("div",{staticClass:"btn-box"},[e._e(),e.isEvalute&&!e.isBulk?i("div",{staticClass:"btn",on:{click:function(t){return t.stopPropagation(),e.toComment.apply(null,arguments)}}},[i("p",[e._v("立即评价")])]):e._e(),e.isBuyAgain&&!e.isBulk?i("div",{staticClass:"btn",on:{click:function(t){return t.stopPropagation(),e.buyAgain.apply(null,arguments)}}},[i("p",[e._v("再次购买")])]):e._e(),e.isViewLogistics&&!e.isBulk?i("div",{staticClass:"btn",on:{click:function(t){return t.stopPropagation(),e.expressType(e.dataList[0])}}},[i("p",[e._v("查看物流")])]):e._e(),e.isWaitTakeDelivery&&!e.isBulk?i("div",{staticClass:"btn",on:{click:function(t){return t.stopPropagation(),e.confirmProduct()}}},[i("p",[e._v("确认收货")])]):e._e(),e.isFinish?i("div",{staticClass:"btn"},[i("p",[e._v("已完成")])]):e._e(),e.isPayAtOnce?i("div",{staticClass:"btn",on:{click:function(t){return e.payAtOnce(e.payInfo)}}},[i("p",[e._v("立即付款")])]):e._e()])]),i("van-dialog",{attrs:{title:"选择快递单号","show-cancel-button":""},on:{confirm:e.confirmForm},model:{value:e.showDialog,callback:function(t){e.showDialog=t},expression:"showDialog"}},[i("van-radio-group",{model:{value:e.expressNo,callback:function(t){e.expressNo=t},expression:"expressNo"}},[i("van-cell-group",e._l(e.expressNoList,(function(t,r){return i("van-cell",{key:r,attrs:{title:t,clickable:""},on:{click:function(i){return i.stopPropagation(),e.selExpress(t)}},scopedSlots:e._u([{key:"right-icon",fn:function(){return[i("van-radio",{attrs:{"checked-color":"#ee0a24",name:t}})]},proxy:!0}],null,!0)})})),1)],1)],1)],1)}),b=[],v=i("1da1"),T=(i("96cf"),i("4160"),i("159b"),i("1276"),i("0d03"),i("d3b7"),i("25f0"),i("6eba"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"product-item"},[i("div",{staticClass:"content"},[i("div",{staticClass:"img"},[11==e.productItem.billType?i("img",{attrs:{src:e.productItem.billImg},on:{click:function(t){return t.stopPropagation(),e.gotoProductDetail(e.productItem)}}}):e._e(),11!=e.productItem.billType?i("div",{staticClass:"billImg",style:{width:"2.4rem",height:"2.4rem","background-image":"url("+e.billCenterImg+")","background-size":"2.4rem 2.4rem","background-repeat":"no-repeat"},on:{click:function(t){return t.stopPropagation(),e.gotoProductDetail(e.productItem)}}}):e._e(),11==e.productItem.billType?i("p",{staticClass:"text"},[e._v(" "+e._s(e.productItem.billName)+" ")]):e._e(),11!=e.productItem.billType?i("div",{staticClass:"desc"},[i("strong",[e._v(e._s(e.productItem.itemTypeName))]),i("p",[e._v(e._s(e.productItem.billName))]),i("p",{staticClass:"info"},[e._v(e._s(e.productItem.info))]),i("p",[e._v(e._s(e.productItem.snapshotTime))])]):e._e()]),11==e.productItem.billType||7==e.productItem.billType||8==e.productItem.billType?i("div",{staticClass:"price"},[i("p",{staticClass:"pr"},[e._v(" ￥"+e._s(e.amount.integer)+"."),i("span",{staticClass:"decimal"},[e._v(e._s(e.amount.decimal))])]),i("div",{staticClass:"billNum"},[i("p",{staticClass:"am"},[i("img",{directives:[{name:"show",rawName:"v-show",value:""!==e.productItem.billNum,expression:"productItem.billNum !== ''"}],staticClass:"xImg",attrs:{src:e.xImg,alt:""}})]),i("span",{staticClass:"num"},[e._v(e._s(e.productItem.billNum))])])]):e._e()])])}),k=[],I={props:["productItem","billId","billType"],data:function(){return{xImg:i("e70c"),goodsAmount:"0.00",amount:{integer:"0",decimal:"00"}}},created:function(){this.goodsAmount=this.productItem.billAmount},methods:{gotoProductDetail:function(e){if(1!=this.$store.state.globalConfig.cut_price_strict&&"cnooc"!=this.$store.state.globalConfig.app_home_special_flag&&1!=this.watermark){var t="/mall2/detail/"+this.$util.getDataString();"11"==this.billType?this.$router.push({path:t,query:{storeOuCode:e.storeOuCode,skuId:e.skuId,lastPath:"/order/3",productType:e.productType}}):window.location.href="x-engine-json://yjzdbill/queryBillDetail?args=".concat(encodeURIComponent(JSON.stringify({billId:this.billId,payType:"no",isRefund:"no"})))}}},watch:{goodsAmount:function(e,t){var i=this.$util.toDecimal2(e),r=i.toString().split(".");this.amount.integer=r[0],this.amount.decimal=r[1]}},computed:{billCenterImg:{get:function(){switch(this.productItem.billType){case 1:return i("e0b1");case 2:return i("2734");case 3:return i("f4f7");case 4:return i("2319");case 5:return i("e0b1");case 6:return i("9bab");case 7:return i("d03c");case 8:return i("bd8c");case 9:return i("dfc8");case 10:return i("592e");case 14:return i("4bcf");default:return i("e0b1")}},set:function(){}},billTypeName:function(){var e="";switch(this.billType){case 11:e="邻里星选";break;case 1:e="物业缴费";break;case 2:e="月保续费";break;case 3:e="临停缴费";break;case 6:e="预缴费";break;case 4:e="临时缴费";break;case 7:e="旅游";break;case 8:e="家政";break;case 9:e="拎包";break;case 10:e="押金";break;case 12:e="美居";break;case 14:e="维修服务费";break}return e}}},C=I,N=(i("ad6b"),Object(u["a"])(C,T,k,!1,null,"78c32f54",null)),O=N.exports,w=(i("7217"),i("f9a1"),{props:["pageType","amount","billType","submitTime","dataList","params","res","orderType","payInfo","billDetailObj","orderItem","type","billId","orderStateType","state","orderCanEvaluate","orderMode","shoppingOrderId","bulkOrderType","id","tradeNo"],data:function(){return{isChecked:!1,isDisabled:!1,isShow:!1,showDialog:!1,expressNo:"",expressNoList:[],formItem:{},smallDataList:[],showMore:!1,vipUnitUserCode:"",itemAmount:"0",goodsAmount:{integer:"0",decimal:"00"},isBulk:!1}},created:function(){this.dataList.length>=3?(this.smallDataList.push(this.dataList[0]),this.smallDataList.push(this.dataList[1])):this.smallDataList=this.dataList,this.itemAmount=this.amount,"12"==this.orderMode||"200501"==this.bulkOrderType?this.isBulk=!0:this.isBulk=!1},computed:{stateText:function(){if("finish"!=this.pageType)return"";if("11"!=this.billType)return"支付已完成";switch(this.state){case 16:return"支付已完成 · 待发货";case 17:return"支付已完成 · 待发货";case 18:return"支付已完成 · 待发货";case 19:return"支付已完成 · 待发货";case 4:return"支付已完成 · 待收货";case 9:return"订单已完成";case 7:return"订单已取消";case 12:return"订单已取消"}},moneyText:function(){var e="";switch(this.pageType){case"waitPay":e="需付款";break;default:e="实付款";break}return e},amountTotal:function(){var e=0;return this.dataList.forEach((function(t){e+=t.billNum})),e},isChangeOrder:function(){return("waitDelivery"==this.pageType||"allOrder"==this.pageType||"finish"==this.pageType&&"200017"==this.params.orderStateType&&17==this.params.state)&&11==this.billType},isEvalute:function(){return("finish"==this.pageType&&this.orderCanEvaluate&&"12"!=this.state&&"16"!=this.state&&"17"!=this.state&&"18"!=this.state&&"19"!=this.state&&"4"!=this.state||"allOrder"==this.pageType&&"200017"==this.params.orderStateType&&9==this.params.state)&&11==this.billType},isBuyAgain:function(){return("waitDelivery"==this.pageType||"waitTakeDelivery"==this.pageType||"cancel"==this.pageType||"finish"==this.pageType||"allOrder"==this.pageType&&("200017"==this.params.orderStateType&&17==this.params.state||"200017"==this.params.orderStateType&&4==this.params.state||"200017"==this.params.orderStateType&&9==this.params.state||"200017"==this.params.orderStateType&&7==this.params.state))&&11==this.billType},isFinish:function(){return("finish"==this.pageType||"allOrder"==this.pageType&&"200017"==this.params.orderStateType&&9==this.params.state)&&11!=this.billType},isViewLogistics:function(){return("waitTakeDelivery"==this.pageType||"allOrder"==this.pageType||"finish"==this.pageType&&"200017"==this.params.orderStateType&&4==this.params.state)&&11==this.billType},isWaitTakeDelivery:function(){return("waitTakeDelivery"==this.pageType||"allOrder"==this.pageType||"finish"==this.pageType&&"200017"==this.params.orderStateType&&4==this.params.state)&&11==this.billType},isPayAtOnce:function(){return"waitPay"==this.pageType||"allOrder"==this.pageType&&"200015"==this.params.orderStateType&&1==this.params.state},isWaitPay:function(){return"waitPay"==this.pageType},billTypeName:function(){var e="";switch(this.billType){case 11:e="邻里星选";break;case 1:e="物业缴费";break;case 2:e="月保续费";break;case 3:e="临停缴费";break;case 4:e="临时缴费";break;case 5:e="零售";break;case 6:e="预缴费";break;case 7:e="旅游";break;case 8:e="家政";break;case 9:e="拎包";break;case 10:e="押金";break;case 12:e="美居";break;case 14:e="维修服务费";break}return e},iconClass:function(){var e="";switch(this.billType){case 11:e="icon1";break;case 12:e="icon1";break;case 5:e="icon1";break;case 1:e="icon7";break;case 2:e="icon8";break;case 3:e="icon5";break;case 6:e="icon4";break;case 4:e="icon4";break;case 7:e="icon6";break;case 8:e="icon2";break;case 9:e="icon3";break;case 10:e="icon4";break;case 14:e="icon14";break}return e}},watch:{itemAmount:function(e,t){var i=this.$util.toDecimal2(e).toString().split(".");0!==i.length&&(this.goodsAmount.integer=i[0],this.goodsAmount.decimal=i[1])}},components:{productItem:O},methods:{payAtOnce:function(e){var t="";"200001"!==this.orderType&&"200501"!==this.orderType&&11==this.billType?(t="/app-vue/app/index.html#/group_detail?orderId=".concat(this.billDetailObj.groupBuyId,"&mktGroupBuyId=").concat(this.billDetailObj.groupBuyActivityId,"&formPaySuccess='1'&ret={ret}"),this.enginePay(e,t)):11==this.billType?this.initPayInfo(e,"mall"):this.initPayInfo(e,"bill")},initPayInfo:function(e,t){var i="",r={state:3,orderId:e.orderId,orderType:e.orderType,tradeNo:e.tradeNo,tag:1,deliverCheckcode:e.deliverCheckcode,deviceCode:this.$route.query.deviceCode,storeOuCode:this.$route.query.storeOuCode,stationName:this.$route.query.stationName};localStorage.setItem("currentOrderDetails",JSON.stringify(r)),i="mall"==t?"/app-vue/app/index.html#/mall2/paysuccess?selectedIndex=1&isBill=".concat(11!=this.billType,"&orderCategory=").concat(e.orderCategory,"&vipUnitUserCode=").concat(this.$route.query.vipUnitUserCode,"&type=").concat(this.$route.query.type,"&ret={ret}"):"/app-vue/app/index.html#/order/2?time=".concat(Date.now()),this.enginePay(e,i)},enginePay:function(e,t){window.location.href="x-engine-json://yjzdbill/YJBillPayment?args=".concat(encodeURIComponent(JSON.stringify({businessCstNo:e.businessCstNo,platMerCstNo:e.platMerCstNo,tradeMerCstNo:e.tradeMerCstNo,billNo:e.billNo,appScheme:"x-engine-c",payType:!1})),"&callback=").concat(encodeURIComponent(location.origin+t))},switchProductList:function(){this.isShow=!this.isShow,this.showMore=!this.showMore},gotoBillDetail:function(){if("11"==this.billType)if("200001"!==this.orderType&&"200015"!=this.orderType&&"200017"!=this.orderType&&"200018"!=this.orderType&&"200501"!=this.orderType)this.$router.push({path:"/group_detail",query:{orderId:this.billDetailObj.groupBuyId,mktGroupBuyId:this.billDetailObj.groupBuyActivityId}});else if("200501"==this.bulkOrderType||"12"==this.orderMode)this.$router.push({path:"/orderInfo",query:{info:JSON.stringify({shoppingOrderId:this.shoppingOrderId,id:this.id,tradeNo:this.tradeNo}),pageType:this.pageType,state:this.state?this.state:""}});else{var e=this.billDetailObj.awardActivityList&&this.billDetailObj.awardActivityList.length?this.billDetailObj.awardActivityList[0]:{};this.$router.push({path:"/mall2/orderdetail",query:{payMode:this.billDetailObj.payMode,tradeNo:this.billDetailObj.tradeNo,shoppingOrderId:this.billDetailObj.shoppingOrderId,orderPayType:this.billDetailObj.orderPayType,orderId:this.billDetailObj.id,tag:this.billDetailObj.tag,orderType:this.orderStateType?this.orderStateType:this.orderType,orderIndex:this.billDetailObj.tabIndex,awardActivity:JSON.stringify(e)}})}else window.location.href="x-engine-json://yjzdbill/queryBillDetail?args=".concat(encodeURIComponent(JSON.stringify({billId:this.billId,payType:"0",isRefund:this.billDetailObj.isRefund,businessCstNo:this.billDetailObj.businessCstNo})))},checkEvent:function(e,t){t.checked=e,this.$emit("checkEvent",t)},buyAgain:function(){var e=this;if(3==this.params.deliverType){for(var t=[],i=0;i<this.dataList.length;i++){var r=this.dataList[i];if(0==r.isGift){var a={skuId:r.skuId,storeOuCode:r.storeOuCode,number:r.billNum};t.push(a)}}return sessionStorage.setItem("MDPS_Carts",JSON.stringify(t)),void this.$router.push({path:"/mall2/store-delivery/list"})}this.$Loading.open();var s="/app/json/app_cart/SettleCart",o={token:this.$store.state.login.token,deliveryType:this.params.deliverType,orderCategory:this.params.orderCategory,vipUnitUserCode:"",userAddress:this.$store.state.mall2.selectAddress,pickupId:this.$store.state.mall2.zitiAddress.id,userAddressId:""};2==o.deliveryType&&this.$store.state.mall2.selectAddress.id>0&&(o.userAddressId=this.$store.state.mall2.selectAddress.id);for(var n=[],l=0;l<this.dataList.length;l++){var d=this.dataList[l],c={skuId:d.skuId,storeOuCode:d.storeOuCode,number:d.billNum};n.push(c)}o.carts=n,this.$http.post(s,o).then((function(t){e.$Loading.close();var i=t.data;if(0==i.status){if(""!==i.data.invalidCart||i.data.occur.length<=0)return void e.$MessageBox.confirm("抱歉，订单中的商品已经下架啦！再看看其他商品吧~","提示",{confirmButtonText:"确定",showCancelButton:!1}).then((function(e){}))["catch"]((function(e){}));var r={res:i.data,paramsData:o,deliveryType:o.deliveryType};e.$store.state.mall2.selectAddress.id>0||2!=e.detailData.deliveryType||(e.matchAddress?(e.$store.state.mall2.selectAddress=e.matchAddress,e.$bridgefunc.vuexStorage((function(){}))):r.noMatch=!0),1==e.$mallCommon.isExistCanNotAttendActivity(i.data.occur)?e.$MessageBox.confirm("部分商品不能参加活动</br>将按原价购买，是否继续？","提示",{confirmButtonText:"确定"}).then((function(t){e.$router.push({name:"填写订单",params:r})}))["catch"]((function(e){})):e.$router.push({name:"填写订单",params:r})}else e.$Toast(i.info)}),(function(t){e.$Loading.close(),e.$Toast("请求数据失败！")}))},expressType:function(e){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function i(){var r,a,s,o,n;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return r="/app/json/app_shopping_order/detail",a={token:t.$store.state.login.token,orderPayType:t.params.orderPayType,orderType:t.orderType,orderId:t.params.orderId,orderCategory:t.params.orderCategory,vipUnitUserCode:t.vipUnitUserCode},t.$route.query.payUserId&&(a.payUserId=t.$route.query.payUserId),i.prev=3,i.next=6,t.$http.post(r,a);case 6:s=i.sent,o=s.data.data,e.expressNo=o.expressNo,e.expressName=o.expressName,e.orderType=o.orderType,e.id=o.id,e.interfaceType=o.interfaceType,t.formItem=t.$util.deepClone(e),n=[],t.formItem.expressNo&&"string"==typeof t.formItem.expressNo&&(n=t.formItem.expressNo.split(",")),1==n.length?t.showExpress(t.formItem):(t.showDialog=!0,t.expressNoList=n),i.next=22;break;case 19:i.prev=19,i.t0=i["catch"](3),t.$Toast(i.t0);case 22:case"end":return i.stop()}}),i,null,[[3,19]])})))()},selExpress:function(e){this.expressNo=e,this.formItem.expressNo=e},confirmForm:function(){this.showExpress(this.formItem)},showExpress:function(e){var t=this;if(2==e.interfaceType||1==e.interfaceType){this.$Loading.open();var i="/app/json/app_shopping_order/detail",r={token:this.$store.state.login.token,orderId:e.id,orderType:e.orderType,orderCategory:this.params.orderCategory,vipUnitUserCode:this.vipUnitUserCode};this.$http.post(i,r).then((function(e){t.$Loading.close();var i=e.data;0==i.status?t.$router.push({name:"expressinfo",params:{expressinfo:encodeURIComponent(JSON.stringify(i.data.tracksList))}}):t.$Toast(i.info)}),(function(e){t.$Loading.close(),t.$Toast("请求数据失败！")}))}else if(1==this.$store.state.globalConfig.enableEMS&&0==e.interfaceType&&"1"==e.expressSendingMode)this.$router.push({path:"/mall2/orderlogistics",query:{traceNo:e.expressNo}});else if("1"==this.$store.state.globalConfig.order_ali_deliver_enable&&"0"==e.interfaceType&&"2"==e.deliverType)this.$router.push({path:"/mall2/aliexpressinfo",query:{orderType:e.orderType,orderId:e.id,logisticsOrderNo:e.expressNo}});else if(1==this.$store.state.globalConfig.hasApiForExpress100)this.$router.push({path:"/mall2/100expressinfo",query:{expressNo:e.expressNo,expressName:e.expressName}});else{var a="https://m.kuaidi100.com/index_all.html?type="+encodeURIComponent(e.expressName)+"&postid="+encodeURIComponent(e.expressNo);this.$bridgefunc.customPush({path:a,isnativetop:"1",isVuePage:!1})}},confirmProduct:function(){var e=this;this.$MessageBox.confirm("您确定已经收到商品了吗？","提示").then((function(t){e._confirmProductApi()}))["catch"]((function(e){}))},_confirmProductApi:function(){var e=this;this.$Loading.open();var t="/app/json/app_shopping_order/orderConfirm",i={token:this.$store.state.login.token,orderId:this.params.orderId,orderType:this.params.orderType,orderCategory:this.params.orderCategory,vipUnitUserCode:this.vipUnitUserCode};this.$http.post(t,i).then((function(t){e.$Loading.close();var i=t.data;0==i.status?e.$router.push({name:"我的订单",params:{id:5},query:{time:Date.now()}}):e.$Toast(i.info)}),(function(t){e.$Loading.close(),e.$Toast("请求数据失败！")}))},toComment:function(e){this.dataList.length>0&&(this.dataList.length>1?this.$router.push({path:"/mall2/comment2",query:{orderId:this.params.orderId}}):this.$router.push({path:"/mall2/comment",query:{skuId:this.dataList[0].skuId,orderId:this.dataList[0].itemOrderId,phPictureUrl:this.dataList[0].billImg,skuName:this.dataList[0].billName}}))},modifyAddress:function(e){this.$router.push({path:"/mall2/modifyorderaddress",query:{address:JSON.stringify({address:e.address||"",addressFull:e.addressFull||"",cityId:e.cityId||"",cityName:e.cityName||"",countryId:e.countryId||"",countryName:e.countryName||"",provinceId:e.provinceId||"",provinceName:e.provinceName||"",townId:e.townId||"",townName:e.townName||"",receiver:e.receiver||"",mobile:e.mobile||""}),orderId:this.params.orderId,tradeNo:this.params.tradeNo,orderType:this.params.orderType}})}}}),x=w,L=(i("eb5e"),Object(u["a"])(x,g,b,!1,null,"2e4e046d",null)),P=L.exports,A=i("6df9"),_={name:"allOrder",data:function(){return{loading:!1,finished:!1,error:!1,refreshing:!1,orderList:[],currentPage:0,totalPage:0,page:0,showEmpty:!1,currentOrderList:[]}},components:{OrderItem:P,Empty:A["a"]},created:function(){this.onLoad()},watch:{currentOrderList:function(e,t){0!==e.length?this.showEmpty=!1:this.showEmpty=!0}},methods:{onLoad:function(){var e=this;this.loading=!0;var t=this.currentPage;t+=1,this.currentPage=t,this.refreshing=!1;var i={page:{index:t,pageSize:10},airDefenseNo:this.$store.state.userRoomId};this.$http.post("/app/json/app_shopping_order/findOrderFormList",i).then((function(i){var r=0;if(r=0==i.data.data.pages?1:i.data.data.pages,t<r||t==r)if(i.data.data.pages==t&&(e.finished=!0),0==i.data.status){var a=i.data.data.records;e.orderList=e.orderList.concat(a),e.page=i.data.data.pages,0!==e.orderList.length?e.initData():e.currentOrderList=[],e.loading=!1}else e.loading=!1,e.error=!0;else e.finished=!0}))["catch"]((function(t){e.$toast("请求失败，点击重新加载"),e.loading=!1,e.error=!0}))},onRefresh:function(){var e=this,t=1;this.page=t,this.finished=!1,this.loading=!0,this.currentPage=1;var i={page:{index:t,pageSize:10},airDefenseNo:this.$store.state.userRoomId};this.$http.post("/app/json/app_shopping_order/findOrderFormList",i).then((function(t){0==t.data.status&&(e.orderList=t.data.data.records,e.totalPage=t.data.data.pages,0!==e.orderList.length&&e.initData(),e.$toast("刷新成功"),e.loading=!1,e.refreshing=!1)}))["catch"]((function(t){e.$toast("网络繁忙,请稍后再试~")}))},initData:function(){var e=this;this.currentOrderList=this.orderList.map((function(t){return{billType:t.billType,billId:t.billId,amount:t.totalPrice,submitTime:t.submitTime,orderType:t.orderStateType,orderStateType:t.orderStateType,params:{deliverType:t.deliverType,orderId:t.id,orderType:t.orderStateType,orderPayType:t.orderPayType,orderCategory:t.orderCategory,orderCanEvaluate:t.orderCanEvaluate,orderStateType:t.orderStateType,state:t.state,tradeNo:t.tradeNo},billDetailObj:{businessCstNo:t.loginUserPhone,groupBuyActivityId:t.groupBuyActivityId,groupBuyId:t.groupBuyId,payMode:t.payMode,tradeNo:t.tradeNo,shoppingOrderId:t.shoppingOrderId,orderPayType:t.orderPayType,id:t.id,tag:e.getTag(t.state,t.orderStateType),tabIndex:0,awardActivityList:t.awardActivityList,isRefund:t.isRefund},payInfo:{businessCstNo:t.loginUserPhone,platMerCstNo:t.platMerCstNo,tradeMerCstNo:t.tradeMerCstNo,billNo:t.billNo,orderId:t.id,orderCategory:t.orderCategory,orderType:t.orderType,tradeNo:t.tradeNo,deliverCheckcode:t.deliverCheckcode},dataList:t.orderFormItemList.map((function(e){return{billType:t.billType,billImg:e.iconUrl,billName:e.name,billAmount:e.unitPrice,billNum:e.quantity,skuId:e.itemId,storeOuCode:e.storeOuCode,id:e.itemId,expressNo:t.expressNo,expressName:t.expressName,interfaceType:t.interfaceType,deliverType:t.deliverType,address:t.address,cityId:t.cityId,countryId:t.countryId,countryName:t.countryName,provinceId:t.provinceId,provinceName:t.provinceName,townId:t.townId,townName:t.townName,receiver:t.receiver,mobile:t.mobile,info:e.info,itemTypeName:e.itemTypeName,snapshotTime:e.snapshotTime}}))}}))},getTag:function(e,t){return 1==e&&"200015"==t?"1":17==e&&"200017"==t?"16":4==e&&"200017"==t?"4":9==e&&"200017"==t?"9":7==e&&"200018"==t?"7":void 0}}},$=_,D=(i("7040"),Object(u["a"])($,m,f,!1,null,"a457415a",null)),E=D.exports,S=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"cancel"},[i("van-pull-refresh",{on:{refresh:e.onRefresh},model:{value:e.refreshing,callback:function(t){e.refreshing=t},expression:"refreshing"}},[i("van-list",{attrs:{finished:e.finished,"finished-text":e.showEmpty?"":"- 亲, 没有更多订单了 -",error:e.error,"error-text":"请求失败，点击重新加载","immediate-check":!1},on:{load:e.onLoad,"update:error":function(t){e.error=t}},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[e._l(e.currentOrderList,(function(e,t){return i("div",{key:t,staticClass:"scroll"},[i("OrderItem",{attrs:{dataList:e.dataList,params:e.params,billType:e.billType,amount:e.amount,submitTime:e.submitTime,billDetailObj:e.billDetailObj,orderType:e.orderType,pageType:"cancel",orderMode:e.orderMode,shoppingOrderId:e.shoppingOrderId,bulkOrderType:e.bulkOrderType,id:e.id,tradeNo:e.tradeNo}})],1)})),i("Empty",{directives:[{name:"show",rawName:"v-show",value:e.showEmpty,expression:"showEmpty"}]})],2)],1)],1)},R=[],B={name:"cancel",data:function(){return{loading:!1,finished:!1,error:!1,refreshing:!1,orderList:[],currentPage:0,totalPage:0,queryBadge:{},page:0,showEmpty:!1,currentOrderList:[],tabs:{text:"已取消",tag:"7",type:["200018"]}}},components:{OrderItem:P,Empty:A["a"]},created:function(){this.onLoad()},watch:{currentOrderList:function(e,t){0!==e.length?this.showEmpty=!1:this.showEmpty=!0}},methods:{onLoad:function(){var e=this;this.loading=!0;var t=this.currentPage;t+=1,this.currentPage=t,this.refreshing=!1;var i={orderType:this.tabs.type[0],orderTypeList:this.tabs.type,state:this.tabs.tag,page:{index:t,pageSize:30}};this.$http.post("/app/json/app_shopping_order/queryOrder",i).then((function(i){if(t<i.data.data.page.totalPages||t==i.data.data.page.totalPages)if(i.data.data.page.totalPages==t&&(e.finished=!0),0==i.data.status){var r=i.data.data.orderList;e.orderList=e.orderList.concat(r),e.orderList.length>0?(e.orderList.forEach((function(e){e["billType"]=11,e.itemAbstractList.forEach((function(e){e["billType"]=11}))})),e.initData()):e.currentOrderList=[],e.page=i.data.data.page.totalPages,e.loading=!1}else e.loading=!1,e.error=!0;else e.finished=!0}))["catch"]((function(t){e.$toast("请求失败，点击重新加载"),e.loading=!1,e.error=!0}))},onRefresh:function(){var e=this,t=1;this.page=t,this.finished=!1,this.loading=!0,this.currentPage=1;var i={orderType:this.tabs.type[0],orderTypeList:this.tabs.type,state:this.tabs.tag,page:{index:t,pageSize:10}};this.$http.post("/app/json/app_shopping_order/queryOrder",i).then((function(t){0==t.data.status&&(e.orderList=t.data.data.orderList,e.orderList.length>0&&(e.orderList.forEach((function(e){e["billType"]=11,e.itemAbstractList.forEach((function(e){e["billType"]=11}))})),e.initData()),e.totalPage=t.data.totalPages,e.$toast("刷新成功"),e.loading=!1,e.refreshing=!1)}))["catch"]((function(t){e.$toast("网络繁忙,请稍后再试~")}))},initData:function(){this.currentOrderList=this.orderList.map((function(e){return{billType:e.billType,amount:e.realAmount,submitTime:e.submitTime,deliverType:e.deliverType,orderId:e.id,orderType:e.orderType,orderCategory:e.orderCategory,orderMode:e.orderMode,shoppingOrderId:e.shoppingOrderId,bulkOrderType:e.orderType,id:e.id,tradeNo:e.tradeNo,params:{deliverType:e.deliverType,orderId:e.id,orderType:e.orderType,orderCategory:e.orderCategory,orderStateType:e.orderStateType,state:e.state},billDetailObj:{groupBuyActivityId:e.groupBuyActivityId,groupBuyId:e.groupBuyId,payMode:e.payMode,tradeNo:e.tradeNo,shoppingOrderId:e.shoppingOrderId,orderPayType:e.orderPayType,id:e.id,tag:"7",tabIndex:6,awardActivityList:e.awardActivityList},dataList:e.itemAbstractList.map((function(t){return{billType:t.billType,billImg:t.phPictureUrl,billName:t.skuName,billAmount:t.salePrice,billNum:t.number,skuId:t.skuId,id:t.id,storeOuCode:e.storeOuCode,expressNo:e.expressNo,expressName:e.expressName,interfaceType:e.interfaceType,deliverType:e.deliverType}}))}}))}}},M=B,j=(i("f559"),Object(u["a"])(M,S,R,!1,null,"83885c7a",null)),q=j.exports,U=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"finish"},[i("van-pull-refresh",{on:{refresh:e.onRefresh},model:{value:e.refreshing,callback:function(t){e.refreshing=t},expression:"refreshing"}},[i("van-list",{attrs:{finished:e.finished,"finished-text":e.showEmpty?"":"- 亲, 没有更多订单了 -",error:e.error,"error-text":"请求失败，点击重新加载","immediate-check":!0},on:{load:e.onLoad,"update:error":function(t){e.error=t}},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[i("property-bill",{directives:[{name:"show",rawName:"v-show",value:e.isLoadPropertyBill,expression:"isLoadPropertyBill"}],attrs:{results:e.billResults}}),e._l(e.currentOrderList,(function(e,t){return i("div",{key:t,staticClass:"scroll"},[i("OrderItem",{attrs:{dataList:e.dataList,params:e.params,billType:e.billType,amount:e.amount,submitTime:e.submitTime,billDetailObj:e.billDetailObj,orderType:e.orderType,billId:e.billId,pageType:"finish",state:e.state,orderCanEvaluate:e.orderCanEvaluate,shoppingOrderId:e.shoppingOrderId,bulkOrderType:e.bulkOrderType,id:e.id,tradeNo:e.tradeNo}})],1)})),i("Empty",{directives:[{name:"show",rawName:"v-show",value:e.showEmpty&&0===e.billResults.length,expression:"showEmpty && billResults.length === 0"}]})],2)],1)],1)},J=[],F=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.results?i("div",{staticClass:"property-bill"},[i("div",{staticClass:"property-box",class:{isactive:e.isOpen}},[i("van-checkbox",{directives:[{name:"show",rawName:"v-show",value:"waitPay"===e.pageName,expression:"pageName === 'waitPay'"}],attrs:{disabled:e.isDisAll,"checked-color":"#f80f16","icon-size":"18px"},model:{value:e.checkAllBill,callback:function(t){e.checkAllBill=t},expression:"checkAllBill"}}),i("div",{staticClass:"property-title",class:{finish:"waitPay"!==e.pageName},on:{click:function(t){return e.onClickBill(e.isOpen)}}},[e._v(" 您的物业缴费账单 "),i("div",{staticClass:"down-up-icon"})])],1),i("transition",{attrs:{name:"sub-comments"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.isOpen,expression:"isOpen"}],staticClass:"list"},[i("div",{staticClass:"content"},e._l(e.results,(function(t,r){return i("div",{key:r,staticClass:"content-list"},[i("div",{staticClass:"title"},[i("van-checkbox",{directives:[{name:"show",rawName:"v-show",value:"waitPay"===e.pageName,expression:"pageName === 'waitPay'"}],attrs:{disabled:e.isDis,"checked-color":"#f80f16","icon-size":"18px"},on:{change:function(i){return e.checkEvent(i,t)}},model:{value:t.checked,callback:function(i){e.$set(t,"checked",i)},expression:"item.checked"}}),i("i",{staticClass:"icon",class:{house:"1"==t.type,car:"2"==t.type,finish:"waitPay"!==e.pageName}}),i("span",{staticClass:"title-name"},[e._v("物业缴费")])],1),i("div",{staticClass:"hd",on:{click:function(i){return e.checkDetail(e.pageName,t)}}},[i("div",{staticClass:"icon",class:e.titleIcon(t.type)}),i("div",{staticClass:"detail"},[i("div",{staticClass:"project"},[e._v(e._s(t.spaceFullName))]),i("div",{staticClass:"total"},[i("span",[e._v("待缴纳总金额")]),i("span",[e._v("￥"+e._s("waitPay"===e.pageName?t.totalPayableAmount:"0.00"))])]),i("div",{staticClass:"check"},[e._v(" 查账单 "),i("van-icon",{staticClass:"arrow-icon",attrs:{name:"arrow"}})],1)])]),i("div",{staticClass:"inline"})])})),0)])])],1):e._e()},z=[],V=(i("a623"),i("a15b"),i("2ef0")),H=i.n(V),Y={props:["results","pageName","isDisAll","isDis"],data:function(){return{isShowPropertyBill:!1,isDisabled:!1,isDisabledItem:!1,isChecked:!1,activeNames:["1"],isOpen:!0,query:this.$route.query}},computed:{checkAllBill:{get:function(){var e=JSON.parse(JSON.stringify(this.results));return e.every((function(e){return e.checked}))},set:function(e){var t=JSON.parse(JSON.stringify(this.results));t.forEach((function(t){t.checked=e})),this.results=t}}},created:function(){"true"==this.query.orderPage||void 0==this.query.orderPage?this.isOpen=!1:this.isOpen=!0},methods:{checkEvent:function(e,t){t.checked=e,t.billType=1,this.$emit("checkEvent",t)},onClickBill:function(e){this.isOpen=!e},titleIcon:function(e){var t="";return t="1"==e?"house":"2"==e?"car":"",t},checkDetail:function(e,t){var i=t.customerRoomId,r=H.a.join(i,",");this.$router.push({path:"/bill/detail",query:{billDetailType:"waitPay"===e?0:1,airDefenseNo:r,houseName:t.spaceFullName}})}}},G=Y,K=(i("f598"),Object(u["a"])(G,F,z,!1,null,"768ee33a",null)),Z=K.exports,W={name:"finish",data:function(){return{loading:!1,finished:!1,error:!1,refreshing:!1,orderList:[],currentPage:0,totalPage:0,queryBadge:{},page:0,index:0,showEmpty:!1,currentOrderList:[],tabs:{text:"已完成",tag:"9",type:["200017"]},isLoadPropertyBill:!1,billResults:[],reqBillType:"2,3,4,5,6,7,8,9,10,11,14"}},components:{propertyBill:Z,OrderItem:P,Empty:A["a"]},created:function(){this.onLoad(),this.initPropert()},watch:{currentOrderList:function(e,t){0!==e.length?this.showEmpty=!1:this.showEmpty=!0}},methods:{onLoad:function(){var e=this;this.loading=!0;var t=this.currentPage;t+=1,this.currentPage=t,this.refreshing=!1;var i={orderType:this.tabs.type[0],orderTypeList:this.tabs.type,page:{index:t,pageSize:30},airDefenseNo:this.$store.state.userRoomId,billType:this.reqBillType};this.$http.post("/app/json/app_shopping_order/findOrderFormList",i).then((function(i){var r=0;if(r=0==i.data.data.pages?1:i.data.data.pages,t<r||t==r)if(i.data.data.pages==t&&(e.finished=!0),0==i.data.status){var a=i.data.data.records;e.orderList=e.orderList.concat(a),e.page=i.data.data.pages,0!==e.orderList.length?e.initData():e.currentOrderList=[],e.loading=!1}else e.loading=!1,e.error=!0;else e.finished=!0}))["catch"]((function(t){e.$toast("请求失败，点击重新加载"),e.loading=!1,e.error=!0}))["finally"]((function(){e.loading=!1}))},onRefresh:function(){var e=this,t=1;this.page=t,this.finished=!1,this.loading=!0,this.currentPage=1,this.loading=!0;var i=this.$store.state.userRoomId,r=i.replace(/\|/gi,","),a={airDefenseNo:r,memberId:this.$store.state.userInfo.phone,status:90,type:1,pageNo:"",pageTimes:""},s="";s="development"==this.$store.state.environment?"http://m-center-uat.linli.timesgroup.cn/times/charge-bff/order-center/api-c/v1/getList":"https://m-center-prod-linli.timesgroup.cn/times/charge-bff/order-center/api-c/v1/getList",this.$http.get(s,{params:a}).then((function(t){var i=t.data.data;200===t.data.code?e.billResults=i.finish:e.billResults=[],e.loading=!1}))["finally"]((function(){var i={orderType:e.tabs.type[0],orderTypeList:e.tabs.type,page:{index:t,pageSize:30},airDefenseNo:e.$store.state.userRoomId,billType:e.reqBillType};e.$http.post("/app/json/app_shopping_order/findOrderFormList",i).then((function(t){0==t.data.status&&(e.orderList=t.data.data.records,e.totalPage=t.data.data.pages,0!==e.orderList.length&&e.initData(),e.$toast("刷新成功"),e.loading=!1,e.refreshing=!1)}))["catch"]((function(t){e.$toast("网络繁忙,请稍后再试~")}))}))},initData:function(){this.currentOrderList=this.orderList.map((function(e){return{billType:e.billType,billId:e.billId,amount:e.totalPrice,submitTime:e.submitTime,deliverType:e.deliverType,orderId:e.id,orderType:e.orderStateType,orderCategory:e.orderCategory,orderCanEvaluate:e.orderCanEvaluate,state:e.state,bulkOrderType:e.orderType,shoppingOrderId:e.shoppingOrderId,id:e.id,tradeNo:e.tradeNo,params:{deliverType:e.deliverType,orderId:e.id,orderType:e.orderStateType,orderCategory:e.orderCategory,orderCanEvaluate:e.orderCanEvaluate,orderStateType:e.orderStateType,state:e.state,shoppingOrderId:e.shoppingOrderId},billDetailObj:{businessCstNo:e.loginUserPhone,groupBuyActivityId:e.groupBuyActivityId,groupBuyId:e.groupBuyId,payMode:e.payMode,tradeNo:e.tradeNo,shoppingOrderId:e.shoppingOrderId,orderPayType:e.orderPayType,id:e.id,tag:17==e.state||16==e.state?"16":4==e.state?"4":9==e.state?"9":12==e.state?"7":e.state,tabIndex:5,awardActivityList:e.awardActivityList,isRefund:e.isRefund},dataList:e.orderFormItemList.map((function(t){return{billType:e.billType,billImg:t.iconUrl,billName:t.name,billAmount:t.unitPrice,billNum:t.quantity,skuId:t.itemId,id:t.itemId,storeOuCode:t.storeOuCode,expressNo:e.expressNo,expressName:e.expressName,interfaceType:e.interfaceType,deliverType:e.deliverType,itemTypeName:t.itemTypeName,snapshotTime:t.snapshotTime,info:t.info,address:e.address,cityId:e.cityId,countryId:e.countryId,countryName:e.countryName,provinceId:e.provinceId,provinceName:e.provinceName,townId:e.townId,townName:e.townName,receiver:e.receiver,mobile:e.mobile,itemOrderId:t.itemOrderId}}))}}))},initPropert:function(){var e=this;this.loading=!0;var t=this.$store.state.userRoomId,i=t.replace(/\|/gi,","),r={airDefenseNo:i,memberId:this.$store.state.userInfo.phone,status:90,type:1,pageNo:"",pageTimes:""},a="";a="development"==this.$store.state.environment?"http://m-center-uat.linli.timesgroup.cn/times/charge-bff/order-center/api-c/v1/getList":"https://m-center-prod-linli.timesgroup.cn/times/charge-bff/order-center/api-c/v1/getList",this.$http.get(a,{params:r}).then((function(t){var i=t.data.data;200===t.data.code?e.billResults=i.finish:e.billResults=[],e.billResults.length?e.isLoadPropertyBill=!0:e.isLoadPropertyBill=!1,e.loading=!1}))["finally"]((function(){}))}}},Q=W,X=(i("ebeb"),Object(u["a"])(Q,U,J,!1,null,"be4c53e2",null)),ee=X.exports,te=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"waitDelivery"},[i("van-pull-refresh",{on:{refresh:e.onRefresh},model:{value:e.refreshing,callback:function(t){e.refreshing=t},expression:"refreshing"}},[i("van-list",{attrs:{finished:e.finished,"finished-text":e.showEmpty?"":"- 亲, 没有更多订单了 -",error:e.error,"error-text":"请求失败，点击重新加载","immediate-check":!1},on:{load:e.onLoad,"update:error":function(t){e.error=t}},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[e._l(e.currentOrderList,(function(e,t){return i("div",{key:t,staticClass:"scroll"},[i("OrderItem",{attrs:{dataList:e.dataList,params:e.params,billType:e.billType,amount:e.amount,submitTime:e.submitTime,billDetailObj:e.billDetailObj,orderType:e.orderType,pageType:"waitDelivery",orderMode:e.orderMode,shoppingOrderId:e.shoppingOrderId,bulkOrderType:e.bulkOrderType,id:e.id,tradeNo:e.tradeNo}})],1)})),i("Empty",{directives:[{name:"show",rawName:"v-show",value:e.showEmpty,expression:"showEmpty"}]})],2)],1)],1)},ie=[],re=i("ade3"),ae={name:"waitDelivery",data:function(){return Object(re["a"])({loading:!1,finished:!1,error:!1,refreshing:!1,orderList:[],currentPage:0,totalPage:0,page:0,showEmpty:!1,currentOrderList:[],params:{},tabs:{text:"待发货",tag:"16",type:["200017"]}},"currentOrderList",[])},components:{OrderItem:P,Empty:A["a"]},created:function(){this.onLoad()},watch:{currentOrderList:function(e,t){0!==e.length?this.showEmpty=!1:this.showEmpty=!0}},methods:{onLoad:function(){var e=this;this.loading=!0;var t=this.currentPage;t+=1,this.currentPage=t,this.refreshing=!1;var i={orderType:this.tabs.type[0],orderTypeList:this.tabs.type,state:this.tabs.tag,page:{index:t,pageSize:30}};this.$http.post("/app/json/app_shopping_order/queryOrder",i).then((function(i){if(t<i.data.data.page.totalPages||t==i.data.data.page.totalPages)if(i.data.data.page.totalPages==t&&(e.finished=!0),0==i.data.status){var r=i.data.data.orderList;e.orderList=e.orderList.concat(r),e.orderList.length>0?(e.orderList.forEach((function(e){e["billType"]=11,e.itemAbstractList.forEach((function(e){e["billType"]=11}))})),e.initData()):e.currentOrderList=[],e.page=i.data.data.page.totalPages,e.loading=!1}else e.loading=!1,e.error=!0;else e.finished=!0}))["catch"]((function(t){e.$toast("请求失败，点击重新加载"),e.loading=!1,e.error=!0}))},onRefresh:function(){var e=this,t=1;this.page=t,this.finished=!1,this.loading=!0,this.currentPage=1;var i={orderType:this.tabs.type[0],orderTypeList:this.tabs.type,state:this.tabs.tag,page:{index:t,pageSize:10}};this.$http.post("/app/json/app_shopping_order/queryOrder",i).then((function(t){0==t.data.status&&(e.orderList=t.data.data.orderList,e.orderList.length>0&&(e.orderList.forEach((function(e){e["billType"]=11,e.itemAbstractList.forEach((function(e){e["billType"]=11}))})),e.initData()),e.totalPage=t.data.totalPages,e.$toast("刷新成功"),e.loading=!1,e.refreshing=!1)}))["catch"]((function(t){e.$toast("网络繁忙,请稍后再试~")}))},initData:function(){this.currentOrderList=this.orderList.map((function(e){return{billType:e.billType,amount:e.realAmount,submitTime:e.submitTime,deliverType:e.deliverType,orderId:e.id,orderType:e.orderType,orderCategory:e.orderCategory,orderMode:e.orderMode,shoppingOrderId:e.shoppingOrderId,bulkOrderType:e.orderType,id:e.id,tradeNo:e.tradeNo,params:{deliverType:e.deliverType,orderId:e.id,orderType:e.orderType,orderCategory:e.orderCategory,orderStateType:e.orderStateType,state:e.state,tradeNo:e.tradeNo},billDetailObj:{groupBuyActivityId:e.groupBuyActivityId,groupBuyId:e.groupBuyId,payMode:e.payMode,tradeNo:e.tradeNo,shoppingOrderId:e.shoppingOrderId,orderPayType:e.orderPayType,id:e.id,tag:"16",tabIndex:3,awardActivityList:e.awardActivityList},dataList:e.itemAbstractList.map((function(t){return{billType:t.billType,billImg:t.phPictureUrl,billName:t.skuName,billAmount:t.salePrice,billNum:t.number,skuId:t.skuId,id:t.id,storeOuCode:e.storeOuCode,expressNo:e.expressNo,expressName:e.expressName,interfaceType:e.interfaceType,deliverType:e.deliverType,address:e.address,cityId:e.cityId,countryId:e.countryId,countryName:e.countryName,provinceId:e.provinceId,provinceName:e.provinceName,townId:e.townId,townName:e.townName,receiver:e.receiver,mobile:e.mobile}}))}}))}}},se=ae,oe=(i("e9a7"),Object(u["a"])(se,te,ie,!1,null,"1f095210",null)),ne=oe.exports,le=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"waitPay"},[i("van-pull-refresh",{on:{refresh:e.onRefresh},model:{value:e.refreshing,callback:function(t){e.refreshing=t},expression:"refreshing"}},[i("van-list",{attrs:{finished:e.finished,"finished-text":e.showEmpty?"":"- 亲, 没有更多订单了 -",error:e.error,"error-text":"请求失败，点击重新加载","immediate-check":!1},on:{load:e.onLoad,"update:error":function(t){e.error=t}},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[i("property-bill",{directives:[{name:"show",rawName:"v-show",value:e.isLoadPropertyBill,expression:"isLoadPropertyBill"}],ref:"propertyOrder",attrs:{pageName:"waitPay",isDisAll:e.isDisAll,isDis:e.isDis,results:e.billResults},on:{checkEvent:e.checkEvent}},e._l(e.billResults,(function(t,r){return i("div",{key:r,staticClass:"scroll"},[i("OrderItem2",{ref:"order",refInFor:!0,attrs:{pageName:"waitPay",billId:t.billId,billType:t.billType,item:t},on:{checkEvent:e.checkEvent}})],1)})),0),e._l(e.currentOrderList,(function(t,r){return i("div",{key:r,staticClass:"scroll"},[i("OrderItem",{ref:"order",refInFor:!0,attrs:{pageType:"waitPay",billType:t.billType,dataList:t.dataList,amount:t.amount,submitTime:t.submitTime,type:t.billType,orderType:t.orderType,payInfo:t.payInfo,params:t.params,orderItem:t,billId:t.billId,billDetailObj:t.billDetailObj,orderStateType:t.orderStateType,shoppingOrderId:t.shoppingOrderId,bulkOrderType:t.bulkOrderType,id:t.id,tradeNo:t.tradeNo},on:{checkEvent:e.checkEvent}})],1)})),i("Empty",{directives:[{name:"show",rawName:"v-show",value:e.showEmpty&&0===e.billResults.length,expression:"showEmpty && billResults.length === 0"}]})],2)],1),i("pay-div",{ref:"payDiv",attrs:{checkData:e.checkData,mergeAmount:e.mergeAmount,total:Array.from(this.checkData).length},on:{checkEvent:e.checkEvent,mergePay:e.mergePay}}),e.isShowErrorMsg?i("div",{staticClass:"tanc-message-box"},[i("div",{staticClass:"content"},[i("div",{staticClass:"bg-box"}),i("div",{staticClass:"message-box"},[e._v(e._s(e.errorMsg))]),i("div",{staticClass:"btn-box",on:{click:e.closeTanC}},[e._v("确认")])]),i("div",{staticClass:"close-btn",on:{click:e.closeTanC}})]):e._e()],1)},de=[],ce=(i("e7e5"),i("d399")),pe=(i("6062"),i("3ca3"),i("ddb0"),i("a630"),i("13d5"),i("caad"),i("2532"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.results?i("div",{staticClass:"property-bill"},[i("div",{staticClass:"property-box",class:{isactive:e.isOpen}},[i("van-checkbox",{directives:[{name:"show",rawName:"v-show",value:"waitPay"===e.pageName,expression:"pageName === 'waitPay'"}],attrs:{disabled:e.isDisabled,"checked-color":"#f80f16","icon-size":"18px"},on:{click:function(t){return e.checkEvent(t)}},model:{value:e.isChecked,callback:function(t){e.isChecked=t},expression:"isChecked"}}),i("div",{staticClass:"property-title",class:{finish:"waitPay"!==e.pageName},on:{click:function(t){return e.onClickBill(e.isOpen)}}},[e._v(" 您的物业缴费账单 "),i("div",{staticClass:"down-up-icon"})])],1),i("transition",{attrs:{name:"sub-comments"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.isOpen,expression:"isOpen"}],staticClass:"list"},[i("div",{staticClass:"content"},[e._t("default")],2)])])],1):e._e()}),ue=[],he={props:["results","pageName","isDisAll","isDis","checkData"],data:function(){var e;return e={isChecked:!1,isDisabled:!1,isShowPropertyBill:!1},Object(re["a"])(e,"isDisabled",!1),Object(re["a"])(e,"isDisabledItem",!1),Object(re["a"])(e,"isChecked",!1),Object(re["a"])(e,"activeNames",["1"]),Object(re["a"])(e,"isOpen",!0),Object(re["a"])(e,"query",this.$route.query),e},computed:{checkAllBill:{get:function(){var e=JSON.parse(JSON.stringify(this.results));return e.every((function(e){return e.checked}))},set:function(e){var t=JSON.parse(JSON.stringify(this.results));t.forEach((function(t){t.checked=e})),this.results=t}}},created:function(){"true"==this.query.orderPage||void 0==this.query.orderPage?this.isOpen=!1:this.isOpen=!0},methods:{checkEvent:function(e){var t={billType:1};t.checked=this.isChecked,t.checkAllBillType1=!0,this.$emit("checkEvent",t)},onClickBill:function(e){this.isOpen=!e},titleIcon:function(e){var t="";return t="1"==e?"house":"2"==e?"car":"",t},checkDetail:function(e,t){var i=t.customerRoomId,r=H.a.join(i,",");this.$router.push({path:"/bill/detail",query:{billDetailType:"waitPay"===e?0:1,airDefenseNo:r,houseName:t.spaceFullName}})}}},ye=he,me=(i("6266"),Object(u["a"])(ye,pe,ue,!1,null,"d48453dc",null)),fe=me.exports,ge=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"pay-content"},[i("div",{staticClass:"pay-div"},[i("div",[i("div",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],staticClass:"pay-box"},[i("van-checkbox",{attrs:{"checked-color":"#f80f16","icon-size":"18px"},on:{click:function(t){return e.checkEvent(t)}},model:{value:e.isChecked,callback:function(t){e.isChecked=t},expression:"isChecked"}}),i("div",{staticClass:"text"},[i("p",{staticClass:"p1"},[e._v("全选")]),i("div",{staticClass:"checkAll"},[i("div",{staticClass:"all"},[e._v(" 合计"),i("span",[e._v("￥"),i("span",[e._v(e._s(e.amount.integer))]),e._v("."),i("span",{staticClass:"decimal"},[e._v(e._s(e.amount.decimal))])])]),i("div",{staticClass:"onlyCheck"},[e._v("(仅可全选"+e._s(e.billTypeName)+"类订单)")])])])],1)]),i("div",{staticClass:"pay"},[i("div",{staticClass:"btn",on:{click:e.mergePay}},[i("div",{staticClass:"text"},[e._v("去结算")]),i("div",{staticClass:"total"},[e._v("("+e._s(e.total)+")")])])])]),this.$util.getIsIphoneX_X()?i("div",{staticClass:"adapter-iphoneX"}):e._e()])},be=[],ve={props:["checkData","mergeAmount","total"],data:function(){return{isChecked:!1,isShow:!1,billType:"",amount:{integer:"0",decimal:"00"}}},created:function(){},computed:{billTypeName:function(){var e="";switch(this.billType){case 11:e="邻里星选";break;case 1:e="物业缴费";break;case 2:e="月保续费";break;case 3:e="临停缴费";break;case 5:e="零售";break;case 6:e="预缴费";break;case 4:e="临时缴费";break;case 7:e="旅游";break;case 8:e="家政";break;case 9:e="拎包";break;case 10:e="押金";break;case 12:e="美居";break;case 14:e="维修服务费";break}return e}},methods:{checkEvent:function(e){var t=Array.from(this.checkData);if(0!=t.length){var i={};i.billType=t[0].billType,i.checked=this.isChecked,i.checkAll=!0,this.$emit("checkEvent",i)}},mergePay:function(){this.$emit("mergePay")}},watch:{mergeAmount:function(e,t){var i=this.$util.toDecimal2(e),r=i.toString().split(".");this.amount.integer=r[0],this.amount.decimal=r[1]}}},Te=ve,ke=(i("7d87"),Object(u["a"])(Te,ge,be,!1,null,"2660f6a3",null)),Ie=ke.exports,Ce=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"content-list"},[i("div",{staticClass:"title"},[i("van-checkbox",{attrs:{disabled:e.isDisabled,"checked-color":"#f80f16","icon-size":"18px"},on:{change:function(t){return e.checkEvent(t,e.item)}},model:{value:e.isChecked,callback:function(t){e.isChecked=t},expression:"isChecked"}}),i("i",{staticClass:"icon",class:{house:"1"==e.item.type,car:"2"==e.item.type,finish:"waitPay"!==e.pageName}}),i("span",{staticClass:"title-name"},[e._v("物业缴费")])],1),i("div",{staticClass:"hd",on:{click:function(t){return e.checkDetail(e.pageName,e.item)}}},[i("div",{staticClass:"icon",class:e.titleIcon(e.item.type)}),i("div",{staticClass:"detail"},[i("div",{staticClass:"project"},[e._v(e._s(e.item.spaceFullName))]),i("div",{staticClass:"total"},[i("span",[e._v("待缴纳总金额")]),i("span",[e._v("￥"+e._s("waitPay"===e.pageName?e.item.totalPayableAmount:"0.00"))])]),i("div",{staticClass:"check"},[e._v(" 查账单 "),i("van-icon",{staticClass:"arrow-icon",attrs:{name:"arrow"}})],1)])]),i("div",{staticClass:"inline"})])},Ne=[],Oe={props:["pageName","billId","item","billType"],data:function(){return{isShowPropertyBill:!1,isDisabled:!1,isDisabledItem:!1,isChecked:!1,activeNames:["1"],isOpen:!0,query:this.$route.query}},computed:{checkAllBill:{get:function(){var e=JSON.parse(JSON.stringify(this.results));return e.every((function(e){return e.checked}))},set:function(e){var t=JSON.parse(JSON.stringify(this.results));t.forEach((function(t){t.checked=e})),this.results=t}}},created:function(){"true"==this.query.orderPage||void 0==this.query.orderPage?this.isOpen=!1:this.isOpen=!0},methods:{checkEvent:function(e,t){t.checked=e,t.billType=t.billType,this.$emit("checkEvent",t)},onClickBill:function(e){this.isOpen=!e},titleIcon:function(e){var t="";return t="1"==e?"house":"2"==e?"car":"",t},checkDetail:function(e,t){var i=t.customerRoomId,r=H.a.join(i,",");this.$router.push({path:"/bill/detail",query:{billDetailType:"waitPay"===e?0:1,airDefenseNo:r,houseName:t.spaceFullName}})}}},we=Oe,xe=(i("22417"),Object(u["a"])(we,Ce,Ne,!1,null,"aa37b74c",null)),Le=xe.exports,Pe=i("901e"),Ae=i("68cb"),_e={name:"waitPay",data:function(){return{showDialog:!1,tipsText:"",check:!1,checkData:new Set,show:!1,loading:!1,finished:!1,error:!1,refreshing:!1,orderList:[],currentPage:0,totalPage:0,page:0,showEmpty:!1,currentOrderList:[],params:[],mergeAmount:0,total:0,isLoadPropertyBill:!1,isDisAll:!1,isDis:!1,isLoad:!0,billResults:[],reqBillType:"2,3,4,5,6,7,8,9,10,11,14",isShowErrorMsg:!1,errorMsg:""}},components:{propertyBill:fe,payDiv:Ie,OrderItem:P,OrderItem2:Le,Empty:A["a"]},created:function(){this.onLoad(),this.initPropert()},activated:function(){},watch:{currentOrderList:function(e,t){0!==e.length?this.showEmpty=!1:this.showEmpty=!0}},methods:{mergePay:function(){var e=this,t=Array.from(this.checkData),i="",r="",a="",s=[];if(t.forEach((function(e){1==e.billType?(a="property",s.push(e.projectId.toString())):a="other"})),"property"==a){this.toast();var o="",n=[];if(s.length>1){if(!s.every((function(e){return e===s[0]})))return ce["a"].clear(),this.isShowErrorMsg=!0,this.errorMsg="尊敬的邻里邦用户，目前仅支持本楼盘的账单支付，其他楼盘账单需切换楼盘进行缴纳，感谢您的理解。",void this.$nextTick((function(){e.$parent.$refs.stickyIndex.$el.style.position="relative",e.$parent.$refs.stickyIndex.$el.style.zIndex=0}));t.forEach((function(e){e.billNos.forEach((function(e){o+=e+",",n.push(e.toString())}))}))}else t[0].billNos.forEach((function(e){o+=e+",",n.push(e.toString())}));var l={businessCstNo:this.$store.state.userInfo.phone,platMerCstNo:t[0].platMerCstNo,tradeMerCstNo:t[0].tradeMerCstNo};this.checkedPayStatus(n,l,o,t)}else 0==t.length?this.$toast("请选择订单"):1==t.length&&11==t[0].billType&&"200001"!==t[0].orderType?(i=t[0].payInfo.billNo,r="/app-vue/app/index.html#/group_detail?orderId=".concat(t[0].billDetailObj.groupBuyId,"&mktGroupBuyId=").concat(t[0].billDetailObj.groupBuyActivityId,"&formPaySuccess='1'&ret={ret}"),this.enginePay(t[0].payInfo,i,r)):11==t[0].billType?this.initPayinfo(t,i,"mall"):this.initPayinfo(t,i,"bill")},initPayinfo:function(e,t,i){var r="",a={state:3,orderId:e[0].orderId,orderType:e[0].orderType,tradeNo:e[0].payInfo?e[0].payInfo.tradeNo:"",tag:1,deliverCheckcode:e[0].payInfo?e[0].payInfo.deliverCheckcode:"",deviceCode:this.$route.query.deviceCode,storeOuCode:this.$route.query.storeOuCode,stationName:this.$route.query.stationName};localStorage.setItem("currentOrderDetails",JSON.stringify(a)),e.forEach((function(e){t+=e.payInfo.billNo+","})),r="mall"==i?"/app-vue/app/index.html#/mall2/paysuccess?selectedIndex=1&isBill=".concat(11!=e[0].billType,"&orderCategory=").concat(e[0].payInfo.orderCategory,"&vipUnitUserCode=").concat(this.$route.query.vipUnitUserCode,"&type=").concat(this.$route.query.type,"&ret={ret}"):"/app-vue/app/index.html#/order/2?time=".concat(Date.now()),this.enginePay(e[0].payInfo,t,r)},enginePay:function(e,t,i){window.location.href="x-engine-json://yjzdbill/YJBillPayment?args=".concat(encodeURIComponent(JSON.stringify({businessCstNo:e.businessCstNo,platMerCstNo:e.platMerCstNo,tradeMerCstNo:e.tradeMerCstNo,billNo:t,appScheme:"x-engine-c",payType:!1})),"&callback=").concat(encodeURIComponent(location.origin+i))},onLoad:function(){var e=this;this.loading=!0;var t=this.currentPage;t+=1,this.currentPage=t,this.refreshing=!1;var i={orderType:"200015",orderTypeList:["200015","200502"],state:"1",page:{index:t,pageSize:30},airDefenseNo:this.$store.state.userRoomId,billType:this.reqBillType};this.$http.post("/app/json/app_shopping_order/findOrderFormList",i).then((function(i){var r=0;if(r=0==i.data.data.pages?1:i.data.data.pages,t<r||t==r)if(i.data.data.pages==t&&(e.finished=!0),0==i.data.status){var a=i.data.data.records;e.orderList=e.orderList.concat(a),e.page=i.data.data.pages,0!==e.orderList.length?e.initData():e.currentOrderList=[],e.loading=!1}else e.loading=!1,e.error=!0;else e.finished=!0}))["catch"]((function(t){e.$toast("请求失败，点击重新加载"),e.loading=!1,e.error=!0}))},onRefresh:function(){var e=this,t=1;this.page=t,this.finished=!1,this.loading=!0,this.currentPage=1;var i=this.$store.state.userRoomId,r=i.replace(/\|/gi,","),a={airDefenseNo:r,memberId:this.$store.state.userInfo.phone?this.$store.state.userInfo.phone:"",status:10,type:1,pageTimes:"",pageNo:""},s="";s="development"==this.$store.state.environment?"http://m-center-uat.linli.timesgroup.cn/times/charge-bff/order-center/api-c/v1/getList":"https://m-center-prod-linli.timesgroup.cn/times/charge-bff/order-center/api-c/v1/getList",this.$http.get(s,{params:a}).then((function(t){var i=t.data.data;200===t.data.code?(e.billResults=i.notpay,e.billResults.forEach((function(e){e.totalPrice=e.totalPayableAmount,e.billId=e.spaceId,e.billType=1}))):e.billResults=[],e.loading=!1}))["finally"]((function(){var i={orderType:"200015",orderTypeList:["200015","200502"],state:"1",page:{index:t,pageSize:30},airDefenseNo:e.$store.state.userRoomId,billType:e.reqBillType};e.$http.post("/app/json/app_shopping_order/findOrderFormList",i).then((function(t){0==t.data.status&&(e.orderList=t.data.data.records,e.totalPage=t.data.data.pages,0!==e.orderList.length&&e.initData(),e.$toast("刷新成功"),e.loading=!1,e.refreshing=!1)}))["catch"]((function(t){e.$toast("网络繁忙,请稍后再试~")}))}))},initData:function(){this.currentOrderList=this.orderList.map((function(e){return{billType:e.billType,amount:e.totalPrice,submitTime:e.submitTime,orderType:e.orderType,orderId:e.shoppingOrderId,state:e.state,totalPrice:e.totalPrice,orderStateType:e.orderStateType,billId:e.billId,shoppingOrderId:e.shoppingOrderId,bulkOrderType:e.orderType,id:e.id,tradeNo:e.tradeNo,payInfo:{businessCstNo:e.loginUserPhone,platMerCstNo:e.platMerCstNo,tradeMerCstNo:e.tradeMerCstNo,billNo:e.billNo,orderId:e.id,orderCategory:e.orderCategory,orderType:e.orderStateType,tradeNo:e.tradeNo,deliverCheckcode:e.deliverCheckcode,isRefund:e.isRefund},params:{deliverType:e.deliverType,orderId:e.shoppingOrderId,orderType:e.orderType,orderCategory:e.orderCategory,orderCanEvaluate:e.orderCanEvaluate,orderStateType:e.orderStateType,state:e.state},billDetailObj:{businessCstNo:e.loginUserPhone,groupBuyActivityId:e.groupBuyActivityId,groupBuyId:e.groupBuyId,payMode:e.payMode,tradeNo:e.tradeNo,shoppingOrderId:e.shoppingOrderId,orderPayType:e.orderPayType,id:e.id,tag:"1",tabIndex:2,awardActivityList:e.awardActivityList,isRefund:e.isRefund},dataList:e.orderFormItemList.map((function(t){return{billType:e.billType,billImg:t.iconUrl,billName:t.name,billAmount:t.unitPrice,billNum:t.quantity,skuId:t.itemId,storeOuCode:t.storeOuCode,info:t.info,itemTypeName:t.itemTypeName,snapshotTime:t.snapshotTime}}))}}))},checkEvent:function(e){var t=this;if(e.checkAll||e.checkAllBillType1){var i=this.$refs.order.filter((function(t){return t.billType==e.billType})),r=[];r=i[0]&&1==i[0].billType?this.billResults:this.currentOrderList;var a=r.filter((function(t){return t.billType==e.billType}));e.checked?(this.checkData.clear(),i.forEach((function(e,i){t.checkData.add(a[i]),e.isChecked=!0})),i[0]&&1==i[0].billType&&(this.$refs.propertyOrder.isChecked=!0)):(this.checkData.clear(),i.forEach((function(e){e.isChecked=!1})),this.$refs.payDiv.isShow=!1,this.$refs.propertyOrder.isChecked=!1)}else{var s=this.$refs.order.filter((function(t){return t.billType!=e.billType}));s.forEach((function(t){t.billType!=e.billType&&(t.isDisabled=!0)})),1!=e.billType&&(this.$refs.propertyOrder.isDisabled=!0);var o=this.$refs.order.length-s.length;e.checked?(this.checkData.add(e),this.$refs.payDiv.billType=e.billType,this.$refs.payDiv.isShow=!0,this.checkData.size==o?(this.$refs.payDiv.isChecked=!0,1==e.billType&&(this.$refs.propertyOrder.isChecked=!0)):(this.$refs.payDiv.isChecked=!1,1==e.billType&&(this.$refs.propertyOrder.isChecked=!1))):(this.checkData.forEach((function(i){i.billId==e.billId&&(t.checkData["delete"](i),t.$refs.payDiv.isChecked=!1,1==e.billType&&(t.$refs.propertyOrder.isChecked=!1,t.$refs.propertyOrder.isDisabled=!1))})),0==this.checkData.size&&(this.$refs.order.forEach((function(e){e.isDisabled=!1})),this.$refs.propertyOrder.isDisabled=!1,this.$refs.payDiv.isShow=!1));var n=Array.from(this.checkData),l=n.reduce((function(e,t){return Object(Pe["BigNumber"])(e).plus(t.totalPrice)}),0);this.mergeAmount=l}},initPropert:function(){var e=this;this.loading=!0;var t=this.$store.state.userRoomId,i=t.replace(/\|/gi,","),r={airDefenseNo:i,memberId:this.$store.state.userInfo.phone?this.$store.state.userInfo.phone:"",status:10,type:1,pageNo:"",pageTimes:""},a="";a="development"==this.$store.state.environment?"http://m-center-uat.linli.timesgroup.cn/times/charge-bff/order-center/api-c/v1/getList":"https://m-center-prod-linli.timesgroup.cn/times/charge-bff/order-center/api-c/v1/getList",this.$http.get(a,{params:r}).then((function(t){var i=t.data.data;200===t.data.code?(e.billResults=i.notpay,e.billResults.forEach((function(e){e.totalPrice=e.totalPayableAmount,e.billId=e.spaceId,e.billType=1}))):e.billResults=[],e.billResults.length?e.isLoadPropertyBill=!0:e.isLoadPropertyBill=!1,e.loading=!1}))["finally"]((function(){}))},toast:function(){ce["a"].loading({duration:0,type:"loading",message:"加载中...",forbidClick:!0})},checkedPayStatus:function(e,t,i,r){var a=this,s="",o=[];s="development"==this.$store.state.environment?"http://times-pcs.linli580.com.cn:8888/pcs/bill-center/check-bill":"https://times-pms.linli580.com/pcs/bill-center/check-bill";var n={list:e};this.$http.post(s,JSON.stringify(n)).then((function(e){if("0000"==e.data.code){for(var r=e.data.data,s=0;s<r.length;s++)1==r[s].status||2==r[s].status?(!1,o.push(r[s].status)):!0;H.a.uniq(o).includes(2)?(ce["a"].clear(),a.isShowErrorMsg=!0,a.errorMsg="尊敬的邻里邦用户，该账单不存在，请重新刷新页面，获取最新账单。",a.$nextTick((function(){a.$parent.$refs.stickyIndex.$el.style.position="relative",a.$parent.$refs.stickyIndex.$el.style.zIndex=0}))):H.a.uniq(o).includes(1)?(ce["a"].clear(),a.isShowErrorMsg=!0,a.errorMsg="尊敬的邻里邦用户，该账单信息已经更新，请重新刷新页面，获取最新账单。",a.$nextTick((function(){a.$parent.$refs.stickyIndex.$el.style.position="relative",a.$parent.$refs.stickyIndex.$el.style.zIndex=0}))):Ae["a"].YJBillPayment({businessCstNo:t.businessCstNo,platMerCstNo:t.platMerCstNo,tradeMerCstNo:t.tradeMerCstNo,billNo:i,appScheme:"x-engine",payType:!1,__ret__:function(e){"1"!=e.billRetStatus&&(ce["a"].clear(),a.isShowErrorMsg=!0,a.errorMsg=e.billRetStatusMessage?e.billRetStatusMessage:"支付失败",a.$nextTick((function(){a.$parent.$refs.stickyIndex.$el.style.position="relative",a.$parent.$refs.stickyIndex.$el.style.zIndex=0})))}})}}))},closeTanC:function(){var e=this;this.isShowErrorMsg=!1,this.$nextTick((function(){e.$parent.$refs.stickyIndex.$el.style.position="",e.$parent.$refs.stickyIndex.$el.style.zIndex=""}))}}},$e=_e,De=(i("24e5"),Object(u["a"])($e,le,de,!1,null,"6699768c",null)),Ee=De.exports,Se=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"waitTakeDelivery"},[i("van-pull-refresh",{on:{refresh:e.onRefresh},model:{value:e.refreshing,callback:function(t){e.refreshing=t},expression:"refreshing"}},[i("van-list",{attrs:{finished:e.finished,"finished-text":e.showEmpty?"":"- 亲, 没有更多订单了 -",error:e.error,"error-text":"请求失败，点击重新加载","immediate-check":!1},on:{load:e.onLoad,"update:error":function(t){e.error=t}},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[e._l(e.currentOrderList,(function(e,t){return i("div",{key:t,staticClass:"scroll"},[i("OrderItem",{attrs:{dataList:e.dataList,params:e.params,billType:e.billType,amount:e.amount,submitTime:e.submitTime,billDetailObj:e.billDetailObj,orderType:e.orderType,pageType:"waitTakeDelivery",orderMode:e.orderMode,shoppingOrderId:e.shoppingOrderId,bulkOrderType:e.bulkOrderType,id:e.id,tradeNo:e.tradeNo}})],1)})),i("Empty",{directives:[{name:"show",rawName:"v-show",value:e.showEmpty,expression:"showEmpty"}]})],2)],1)],1)},Re=[],Be={name:"waitTakeDelivery",data:function(){var e;return e={loading:!1,finished:!1,error:!1,refreshing:!1,orderList:[],currentPage:0,totalPage:0,page:0,showEmpty:!1,currentOrderList:[],params:{},tabs:{text:"待收货",tag:"4",type:["200017"]}},Object(re["a"])(e,"currentOrderList",[]),Object(re["a"])(e,"deliveryType",""),e},components:{OrderItem:P,Empty:A["a"]},created:function(){this.deliveryType=this.$store.state.mall2.staticDeliverType?this.$store.state.mall2.staticDeliverType:"2",this.onLoad()},watch:{currentOrderList:function(e,t){0!==e.length?this.showEmpty=!1:this.showEmpty=!0}},methods:{onLoad:function(){var e=this;this.loading=!0;var t=this.currentPage;t+=1,this.currentPage=t,this.refreshing=!1;var i={orderType:this.tabs.type[0],orderTypeList:this.tabs.type,state:this.tabs.tag,page:{index:t,pageSize:10}};4==this.tabs.tag&&(i.deliverType=this.deliveryType,2==this.deliveryType&&(i.deliverTypeList=[2,3])),this.$http.post("/app/json/app_shopping_order/queryOrder",i).then((function(i){if(t<i.data.data.page.totalPages||t==i.data.data.page.totalPages)if(i.data.data.page.totalPages==t&&(e.finished=!0),0==i.data.status){var r=i.data.data.orderList;e.orderList=e.orderList.concat(r),e.orderList.length>0?(e.orderList.forEach((function(e){e["billType"]=11,e.itemAbstractList.forEach((function(e){e["billType"]=11}))})),e.initData()):e.currentOrderList=[],e.page=i.data.data.page.totalPages,e.loading=!1}else e.loading=!1,e.error=!0;else e.finished=!0}))["catch"]((function(t){e.$toast("请求失败，点击重新加载"),e.loading=!1,e.error=!0}))},onRefresh:function(){var e=this,t=1;this.page=t,this.finished=!1,this.loading=!0,this.currentPage=1;var i={orderType:this.tabs.type[0],orderTypeList:this.tabs.type,state:this.tabs.tag,page:{index:t,pageSize:10}};4==this.tabs.tag&&(i.deliverType=this.deliveryType,2==this.deliveryType&&(i.deliverTypeList=[2,3])),this.$http.post("/app/json/app_shopping_order/queryOrder",i).then((function(t){0==t.data.status&&(e.orderList=t.data.data.orderList,e.orderList.length>0&&(e.orderList.forEach((function(e){e["billType"]=11,e.itemAbstractList.forEach((function(e){e["billType"]=11}))})),e.initData()),e.totalPage=t.data.totalPages,e.$toast("刷新成功"),e.loading=!1,e.refreshing=!1)}))["catch"]((function(t){e.$toast("网络繁忙,请稍后再试~")}))},initData:function(){this.currentOrderList=this.orderList.map((function(e){return{billType:e.billType,amount:e.realAmount,submitTime:e.submitTime,deliverType:e.deliverType,orderId:e.id,orderType:e.orderType,orderCategory:e.orderCategory,orderMode:e.orderMode,shoppingOrderId:e.shoppingOrderId,bulkOrderType:e.orderType,id:e.id,tradeNo:e.tradeNo,params:{deliverType:e.deliverType,orderId:e.id,orderType:e.orderType,orderCategory:e.orderCategory,orderStateType:e.orderStateType,state:e.state},billDetailObj:{groupBuyActivityId:e.groupBuyActivityId,groupBuyId:e.groupBuyId,payMode:e.payMode,tradeNo:e.tradeNo,shoppingOrderId:e.shoppingOrderId,orderPayType:e.orderPayType,id:e.id,tag:"4",tabIndex:4,awardActivityList:e.awardActivityList},dataList:e.itemAbstractList.map((function(t){return{billType:t.billType,billImg:t.phPictureUrl,billName:t.skuName,billAmount:t.salePrice,billNum:t.number,skuId:t.skuId,id:t.id,storeOuCode:e.storeOuCode,expressNo:e.expressNo,expressName:e.expressName,interfaceType:e.interfaceType,deliverType:e.deliverType}}))}}))}}},Me=Be,je=(i("edca"),Object(u["a"])(Me,Se,Re,!1,null,"ee2735a6",null)),qe=je.exports,Ue={data:function(){return{active:"AllPages",orderStatusList:[{title:"待支付",components:"WaitPay",id:2},{title:"待发货",components:"WaitDelivery",id:3},{title:"待收货",components:"WaitTakeDelivery",id:4},{title:"已完成",components:"Finish",id:5},{title:"已取消",components:"Cancel",id:6}],offsetTop:"0rem"}},components:{navTop:y,AllPages:E,Cancel:q,Finish:ee,WaitDelivery:ne,WaitPay:Ee,WaitTakeDelivery:qe},created:function(){this.initPage(this.$route.params.id);var e="";e=document.getElementsByTagName("body")[0].style.paddingTop,""!==e&&(this.offsetTop=e)},activated:function(){},methods:{navToHistory:function(){d["a"].openTargetRouter({type:"microapp",uri:"com.times.microapp.AppcPrepay",path:"/bill/index",hideNavbar:!1})},navTo:function(e,t){this.active=e},initPage:function(e){var t=this.orderStatusList.filter((function(t){return t.id==e}));0!=t.length&&(this.active=t[0].components)}}},Je=Ue,Fe=(i("3c31"),Object(u["a"])(Je,r,a,!1,null,"7ffc91af",null));t["default"]=Fe.exports},eaad:function(e,t,i){},eb5e:function(e,t,i){"use strict";i("41d2")},ebeb:function(e,t,i){"use strict";i("bbe7")},edca:function(e,t,i){"use strict";i("61fa")},ee1ab:function(e,t,i){},f4f7:function(e,t,i){e.exports=i.p+"static/images/9522b832ece379707aeb8f9dad324229.png"},f559:function(e,t,i){"use strict";i("e141")},f598:function(e,t,i){"use strict";i("8a33")},fa52:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAoCAYAAACFFRgXAAADeklEQVRYR+2Zz24URxDGv2/WkiVs4522lLwCJy6AIjAcCQqyEowDKHCw8YEDwjg8RnIzgiAuYHPgAJh/QYCUY6JEJOQJELccgkR3z2KvFUs7U1FjDxoPs5pea4y9kvs02q6u+nVNTVVvNZEZSqkDInKB5IiI9JEMsvMVPccA3pC81Wq1fmw0GrYTvVwVplLqGoBzANLfOtGzLlkReRsEwVGt9V++Ct7DKaVuApjwXVSlnIhYkruNMf/46HWePQLg2af0bAHYrDHmrBdwGIZPSX6VCotIAuA6yVcA3HPVQwG4BGAgY3PZWrvDxx7DMPyPZG+6mOSU1vpK1ZRZfYODg3tqtZqL2+z3MmyM+b3MrgsJ58UPC+M4Vp1+uWVGiubDMNQknbfTccIYc69MlwOWrJAxpgeASz0bOpRS/wL4PGPklDHmTpnRbeAyD6XzBR4+aYy5W7Z+K3m462L4W2PMfGUeXp6cHhMGswD6pKR8E3AfcpOSTPTemCmEKAiJaoGXxsabArjkjhWegpE7hVC4tGN+rq9INA9Mckxrfb8yDy8eHmkmkgKvqE352uAjIJb6f3niC3xca/2gMuDoi0NjkNYsBX0ibU50qztwISFkE6xN1F/86hUSJEe11g8rAy5T1Ol8QUh0F3CSJMeiKHpUtvEtk4eTJPkmiqLHXQMsIl9ba3/eysBvAHxWBrg67xLRgoic2cyQaAGoeQKnYgvewMuTF0fBnjmB9OcrnUtjBBchrfHeG5dLc6mznj+He4KLN7BPpSPaV7Y8UP4c7gkMb+CFwyNNKal0JJYG2lQ2D2B3TnmakxsGMJ39zRv43f6Do9KK5wD05yvd+8MOucieYHznH7/5hkS+on9vjJnJwoVh+B3J2+sC9n1lvnIFIbEN7Os8L7mu9zDJaa315a6J4W1gr8DsQCgfw0mSTEZR5LqoH0a7tLamVZUkSRhFUdSB7XWJKqVcdynbMP8ordXr9akgCLJxnRQ1A89qrV3V2dARhuFbkkOpERH521q7N2tUKfUngH0ZGe2A17RbATRE5LS1Nl8mK93A0NDQVRE5n1P6UkRcNRWS41lYJyciP7nS/CWA5wUN7XZ/hqsE7+R6Iq7Vars2/crAc/ciIlPW2qubeinjCRuLyLSDdfJrXkn22su1pHJfsaf+SsRcOLoscjOO4x8ajcbrVOv/ZWkJsVtYTnAAAAAASUVORK5CYII="}}]);