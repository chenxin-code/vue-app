(window.webpackJsonp=window.webpackJsonp||[]).push([[814],{"0Caa":function(t,n,e){"use strict";e.r(n);var a=e("wd/R"),i=e.n(a),s={data:function(){return{showTime:!1,loading:!1,finished:!1,rows:10,page:0,userInfoData:{},startTime:this.getMonth(new Date,1),endTime:this.getMonth(new Date,2),currentDate:new Date,currentYear:(new Date).getFullYear(),currentMonth:(new Date).getMonth()+1,endTradeTime:this.getMonth(new Date,1)+"TO"+this.getMonth(new Date,2),list:[]}},methods:{formatter:function(t,n){return"year"===t?n+"年":"month"===t?n+"月":n},personAmount:function(t){var n=0;return"string"==typeof t&&(n=t.split(",").length),n},getMonth:function(t,n){return 1==n?i()(t).subtract(1,"months").format("YYYY-MM-DD 00:00:00"):i()(t).format("YYYY-MM-DD 23:59:59")},confirmDate:function(t){var n=this.getMonth(t,1),e=this.getMonth(t,2);this.endTradeTime=n+"TO"+e,this.currentYear=new Date(t).getFullYear(),this.currentMonth=new Date(t).getMonth()+1,this.showTime=!1,this.page=0,this.list=[],this.onLoad()},onLoad:function(){var t=this;console.log(this.currentYear,this.currentMonth),this.page++;var n={page:this.page,rows:this.rows,acctAmountTimeStr:this.endTradeTime};this.$http.post("/app/json/company_user_app/getCompanyUserAmount",n).then((function(n){t.loading=!1;var e,a=n.data;0==a.status?a.data instanceof Array?((e=t.list).push.apply(e,function(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}return Array.from(t)}(a.data)),t.list.length>=a.totalRecords&&(t.finished=!0)):t.finished=!0:(t.$toast(n.info),t.finished=!0)}))}}},o=(e("sOuO"),e("KHd+")),r=Object(o.a)(s,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("nav-top",{attrs:{title:"预付款分配明细"},on:{backEvent:function(n){return t.$router.go(-1)}}}),t._v(" "),e("nav-content",[e("div",{staticClass:"time-change",on:{click:function(n){t.showTime=!0}}},[e("div",{staticClass:"filter-btn"},[e("div",{staticClass:"time"},[t._v(t._s(t.currentYear)+"年"+t._s(t.currentMonth)+"月")])]),t._v(" "),e("i",{staticClass:"icon"})]),t._v(" "),e("div",{staticClass:"pay-list"},[e("van-list",{staticClass:"search-list",staticStyle:{"margin-top":"30px"},attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.onLoad},model:{value:t.loading,callback:function(n){t.loading=n},expression:"loading"}},t._l(t.list,(function(n,a){return e("div",{key:a,staticClass:"detail-list"},[e("h3",[t._v("分配时间："+t._s(n.acctAmountTime))]),t._v(" "),e("div",{staticClass:"detail"},[e("div",{staticClass:"info"},[e("p",{staticClass:"top"},[t._v("\n                "+t._s(n.afterAcctAmount)+"\n              ")]),t._v(" "),e("p",{staticClass:"bottom"},[t._v("\n                分配金额\n              ")])]),t._v(" "),e("div",{staticClass:"info"},[e("p",{staticClass:"top"},[t._v("\n                "+t._s(n.acctAmount)+"\n              ")]),t._v(" "),e("p",{staticClass:"bottom"},[t._v("\n                余额\n              ")])])])])})),0)],1),t._v(" "),e("van-popup",{attrs:{position:"bottom"},model:{value:t.showTime,callback:function(n){t.showTime=n},expression:"showTime"}},[e("van-datetime-picker",{attrs:{type:"year-month",formatter:t.formatter},on:{confirm:t.confirmDate,cancel:function(n){t.showTime=!1}},model:{value:t.currentDate,callback:function(n){t.currentDate=n},expression:"currentDate"}})],1)],1)],1)}),[],!1,null,"f067332e",null);n.default=r.exports},"GV/8":function(t,n,e){},sOuO:function(t,n,e){"use strict";var a=e("GV/8");e.n(a).a}}]);