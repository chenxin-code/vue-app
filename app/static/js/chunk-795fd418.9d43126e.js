(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-795fd418"],{"3fff":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("nav-top",{attrs:{title:"我的权益卡"},on:{backEvent:function(e){return t.$router.go(-1)}}}),i("nav-content",[i("div",{staticClass:"div",style:{backgroundPosition:"50% 50%",backgroundImage:"url("+t.backgroundPic+")",backgroundSize:"100% 100%"}},[i("div",[i("p",[t._v(t._s(t.equityCardName))]),i("p",[t._v(t._s(t.Effective))])])]),i("div",{staticClass:"beishu"},[i("ul",[t._l(t.equityItemModels,(function(e){return i("li",[i("span",[t._v(t._s(e.equityName))]),e.prizeModels.id?t._e():i("span",[t._v(t._s(e.equityValue)+t._s(t.getUnit(e.equityTypeCode)))]),e.prizeModels.id?i("span",{on:{click:function(i){return t.goDetail(e.prizeModels.prizeType)}}},[t._v(" "+t._s(e.prizeModels.prizeName)+"-"+t._s(e.prizeModels.prizeNum)+"张/"+t._s(t.validityName)+" "),i("span",{staticClass:"img iconfont mall-gengduojiantou"})]):t._e()])})),i("li",[i("span",[t._v("使用说明")])])],2),i("div",{staticClass:"explain"},[t._v(t._s(t.instructions))])]),1==t.receiveType?i("div",{staticClass:"btn",on:{click:function(e){return t.getRease(1)}}},[t._v("立即领取")]):t._e(),2==t.receiveType?i("div",{staticClass:"btn",on:{click:t.toBuy}},[t._v("￥5.00 购买")]):t._e(),3==t.receiveType?i("div",{staticClass:"btn",on:{click:function(e){return t.getRease(3)}}},[t._v("尚未满足条件")]):t._e()])],1)},n=[],d={data:function(){return{detail:[],equityItemModels:[],equityCardName:"",Effective:"",instructions:"",backgroundPic:"",invalidTime:"",receiveType:"",validityName:""}},mounted:function(){this.detailData()},methods:{detailData:function(){var t=this,e={token:this.$store.state.login.token,equityCardId:this.$route.query.id};this.$http.post("/app/json/equity_card/queryEquityCardDetail",e).then((function(e){var i=e.data;0==i.status?(t.equityCardName=i.data.equityCardName,t.day=i.data.validityType,t.receiveType=i.data.receiveType,0==t.day?t.validityName="周":1==t.day?t.validityName="月":2==t.day?t.validityName="季":3==t.day&&(t.validityName="年"),1==i.data.validityType?t.Effective="永久有效":2==i.data.validityType?t.Effective=i.data.days+"天内有效":3==i.data.validityType&&(t.Effective=i.data.invalidTime+"前有效",t.invalidTime=i.data.invalidTime),t.instructions=i.data.instructions,t.equityItemModels=i.data.equityItemModels||[],t.backgroundPic=i.data.backgroundPic):t.$Toast(e.data.info)}))},toBuy:function(){this.$router.push({path:"/mall2/checkstand",query:{payInfo:JSON.stringify({orderId:res.data.data.orderId,tradeNo:res.data.data.tradeNo,style:"equityCar",payAmount:this.allMoney,orderType:"200104"}),occurOuCode:res.data.data.occurOuCode}})},getRease:function(t){var e=this,i={token:this.$store.state.login.token,equityCardId:this.$route.query.id,equityCardName:this.equityCardName,receiveType:t,validityType:this.day,backgroundPic:this.backgroundPic,invalidTime:3==this.day?this.invalidTime:"",equityItemModels:this.equityItemModels};this.$http.post("/app/json/equity_card/addEquityCardMember",i).then((function(i){var a=i.data;0==a.status?"1"==t&&(e.$Toast("领取成功"),e.$router.go(-1)):e.$Toast(i.data.info)}))},getUnit:function(t){var e=String(t).substr(0,1);return"1"==e||"2"==e?"倍":"4"==e||"5"==e?"折":void 0},goDetail:function(t){"32"==t?this.$router.push({path:"/mall2/win_record",query:{type:"equity_car"}}):"33"==t&&this.$router.push({path:"/coupon_list",query:{type:"equity_car"}})}}},s=d,r=(i("f363"),i("0c7c")),o=Object(r["a"])(s,a,n,!1,null,"1f2a681e",null);e["default"]=o.exports},8046:function(t,e,i){},f363:function(t,e,i){"use strict";i("8046")}}]);