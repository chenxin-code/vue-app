(window.webpackJsonp=window.webpackJsonp||[]).push([[795],{BPra:function(t,s,a){},IMmR:function(t,s,a){"use strict";a.r(s);var i=a("KJ3S"),e={name:"seconds-kill",components:{},props:["myIndex","usePorpData","propData"],mixins:[a("A8ay").a],data:function(){return{siteList:[]}},computed:{pageData:function(){return 1==this.usePorpData?this.propData:this.$store.state.pageData},moduleData:function(){return this.pageData.moduleList[this.myIndex].data}},created:function(){var t=this;this.moduleData.showNumbers||(this.moduleData.showNumbers=5),this.getItems(),i.a.$on("refreshPickupAddress",(function(){t.getItems()}))},methods:{hotEvent:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.actionBtnEvent(this.pageData.pgCode,this.moduleData.idCode+t)},stationDetail:function(){this.$market.customPush({path:"/oilstationdetail",query:{startlong:this.$store.state.currentLocation.posx,startlat:this.$store.state.currentLocation.posy}})},allStation:function(){this.$market.customPush({path:"/stationto"})},toStation:function(t){this.$market.baiduNav({startlong:this.$store.state.currentLocation.posx,startlat:this.$store.state.currentLocation.posy,endlong:t.posx,endlat:t.posy,txlong:t.txPosx,txlat:t.txPosy,type:"nav"})},pushToPickupProducts:function(t){1==this.moduleData.bsType?this.$market.pushToPickupProducts(t,"6"):this.$market.pushToPickupProducts(t)},getItems:function(){var t=this,s=this.$market.apiBaseURL()+"/app/json/user_address/searchSelfliftAddressList";"1"==this.moduleData.bsType&&(s=this.$market.apiBaseURL()+"/app/json/store/getStoreList"),"3"==this.moduleData.styleTempl&&(s=this.$market.apiBaseURL()+"/app/json/station/getStationMoreInfoList");var a={posx:this.$store.state.currentLocation.posx||116.373778,posy:this.$store.state.currentLocation.posy||40.104674,tags:"youzhan",page:{index:1,pageSize:this.moduleData.showNumbers},getType:"1"};this.$http.post(s,a).then((function(s){var a=s.data;0==a.status&&(t.siteList=a.data)}),(function(t){console.log("自提站点",t)}))}}},o=(a("u/38"),a("KHd+")),r=Object(o.a)(e,(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"seconds-kill",style:t.$market.getModuleBgStyle(t.moduleData)},["1"==t.moduleData.styleTempl?a("div",{staticClass:"style1"},[a("div",{staticClass:"content"},[a("div",{staticClass:"title-row",class:t.hotareaClass({idCode:t.moduleData.idCode+"allShops"}),on:{click:function(s){t.hotEvent("allShops"),t.$market.allShops(t.moduleData.bsType)}}},[a("div",{staticClass:"title"},[a("img",{attrs:{src:"static/images/pickup-address/dianpu.png"}}),t._v(" "),a("span",[t._v(t._s(t.moduleData.title))])]),t._v(" "),a("div",{staticClass:"text"},[t._v("全部店铺")]),t._v(" "),a("img",{staticClass:"arrow",attrs:{src:"static/images/my-order/all-order.png"}})]),t._v(" "),a("div",{staticClass:"items-row"},t._l(t.siteList,(function(s,i){return a("div",{key:i,staticClass:"item",on:{click:function(a){return t.pushToPickupProducts(s)}}},[a("img",{attrs:{src:s.img&&0!=s.img?s.img:"static/images/pickup-address/station.png"}}),t._v(" "),a("div",{staticClass:"info"},[a("div",{staticClass:"title"},[t._v(t._s(s.storeName))]),t._v(" "),a("div",{staticClass:"text"},[t._v("地址："+t._s(s.addressFull))]),t._v(" "),a("div",{staticClass:"text"},[t._v("距离当前位置："+t._s(Math.round(s.distance)/1e3)+"km")])])])})),0)])]):t._e(),t._v(" "),"2"==t.moduleData.styleTempl?a("div",{staticClass:"style1"},[a("div",{staticClass:"content"},[a("div",{staticClass:"title-row",class:t.hotareaClass({idCode:t.moduleData.idCode+"allShops"}),on:{click:function(s){t.hotEvent("allShops"),t.$market.allShops(t.moduleData.bsType)}}},[a("div",{staticClass:"title"},[a("img",{attrs:{src:"static/images/pickup-address/dianpu.png"}}),t._v(" "),a("span",[t._v(t._s(t.moduleData.title))])]),t._v(" "),a("div",{staticClass:"text"},[t._v("全部店铺")]),t._v(" "),a("img",{staticClass:"arrow",attrs:{src:"static/images/my-order/all-order.png"}})]),t._v(" "),a("div",{staticClass:"items-row"},t._l(t.siteList,(function(s,i){return a("div",{key:i,staticClass:"item",on:{click:function(a){return t.pushToPickupProducts(s)}}},[a("img",{attrs:{src:s.storePictureUrl&&""!=s.storePictureUrl?s.storePictureUrl:"static/images/pickup-address/station.png"}}),t._v(" "),a("div",{staticClass:"info"},[a("div",{staticClass:"title"},[t._v(t._s(s.storeName))]),t._v(" "),a("div",{staticClass:"text"},[t._v("地址："+t._s(s.addressFull))]),t._v(" "),a("div",{staticClass:"text"},[t._v("距离当前位置："+t._s(Math.round(s.distance)/1e3)+"km")])])])})),0)])]):t._e(),t._v(" "),"3"==t.moduleData.styleTempl?a("div",{staticClass:"style1"},[a("div",{staticClass:"content"},[a("div",{staticClass:"title-row",class:t.hotareaClass({idCode:t.moduleData.idCode+"allStation"}),on:{click:function(s){t.hotEvent("allStation"),t.allStation()}}},[a("div",{staticClass:"title"},[a("img",{attrs:{src:"static/images/pickup-address/dianpu.png"}}),t._v(" "),a("span",[t._v(t._s(t.moduleData.title))])]),t._v(" "),a("div",{staticClass:"text"},[t._v("附近油站")]),t._v(" "),a("img",{staticClass:"arrow",attrs:{src:"static/images/my-order/all-order.png"}})]),t._v(" "),a("div",{staticClass:"items-row"},t._l(t.siteList,(function(s,i){return a("div",{key:i,staticClass:"item",on:{click:function(a){return t.stationDetail(s)}}},[a("img",{attrs:{src:s.storePictureUrl&&""!=s.storePictureUrl?s.storePictureUrl:"static/images/pickup-address/station.png"}}),t._v(" "),a("div",{staticClass:"info"},[a("div",{staticClass:"title"},[t._v(t._s(s.stationName))]),t._v(" "),a("div",{staticClass:"text"},[t._v("地址："+t._s(s.address))]),t._v(" "),a("div",{staticClass:"text"},[t._v("距离当前位置："+t._s(Math.round(s.distance)/1e3)+"km")])]),t._v(" "),a("div",{staticClass:"r-fun",on:{click:function(a){return a.stopPropagation(),t.toStation(s)}}},[a("img",{staticClass:"dh",attrs:{src:"static/image/station/icon2.png",alt:""}}),t._v(" "),a("p",{staticClass:"r-p"},[t._v("导航")])])])})),0)])]):t._e()])}),[],!1,null,"8148ebd8",null);s.default=r.exports},"u/38":function(t,s,a){"use strict";var i=a("BPra");a.n(i).a}}]);