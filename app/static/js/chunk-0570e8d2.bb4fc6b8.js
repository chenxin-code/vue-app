(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0570e8d2"],{"084c":function(t,e,a){"use strict";var i="/app/json/user_invoice_assistant/queryUserInvoiceHeadList",n="/app/json/user_invoice_assistant/queryInvoicedList",s="/app/json/user_invoice_assistant/queryInvoiceDetails",o="/app/json/user_invoice_assistant/addOrUpdateUserInvoiceHead",r="/app/json/user_invoice_assistant/deleteUserInvoiceHead",c="/app/json/user_invoice_assistant/setDefaultUserInvoiceHead",l="/app/json/user_invoice_assistant/searchInvoiceList",u="/app/json/user_invoice_assistant/queryUserInvoiceHeadDetails",p="/app/json/user_invoice_assistant/addInvoicing",d="/app/json/user_invoice_assistant/getResultFromQrcode",h="/app/json/user_invoice_assistant/queryDefaultTittle",v="/app/json/user_invoice_assistant/unInvoicingList",f="/app/json/user_invoice_assistant/queryUserInvoiceHeadDetails",g="/app/json/user_invoice_assistant/queryInvoicedList",_="/app/json/user_invoice_assistant/queryInvoiceDetails",m="/app/json/user_invoice_assistant/invoiceModifyMailbox",D="/app/json/user_invoice_assistant/orderInvoicingInMall",y="/app/json/user_invoice_assistant/gasCardInvoice",$="/app/json/refuel_center/queryOrder",b="/app/json/app_shopping_order/queryOrder",I="/app/json/user_invoice_assistant/queryCashIn",C="/app/json/user_invoice_assistant/sinopecWalletInvoiceList",j="/app/json/user_invoice_assistant/queryUserRefuelingCardInfoList",w="/app/json/user_invoice_assistant/queryConvenienceStoreOrder",L="/app/json/user_invoice_assistant/invoiceContentDetailsList",x="/app/json/user_invoice_assistant/invoiceContentDetails",M="/app/json/user_invoice_assistant/detailsOfInvoiceList",T="/app/json/app_shopping_order/detail",N="/app/json/user_invoice_assistant/convenienceStoredetail",k="/app/json/refuel_center/detail",R="/app/json/user_invoice_assistant/detailsOfInvoiceInfo",E="/app/json/card/getUserCardList",q="/app/json/news/getNewsList",F="/app/json/user_invoice_assistant/invoiceRushRed",S="/app/json/user_invoice_assistant/cashInInvoicing",U="/app/json/user_invoice_assistant/importUserInvoiceHead";e["a"]={methods:{exportinvoiceData:function(t){return this.$http.post(U,t)},golddetailData:function(t){return this.$http.post(R,t)},invoicetipData:function(t){return this.$http.post(q,t)},refundData:function(t){return this.$http.post(F,t)},cardMoData:function(t){return this.$http.post(E,t)},mingxiData:function(t){return this.$http.post(M,t)},malldetailData:function(t){return this.$http.post(T,t)},shopdetailData:function(t){return this.$http.post(N,t)},oildetailData:function(t){return this.$http.post(k,t)},hisdetailData:function(t){return this.$http.post(x,t)},hisData:function(t){return this.$http.post(L,t)},mallData:function(t){return this.$http.post(b,t)},storeData:function(t){return this.$http.post(w,t)},appData:function(t){return this.$http.post($,t)},goldData:function(t){return this.$http.post(I,t)},walletData:function(t){return this.$http.post(C,t)},cardData:function(t){return this.$http.post(j,t)},commitselfinvoiceData:function(t){return this.$http.post(D,t)},commitselfcardinvoiceData:function(t){return this.$http.post(y,t)},commitselfgoldinvoiceData:function(t){return this.$http.post(S,t)},emailData:function(t){return this.$http.post(m,t)},histroydetailData:function(t){return this.$http.post(_,t)},histroyData:function(t){return this.$http.post(g,t)},riseData:function(t){return this.$http.post(i,t)},openedData:function(t){return this.$http.post(n,t)},commitData:function(t){return this.$http.post(o,t)},delData:function(t){return this.$http.post(r,t)},morenData:function(t){return this.$http.post(c,t)},detailData:function(t){return this.$http.post(s,t)},souData:function(t){return this.$http.post(l,t)},soudetailData:function(t){return this.$http.post(u,t)},tijiaoData:function(t){return this.$http.post(p,t)},saoData:function(t){return this.$http.post(d,t)},morentitleData:function(t){return this.$http.post(h,t)},daikaiData:function(t){return this.$http.post(v,t)},chakanData:function(t){return this.$http.post(f,t)}}}},1148:function(t,e,a){"use strict";var i=a("a691"),n=a("1d80");t.exports=function(t){var e=String(n(this)),a="",s=i(t);if(s<0||s==1/0)throw RangeError("Wrong number of repetitions");for(;s>0;(s>>>=1)&&(e+=e))1&s&&(a+=e);return a}},"408a":function(t,e,a){var i=a("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=i(t))throw TypeError("Incorrect invocation");return+t}},"4da2":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"body"},[a("nav-top",{attrs:{title:"加油卡订单"},on:{backEvent:function(e){return t.$router.go(-1)}}}),a("nav-content",[t.$store.state.globalConfig.invoicePromptStatement?a("van-notice-bar",{attrs:{scrollable:!0}},[t._v(t._s(t.$store.state.globalConfig.invoicePromptStatement))]):a("van-notice-bar",{attrs:{scrollable:!0}},[t._v("可开票订单请尽量在"+t._s(t.$store.state.globalConfig.timeLimitInvoicing)+"个月内自助开具发票！")]),t.cardnoView?a("div",{staticClass:"selectCard"},[a("span",[t._v("选择卡号")]),a("div",{on:{click:t.cards}},[a("span",[t._v(t._s(t.cardName))]),a("span",{staticClass:"iconfont mall-xialasanjiao"})])]):t._e(),a("van-list",{attrs:{finished:t.finished,"finished-text":""},on:{load:t.cardList},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.listData,(function(e,i){return t.listData.length>0?a("div",{key:i,staticClass:"publicInvoice"},[a("div",{staticClass:"operation"},[a("van-checkbox-group",{on:{change:t.selectData},model:{value:t.radioList,callback:function(e){t.radioList=e},expression:"radioList"}},[a("van-checkbox",{attrs:{name:e,"checked-color":"#F80F16"}})],1),a("div",{staticClass:"operationImg"},[a("div",{staticClass:"titleContent"},[a("span",{staticClass:"titleMessage"},[t._v("卡号："+t._s(e.cardNo))])]),a("div",{staticClass:"titleContent"},[a("span",{staticClass:"titleMessage"},[t._v(t._s(e.opeTime))])]),a("div",{staticClass:"titleContent"},[a("span",{staticClass:"titleMessage"},[t._v(t._s(e.nodeName))])])]),a("div",{staticClass:"mall-jiantou"},[a("span",{staticClass:"span"},[t._v(t._s(e.actualAmount))]),t._v("元 ")])],1)]):t._e()})),0),0==t.listData.length?a("div",{staticClass:"publicInvoice"},[a("div",{staticClass:"emptyDiv"},[a("img",{attrs:{src:"static/image/invoice/p4@2x.png",alt:""}}),a("span",[t._v("暂无订单记录！")])])]):t._e()],1),t.listData.length>0?a("div",{staticClass:"summary"},[t._v(t._s(t.radioList.length?t.radioList.length:0)+" 个加油订单，总计 "),a("span",[t._v(t._s(t.totalMoney))]),t._v(" 元，共"),a("span",[t._v(" "+t._s(t.radioList.length)+" ")]),t._v("张发票")]):t._e(),t.listData.length>0?a("div",{staticClass:"bottomTab"},[a("div",{staticClass:"left left1"},[a("div",{staticClass:"img"},[a("van-checkbox",{attrs:{"checked-color":"#F80F16"},on:{click:t.allSelect},model:{value:t.allRadio,callback:function(e){t.allRadio=e},expression:"allRadio"}})],1),t._m(0)]),a("div",{staticClass:"left theme_bg_red right",on:{click:t.next}},[t._m(1)])]):t._e(),a("van-action-sheet",{attrs:{actions:t.actions},on:{select:t.select},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}})],1)},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("span",[t._v("全选")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("span",[t._v("下一步")])])}],s=(a("4160"),a("159b"),a("b0c0"),a("99af"),a("a9e3"),a("b680"),a("ac1f"),a("1276"),a("0d03"),a("e25e"),a("5319"),a("4d63"),a("25f0"),a("084c")),o={name:"cardOrder",mixins:[s["a"]],data:function(){return{listData:[],show:!1,radio:"1",radioList:[],allRadio:!1,cardView:!1,cardnoView:!0,cardName:"",startTime:"",endTime:"",loading:!1,finished:!1,totalMoney:0,nodeNo:"",orderList:[],actions:[{cardno:""}],page:0,cardType:""}},created:function(){this.time()},mounted:function(){},methods:{select:function(t){this.nodeNo=t.nodeNo,this.cardName=t.cardno,this.cardType=t.cardType,this.show=!1,this.finished=!1,this.listData=[],this.page=0,this.loadIndex()},cardList:function(){var t=this,e=this,a={token:this.$store.state.login.token,startTime:e.startTime,endTime:e.endTime};e.cardMoData(a).then((function(a){a.data.result&&(e.actions=a.data.data||[],e.actions.length>0?(e.actions.forEach((function(t){e.$set(t,"name",t.cardno)})),e.cardName=e.actions[0].name,e.nodeNo=e.actions[0].nodeNo,t.cardType=e.actions[0].cardType,e.loadIndex(),0!=e.actions.length&&(e.cardView=!0,e.show=!1)):(e.loading=!1,e.finished=!0,e.cardnoView=!1))}))},loadIndex:function(){var t=this;t.page=t.page+1;var e={token:this.$store.state.login.token,startTime:t.startTime,endTime:t.endTime,cardNo:t.cardName,needDetail:1,pageNumber:t.page,pageSize:10,invoiceUse:0};t.loading=!0,t.cardData(e).then((function(e){if("success"===e.data.result){var a=e.data.data.refuelingCardInfoLists||[];t.listData=t.listData.concat(a)||[],t.page>=e.data.data.page&&(t.finished=!0),0==t.listData.length&&(t.finished=!0)}else t.finished=!0;t.loading=!1}))},selectData:function(){this.radioList.length==this.listData.length?this.allRadio=!0:this.radioList.length<this.listData.length&&(this.allRadio=!1);var t=this;t.totalMoney=0,t.radioList.forEach((function(e){t.totalMoney=Number((t.totalMoney+Number(e.actualAmount)).toFixed(2))}))},allSelect:function(){var t=this;t.allRadio=!t.allRadio,1==t.allRadio?(t.radioList=[],t.listData.forEach((function(e){t.radioList.push(e)}))):t.radioList=[]},next:function(){var t=this;t.idArray=[],t.radioList.forEach((function(e){t.idArray.push(e.id),t.orderList.push(e)})),t.$router.push({path:"/openinvoiceDetail",query:{idArray:t.idArray,orderList:JSON.stringify(t.orderList),totalMoney:t.totalMoney,type:"cardOrder",cardNo:t.cardName,cardType:t.cardType,startTime:t.startTime,endTime:t.endTime,nodeNo:t.nodeNo}})},onSelect:function(t){var e=this;e.show=!1,e.cardName=t.name,e.finished=!1,e.page=0,e.loadIndex()},cards:function(){var t=this;t.actions.length>0&&(t.cardView=!1,t.show=!0)},getPreMonthDay:function(t,e){var a=t.split("-"),i=a[0],n=a[1],s=a[2],o=new Date(i,n,0);o=o.getDate();var r=i,c=parseInt(n)-e;c<=0&&(r=parseInt(r)-parseInt(c/12==0?1:Math.abs(parseInt(c/12))+1),c=12-Math.abs(c)%12);var l=s,u=new Date(r,c,0);u=u.getDate(),l>u&&(l=u),c<10&&(c="0"+c);var p=r+"-"+c+"-"+l;return p},getCurrentMonthLast:function(){var t=new Date;return t},getCurrentMonthFirst:function(){var t=new Date,e=t.getFullYear(),a=t.getMonth()-2,i=t.getDate();a>=1&&a<=9&&(a="0"+a),i>=0&&i<=9&&(i="0"+i);var n=e+a+i;return n},format:function(t,e){var a={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};for(var i in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),a)new RegExp("("+i+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?a[i]:("00"+a[i]).substr((""+a[i]).length)));return t},time:function(){var t=this.getCurrentMonthLast(),e=this.format("yyyy-MM-dd",t),a=this.$store.state.globalConfig.timeLimitInvoicing?Number(this.$store.state.globalConfig.timeLimitInvoicing):1,i=this.getPreMonthDay(e,a);1==this.$store.state.globalConfig.gz_timeLimitInvoicing?(this.startTime="20200314".replace(/-/g,"")+"000000",this.endTime=this.format("yyyyMMdd235959",t)):(this.startTime=i.replace(/-/g,"")+"000000",this.endTime=this.format("yyyyMMdd235959",t))}}},r=o,c=(a("c333"),a("0c7c")),l=Object(c["a"])(r,i,n,!1,null,"b5a80524",null);e["default"]=l.exports},b680:function(t,e,a){"use strict";var i=a("23e7"),n=a("a691"),s=a("408a"),o=a("1148"),r=a("d039"),c=1..toFixed,l=Math.floor,u=function(t,e,a){return 0===e?a:e%2===1?u(t,e-1,a*t):u(t*t,e/2,a)},p=function(t){var e=0,a=t;while(a>=4096)e+=12,a/=4096;while(a>=2)e+=1,a/=2;return e},d=function(t,e,a){var i=-1,n=a;while(++i<6)n+=e*t[i],t[i]=n%1e7,n=l(n/1e7)},h=function(t,e){var a=6,i=0;while(--a>=0)i+=t[a],t[a]=l(i/e),i=i%e*1e7},v=function(t){var e=6,a="";while(--e>=0)if(""!==a||0===e||0!==t[e]){var i=String(t[e]);a=""===a?i:a+o.call("0",7-i.length)+i}return a},f=c&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!r((function(){c.call({})}));i({target:"Number",proto:!0,forced:f},{toFixed:function(t){var e,a,i,r,c=s(this),l=n(t),f=[0,0,0,0,0,0],g="",_="0";if(l<0||l>20)throw RangeError("Incorrect fraction digits");if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(g="-",c=-c),c>1e-21)if(e=p(c*u(2,69,1))-69,a=e<0?c*u(2,-e,1):c/u(2,e,1),a*=4503599627370496,e=52-e,e>0){d(f,0,a),i=l;while(i>=7)d(f,1e7,0),i-=7;d(f,u(10,i,1),0),i=e-1;while(i>=23)h(f,1<<23),i-=23;h(f,1<<i),d(f,1,1),h(f,2),_=v(f)}else d(f,0,a),d(f,1<<-e,0),_=v(f)+o.call("0",l);return l>0?(r=_.length,_=g+(r<=l?"0."+o.call("0",l-r)+_:_.slice(0,r-l)+"."+_.slice(r-l))):_=g+_,_}})},c333:function(t,e,a){"use strict";a("dea7")},dea7:function(t,e,a){}}]);