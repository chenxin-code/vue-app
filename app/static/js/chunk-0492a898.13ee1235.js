(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0492a898"],{"0f0f":function(t,i){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyVpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ4IDc5LjE2NDAzNiwgMjAxOS8wOC8xMy0wMTowNjo1NyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIxLjAgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MDU1QzNFN0QxMjRCMTFFQThDMUNFMjIyRkQxQUEzRDQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MDU1QzNFN0UxMjRCMTFFQThDMUNFMjIyRkQxQUEzRDQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDowNTVDM0U3QjEyNEIxMUVBOEMxQ0UyMjJGRDFBQTNENCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDowNTVDM0U3QzEyNEIxMUVBOEMxQ0UyMjJGRDFBQTNENCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PqkgsjQAAALfSURBVHjavFa9bhQxEP7s3ayOEBISkJCgThcQFCCQQiIh0fEIoaTIUyCavEIafgpegQbRBBaFvwIEqZIWgZDQQQgJKNzazNjeW3vj3buAEkuza3tn5rNnvpk7aK1Rk4zkHsk6SU6yFNFpkiVns+58ZHWdmNEDvXeskiy0AC04nfq4X9cVBpWGEII35mm6At1D8ekukIwhmboOZKfgxiOSlySZW++SXCa5YVdfUHSfAMVPJKdvkdOEd+fId97HcZOLJDdJrpKc15urKL6tOJ8C8tgFiONzZD+K2NDFDvT3Z1Bbb3ll9pLJaxATfBa8I8lJHpK8YUAGe10Zb6P4uEyT3dCr7CCxDqC0sltCmnexSZdWv2v6GZIzi3TIo/7uJQbkq8xj7QWw8R7obZLxTvQmajqFmpKh366C3OhF9SEpIukEMH0OmLnCO09Tesyaj68eM4PQOijP0b2tJrttK93PJeAsHzexsRwA9j+j8p1IHPI4dEAmTW7yuGtZ9nX5jvfVPYQNSzoqMX72SODgx4df6G2rUN+UhjA2Jxdv229Zh5/P+YaLPDEbJLYj2LAz+7WidaHNXKm9eVaFr896yr55zYRyfg0GYTFL11zBG2+Tk1PN8cioG50I63N8bBzo2MzoksXSFCuFL1BlDKR1n+nIiGOWKmNUlQPxuZf+CfXTrN9dbPgr3dhIm+nk+KRURWvdUIcliOtAxobthdwHoMu7MeyHRkUA/bmsDqtNnxyiLEq2IIxU4DBgjQ5B/dBG9GVj+2JgVViH9ZvUb6jKQ2rvlPvJYXky/j0zwKqlMYmwXpWq8hHpveng1iC8Yh7UM32yealpz2HJSt3Cjpg+wrxLMSRLWWlPaFoAhbu9dmhCVgwXw+bQD03Ztxp/wvw6RMhw+S91KPyj6gF16Okasun91KEesg5VPNpiWJb6dViCStlSh8IL+4B8W7/9P6m5PriRx/55zxwQaO58G5y/AgwAyHSgU05R/+sAAAAASUVORK5CYII="},"2b52":function(t,i,e){"use strict";e.r(i);var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"mine-has-recommed"},[e("nav-top",{on:{backEvent:t.backEvent}}),e("nav-content",[e("ul",{staticClass:"tab"},t._l(t.tab,(function(i,s){return e("li",{staticClass:"item",class:{isActive:t.selectIndex==s},on:{click:function(i){return t.selectedFunc(s)}}},[e("span",[t._v(t._s(i.name))])])})),0),t._l(t.tab,(function(i,s){return e("div",{directives:[{name:"show",rawName:"v-show",value:t.selectIndex==s,expression:"selectIndex == index"}],staticClass:"content"},[t.complete&&1==t.$store.state.globalConfig.showRecommendedGift?e("div",{staticClass:"recommended-gift"},[e("div",{staticClass:"title"},[e("div",{staticClass:"table-view"},[e("div",{staticClass:"table-view-cell"},[e("div",{staticClass:"table-view-cell-text"},[t._v("推荐注册有礼")]),e("div",{staticClass:"table-view-cell-arrow",on:{click:t.openDetails}},[t._v("活动攻略")])])])]),e("div",{staticClass:"progress"},[e("div",{staticClass:"show-progress"},[e("RecommendedGift",{attrs:{datails:t.datails}})],1)])]):t._e(),e("div",[i.numData&&1==i.id?e("div",{staticClass:"top-all theme_font_gray"},[t._v(" 累计推荐注册人数("+t._s(i.numData.totalNum||0)+") | 当月推荐注册数("+t._s(i.numData.totalNumCurrentMonth||0)+") ")]):t._e(),i.numData&&2==i.id?e("div",{staticClass:"top-all theme_font_gray"},[t._v(" 累计推荐绑卡人数("+t._s(i.numData.totalNum||0)+") | 当月推荐绑卡数("+t._s(i.numData.totalNumCurrentMonth||0)+") ")]):t._e(),e("div",{staticClass:"msg-list"},t._l(i.listData,(function(i,s){return e("div",{staticClass:"msg-item"},[e("p",[t._v("会员编号: "+t._s(i.userId))]),e("p",[t._v("手机号码: "+t._s(t.formatPhone(i.phone)))]),e("p",[t._v("注册时间: "+t._s(i.regDate))])])})),0)])])}))],2)],1)},a=[],n=e("a026"),o=e("97ad"),c={name:"mine-has-recommed",data:function(){return{selectIndex:-1,tab:[{name:"推荐注册人数",id:"1",pageOn:1},{name:"推荐绑卡人数",id:"2",pageOn:1}],datails:{},complete:!1,showAllPrice:!0}},components:{RecommendedGift:o["a"]},mounted:function(){this.selectedFunc(0)},methods:{openDetails:function(){this.$router.push({path:"/usercenter/activity-strategy",query:{selectIndex:this.selectIndex}})},backEvent:function(){this.$router.go(-1)},getMyReferUserNum:function(){var t=this;this.$Loading.open();var i="/app/json/user/getMyReferUserNum",e=this.tab[this.selectIndex],s={token:this.$store.state.login.token,refererType:e.id};this.$http.post(i,s).then((function(i){t.$Loading.close();var s=i.data;0==s.status?n["default"].set(e,"numData",s.data):t.$Toast(s.info)}),(function(i){t.$Loading.close()}))},getListData:function(t){var i=this;this.$Loading.open();var e="/app/json/user/getMyReferUserList",s=this.tab[this.selectIndex],a={token:this.$store.state.login.token,refererType:s.id,page:s.pageOn,rows:10};this.$http.post(e,a).then((function(t){i.$Loading.close();var e=t.data;0==e.status?n["default"].set(s,"listData",e.data.regUserInfoList):i.$Toast(e.info)}),(function(t){i.$Loading.close()}))},selectedFunc:function(t){this.selectIndex=t,this.getAllData(),0==t?this.queryRecommendRegisterAwardList():this.queryRecommendBindCardAwardList()},queryRecommendRegisterAwardList:function(){var t=this;this.$request.post("/app/json/app_market/queryRecommendRegisterAwardList",{}).then((function(i){0===i.status?(t.complete=!1,t.datails=i.data,t.datails.awardMap&&t.$nextTick((function(){t.complete=!0})),t.$set(t.datails,"index",t.selectIndex)):t.$Toast(i.info?i.info:"获取列表失败")}))},queryRecommendBindCardAwardList:function(){var t=this;this.$request.post("/app/json/app_market/queryRecommendBindCardAwardList",{}).then((function(i){0===i.status?(t.complete=!1,t.datails=i.data,t.datails.awardMap.length&&t.$nextTick((function(){t.complete=!0})),t.$set(t.datails,"index",t.selectIndex)):t.$Toast(i.info?i.info:"获取列表失败")}))},getAllData:function(){this.getMyReferUserNum(),this.getListData()},formatPhone:function(t){return t.substr(0,3)+"****"+t.substr(-4)}},created:function(){}},l=c,r=(e("bb9b"),e("0c7c")),d=Object(r["a"])(l,s,a,!1,null,"0ad0e86c",null);i["default"]=d.exports},"30a4":function(t,i){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyVpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ4IDc5LjE2NDAzNiwgMjAxOS8wOC8xMy0wMTowNjo1NyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIxLjAgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6M0IzRDA4NzgwOUFDMTFFQThDMERFMTdBRDNBQ0M0OTIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6M0IzRDA4NzkwOUFDMTFFQThDMERFMTdBRDNBQ0M0OTIiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDozQjNEMDg3NjA5QUMxMUVBOEMwREUxN0FEM0FDQzQ5MiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDozQjNEMDg3NzA5QUMxMUVBOEMwREUxN0FEM0FDQzQ5MiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pq5zKGMAAALRSURBVHjavFa9axRBFP/NzuXwxDQBgxHFQJA0wcoDi0TBLmiTIl38AwRb/ROCaCe2pkipIhZiOlE3iB9FQFKdBBX8QiQIEYXb23m+mZ25252bu4xI8uDdzs7+3vu9eR97CyKCp3XWO6wt1pR1OYAZpMvWpmV91H1MyGiF+uUF69IQoiWL8WXFxwrDyiKE0BtzvHwO1QY2F4GRceDENeDgSVh5xPqStW7vGYgzrBfN3e93wMcbQPYdmLkHJAZ2ln2njscxN1lvsW6YuD6vEr06bnWS6P11UtlPGiTmGWMM1tlpH4VsWN+n3QmbzPvaHQHZNujteYh8G2UheQRi4ooNMrNZGSnuv95m/DcPPwZx6glnaay83dSET3lxDndXgccPgT+fDGlQFjgt01l1r1UDHiRhvCZrHAMuLACLl/TOM03Y4YWk5hRHmWOoXJXAlEe4xae8OdyOpIR4s6WXuQ5NmvTsRvYfUvItE+yz7DuhrmHK11n82jEbH+Zne08VlaGojyscnd+pOPiyNor2Dxu3MhUrHUdgcm29WB8a1b/rGnlZL8wGq7J2Rtmgp0CnLfoi7nRECZ9YrIQSOl6C82s4mIt7Gpuscy60iZxfHkKGeo2982VaVXYP3+eGUC6Qjk2G6JqURHOg5rs9wNFBeOk0DoTZRqOKbxi/ea8dHJlICj+e1MKDo+1lkShNTNYhhbpA9DJS/Bu4Yhak0V1KqnicWIdCDGi7xCMXNjhdgiyCsBtliVSgmq4KPu8/iSOWMoKwW3Am1W8IlVdJQ6IxRFFzGK6hI9URakcq785iAFzKQKjZYghD5DESbLboGlIkCVXT6TdbVA11lGQbwnc4rObuRN1mS2LnUNnUiB7xoDmspN2Og9L2ZH386xyal4zEwDatnMIbBxVdQ5fKiDlU+eBTB/DJrq8qlcV1cWyzlT5SU9o7SUNf3jN7RJpa34bnrwADAAkX5NhO3Ld7AAAAAElFTkSuQmCC"},"4af9":function(t,i,e){},"97ad":function(t,i,e){"use strict";var s=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"step-container"},[1!=t.type?s("div",{staticClass:"time"},[t._v("活动时间："+t._s(t.dealTime(t.datails.startDate,t.datails.endDate)))]):t._e(),s("div",{staticClass:"steps-list",class:{vertical:1==t.type}},t._l(t.list,(function(i,a){return s("div",{staticClass:"step",class:{noAchieve:i.num>t.joinNum}},[s("div",{staticClass:"circle",class:{dot:0===a},on:{click:function(e){return e.stopPropagation(),t.tipsBtn(a,i)}}},[0!==a?[i.num<t.joinNum?s("img",{staticClass:"icon",attrs:{src:e("30a4"),alt:""}}):s("img",{staticClass:"icon",attrs:{src:e("0f0f"),alt:""}})]:t._e()],2),s("div",{staticClass:"content"},[s("div",{staticClass:"left-con"},[s("p",[t._v(t._s(i.desc)),0!=a?s("span",[t._v("人")]):t._e()]),1==t.type&&i.num>t.joinNum&&i.num==t.nowPeople?s("p",{staticClass:"people-num"},[t._v("差"+t._s(t.peopleNum||0)+"人")]):t._e()]),1==t.type&&0!==a?s("div",{staticClass:"right-con"},[s("p",[t._v("任务描述：活动时间内，邀请新用户注册数量达到"+t._s(i.desc)+"人即可。")]),s("p",[t._v("奖品描述："),t._l(i.info,(function(i,e){return s("span",{key:e},[0!=e?s("span",[t._v("+")]):t._e(),t._v(t._s(i.awardName)+"*"+t._s(i.awardNum))])}))],2)]):t._e()]),s("div",{staticClass:"line-wrapper"},[s("div",{staticClass:"line"},[s("span",{staticClass:"line-inner",style:t.formatLineStyl(i.step)})])])])})),0),1!=t.type?s("div",{staticClass:"from-num"},[t._v("距完成下一任务还差"+t._s(t.peopleNum||0)+"人")]):t._e(),t.waitPriceList?s("div",[s("van-dialog",{attrs:{title:t.title,overlay:"overlay",confirmButtonText:"全部领取"},on:{confirm:t.allConfirm},model:{value:t.showAllPrice,callback:function(i){t.showAllPrice=i},expression:"showAllPrice"}},[s("div",{staticClass:"dialog-tips"},[s("div",{staticClass:"no-receive"},[s("div",{staticClass:"title"},[t._v("恭喜您成功邀请了"+t._s(t.joinNum)+"位好友注册APP，可立即领取奖品")]),s("ul",{staticClass:"list"},t._l(t.waitPriceList,(function(i,e){return s("li",{key:e,staticClass:"item"},[t._v("奖品"+t._s(e+1)+":"+t._s(i.awardName)+"*"+t._s(i.awardNum)+" ")])})),0)])])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.showAllPrice,expression:"showAllPrice"}],staticClass:"van-overlay",staticStyle:{"z-index":"99"}})],1):t._e(),t.priceInfo?s("div",[s("van-dialog",{attrs:{title:t.title,confirmButtonText:t.confirmButtonText},on:{confirm:t.partConfirm},model:{value:t.showTips,callback:function(i){t.showTips=i},expression:"showTips"}},[s("div",{staticClass:"dialog-tips"},[s("div",{staticClass:"no-receive"},[-1==t.priceInfo.info[0].state?s("div",{staticClass:"title"},[t._v("再邀请"+t._s(t.priceInfo.num-t.joinNum)+"人注册，即可领取以下奖品")]):10==t.priceInfo.info[0].state?s("div",{staticClass:"title"},[t._v("恭喜您成功邀请了"+t._s(t.joinNum)+"位好友注册APP，可立即领取奖品")]):15==t.priceInfo.info[0].state||20==t.priceInfo.info[0].state||30==t.priceInfo.info[0].state?s("div",{staticClass:"title"},[t._v(" 奖品已经领过啦！ ")]):s("div",{staticClass:"title"}),s("ul",{staticClass:"list"},t._l(t.priceInfo.info,(function(i,e){return s("li",{key:e,staticClass:"item"},[t._v("奖品"+t._s(e+1)+":"+t._s(i.awardName)+"*"+t._s(i.awardNum)+" ")])})),0)])])])],1):t._e()])},a=[],n=(e("4160"),e("159b"),e("4e82"),e("99af"),e("e25e"),e("a15b"),e("ac1f"),e("1276"),{name:"step",data:function(){return{list:[],overlay:!0,peopleNum:0,joinNum:0,showTips:!1,showAllPrice:!1,priceInfo:"",title:"",confirmButtonText:"",waitPriceList:[],nowPeople:""}},props:{datails:{},type:""},mounted:function(){this.deal(),this.stepShow()},methods:{deal:function(){var t=this;0==this.datails.index?this.title="推荐注册有礼":this.title="推荐绑卡有礼";var i=[];for(var e in this.datails.awardMap)i.push({desc:e,num:e,info:this.datails.awardMap[e]});this.list=i,0===this.datails.index?this.joinNum=this.datails.registerReferrals:this.joinNum=this.datails.bindCardReferrals,i.length&&(i.unshift({desc:"开始",num:0,step:0,total:0}),this.dealRebate(this.list,this.joinNum));var s=[];this.list.forEach((function(t){t.info&&10==t.info[0].state&&t.info.forEach((function(t){s.push(t)}))})),this.waitPriceList=s,this.waitPriceList.length&&this.$nextTick((function(){t.showAllPrice=!0}))},nowGet:function(t){var i=this;this.$request.post("/app/json/app_market/receiveAward",{awardRecId:t}).then((function(t){0===t.status?i.$Toast("领取成功"):i.$Toast(t.info?t.info:"领取失败")}))["catch"]((function(t){i.$Toast(res.info?res.info:"领取失败")}))},tipsBtn:function(t,i){0!==t&&1!=this.type&&(this.priceInfo=i,-1==this.priceInfo.info[0].state?this.confirmButtonText="我知道了":10==this.priceInfo.info[0].state?this.confirmButtonText="领取奖品":15!=this.priceInfo.info[0].state&&20!=this.priceInfo.info[0].state&&30!=this.priceInfo.info[0].state||(this.confirmButtonText="我知道了"),this.showTips=!0)},dealRebate:function(t,i){for(var e=[].concat(t).sort((function(t,i){return t.oilLiter-i.oilLiter})),s=[],a=0;a<e.length-1;a++){var n=e[a],o=e[a+1];if(n.num<=i&&i<o.num){s.push(n),s.push(o);break}if(a===e.length-2&&i>=o.num){s.push(o);break}}this.peopleNum=s[1].num-i,this.nowPeople=s[1].num},stepShow:function(){for(var t=1;t<this.list.length;t++){var i=this.list[t],e=this.list[t-1];if(this.$set(i,"step",0),!(i.num<this.joinNum)){e.step=parseInt((this.joinNum-e.num)/(i.num-e.num)*100);break}e.step=100}},allConfirm:function(){var t=[];this.waitPriceList.forEach((function(i){t.push(i.awardRecId)})),this.nowGet(t.join(","))},partConfirm:function(){if(this.priceInfo&&10==this.priceInfo.info[0].state){var t=[];this.priceInfo.info.forEach((function(i){t.push(i.awardRecId)})),this.nowGet(t.join(","))}else this.showTips=!1},formatLineStyl:function(t){return 1==this.type?{height:"".concat(t,"%")}:{width:"".concat(t,"%")}},dealTime:function(t,i){return t||i?t.split(" ")[0]+"~"+i.split(" ")[0]:""}},components:{}}),o=n,c=(e("e231"),e("0c7c")),l=Object(c["a"])(o,s,a,!1,null,"d6945510",null);i["a"]=l.exports},a5c6:function(t,i,e){},bb9b:function(t,i,e){"use strict";e("a5c6")},e231:function(t,i,e){"use strict";e("4af9")}}]);