(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7a6c5e79"],{"37a0":function(t,o,n){},"4ed9":function(t,o,n){"use strict";n("37a0")},cfc4:function(t,o,n){"use strict";n.r(o);var a=function(){var t=this,o=t.$createElement,a=t._self._c||o;return a("div",{staticClass:"points-to-coupon"},[a("nav-top",{attrs:{bgImg:n("db04")},on:{backEvent:t.backEvent}}),a("nav-content",[t.jfhqCouponList.length>0&&t.loaded?a("div",{staticClass:"jfhq-div"},t._l(t.jfhqCouponList,(function(o){return a("div",{staticClass:"coupon",on:{click:function(n){return t.buyCouponEvent2(o)}}},[a("div",{staticClass:"mianer"},[a("span",[t._v("¥")]),a("span",{staticClass:"big"},[t._v(t._s(t.$util.toDecimal2(o.couType.couFaceValue)))])]),a("div",{staticClass:"cou-info"},[a("div",{staticClass:"cou-title double-line"},[t._v(t._s(o.couType.couTypeTitle))]),a("div",{staticClass:"cou-time"},[t._v("有效期："+t._s(o.couType.validDays)+"天")])]),a("div",{staticClass:"right"},[a("div",{staticClass:"text"},[t._v("消耗积分")]),a("div",{staticClass:"points"},[t._v(t._s(o.exchangeUnit))]),a("div",{staticClass:"btn",on:{click:function(n){return n.stopPropagation(),t.submitExchangeOrder(o)}}},[t._v("立即兑换")])])])})),0):t._e(),t.loaded&&0==t.jfhqCouponList.length?a("div",{staticClass:"no-data"},[t._v("暂无数据！")]):t._e()])],1)},s=[],e=(n("ac1f"),n("5319"),n("a78e")),i=n.n(e),c={name:"points-to-coupon",components:{},data:function(){return{jfhqCouponList:[],loaded:!1}},methods:{submitExchangeOrder:function(t){var o=this,n="/app/json/app_exchange/submitExchangeOrder",a={exchangeDetailId:t.id};this.$Loading.open(),this.$http.post(n,a).then((function(t){o.$Loading.close();var n=t.data,a=n.data||{};0==n.status?o.$market.doPay({payMode:305,payModeSub:305007},a.payInfo).then((function(){i.a.set("icbc_tradeNo",a.tradeNo)}))["catch"]((function(){o.$Toast("支付失败！")})):o.$Toast(n.info)}),(function(t){o.$Loading.close(),o.$Toast("请求数据失败！")}))},resultHand:function(t,o){this.$Loading.close(),"1"==t?this.$router.replace({path:"/icbc/success",query:{orderType:o.orderType,orderId:o.id,fromPage:1}}):this.$Toast("支付失败！")},buyCouponEvent2:function(t){this.$router.push({path:"/icbc/coupondetail",query:{type:2,couponData:JSON.stringify(t)}})},backEvent:function(){this.$router.go(-1)},getJFCouponList:function(){var t=this,o="/app/json/app_exchange/queryExchangeDetailList",n={longitude:this.$store.state.currentLocation.posx,latitude:this.$store.state.currentLocation.posy};this.$Loading.open(),this.$http.post(o,n).then((function(o){t.$Loading.close();var n=o.data;0===n.status?(t.jfhqCouponList=n.data,t.loaded=!0):t.$Toast(n.info)}),(function(o){t.$Loading.close(),t.$Toast("系统运行过程中遇到问题，请稍候再试")}))}},created:function(){this.getJFCouponList()}},u=c,d=(n("4ed9"),n("0c7c")),p=Object(d["a"])(u,a,s,!1,null,"5e8ea9c2",null);o["default"]=p.exports},db04:function(t,o,n){t.exports=n.p+"static/images/99721781406ba21e46405216d8c0c0e9.png"}}]);