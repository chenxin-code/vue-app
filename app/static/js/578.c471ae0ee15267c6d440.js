(window.webpackJsonp=window.webpackJsonp||[]).push([[578],{"54k0":function(t,n,e){},"8Qlj":function(t,n,e){"use strict";n.a={methods:{gongcompleteData:function(t){return this.$http.post("/app/json/user/confirmCompletetSign",t)},jiansheData:function(t){return this.$http.post("/app/json/user/passfreeQuery",t)},duanxinData:function(t){return this.$http.post("/app/json/user/signResendReq",t)},messageData:function(t){return this.$http.post("/app/json/user/signAgreementConfirm",t)},leixing:function(t){return this.$http.post("/app/json/user/queryBankCardType",t)},chepaiData:function(t){return this.$http.post("/app/json/user/getVehicleListByUserId",t)},judgeData:function(t){return this.$http.post("/app/json/user/checkIdentifyAllDetail",t)},signlistData:function(t){return this.$http.post("/app/json/user/getSignTagListByUserId",t)},signlistdetailData:function(t){return this.$http.post("/app/json/user/getSignDetail",t)},jieyueData:function(t){return this.$http.post("/app/json/user/brokageSign",t)},jiluData:function(t){return this.$http.post("/app/json/user/getSignLogListByUserId",t)},nextData:function(t){return this.$http.post("/app/json/user/applySign",t)},orderData:function(t){return this.$http.post("/app/json/app_shopping_order/queryEasyPayOrder",t)},successData:function(t){return this.$http.post("/app/json/user/getSignDetailById",t)},cancelApply:function(t){return this.$http.post("/app/json/user/cancelApply",t)}}}},F5ij:function(t,n,e){"use strict";var a=e("54k0");e.n(a).a},TXo0:function(t,n,e){"use strict";e.r(n);var a=e("8Qlj"),s=e("L2JU"),i=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t};function r(t){return function(){var n=t.apply(this,arguments);return new Promise((function(t,e){return function a(s,i){try{var r=n[s](i),o=r.value}catch(t){return void e(t)}if(!r.done)return Promise.resolve(o).then((function(t){a("next",t)}),(function(t){a("throw",t)}));t(o)}("next")}))}}var o={name:"label-management",mixins:[a.a],data:function(){return{tabIndex:0,listObj:[],cancelListObj:[],fetchCancel:!1,titleView:!1}},computed:i({},Object(s.c)(["getGlobalConfig"]),{filterListObj:function(){return 0==this.tabIndex?this.listObj.filter((function(t){return 3!=t.signState})):1==this.tabIndex?this.listObj.filter((function(t){return 1==t.signState})):2==this.tabIndex?this.listObj.filter((function(t){return 2==t.signState})):this.cancelListObj}}),mounted:function(){this.singList()},methods:{fetchCancelList:function(){var t=this;return r(regeneratorRuntime.mark((function n(){var e;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.$Loading.open(),n.next=3,t.jiluData({operateState:0});case 3:e=n.sent,t.$Loading.close(),"success"==e.data.result&&(t.cancelListObj=e.data.data||[],console.log(t.listObj),console.log(t.cancelListObj),t.fetchCancel=!0);case 6:case"end":return n.stop()}}),n,t)})))()},changeTab:function(t){var n=this;return r(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(3!=t||n.fetchCancel){e.next=3;break}return e.next=3,n.fetchCancelList();case 3:n.tabIndex=t;case 4:case"end":return e.stop()}}),e,n)})))()},singList:function(){var t=this,n={token:this.$store.state.login.token};t.signlistData(n).then((function(n){"success"==n.data.result&&(t.listObj=n.data.data||[],t.titleView=!0)}))},labelDetail:function(t){this.$router.push({path:"/jane/labelDetail",query:{itemObj:JSON.stringify(t)}})},resultData:function(t){var n=this,e=this,a={token:this.$store.state.login.token,payModelSub:t.payModelSub,plateNo:t.plateNo};e.jiansheData(a).then((function(t){console.log(t),"success"==t.data.result&&((t.data.data||{}).contractCode?(e.$Toast(t.data.info),n.singList()):n.singList())}))}}},c=(e("F5ij"),e("KHd+")),l=Object(c.a)(o,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"body"},[e("nav-top",{attrs:{title:"签约管理"},on:{backEvent:function(n){return t.$router.go(-1)}}}),t._v(" "),e("nav-content",[e("ul",{staticClass:"tab-nav"},[e("li",{class:{active:0==t.tabIndex},on:{click:function(n){return t.changeTab(0)}}},[t._v("全部")]),t._v(" "),e("li",{class:{active:1==t.tabIndex},on:{click:function(n){return t.changeTab(1)}}},[t._v("已签约")]),t._v(" "),e("li",{class:{active:2==t.tabIndex},on:{click:function(n){return t.changeTab(2)}}},[t._v("签约中")]),t._v(" "),e("li",{class:{active:3==t.tabIndex},on:{click:function(n){return t.changeTab(3)}}},[t._v("已解约")])]),t._v(" "),e("div",{staticClass:"tipDiv"},[t._l(t.filterListObj,(function(n,a){return e("div",{key:a,staticClass:"publicInvoice",on:{click:function(e){return t.labelDetail(n)}}},[e("div",{staticClass:"div1"},[e("img",{attrs:{src:"static/image/janePay/logo.png",alt:""}}),t._v(" "),1==n.signState?e("span",[t._v("已签约")]):t._e(),t._v(" "),2==n.signState?e("span",{staticClass:"span2"},[t._v("签约中")]):t._e(),t._v(" "),3==t.tabIndex?e("span",{staticClass:"span3"},[t._v("已解约")]):t._e()]),t._v(" "),e("div",{staticClass:"div2"},[e("ul",[e("li",{staticClass:"li2"},[t._v("签约号："+t._s(n.tradeNo))]),t._v(" "),n.generateKey?e("li",{staticClass:"li2"},[t._v("\n              "+t._s(n.generateKey)+"\n            ")]):t._e(),t._v(" "),3==n.signType?e("li",{staticClass:"li1"},[t._v("\n              身份证号："+t._s(n.idCardNo)+"\n            ")]):t._e(),t._v(" "),2==n.signType?e("li",{staticClass:"li1"},[t._v("\n              车牌号："+t._s(n.plateNo)+"\n            ")]):t._e(),t._v(" "),n.signPayWay?e("li",{staticClass:"li3"},[t._v(t._s(n.signPayWay))]):t._e(),t._v(" "),1==n.signState&&3!=t.tabIndex?e("li",{staticClass:"li3"},[t._v("自动扣款功能开启")]):t._e(),t._v(" "),3==t.tabIndex?e("li",{staticClass:"li3"},[t._v("自动扣款功能关闭")]):t._e()])]),t._v(" "),e("div",{staticClass:"div3"},[e("div",{staticClass:"arrow"},[e("span",[t._v("详情")]),t._v(" "),e("i",{staticClass:"icon iconfont mall-gengduojiantou"})]),t._v(" "),"320004"==n.payModelSub?e("div",{staticClass:"result",on:{click:function(e){return e.stopPropagation(),t.resultData(n)}}},[t._v("\n            查询签约结果\n          ")]):t._e()])])})),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.titleView,expression:"titleView"}]},[e("p",{directives:[{name:"show",rawName:"v-show",value:0==t.filterListObj.length,expression:"filterListObj.length == 0"}],staticClass:"nullData"},[t._v("暂无数据")])])],2)])],1)}),[],!1,null,"4f6fbbd1",null);n.default=l.exports}}]);