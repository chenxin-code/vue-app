(window.webpackJsonp=window.webpackJsonp||[]).push([[336],{"1mM7":function(t,e,i){"use strict";var a=i("aXlU");i.n(a).a},O7em:function(t,e,i){},aXlU:function(t,e,i){},miGv:function(t,e,i){"use strict";var a=i("O7em");i.n(a).a},"t/b9":function(t,e,i){"use strict";i.r(e);var a=i("ygAv"),s={data:function(){return{stationAll:!1,oilAll:!1,payStyleAll:!1,sideFiltrateModalShow:!1,screen:"筛选",oilStationList:[],payStyleList:[],station:"-1",oil:"-1",payStyle:"-1",showStartTime:!1,showEndTime:!1,currentDateStart:new Date,currentDateEnd:new Date,beginTime:"",endTime:"",smallMoney:"",bigMoney:"",oilStation:"",dateBegin:"",dateEnd:"",oilDetails:"",payDetails:""}},props:{isShowChangeCard:{type:Boolean,default:!0},isShowChangeOilName:{type:Boolean,default:!1}},mounted:function(){this.beginTime=a.a.getMyMonth(new Date),this.endTime=a.a.getMyMonth(new Date),this.dealDate(),this.queryPayModeList(),this.queryOilTypeList()},methods:{queryPayModeList:function(){var t=this;this.$request.post("/app/json/app_stock_month_bills/queryPayModeList",{userId:this.$store.state.userInfo.userId}).then((function(e){0===e.status?t.payStyleList=e.data:t.$Toast(e.info?e.info:"获取支付方式失败")}))},queryOilTypeList:function(){var t=this;this.$request.post("/app/json/app_stock_month_bills/queryOilTypeList",{userId:this.$store.state.userInfo.userId}).then((function(e){0===e.status?t.oilStationList=e.data:t.$Toast(e.info?e.info:"获取油品类型失败")}))},clearData:function(){this.station="-1",this.oil="-1",this.oilStation="",this.smallMoney="",this.bigMoney="",this.payStyle="-1",this.beginTime=a.a.getMyMonth(new Date),this.endTime=a.a.getMyMonth(new Date)},dealDate:function(){this.beginTime=a.a.getMyMonth(new Date),this.endTime=a.a.getMyMonth(new Date);var t=this.beginTime.split("-"),e=this.endTime.split("-");this.dateBegin=a.a.getDealMonthFromSpecific(t[0],t[1]),this.dateEnd=a.a.getDealMonthFromSpecific(e[0],e[1])},confirm:function(){this.sideFiltrateModalShow=!this.sideFiltrateModalShow,this.$emit("childToDadValue",{oilStation:this.oilStation,smallMoney:this.smallMoney,bigMoney:this.bigMoney,beginTime:this.dateBegin.start,endTime:this.dateEnd.end,oilDetails:this.oilDetails,payDetails:this.payDetails})},confirmActivitesTime:function(t){this.showStartTime=!1,this.beginTime=a.a.getMyMonth(t);var e=this.beginTime.split("-");this.dateBegin=a.a.getDealMonthFromSpecific(e[0],e[1])},confirmEndTime:function(t){this.showEndTime=!1,this.endTime=a.a.getMyMonth(t);var e=this.endTime.split("-");this.dateEnd=a.a.getDealMonthFromSpecific(e[0],e[1])},setColumnValue:function(t,e){new Date},changeOil:function(t,e){this.oil=e,this.oilDetails=t},changePayStyle:function(t,e){this.payStyle=e,this.payDetails=t}},computed:{},components:{}},n=(i("miGv"),i("KHd+")),l={data:function(){return{list:[],loading:!1,finished:!1,page:0,date:"",dateFrom:"",details:""}},mounted:function(){console.log(new Date),console.log((new Date).getFullYear()),console.log((new Date).getDate()),console.log(new Date("2019-10-31 12: 12: 00")),console.log(new Date("2019-10-31 12: 12: 00").getDate()),console.log(a.a.getPreTime(new Date)),console.log(a.a.getPreTime(new Date).replace(/-/g,"/")),console.log(a.a.getPreTime(a.a.getPreTime(new Date))),console.log(a.a.getDateFromString(a.a.getPreTime(a.a.getPreTime(new Date)))),console.log(a.a.getDateFromString(a.a.getPreTime(a.a.getPreTime(new Date)))+864e5),this.dealDate()},methods:{screenChild:function(t){this.details=t,console.log(t),this.list=[],this.page=0,this.finished=!1},dealDate:function(){this.date=a.a.getMyMonth(new Date);var t=this.date.split("-");this.dateFrom=a.a.getDealMonthFromSpecific(t[0],t[1])},loadMore:function(){var t=this;this.page=this.page+1;var e={reqStockTradeOillModel:{userId:8066766,startDate:this.details.beginTime?this.details.beginTime:this.dateFrom.start,endDate:this.details.endTime?this.details.endTime:this.dateFrom.end,storeOuName:this.details.oilStation,productCode:this.details.oilDetails?this.details.oilDetails.skuCode:"",payMode:this.details.payDetails?this.details.payDetails.payCode:"",startAmount:this.details.smallMoney,endAmount:this.details.bigMoney},token:this.$store.state.login.token,index:this.page,pageSize:20};this.$http.post("/app/json/app_stock_month_bills/queryStockTradeOillList",e).then((function(e){var i=e.data;0==i.status?(t.list=t.list.concat(i.data||[]),t.list.length>=i.totalRecords&&(t.finished=!0)):(t.finished=!0,t.$Toast(e.info?e.info:"获取列表失败")),t.loading=!1}))},openDetails:function(t){this.$router.push({path:"/refueling-record-query-details",query:{details:JSON.stringify(t)}})},dealTime:function(t){return t.indexOf("-")>-1&&(t=t.replace(/\-/g,"/")),a.a.getPreTime(t)}},components:{ScreenPopup:Object(n.a)(s,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{directives:[{name:"show",rawName:"v-show",value:!t.sideFiltrateModalShow,expression:"!sideFiltrateModalShow"}],staticClass:"screening",on:{click:function(e){t.sideFiltrateModalShow=!0}}},[t._v("筛选")]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.sideFiltrateModalShow,expression:"sideFiltrateModalShow"}],staticClass:"screening",on:{click:function(e){t.sideFiltrateModalShow=!1}}},[t._v("关闭")]),t._v(" "),i("transition",{attrs:{name:"filtrate"}},[t.sideFiltrateModalShow?i("div",{ref:"sideFiltrateModal",staticClass:"filtrate-modal-wrapper",style:{top:t.$store.state.barHeight+t.$market.getNavHeight()+40+"px"}},[i("div",{staticClass:"filtrate-container"},[i("div",{staticClass:"filtrate-content"},[i("div",{staticClass:"content"},[i("div",{staticClass:"change-list money"},[i("div",{staticClass:"title"},[t._v("油站查询")]),t._v(" "),i("ul",{staticClass:"time-list"},[i("li",{staticClass:"item oil-station"},[i("div",{staticClass:"text"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.oilStation,expression:"oilStation"}],attrs:{type:"text",placeholder:"请输入油站"},domProps:{value:t.oilStation},on:{input:function(e){e.target.composing||(t.oilStation=e.target.value)}}})])])])]),t._v(" "),i("div",{staticClass:"change-list"},[i("div",{staticClass:"title"},[t._v("油品名称")]),t._v(" "),i("ul",{staticClass:"list special"},[t._l(t.oilStationList,(function(e,a){return(t.oilAll?0==a||a:a<5)?i("li",{key:a,staticClass:"item",class:{change:t.oil==a},on:{click:function(i){return t.changeOil(e,a)}}},[i("div",{staticClass:"text"},[t._v(t._s(e.skuName))])]):t._e()})),t._v(" "),t.oilStationList.length>6?i("li",{staticClass:"item",on:{click:function(e){t.oilAll=!t.oilAll}}},[i("div",{staticClass:"text"},[t._v(t._s(t.oilAll?"收起":"展开全部"))])]):t._e()],2)]),t._v(" "),i("div",{staticClass:"change-list money"},[i("div",{staticClass:"title"},[t._v("单笔金额")]),t._v(" "),i("ul",{staticClass:"time-list"},[i("li",{staticClass:"item"},[i("div",{staticClass:"text"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.smallMoney,expression:"smallMoney"}],attrs:{type:"text",placeholder:"请输入金额"},domProps:{value:t.smallMoney},on:{input:function(e){e.target.composing||(t.smallMoney=e.target.value)}}})])]),t._v("\n                   - \n                  "),i("li",{staticClass:"item"},[i("div",{staticClass:"text"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.bigMoney,expression:"bigMoney"}],attrs:{type:"text",placeholder:"请输入金额"},domProps:{value:t.bigMoney},on:{input:function(e){e.target.composing||(t.bigMoney=e.target.value)}}})])])])]),t._v(" "),i("div",{staticClass:"change-list"},[i("div",{staticClass:"title"},[t._v("支付方式")]),t._v(" "),i("ul",{staticClass:"list special"},[t._l(t.payStyleList,(function(e,a){return(t.payStyleAll?0==a||a:a<5)?i("li",{key:a,staticClass:"item",class:{change:t.payStyle==a},on:{click:function(i){return t.changePayStyle(e,a)}}},[i("div",{staticClass:"text"},[t._v(t._s(e.payName))])]):t._e()})),t._v(" "),t.payStyleList.length>6?i("li",{staticClass:"item",on:{click:function(e){t.payStyleAll=!t.payStyleAll}}},[i("div",{staticClass:"text"},[t._v(t._s(t.payStyleAll?"收起":"展开全部"))])]):t._e()],2)]),t._v(" "),i("div",{staticClass:"change-list"},[i("div",{staticClass:"title"},[t._v("统计时间范畴")]),t._v(" "),i("ul",{staticClass:"time-list"},[i("li",{staticClass:"item",on:{click:function(e){t.showStartTime=!0}}},[i("div",{staticClass:"text"},[t._v(t._s(t.beginTime))])]),t._v("\n                   - \n                  "),i("li",{staticClass:"item",on:{click:function(e){t.showEndTime=!0}}},[i("div",{staticClass:"text"},[t._v(t._s(t.endTime))])])])])])]),t._v(" "),i("div",{staticClass:"filtrate-btn"},[i("button",{staticClass:"l-btn u-confirm clear",on:{click:t.clearData}},[t._v("重置")]),t._v(" "),i("button",{staticClass:"l-btn u-confirm",on:{click:t.confirm}},[t._v("查询")])])]),t._v(" "),i("van-popup",{attrs:{position:"bottom"},model:{value:t.showStartTime,callback:function(e){t.showStartTime=e},expression:"showStartTime"}},[i("van-datetime-picker",{attrs:{type:"year-month"},on:{confirm:t.confirmActivitesTime,cancel:function(e){t.showStartTime=!1},change:t.setColumnValue},model:{value:t.currentDateStart,callback:function(e){t.currentDateStart=e},expression:"currentDateStart"}})],1),t._v(" "),i("van-popup",{attrs:{position:"bottom"},model:{value:t.showEndTime,callback:function(e){t.showEndTime=e},expression:"showEndTime"}},[i("van-datetime-picker",{attrs:{type:"year-month"},on:{confirm:t.confirmEndTime,cancel:function(e){t.showEndTime=!1},change:t.setColumnValue},model:{value:t.currentDateEnd,callback:function(e){t.currentDateEnd=e},expression:"currentDateEnd"}})],1)],1):t._e()])],1)}),[],!1,null,"56be7a88",null).exports}},o=(i("1mM7"),Object(n.a)(l,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"refueling-record-query"},[a("nav-top",{attrs:{title:"加油凭证"},on:{backEvent:function(e){return t.$router.go(-1)}}}),t._v(" "),a("nav-content",{staticClass:"refueling-record-query-container"},[a("div",{staticClass:"top"},[a("div",{staticClass:"change-title"},[a("div",{staticClass:"left"},[t._v(t._s(t.date))]),t._v(" "),a("div",{staticClass:"right"},[a("ScreenPopup",{on:{childToDadValue:t.screenChild}}),t._v(" "),a("img",{attrs:{src:i("wEz+"),alt:""}})],1)]),t._v(" "),a("div",{staticClass:"title"},[t._v("共有"),a("span",{staticClass:"num"},[t._v(t._s(t.list.length))]),t._v("笔订单，金额合计"),a("span",{staticClass:"num"},[t._v(t._s(t.list[0]?t.list[0].totalAllAmount:"0.00"))]),t._v("元")])]),t._v(" "),a("ul",{staticClass:"list"},[a("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.loadMore},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.list,(function(e,i){return a("li",{key:i,staticClass:"item",on:{click:function(i){return t.openDetails(e)}}},[a("div",{staticClass:"time"},[t._v("加油时间: "+t._s(t.dealTime(e.tradeTime)))]),t._v(" "),a("div",{staticClass:"main"},[a("div",{staticClass:"text"},[a("div",{staticClass:"name"},[t._v("油站名称")]),t._v(" "),a("div",{staticClass:"info"},[t._v(t._s(e.storeOuName))])]),t._v(" "),a("div",{staticClass:"text"},[a("div",{staticClass:"name"},[t._v("油品名称")]),t._v(" "),a("div",{staticClass:"info"},[t._v(t._s(e.productName))])]),t._v(" "),a("div",{staticClass:"text"},[a("div",{staticClass:"name"},[t._v("订单金额")]),t._v(" "),a("div",{staticClass:"info"},[t._v(t._s(e.amount))])]),t._v(" "),a("div",{staticClass:"text"},[a("div",{staticClass:"name"},[t._v("支付渠道")]),t._v(" "),a("div",{staticClass:"info"},[t._v(t._s(e.payModeName))])])])])})),0)],1)])],1)}),[],!1,null,"2427ccc1",null));e.default=o.exports},"wEz+":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ1IDc5LjE2MzQ5OSwgMjAxOC8wOC8xMy0xNjo0MDoyMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NTE4NEREOTZFM0FGMTFFOUIxNEFERjI3NzlFQTQ3MUIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6ODkxQkIzNjhFM0JCMTFFOUIxNEFERjI3NzlFQTQ3MUIiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo1MTg0REQ5NEUzQUYxMUU5QjE0QURGMjc3OUVBNDcxQiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo1MTg0REQ5NUUzQUYxMUU5QjE0QURGMjc3OUVBNDcxQiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pt13W+cAAAInSURBVHjavJdLKERRGMeva8pjQUjYkFhKapBnIknYKCIsWEkhkQ2KsrEYJJKslEdWwtJCkUd5xUqWQkjjFXkO/qf+t6bp3rkzw/HV7zbnnsf/3u/77jnf+Fmt1hBFUcZBBQhQ5NormAfNFlzGQK3yPxYI6sGXEK7kzUWwJFm4ChSDaiH8zicJA8vgVpJoJGjk708Vlwk28sAeSJYgauXaGWxPCOEuMMIb8WCbLvkrE/mzAWLZHgXdQtgB2kAdeAHBzDwb8P+FoJg7CGYYyjfQAFo1V2s2C7LAKdsdYAVE+CAazrntbJ+DXDClDVBdJhwyHqtsF4B9kOKFaDLjWcD2OkgFu86DVJ2JdlAEhtiOA1ugxsPPZZu5onCPKATXrgNVgwUcdHUt4x7EUPS7Ee1jbgQ7xbMFfOgNVk3eYM4l7j0gU2dcDug1iqeeWTxwn4h7GjjjXp5HdzqbFs9HxtPOEPnprPcNLiweJswNN/gAfhpGnrtjPHf4sEZ2pEraHmNM+qMtkoTT+caqgav3ZAlf8sD5VXL5Ys38fo1sTZawzaSaKZUlLA6CEjf9K7KEJ8m/xzgBZBtk9RfYlCW8CaLc9NtlbSDHJv0nst44H4Qa7NXC7r0RvuJi5SyFD03GP7jrVL3MVK3COADTPIF8Mm+Eh0EneKILRXF4wgq1jGOeZAh/c0dKZC3u4O7UyjpNYQXy58KaifO2CSSBBf4TeaZHBjxd5EeAAQDnzG3KU95qMQAAAABJRU5ErkJggg=="}}]);