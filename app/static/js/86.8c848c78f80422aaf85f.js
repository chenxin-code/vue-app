(window.webpackJsonp=window.webpackJsonp||[]).push([[86,194,437,593,959],{"/VSX":function(e,t,a){},"17lL":function(e,t,a){"use strict";a("4X9F");var r=a("IkEG"),i=(a("5+UC"),a("05lO"));function s(){return"micromessenger"==window.navigator.userAgent.toLowerCase().match(/MicroMessenger/i)}var n=a("2nGb"),o=a("vDqi"),c=a.n(o),d=a("oCYn"),p=a("p46w"),l=a.n(p),g=a("Qyje"),u=a.n(g),m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e};d.default.use(i.a),d.default.use(r.a);var C=c.a.create({baseURL:n.a.baseURL,timeout:1e4,responseType:"json",withCredentials:!1,headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}});C.interceptors.request.use((function(e){i.a.loading({mask:!0,duration:0});var t=l.a.get("usertoken");return"post"===e.method?e.data=u.a.stringify(m({},e.data,{token:t})):"get"===e.method&&(e.params=m({},e.params,{token:t})),e}),(function(e){return Promise.reject(e)})),C.interceptors.response.use((function(e){return i.a.clear(),-1==e.data.status&&e.data.info.indexOf("用户信息为空")>-1&&r.a.confirm({title:"提示",message:"用户信息失效, 请重新登录"}).then((function(){})),e}),(function(e){return i.a.clear(),console.log(e),Promise.reject(e)}));var h=C,v=a("N4/4"),f=a("ZToj"),b=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),y=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.jsApiList=t}return b(e,[{key:"share",value:function(e,t,a,r){return s()?this._wxShare(e,t,a,r):this._appShare(e,t,a,r)}},{key:"chooseImage",value:function(e){return s()?this._wxChooseImage(e):this._appChooseImage()}},{key:"_wxChooseImage",value:function(e){var t=this;return new Promise((function(a,r){t._init(["chooseImage","uploadImage"]).then((function(){wx.chooseImage({count:e||1,sourceType:["camera"],sizeType:["original"],success:function(e){var t=e.localIds[0];wx.getLocalImgData({localId:t,success:function(e){console.log(e);var t=e.localData,r=t.substr(t.indexOf(",")+1);a({imagedata:[r]})}})}})}))}))}},{key:"_wxUploadImage",value:function(e){return new Promise((function(t,a){wx.uploadImage({localId:e,isShowProgressTips:1,success:function(e){t(e.serverId)}})}))}},{key:"_wxShare",value:function(e,t,a,r){var i=this;return console.log(e),console.log(t),console.log(a),console.log(r),new Promise((function(s,n){i._init(["onMenuShareTimeline","onMenuShareAppMessage","updateAppMessageShareData","updateTimelineShareData"]).then((function(){console.log("开始分享"),wx.onMenuShareTimeline({title:e,link:t,imgUrl:a,success:function(){console.log("onMenuShareTimeline 设置成功！"),s()}}),wx.onMenuShareAppMessage({title:e,desc:r,link:t,imgUrl:a,success:function(){console.log("onMenuShareAppMessage 设置成功！"),s()}}),wx.updateAppMessageShareData({title:e,desc:r,link:t,imgUrl:a,success:function(){console.log("updateAppMessageShareData 设置成功！")}}),wx.updateTimelineShareData({title:e,link:t,imgUrl:a,success:function(){console.log("updateTimelineShareData 设置成功！")}})}))}))}},{key:"_appShare",value:function(e,t,a,r){if(console.log(e),console.log(t),console.log(a),console.log(r),"new"==f.a.state.globalConfig.yht_protocol_type){var i={title:e,sharetext:r,imageurl:a,detailurl:t};v.a.share(i)}else{var s={type:"share",para:{title:e,sharetext:r,imageurl:a,detailurl:t}};location.href=location.origin+"?appprotocol="+encodeURIComponent(JSON.stringify(s))}}},{key:"_appUploadImage",value:function(e){var t={type:"webuploadimage",para:{callback:"appCallbackUploadImage",num:e||1}};return location.href=location.origin+"?appprotocol="+encodeURIComponent(JSON.stringify(t)),new Promise((function(e){window.appCallbackUploadImage=function(t){e(t)}}))}},{key:"_appChooseImage",value:function(){return"new"==f.a.state.globalConfig.yht_protocol_type?new Promise((function(e){v.a.getPhoto(3,(function(t){var a=[];a.push(t),e({imagedata:a})}))})):(location.href=location.origin+"?appprotocol="+encodeURIComponent(JSON.stringify({type:"nativephoto",para:{type:"3"}})),new Promise((function(e){window.photoCallBack=function(t){e(t)}})))}},{key:"scanCode",value:function(){return"new"==f.a.state.globalConfig.yht_protocol_type?new Promise((function(e){v.a.scanCode((function(t){e(t)}))})):(location.href=location.origin+"?appprotocol="+encodeURIComponent(JSON.stringify({type:"qrscan"})),new Promise((function(e){window.qrCallBack=function(t){e(t)}})))}},{key:"wxSign",value:function(e){if("new"==f.a.state.globalConfig.yht_protocol_type)v.a.wxFreePay(e);else{var t={type:"wxfreepay",para:{pre_entrustweb_id:e}};location.href=location.origin+"?appprotocol="+encodeURIComponent(JSON.stringify(t))}}},{key:"getLocation",value:function(){return new Promise((function(e){wx.getLocation({type:"wgs84",success:function(e){}})}))}},{key:"_init",value:function(e){var t=this;return new Promise((function(a,r){t._getConfig().then((function(t){wx.config({appId:t.appid,timestamp:t.timestamp,nonceStr:t.nonce,signature:t.signature,jsApiList:e}),wx.ready((function(){console.log("微信签名配置成功"),a()})),wx.error((function(e){r(e),console.log("请求信息："+JSON.stringify(t)+"-----错误信息："+JSON.stringify(e))}))})).catch((function(e){r(),console.log("发生错误！",e)}))}))}},{key:"_getConfig",value:function(){return new Promise((function(e,t){var a;a=navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?window.initUrl:window.location.href.split("#")[0],h.post("/app/json/wx/getAccessToken",{url:encodeURIComponent(a)}).then((function(t){0===t.data.status&&(console.log("请求",Object.assign({},t.data.data,t.data.data.signature)),e(Object.assign({},t.data.data,t.data.data.signature)))})).catch((function(e){t(e)}))}))}},{key:"openNewPage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("new"==f.a.state.globalConfig.yht_protocol_type)v.a.newPage({weburl:e,isnativetop:!0});else{var a={type:"newpage",para:{isnative:t,islogin:!0,isnativetop:!0,isopen:!0}};t?a.para.code=e:(a.para.weburl=e,console.log("打印的p",e)),location.href=location.origin+"?appprotocol="+encodeURIComponent(JSON.stringify(a))}}},{key:"finishPage",value:function(){location.href=location.origin+"?appprotocol="+encodeURIComponent(JSON.stringify({type:"finish"}))}},{key:"openLogin",value:function(){location.href=location.origin+"?appprotocol="+encodeURIComponent(JSON.stringify({type:"login"}))}},{key:"chooseImg",value:function(){var e=this;return new Promise((function(t,a){e.chooseImage().then((function(e){if(e.imagedata&&e.imagedata.length){var a=e.imagedata[0];h.get("/app/json/app_youdi/getSunboxToken").then((function(e){var s=e.data.data;i.a.loading({mask:!0,duration:0}),c.a.post("/uploadFile",u.a.stringify({base64File:a,fileType:"png",fileName:"1",token:s,bucketName:"default_file"})).then((function(e){var s=e.data.data,n={imgUrl:s,baseImgUrl:a};i.a.clear(),s?t(n):r.a.alert({title:"提示",message:"上传失败！"})}))}))}}))}))}}]),e}();t.a=new y},"8F2q":function(e,t,a){"use strict";a.r(t),a("5+UC");var r=a("05lO"),i=a("R20A"),s=(a("ZToj"),a("L2JU")),n=a("uQt8"),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},c={name:"openIndex",mixins:[i.a],data:function(){return{employeeCode:"",employeeName:"",phone:"",departmentName:"",departmentNo:"",radio:!1,isChecked:!1,msgCode:"",showView:!0,registerView:!1,reason:"",stateView:!1,backgroundImgUrl:"",successView:!1,referrerUserId:"",closeView:!1,referrer:!1,rfrCodeType:"",info:""}},watch:{msgCode:function(e){this.msgCode=this.$util.checkVerifyCodeLenght(this.msgCode)}},created:function(){},mounted:function(){var e=this;if(console.log(222,this.$store.state.globalConfig.microshop_backgroundurl),1==this.$store.state.globalConfig.microshop_open){var t={token:this.$store.state.login.token};this.stateDatahn(t).then((function(t){0==t.data.status?0==(t.data.data||{}).empFlag&&(e.referrer=!0):Object(r.a)(t.data.info)}))}else this.loadState(),this.loadDetail()},computed:o({},Object(s.c)(["getPutaggregate"])),methods:o({},Object(s.d)(["putaggregate"]),{loadState:function(){var e=this,t=this,a={token:t.$store.state.login.token};t.stateData(a).then((function(a){if("success"===a.data.result){t.reason=a.data.data.reviewOpinion;var i=a.data.data;e.putaggregate(i),0==i.approvalState?t.stateView=!0:2==i.approvalState?t.showView=!1:i.approvalState}else Object(r.a)(a.data.info)}))},allSelect:function(){this.isChecked?this.isChecked=!1:this.isChecked=!0},changeRfrCodeType:function(){this.rfrCodeType=1},sweep:function(){var e=this;this.$bridgefunc.scanCode((function(t){e.rfrCodeType=2,e.theScanCode=t.code,e.referrerUserId=t.code}))},loadDetail:function(){var e=this,t={token:e.$store.state.login.token};e.detailData(t).then((function(t){if("success"===t.data.result){var a=t.data.data;e.employeeCode=a.employeeCode,e.employeeName=a.employeeName,e.phone=a.phone,e.departmentName=a.departmentName,e.departmentNo=a.departmentNo}else Object(r.a)(t.data.info)}))},getReferrer:function(){var e=this,t={token:this.$store.state.login.token,referrerUserId:this.referrerUserId,rfrCodeType:this.rfrCodeType};this.$request.post("/app/json/micro_store_front_end/saveReferrerUserId",t).then((function(t){console.log(t),"success"==t.result?(e.$toast("提交成功"),e.referrer=!1):(e.info=t.info||"",e.$Toast(t.info))}))},getMsgCode:function(e,t){var a=this;if(""!=this.phone)if(this.$util.checkMobile(this.phone)){this.$refs.countBtn.startTime(),this.$Loading.open();var r={smsType:"1020",phone:this.phone,imgVerifyCode:e,uuid:t};this.$http.post("/app/json/login/sendSms",r).then((function(e){a.$Loading.close(),console.log(e.data);var t=e.data;0==t.status?a.$Toast("获取验证码成功"):(a.$refs.countBtn.resetClock(),a.$Toast(t.info?t.info:"获取短信验证码失败"))}),(function(e){a.$Loading.close(),a.$refs.countBtn.resetClock(),a.$Toast("系统运行过程中遇到问题，请稍候再试")}))}else this.$Toast("请输入正确的手机号码！");else this.$Toast("手机号不能为空!")},submit:function(){this.$Toast("请先勾选开通条款")},submitBtn:function(){this.$router.push({path:"/micro_sho/authentication"})},commit:function(){var e=this,t=this;if(""!=t.msgCode){this.$Loading.open();var a={token:t.$store.state.login.token,employeeCode:t.employeeCode,employeeName:t.employeeName,phone:t.phone,phoneCode:t.msgCode,departmentName:t.departmentName,departmentNo:t.departmentNo};t.applyData(a).then((function(a){e.$Loading.close(),"success"===a.data.result?t.successView=!0:Object(r.a)(a.data.info)}))}else this.$Toast("验证码不能为空")},commitAgain:function(){this.showView=!0},returnUp:function(){this.$router.go(-1)}}),components:{CountButton:n.a}},d=(a("GMzf"),a("KHd+")),p=Object(d.a)(c,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"body"},[a("nav-top",{attrs:{title:"我的微店"},on:{backEvent:function(t){return e.$router.go(-1)}}}),e._v(" "),a("nav-content",[e.showView&&1!=e.$store.state.globalConfig.microshop_open?a("van-cell-group",[a("van-field",{attrs:{label:"员工号",disabled:""},model:{value:e.employeeCode,callback:function(t){e.employeeCode=t},expression:"employeeCode"}}),e._v(" "),a("van-field",{attrs:{label:"员工姓名",disabled:""},model:{value:e.employeeName,callback:function(t){e.employeeName=t},expression:"employeeName"}}),e._v(" "),a("van-field",{attrs:{type:"tel",label:"手机号",disabled:""},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}}),e._v(" "),a("van-field",{attrs:{label:"所属部门",disabled:""},model:{value:e.departmentName,callback:function(t){e.departmentName=t},expression:"departmentName"}}),e._v(" "),a("div",{staticClass:"publicInvoiceDiv"},[a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.msgCode,expression:"msgCode"}],attrs:{placeholder:"请输入短信验证码"},domProps:{value:e.msgCode},on:{input:function(t){t.target.composing||(e.msgCode=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"mingxi"},[a("count-button",{ref:"countBtn",staticClass:"theme_standard_font",attrs:{phone:e.phone},on:{getSmsEvent:e.getMsgCode}})],1)])],1):e._e(),e._v(" "),1==e.$store.state.globalConfig.microshop_open?a("div",{staticClass:"openDiv"},[a("div",{staticClass:"divPic"},[a("div",[a("img",{staticClass:"img",attrs:{src:e.$store.state.globalConfig.microshop_backgroundurl?e.$store.state.globalConfig.microshop_backgroundurl:"static/image/microShop/mishbac.png",alt:""}})]),e._v(" "),a("div",{staticClass:"radios"},[a("div",{staticClass:"div1"},[a("div",{staticClass:"agree"},[a("div",{staticClass:"ifselect",class:e.isChecked?"is-selected":"unselect",on:{click:function(t){return e.allSelect()}}},[a("i",{staticClass:"selected-icon"})]),e._v(" "),a("p",{staticClass:"text"},[e._v("我同意"),a("span",[a("router-link",{attrs:{to:"/micro_sho/agreement"}},[e._v("《微店开通条款》")])],1)])])]),e._v(" "),1==e.$store.state.globalConfig.microshop_open&&0==e.isChecked?a("div",{staticClass:"answer theme_bg_red1 theme_bg_red2",on:{click:e.submit}},[e._v("申请开通\n          ")]):e._e(),e._v(" "),1==e.$store.state.globalConfig.microshop_open&&1==e.isChecked?a("div",{staticClass:"answer theme_bg_red1",on:{click:e.submitBtn}},[e._v("申请开通\n          ")]):e._e()])])]):e._e(),e._v(" "),e.showView||1==e.$store.state.globalConfig.microshop_open?e._e():a("div",{staticClass:"noPass"},[a("div",[a("img",{attrs:{src:"static/image/microShop/icon.png",alt:""}})]),e._v(" "),a("p",{staticClass:"p1"},[e._v("很遗憾，微店申请未通过...")]),e._v(" "),a("p",{staticClass:"p2"},[e._v("原因："+e._s(e.reason))])]),e._v(" "),a("div",{staticClass:"answerBox"},[e.showView&&1!=e.$store.state.globalConfig.microshop_open?a("div",{staticClass:"answer theme_bg_red",on:{click:e.commit}},[e._v("立即申请\n      ")]):e._e(),e._v(" "),e.showView||1==e.$store.state.globalConfig.microshop_open?e._e():a("div",{staticClass:"answer theme_bg_red",on:{click:e.commitAgain}},[e._v("重新提交申请\n      ")])])],1),e._v(" "),a("van-popup",{staticClass:"successBox",on:{"click-overlay":e.returnUp},model:{value:e.successView,callback:function(t){e.successView=t},expression:"successView"}},[a("img",{staticClass:"img1",attrs:{src:"static/image/microShop/succee-icon.png"}}),e._v(" "),a("p",[e._v("申请成功！")])]),e._v(" "),a("van-popup",{staticClass:"successBox",on:{"click-overlay":e.returnUp},model:{value:e.stateView,callback:function(t){e.stateView=t},expression:"stateView"}},[a("img",{attrs:{src:"static/image/microShop/shen.png"}}),e._v(" "),a("p",[e._v("正在审核中，敬请期待......")])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.referrer,expression:"referrer"}]},[a("van-popup",{staticClass:"successBox successBox1 ",attrs:{"close-on-click-overlay":!1},model:{value:e.referrer,callback:function(t){e.referrer=t},expression:"referrer"}},[a("div",{staticClass:"referrerUser"},[a("div",{staticClass:"referrer"},[a("span",{staticClass:"span"},[e._v("开店邀请码")]),e._v(" "),a("div",{staticClass:"sacn"},[a("mt-field",{attrs:{label:"邀请码",placeholder:"请输入邀请码"},on:{change:e.changeRfrCodeType},model:{value:e.referrerUserId,callback:function(t){e.referrerUserId=t},expression:"referrerUserId"}},[a("img",{attrs:{src:"static/image/fuelcard//btn_Sweep.png",width:"25",height:"25"},on:{click:e.sweep}})])],1),e._v(" "),e.info?a("span",{staticClass:"tip"},[e._v(e._s(e.info))]):e._e()]),e._v(" "),a("div",{staticClass:"grayBtn"},[a("span",{on:{click:function(t){e.referrer=!1}}},[e._v("无邀请码")]),e._v(" "),a("span",{staticClass:"theme_bg_red",on:{click:e.getReferrer}},[e._v("提交邀请码")])])])])],1)],1)}),[],!1,null,"86c53f1e",null);t.default=p.exports},DJUa:function(e,t,a){"use strict";var r=a("Dl78");a.n(r).a},Dl78:function(e,t,a){},GMzf:function(e,t,a){"use strict";var r=a("/VSX");a.n(r).a},IYJV:function(e,t,a){"use strict";var r=a("ZI3E");a.n(r).a},LWA1:function(e,t,a){"use strict";a.r(t),a("5+UC");var r=a("05lO"),i=a("8F2q"),s=a("wHtH"),n=a("pCTv"),o=a("q4aI"),c=a("L2JU"),d=a("ZToj"),p=a("R20A"),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},g={name:"microshop-register",mixins:[p.a],data:function(){return{status1:!1,status2:!1,status3:!1,status4:!1,status5:!1,closeView:!1}},mounted:function(){1==this.$store.state.globalConfig.microshop_open?this.loadHN():this.loadState()},computed:l({},Object(c.c)(["getPutaggregate"])),methods:{loadState:function(){var e=this,t=this,a={token:t.$store.state.login.token};t.stateData(a).then((function(a){if("success"===a.data.result)if(1==e.$store.state.globalConfig.microshop_open)d.a.commit("putaggregate",a.data.data);else if(1==a.data.data.approvalState){1==a.data.data.state?1==e.$store.state.globalConfig.auto_create_store_info?a.data.data.pictureUrl&&a.data.data.backgroundImgUrl?(t.status3=!1,t.status2=!0,t.status1=!1):(t.status3=!0,t.status2=!1,t.status1=!1):a.data.data.storeName&&a.data.data.storeProfile&&a.data.data.pictureUrl&&a.data.data.backgroundImgUrl?(t.status3=!1,t.status2=!0,t.status1=!1):(t.status3=!0,t.status2=!1,t.status1=!1):0==a.data.data.state&&(t.closeView=!0);var i=a.data.data;d.a.commit("putaggregate",i)}else t.status1=!0,t.status2=!1;else Object(r.a)(a.data.info)}))},loadHN:function(){var e=this,t={token:e.$store.state.login.token};e.stateDatahn(t).then((function(t){if(0==t.data.status){var a=t.data.data||{};1==a.closeFlag?e.closeView=!0:1==a.openFlag?(e.loadState(),e.status3=!1,e.status2=!0,e.status1=!1):1==a.certificationFlag?e.status4=!0:(e.status1=!0,e.status2=!1)}else Object(r.a)(t.data.info)}))},returnUp:function(){this.$router.push({path:"/entrance"})}},components:{part1:i.default,part2:s.default,part3:n.default,part4:o.default}},u=(a("NLEZ"),a("KHd+")),m=Object(u.a)(g,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.status1?a("part1"):e._e(),e._v(" "),e.status2?a("part2"):e._e(),e._v(" "),e.status3?a("part3"):e._e(),e._v(" "),e.status4?a("part4"):e._e(),e._v(" "),a("van-popup",{staticClass:"successBox",on:{"click-overlay":e.returnUp},model:{value:e.closeView,callback:function(t){e.closeView=t},expression:"closeView"}},[a("img",{attrs:{src:"static/image/microShop/guan.png"}}),e._v(" "),a("p",[e._v("微店已关闭")]),e._v(" "),a("p",[e._v("如有疑问请联系管理人员")])])],1)}),[],!1,null,"3231d578",null);t.default=m.exports},MnLJ:function(e,t,a){"use strict";var r=a("Ufd9");a.n(r).a},NLEZ:function(e,t,a){"use strict";var r=a("v0Gn");a.n(r).a},R20A:function(e,t,a){"use strict";t.a={methods:{applyData:function(e){return this.$http.post("/app/json/micro_store_front_end/applyMicroStore",e)},stateData:function(e){return this.$http.post("/app/json/micro_store_front_end/queryMicroStoreOpenState",e)},stateDatahn:function(e){return this.$http.post("/app/json/micro_store_front_end/queryMicroStoreOpenProcess",e)},profitData:function(e){return this.$http.post("/app/json/micro_store_front_end/queryMicroStoreForProfit",e)},profitDatahn:function(e){return this.$http.post("/app/json/micro_store_front_end/cashEarningsDetail",e)},monthData:function(e){return this.$http.post("/app/json/micro_store_front_end/getMonthProfitList",e)},detailData:function(e){return this.$http.post("/app/json/micro_store_front_end/getEmployeeInfoByUserId",e)},modifyData:function(e){return this.$http.post("/app/json/micro_store_front_end/queryMicroStoreForDecoration",e)},getRewardData:function(e){return this.$http.post("/app/json/micro_store_front_end/getRewardTypeList",e)},modifyafterData:function(e){return this.$http.post("/app/json/micro_store_front_end/updateMicroStoreInfoById",e)},modifyBankData:function(e){return this.$http.post("/app/json/micro_store_front_end/saveBankInfo",e)}}}},Ufd9:function(e,t,a){},"X+l1":function(e,t,a){},ZI3E:function(e,t,a){},cz8l:function(e,t,a){e.exports=a.p+"static/img/up.c99ddcc.png"},eqsK:function(e,t,a){"use strict";var r=a("lR8Q"),i=a.n(r),s=a("2nGb"),n=a("0FX9"),o=a.n(n),c=a("L2JU"),d=a("rlxw"),p={name:"share",props:["shareObj"],computed:(Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e})({},Object(c.c)(["getPutaggregate"])),data:function(){return{imgUrl:"",timeOutEvent:0,popupShow:!0,codeShow:this.shareObj.codeShow,detailData:this.$util.deepClone(this.shareObj)}},mounted:function(){this.setOssImg(this.detailData.phMainUrl||this.detailData.picMainUrl||this.detailData.picUrls[0])},methods:{getPrices:function(){return d.a.getPriceShow(this.detailData.purPriceRules)},setOssImg:function(e){var t=this;this.imgUrl="",this.$request.post("/app/json/home/getFileBase64",{filePath:e}).then((function(e){0==e.status?e.data?t.imgUrl="data:image/png;base64,"+(e.data||""):t.$Toast("getFileBase64 返回为空"):t.$Toast(e.info)}))},getInteger:function(e){return this.$util.toDecimal2(e).split(".")[0]},getDecimals:function(e){return this.$util.toDecimal2(e).split(".")[1]},clickOverlay:function(){this.detailData.popupShow=!1,this.$emit("setshareData",this.detailData.storeCode)},sharewx:function(){var e="/micro_sho/shareDetail/";this.detailData.groupFlag&&(e="/micro_sho/sharebuyingDetail/");var t={};(t={}).title=this.detailData.showTitle||this.detailData.skuName,t.sharetext=this.detailData.skuName,t.imageurl=this.detailData.phMainUrl,t.detailurl=this.$store.state.globalConfig.wxBaseUrl+s.a.shareUrl+""+e+this.$util.getDataString(),t.detailurl=t.detailurl+"?id="+(this.detailData.id||this.detailData.skuId)+"&skuId="+(this.detailData.skuId||this.detailData.id)+"&microStoreCode="+this.getPutaggregate.storeCode+"&storeName="+this.getPutaggregate.storeName+"&productType="+this.detailData.productType+"&deliveryType="+this.$store.state.mall2.staticDeliverType+"&storeOuCodeNew="+this.$store.state.mall2.zitiAddress.id+"&proSkuDistributionId="+this.detailData.proSkuDistributionId,this.$store.state.login.token&&""!=this.$store.state.login.token&&(t.detailurl=t.detailurl+"&recommend="+this.$store.state.userInfo.userId,t.detailurl=t.detailurl+"&recommendPhone="+this.$store.state.login.phone),console.log("shareData",t),this.$bridgefunc.wechatShare(t)},QRcode:function(){var e=this,t="/micro_sho/shareDetail";this.detailData.groupFlag&&(t="/micro_sho/sharebuyingDetail"),this.codeShow=!0,this.$emit("qRcodeStstus",this.codeShow),this.$nextTick((function(a){var r=""+e.$store.state.globalConfig.wxBaseUrl+s.a.shareUrl+t+"/"+e.$util.getDataString()+"?id="+(e.detailData.id||e.detailData.skuId)+"&skuId="+(e.detailData.skuId||e.detailData.id)+"&microStoreCode="+e.getPutaggregate.storeCode+"&storeName="+e.getPutaggregate.storeName+"&productType="+e.detailData.productType+"&deliveryType="+e.$store.state.mall2.staticDeliverType+"&storeOuCodeNew="+e.$store.state.mall2.zitiAddress.id+"&proSkuDistributionId="+e.detailData.proSkuDistributionId;o.a.toCanvas(document.getElementById("qrcode"),r,{width:140})}))},btnbox:function(){this.codeShow=!1,this.$emit("qRcodeStstus",this.codeShow)},preservation:function(){var e=this,t=document.querySelector(".code-content"),a=parseInt(window.getComputedStyle(t).width),r=parseInt(window.getComputedStyle(t).height),s=document.createElement("canvas");s.width=2*a,s.height=2*r,s.getContext("2d").scale(2,2);var n={useCORS:!0,scale:2,canvas:s,backgroundColor:"#000"};i()(this.$refs.imageWrapper,n).then((function(t){var a=t.toDataURL("image/png");e.codeShow=!1;var r=a.split("base64,");console.log(a),e.$bridgefunc.savePhoto(r[1],(function(t){"1"==t?(e.detailData.popupShow=!1,e.$emit("setshareData",e.detailData),e.$Toast("保存成功！")):e.$Toast("保存失败！")}))}))}}},l=(a("IYJV"),a("KHd+")),g=Object(l.a)(p,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"box"},[a("van-popup",{attrs:{position:"bottom"},on:{"click-overlay":e.clickOverlay},model:{value:e.detailData.popupShow,callback:function(t){e.$set(e.detailData,"popupShow",t)},expression:"detailData.popupShow"}},[a("div",{staticClass:"popup"},[a("div",{staticClass:"popup-content",on:{click:e.sharewx}},[a("img",{attrs:{src:"static/image/mall2/weixin.png",alt:""}}),e._v(" "),a("span",[e._v("微信")])]),e._v(" "),a("div",{staticClass:"popup-content",on:{click:e.QRcode}},[a("img",{attrs:{src:"static/image/microShop/code@2x.png",alt:""}}),e._v(" "),a("span",[e._v("二维码")])])])]),e._v(" "),e.codeShow?a("div",{staticClass:"code-div",on:{click:function(t){return t.target!==t.currentTarget?null:e.btnbox(t)}}},[a("div",{ref:"imageWrapper",staticClass:"code-content"},[a("div",{staticClass:"code-content-img"},[a("div",{staticClass:"code-content-img-top"},[a("img",{attrs:{src:e.imgUrl,alt:"",crossOrigin:"anonymous"}})]),e._v(" "),e.detailData.groupFlag?a("div",{staticClass:"code-content-img-buttom"},[a("div",{staticClass:"price theme_font_red"},e._l(e.getPrices(),(function(t,r){return a("div",{staticClass:"price-item"},[0!=r?a("p",{staticClass:"xian"},[e._v(" ~ ")]):e._e(),e._v(" "),a("p",[e._v("¥")]),e._v(" "),a("p",{staticClass:"big"},[e._v(e._s(t.iNum)+".")]),e._v(" "),a("p",[e._v(e._s(t.dNum))])])})),0),e._v(" "),a("div",{staticClass:"text theme_font_black"},[e._v(e._s(e.detailData.showTitle))])]):a("div",{staticClass:"code-content-img-buttom"},[a("div",{staticClass:"text theme_font_red"},[a("span",{staticClass:"font-small price-z theme_font_red",staticStyle:{"font-weight":"700"}},[e._v("￥")]),e._v(" "),a("span",{staticClass:"price-z theme_font_red",staticStyle:{"margin-left":"-4px"}},[e._v(e._s(e.getInteger(e.detailData.salePrice)))]),e._v(" "),a("span",{staticClass:"font-small price-z theme_font_red",staticStyle:{"margin-left":"-4px","font-weight":"700"}},[e._v("."+e._s(e.getDecimals(e.detailData.salePrice)))])]),e._v(" "),a("div",{staticClass:"text theme_font_black"},[e._v(e._s(e.detailData.dpedData.featureName||e.detailData.skuName))])])]),e._v(" "),a("div",{staticClass:"code-content-line"}),e._v(" "),e._m(0),e._v(" "),a("div",{staticClass:"code-content-zanwei"})]),e._v(" "),a("div",{staticClass:"code-btn"},[a("div",{staticClass:"btn theme_bg_red",on:{click:function(t){return t.stopPropagation(),e.preservation(t)}}},[e._v("保存图片到本地")]),e._v(" "),a("div",{staticClass:"text"},[e._v("记得发送给朋友或发布到朋友圈呦！")])])]):e._e()],1)}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"code-content-code"},[t("canvas",{staticClass:"qrcode",attrs:{id:"qrcode"}}),this._v(" "),t("p",[this._v("微信扫码或长按识别二维码")])])}],!1,null,"1e8a9c88",null);t.a=g.exports},pCTv:function(e,t,a){"use strict";a.r(t),a("5+UC");var r=a("05lO"),i=(a("8LpY"),a("R20A")),s=a("ZToj"),n=a("L2JU"),o=a("17lL"),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},d={name:"renovation",mixins:[i.a],data:function(){return{headUrl:"/static/image/microShop/head@2x.png",bacUrl:"/static/image/microShop/head@2x.png",disabled:!1,showFaceBackImg:!1,actions:[{name:"相册"},{name:"拍照"}],faceOrBack:"",frontOfId:"",backOfId:"",mall:{}}},computed:c({},Object(n.c)(["getPutaggregate"])),mounted:function(){1==this.$store.state.globalConfig.auto_create_store_info&&(this.disabled=!0),this.loadIndex()},methods:{loadIndex:function(){var e=this,t=this,a={token:this.$store.state.login.token};t.modifyData(a).then((function(a){var r=a.data.data||{};t.mall=r,t.mall.storeProfile||e.content()}))},content:function(){var e=this;this.$request.post("/app/json/news/getNewsList",{values:62}).then((function(t){if(console.log("协议内容1",t),"success"===t.result){var a=t.data||[];e.mall.storeProfile=a[0].content}else e.$Toast(t.info)}))},changeProfile:function(){0==this.disabled&&this.$router.push({path:"/micro_sho/modifyintroduction"})},changeName:function(){0==this.disabled&&this.$router.push({path:"/micro_sho/modifyname"})},openChangeImgPopup:function(e){var t=this;this.faceOrBack=1==e?1:2,6==this.$store.state.webtype?o.a.chooseImg().then((function(e){1==t.faceOrBack?(t.mall.pictureUrl=e.imgUrl,t.frontOfId=e.imgUrl):(t.mall.backgroundImgUrl=e.imgUrl,t.backOfId=e.imgUrl),t.commit()})):this.showFaceBackImg=!0},onSelect:function(e){this.showFaceBackImg=!1,"拍照"==e.name?this.getImg("2"):"相册"==e.name&&this.getImg("1")},getImg:function(e){var t=this;this.$bridgefunc.getPhoto(e,(function(e){t.updateImg(e);var a="data:image/jpg;base64,"+e;1==t.faceOrBack?t.mall.pictureUrl=a:t.mall.backgroundImgUrl=a}))},updateImg:function(e){var t=this,a={base64File:e,fileType:"jpg",fileName:"id-card-img",bucketName:"default_file"};this.$Loading.open("保存中..."),this.$http.post("/uploadFile",a).then((function(e){t.$Loading.close();var a=e.data;0==a.status?1==t.faceOrBack?(t.frontOfId=a.data,t.commit()):(t.backOfId=a.data,t.commit()):t.$Toast(a.info)}),(function(e){t.$Loading.close(),t.$Toast("上传图片失败")}))},commit:function(){var e=this,t=this;console.log(t.getPutaggregate.id);var a={token:this.$store.state.login.token,id:t.getPutaggregate.id,storeName:"",pictureUrl:t.frontOfId,backgroundImgUrl:t.backOfId,storeProfile:"",card:""};t.modifyafterData(a).then((function(a){"success"===a.data.result?(e.getPutaggregate.pictureUrl=t.frontOfId,e.getPutaggregate.backgroundImgUrl=t.backOfId,s.a.commit("putaggregate",e.getPutaggregate)):Object(r.a)(a.data.info)}))},previewData:function(){this.$router.push({name:"micro_sho/preview",params:{mall:this.mall}})}}},p=(a("DJUa"),a("KHd+")),l=Object(p.a)(d,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"body"},[a("nav-top",{attrs:{title:"店铺装修"},on:{backEvent:function(t){return e.$router.go(-1)}}},[a("div",{staticClass:"shareBox",on:{click:e.previewData}},[e._v("预览")])]),e._v(" "),a("nav-content",[a("van-cell-group",[a("div",{staticClass:"selectDiv",on:{click:e.changeName}},[a("van-field",{attrs:{label:"店铺名称",readonly:!0,placeholder:"店铺名称"},model:{value:e.mall.storeName,callback:function(t){e.$set(e.mall,"storeName",t)},expression:"mall.storeName"}}),e._v(" "),e.disabled?e._e():a("span",{staticClass:"iconfont mall-gengduojiantou"})],1),e._v(" "),a("div",{staticClass:"selectDiv",on:{click:e.changeProfile}},[a("van-field",{attrs:{readonly:!0,label:"店铺简介",placeholder:"店铺简介"},model:{value:e.mall.storeProfile,callback:function(t){e.$set(e.mall,"storeProfile",t)},expression:"mall.storeProfile"}}),e._v(" "),e.disabled?e._e():a("span",{staticClass:"iconfont mall-gengduojiantou"})],1),e._v(" "),1==e.$store.state.globalConfig.microshop_open?a("router-link",{staticClass:"link",attrs:{to:{path:"/micro_sho/bank",query:{card:e.mall.card,bankName:e.mall.bankName}}}},[a("div",{staticClass:"selectDiv"},[a("van-field",{attrs:{readonly:!0,label:"我的银行卡"},model:{value:e.mall.card,callback:function(t){e.$set(e.mall,"card",t)},expression:"mall.card"}}),e._v(" "),a("span",{staticClass:"iconfont mall-gengduojiantou"})],1)]):e._e(),e._v(" "),a("div",{staticClass:"selectDiv",on:{click:function(t){return e.openChangeImgPopup(1)}}},[a("van-field",{attrs:{type:"tel",label:"店铺头像",disabled:""}}),e._v(" "),a("img",{staticClass:"img1",attrs:{src:e.mall.pictureUrl,alt:""}}),e._v(" "),a("span",{staticClass:"iconfont mall-gengduojiantou"})],1),e._v(" "),a("div",{staticClass:"selectDiv",on:{click:function(t){return e.openChangeImgPopup(2)}}},[a("van-field",{attrs:{label:"店铺背景",disabled:""}}),e._v(" "),a("img",{staticClass:"img1",attrs:{src:e.mall.backgroundImgUrl,alt:""}}),e._v(" "),a("span",{staticClass:"iconfont mall-gengduojiantou"})],1)],1),e._v(" "),a("van-action-sheet",{attrs:{actions:e.actions},on:{select:e.onSelect},model:{value:e.showFaceBackImg,callback:function(t){e.showFaceBackImg=t},expression:"showFaceBackImg"}})],1)],1)}),[],!1,null,"764dd481",null);t.default=l.exports},q4aI:function(e,t,a){"use strict";a.r(t);var r=a("L2JU"),i={name:"authentication",data:function(){return{value:"",licenseNoError:"",active:0,parameterUrl:"",certificateCheck:!1,isVerification:!1,popupCard:!1,uploadData:{isShowUpload:!1},certificateObj:{imgFront:"",imgBehind:"",name:"",idcardNum:"",valid:"",sex:""},cardObj:{card:"",bank:"",bankName:"",cardName:"",cardType:"",info:""},certification:{certificationFlag:"2",verifyCardFlag:"",openFlag:"1"}}},computed:(Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e})({},Object(r.e)(["globalConfig"])),mounted:function(){this.certificateCheck=2==this.globalConfig.certificate_check_type,this.isCheckIdentifyAllDetail()},beforeDestroy:function(){},methods:{isCheckIdentifyAllDetail:function(){var e=this;this.$request.post("/app/json/user/checkIdentifyAllDetail").then((function(t){if(0===t.status){var a=t.data;if(a.isCertificate)e.active=2,e.saveBankInfoBtn();else if(e.active=0,Object.keys(a.usercertificate).length){var r=a.usercertificate;e.certificateObj={imgFront:r.imgFront,imgBehind:r.imgBehind,name:r.name,idcardNum:r.idcardNum,valid:r.valid,sex:r.sex},e.$set(e.certificateObj,"examineState",r.examineState)}}else e.$Toast(t.info?t.info:"获取身份信息失败")}))},checklicenseNo:function(e){/^[0-9]*$/.test(e)?this.licenseNoError="":this.licenseNoError="请输入正确的卡号"},backEvent:function(){this.$router.go(-1)},openingBtn:function(){0==this.active?this.identifySubmmit():this.active},takePictures:function(e,t){this.parameterUrl=t,this.uploadData.type=e,this.uploadData.isShowUpload=!0},picturesData:function(e,t){if(this.certificateCheck){var a=0;"imgFront"==this.parameterUrl?a=0:"imgBehind"==this.parameterUrl&&(a=1),this.ocrCertificate(a,t,e)}else this.certificateObj[this.parameterUrl]=e},ocrCertificate:function(e,t,a){var r=this;this.$request.post("/app/json/ocr/ocrCertificate",{ocrType:e,base64Str:t}).then((function(t){var i=t.data;0===t.status?(r.certificateObj[r.parameterUrl]=a,0==e?(r.certificateObj.idcardNum=i.idno,r.certificateObj.name=i.name,r.certificateObj.valid=i.valid):r.certificateObj.valid=i.valid):r.$toast(t.info||"识别失败！")}))},onCancel:function(){this.uploadData.isShowUpload=!1},identifySubmmit:function(){var e=this;""==this.certificateObj.imgFront?this.$Toast("请上传身份证正面"):""==this.certificateObj.imgBehind?this.$Toast("请上传身份证反面"):""==this.certificateObj.name?this.$Toast("请输入姓名"):""!=this.certificateObj.idcardNum&&this.regIdNo(this.certificateObj.idcardNum)?""==this.certificateObj.valid?this.$Toast("请输入身份证号有效期"):(this.certificateObj.sex=this.gender(this.certificateObj.idcardNum),this.$request.post("/app/json/user/identifySubmmit",this.certificateObj).then((function(t){0===t.status?(e.$Toast("提交身份信息成功"),e.active=2):e.$Toast(t.info?t.info:"提交身份信息失败")}))):this.$Toast("请输入身份证号或输入正确的身份证号")},verificationCardBtn:function(){var e=this;this.cardObj.card&&!this.licenseNoError&&("error"==function(e){var t={DC:"储蓄卡",CC:"信用卡",SCC:"准贷记卡",PC:"预付费卡"};function a(e,t){var a,r={};for(a in t=t||{},e=e||{})e.hasOwnProperty(a)&&(r[a]=e[a]);for(a in t)t.hasOwnProperty(a)&&(r[a]=t[a]);return r}function r(e){if(t[e])return t[e]}var i=[{bankName:"中国邮政储蓄银行",bankCode:"PSBC",patterns:[{reg:/^(621096|621098|622150|622151|622181|622188|622199|955100|621095|620062|621285|621798|621799|621797|620529|621622|621599|621674|623218|623219)\d{13}$/g,cardType:"DC"},{reg:/^(62215049|62215050|62215051|62218850|62218851|62218849)\d{11}$/g,cardType:"DC"},{reg:/^(622812|622810|622811|628310|625919)\d{10}$/g,cardType:"CC"}]},{bankName:"中国工商银行",bankCode:"ICBC",patterns:[{reg:/^(620200|620302|620402|620403|620404|620406|620407|620409|620410|620411|620412|620502|620503|620405|620408|620512|620602|620604|620607|620611|620612|620704|620706|620707|620708|620709|620710|620609|620712|620713|620714|620802|620711|620904|620905|621001|620902|621103|621105|621106|621107|621102|621203|621204|621205|621206|621207|621208|621209|621210|621302|621303|621202|621305|621306|621307|621309|621311|621313|621211|621315|621304|621402|621404|621405|621406|621407|621408|621409|621410|621502|621317|621511|621602|621603|621604|621605|621608|621609|621610|621611|621612|621613|621614|621615|621616|621617|621607|621606|621804|621807|621813|621814|621817|621901|621904|621905|621906|621907|621908|621909|621910|621911|621912|621913|621915|622002|621903|622004|622005|622006|622007|622008|622010|622011|622012|621914|622015|622016|622003|622018|622019|622020|622102|622103|622104|622105|622013|622111|622114|622017|622110|622303|622304|622305|622306|622307|622308|622309|622314|622315|622317|622302|622402|622403|622404|622313|622504|622505|622509|622513|622517|622502|622604|622605|622606|622510|622703|622715|622806|622902|622903|622706|623002|623006|623008|623011|623012|622904|623015|623100|623202|623301|623400|623500|623602|623803|623901|623014|624100|624200|624301|624402|623700|624000)\d{12}$/g,cardType:"DC"},{reg:/^(622200|622202|622203|622208|621225|620058|621281|900000|621558|621559|621722|621723|620086|621226|621618|620516|621227|621288|621721|900010|623062|621670|621720|621379|621240|621724|621762|621414|621375|622926|622927|622928|622929|622930|622931|621733|621732|621372|621369|621763)\d{13}$/g,cardType:"DC"},{reg:/^(402791|427028|427038|548259|621376|621423|621428|621434|621761|621749|621300|621378|622944|622949|621371|621730|621734|621433|621370|621764|621464|621765|621750|621377|621367|621374|621731|621781)\d{10}$/g,cardType:"DC"},{reg:/^(9558)\d{15}$/g,cardType:"DC"},{reg:/^(370246|370248|370249|370247|370267|374738|374739)\d{9}$/g,cardType:"CC"},{reg:/^(427010|427018|427019|427020|427029|427030|427039|438125|438126|451804|451810|451811|458071|489734|489735|489736|510529|427062|524091|427064|530970|530990|558360|524047|525498|622230|622231|622232|622233|622234|622235|622237|622239|622240|622245|622238|451804|451810|451811|458071|628288|628286|622206|526836|513685|543098|458441|622246|544210|548943|356879|356880|356881|356882|528856|625330|625331|625332|622236|524374|550213|625929|625927|625939|625987|625930|625114|622159|625021|625022|625932|622889|625900|625915|625916|622171|625931|625113|625928|625914|625986|625925|625921|625926|625942|622158|625917|625922|625934|625933|625920|625924|625017|625018|625019)\d{10}$/g,cardType:"CC"},{reg:/^(45806|53098|45806|53098)\d{11}$/g,cardType:"CC"},{reg:/^(622210|622211|622212|622213|622214|622220|622223|622225|622229|622215|622224)\d{10}$/g,cardType:"SCC"},{reg:/^(620054|620142|620184|620030|620050|620143|620149|620124|620183|620094|620186|620148|620185)\d{10}$/g,cardType:"PC"},{reg:/^(620114|620187|620046)\d{13}$/g,cardType:"PC"}]},{bankName:"中国农业银行",bankCode:"ABC",patterns:[{reg:/^(622841|622824|622826|622848|620059|621282|622828|622823|621336|621619|622821|622822|622825|622827|622845|622849|623018|623206|621671|622840|622843|622844|622846|622847|620501)\d{13}$/g,cardType:"DC"},{reg:/^(95595|95596|95597|95598|95599)\d{14}$/g,cardType:"DC"},{reg:/^(103)\d{16}$/g,cardType:"DC"},{reg:/^(403361|404117|404118|404119|404120|404121|463758|519412|519413|520082|520083|552599|558730|514027|622836|622837|628268|625996|625998|625997|622838|625336|625826|625827|544243|548478|628269)\d{10}$/g,cardType:"CC"},{reg:/^(622820|622830)\d{10}$/g,cardType:"SCC"}]},{bankName:"中国银行",bankCode:"BOC",patterns:[{reg:/^(621660|621661|621662|621663|621665|621667|621668|621669|621666|456351|601382|621256|621212|621283|620061|621725|621330|621331|621332|621333|621297|621568|621569|621672|623208|621620|621756|621757|621758|621759|621785|621786|621787|621788|621789|621790|622273|622274|622771|622772|622770|621741|621041)\d{13}$/g,cardType:"DC"},{reg:/^(621293|621294|621342|621343|621364|621394|621648|621248|621215|621249|621231|621638|621334|621395|623040|622348)\d{10}$/g,cardType:"DC"},{reg:/^(625908|625910|625909|356833|356835|409665|409666|409668|409669|409670|409671|409672|512315|512316|512411|512412|514957|409667|438088|552742|553131|514958|622760|628388|518377|622788|628313|628312|622750|622751|625145|622479|622480|622789|625140|622346|622347)\d{10}$/g,cardType:"CC"},{reg:/^(518378|518379|518474|518475|518476|524865|525745|525746|547766|558868|622752|622753|622755|524864|622757|622758|622759|622761|622762|622763|622756|622754|622764|622765|558869|625905|625906|625907|625333)\d{10}$/g,cardType:"SCC"},{reg:/^(53591|49102|377677)\d{11}$/g,cardType:"SCC"},{reg:/^(620514|620025|620026|620210|620211|620019|620035|620202|620203|620048|620515|920000)\d{10}$/g,cardType:"PC"},{reg:/^(620040|620531|620513|921000|620038)\d{13}$/g,cardType:"PC"}]},{bankName:"中国建设银行",bankCode:"CCB",patterns:[{reg:/^(621284|436742|589970|620060|621081|621467|621598|621621|621700|622280|622700|623211|623668)\d{13}$/g,cardType:"DC"},{reg:/^(421349|434061|434062|524094|526410|552245|621080|621082|621466|621488|621499|622966|622988|622382|621487|621083|621084|620107)\d{10}$/g,cardType:"DC"},{reg:/^(436742193|622280193)\d{10}$/g,cardType:"DC"},{reg:/^(553242)\d{12}$/g,cardType:"CC"},{reg:/^(625362|625363|628316|628317|356896|356899|356895|436718|436738|436745|436748|489592|531693|532450|532458|544887|552801|557080|558895|559051|622166|622168|622708|625964|625965|625966|628266|628366|622381|622675|622676|622677)\d{10}$/g,cardType:"CC"},{reg:/^(5453242|5491031|5544033)\d{11}$/g,cardType:"CC"},{reg:/^(622725|622728|436728|453242|491031|544033|622707|625955|625956)\d{10}$/g,cardType:"SCC"},{reg:/^(53242|53243)\d{11}$/g,cardType:"SCC"}]},{bankName:"中国交通银行",bankCode:"COMM",patterns:[{reg:/^(622261|622260|622262|621002|621069|621436|621335)\d{13}$/g,cardType:"DC"},{reg:/^(620013)\d{10}$/g,cardType:"DC"},{reg:/^(405512|601428|405512|601428|622258|622259|405512|601428)\d{11}$/g,cardType:"DC"},{reg:/^(49104|53783)\d{11}$/g,cardType:"CC"},{reg:/^(434910|458123|458124|520169|522964|552853|622250|622251|521899|622253|622656|628216|622252|955590|955591|955592|955593|628218|625028|625029)\d{10}$/g,cardType:"CC"},{reg:/^(622254|622255|622256|622257|622284)\d{10}$/g,cardType:"SCC"},{reg:/^(620021|620521)\d{13}$/g,cardType:"PC"}]},{bankName:"招商银行",bankCode:"CMB",patterns:[{reg:/^(402658|410062|468203|512425|524011|622580|622588|622598|622609|95555|621286|621483|621485|621486|621299)\d{10}$/g,cardType:"DC"},{reg:/^(690755)\d{9}$/g,cardType:"DC"},{reg:/^(690755)\d{12}$/g,cardType:"DC"},{reg:/^(356885|356886|356887|356888|356890|439188|439227|479228|479229|521302|356889|545620|545621|545947|545948|552534|552587|622575|622576|622577|622578|622579|545619|622581|622582|545623|628290|439225|518710|518718|628362|439226|628262|625802|625803)\d{10}$/g,cardType:"CC"},{reg:/^(370285|370286|370287|370289)\d{9}$/g,cardType:"CC"},{reg:/^(620520)\d{13}$/g,cardType:"PC"}]},{bankName:"中国民生银行",bankCode:"CMBC",patterns:[{reg:/^(622615|622616|622618|622622|622617|622619|415599|421393|421865|427570|427571|472067|472068|622620)\d{10}$/g,cardType:"DC"},{reg:/^(545392|545393|545431|545447|356859|356857|407405|421869|421870|421871|512466|356856|528948|552288|622600|622601|622602|517636|622621|628258|556610|622603|464580|464581|523952|545217|553161|356858|622623|625912|625913|625911)\d{10}$/g,cardType:"CC"},{reg:/^(377155|377152|377153|377158)\d{9}$/g,cardType:"CC"}]},{bankName:"中国光大银行",bankCode:"CEB",patterns:[{reg:/^(303)\d{13}$/g,cardType:"DC"},{reg:/^(90030)\d{11}$/g,cardType:"DC"},{reg:/^(620535)\d{13}$/g,cardType:"DC"},{reg:/^(620085|622660|622662|622663|622664|622665|622666|622667|622669|622670|622671|622672|622668|622661|622674|622673|620518|621489|621492)\d{10}$/g,cardType:"DC"},{reg:/^(356837|356838|486497|622657|622685|622659|622687|625978|625980|625981|625979|356839|356840|406252|406254|425862|481699|524090|543159|622161|622570|622650|622655|622658|625975|625977|628201|628202|625339|625976)\d{10}$/g,cardType:"CC"}]},{bankName:"中信银行",bankCode:"CITIC",patterns:[{reg:/^(433670|433680|442729|442730|620082|622690|622691|622692|622696|622698|622998|622999|433671|968807|968808|968809|621771|621767|621768|621770|621772|621773|622453|622456)\d{10}$/g,cardType:"DC"},{reg:/^(622459)\d{11}$/g,cardType:"DC"},{reg:/^(376968|376969|376966)\d{9}$/g,cardType:"CC"},{reg:/^(400360|403391|403392|404158|404159|404171|404172|404173|404174|404157|433667|433668|433669|514906|403393|520108|433666|558916|622678|622679|622680|622688|622689|628206|556617|628209|518212|628208|356390|356391|356392|622916|622918|622919)\d{10}$/g,cardType:"CC"}]},{bankName:"华夏银行",bankCode:"HXBANK",patterns:[{reg:/^(622630|622631|622632|622633|999999|621222|623020|623021|623022|623023)\d{10}$/g,cardType:"DC"},{reg:/^(523959|528709|539867|539868|622637|622638|628318|528708|622636|625967|625968|625969)\d{10}$/g,cardType:"CC"}]},{bankName:"深发/平安银行",bankCode:"SPABANK",patterns:[{reg:/^(621626|623058)\d{13}$/g,cardType:"DC"},{reg:/^(602907|622986|622989|622298|627069|627068|627066|627067|412963|415752|415753|622535|622536|622538|622539|998800|412962|622983)\d{10}$/g,cardType:"DC"},{reg:/^(531659|622157|528020|622155|622156|526855|356869|356868|625360|625361|628296|435744|435745|483536|622525|622526|998801|998802)\d{10}$/g,cardType:"CC"},{reg:/^(620010)\d{10}$/g,cardType:"PC"}]},{bankName:"兴业银行",bankCode:"CIB",patterns:[{reg:/^(438589)\d{12}$/g,cardType:"DC"},{reg:/^(90592)\d{11}$/g,cardType:"DC"},{reg:/^(966666|622909|438588|622908)\d{12}$/g,cardType:"DC"},{reg:/^(461982|486493|486494|486861|523036|451289|527414|528057|622901|622902|622922|628212|451290|524070|625084|625085|625086|625087|548738|549633|552398|625082|625083|625960|625961|625962|625963)\d{10}$/g,cardType:"CC"},{reg:/^(620010)\d{10}$/g,cardType:"PC"}]},{bankName:"上海银行",bankCode:"SHBANK",patterns:[{reg:/^(621050|622172|622985|622987|620522|622267|622278|622279|622468|622892|940021)\d{12}$/g,cardType:"DC"},{reg:/^(438600)\d{10}$/g,cardType:"DC"},{reg:/^(356827|356828|356830|402673|402674|486466|519498|520131|524031|548838|622148|622149|622268|356829|622300|628230|622269|625099|625953)\d{10}$/g,cardType:"CC"}]},{bankName:"浦东发展银行",bankCode:"SPDB",patterns:[{reg:/^(622516|622517|622518|622521|622522|622523|984301|984303|621352|621793|621795|621796|621351|621390|621792|621791)\d{10}$/g,cardType:"DC"},{reg:/^(84301|84336|84373|84385|84390|87000|87010|87030|87040|84380|84361|87050|84342)\d{11}$/g,cardType:"DC"},{reg:/^(356851|356852|404738|404739|456418|498451|515672|356850|517650|525998|622177|622277|628222|622500|628221|622176|622276|622228|625957|625958|625993|625831)\d{10}$/g,cardType:"CC"},{reg:/^(622520|622519)\d{10}$/g,cardType:"SCC"},{reg:/^(620530)\d{13}$/g,cardType:"PC"}]},{bankName:"广发银行",bankCode:"GDB",patterns:[{reg:/^(622516|622517|622518|622521|622522|622523|984301|984303|621352|621793|621795|621796|621351|621390|621792|621791)\d{10}$/g,cardType:"DC"},{reg:/^(622568|6858001|6858009|621462)\d{13}$/g,cardType:"DC"},{reg:/^(9111)\d{15}$/g,cardType:"DC"},{reg:/^(406365|406366|428911|436768|436769|436770|487013|491032|491033|491034|491035|491036|491037|491038|436771|518364|520152|520382|541709|541710|548844|552794|493427|622555|622556|622557|622558|622559|622560|528931|558894|625072|625071|628260|628259|625805|625806|625807|625808|625809|625810)\d{10}$/g,cardType:"CC"},{reg:/^(685800|6858000)\d{13}$/g,cardType:"CC"}]},{bankName:"渤海银行",bankCode:"BOHAIB",patterns:[{reg:/^(621268|622684|622884|621453)\d{10}$/g,cardType:"DC"}]},{bankName:"广州银行",bankCode:"GCB",patterns:[{reg:/^(603445|622467|940016|621463)\d{13}$/g,cardType:"DC"}]},{bankName:"金华银行",bankCode:"JHBANK",patterns:[{reg:/^(622449|940051)\d{10}$/g,cardType:"DC"},{reg:/^(622450|628204)\d{10}$/g,cardType:"CC"}]},{bankName:"温州银行",bankCode:"WZCB",patterns:[{reg:/^(621977)\d{10}$/g,cardType:"DC"},{reg:/^(622868|622899|628255)\d{10}$/g,cardType:"CC"}]},{bankName:"徽商银行",bankCode:"HSBANK",patterns:[{reg:/^(622877|622879|621775|623203)\d{13}$/g,cardType:"DC"},{reg:/^(603601|622137|622327|622340|622366)\d{11}$/g,cardType:"DC"},{reg:/^(628251|622651|625828)\d{10}$/g,cardType:"CC"}]},{bankName:"江苏银行",bankCode:"JSBANK",patterns:[{reg:/^(621076|622173|622131|621579|622876)\d{13}$/g,cardType:"DC"},{reg:/^(504923|622422|622447|940076)\d{10}$/g,cardType:"DC"},{reg:/^(628210|622283|625902)\d{10}$/g,cardType:"CC"}]},{bankName:"南京银行",bankCode:"NJCB",patterns:[{reg:/^(621777|622305|621259)\d{10}$/g,cardType:"DC"},{reg:/^(622303|628242|622595|622596)\d{10}$/g,cardType:"CC"}]},{bankName:"宁波银行",bankCode:"NBBANK",patterns:[{reg:/^(621279|622281|622316|940022)\d{10}$/g,cardType:"DC"},{reg:/^(621418)\d{13}$/g,cardType:"DC"},{reg:/^(625903|622778|628207|512431|520194|622282|622318)\d{10}$/g,cardType:"CC"}]},{bankName:"北京银行",bankCode:"BJBANK",patterns:[{reg:/^(623111|421317|422161|602969|422160|621030|621420|621468)\d{10}$/g,cardType:"DC"},{reg:/^(522001|622163|622853|628203|622851|622852)\d{10}$/g,cardType:"CC"}]},{bankName:"北京农村商业银行",bankCode:"BJRCB",patterns:[{reg:/^(620088|621068|622138|621066|621560)\d{13}$/g,cardType:"DC"},{reg:/^(625526|625186|628336)\d{10}$/g,cardType:"CC"}]},{bankName:"汇丰银行",bankCode:"HSBC",patterns:[{reg:/^(622946)\d{10}$/g,cardType:"DC"},{reg:/^(622406|621442)\d{11}$/g,cardType:"DC"},{reg:/^(622407|621443)\d{13}$/g,cardType:"DC"},{reg:/^(622360|622361|625034|625096|625098)\d{10}$/g,cardType:"CC"}]},{bankName:"渣打银行",bankCode:"SCB",patterns:[{reg:/^(622948|621740|622942|622994)\d{10}$/g,cardType:"DC"},{reg:/^(622482|622483|622484)\d{10}$/g,cardType:"CC"}]},{bankName:"花旗银行",bankCode:"CITI",patterns:[{reg:/^(621062|621063)\d{10}$/g,cardType:"DC"},{reg:/^(625076|625077|625074|625075|622371|625091)\d{10}$/g,cardType:"CC"}]},{bankName:"东亚银行",bankCode:"HKBEA",patterns:[{reg:/^(622933|622938|623031|622943|621411)\d{13}$/g,cardType:"DC"},{reg:/^(622372|622471|622472|622265|622266|625972|625973)\d{10}$/g,cardType:"CC"},{reg:/^(622365)\d{11}$/g,cardType:"CC"}]},{bankName:"广东华兴银行",bankCode:"GHB",patterns:[{reg:/^(621469|621625)\d{13}$/g,cardType:"DC"}]},{bankName:"深圳农村商业银行",bankCode:"SRCB",patterns:[{reg:/^(622128|622129|623035)\d{10}$/g,cardType:"DC"}]},{bankName:"广州农村商业银行股份有限公司",bankCode:"GZRCU",patterns:[{reg:/^(909810|940035|621522|622439)\d{12}$/g,cardType:"DC"}]},{bankName:"东莞农村商业银行",bankCode:"DRCBCL",patterns:[{reg:/^(622328|940062|623038)\d{13}$/g,cardType:"DC"},{reg:/^(625288|625888)\d{10}$/g,cardType:"CC"}]},{bankName:"东莞市商业银行",bankCode:"BOD",patterns:[{reg:/^(622333|940050)\d{10}$/g,cardType:"DC"},{reg:/^(621439|623010)\d{13}$/g,cardType:"DC"},{reg:/^(622888)\d{10}$/g,cardType:"CC"}]},{bankName:"广东省农村信用社联合社",bankCode:"GDRCC",patterns:[{reg:/^(622302)\d{10}$/g,cardType:"DC"},{reg:/^(622477|622509|622510|622362|621018|621518)\d{13}$/g,cardType:"DC"}]},{bankName:"大新银行",bankCode:"DSB",patterns:[{reg:/^(622297|621277)\d{10}$/g,cardType:"DC"},{reg:/^(622375|622489)\d{11}$/g,cardType:"DC"},{reg:/^(622293|622295|622296|622373|622451|622294|625940)\d{10}$/g,cardType:"CC"}]},{bankName:"永亨银行",bankCode:"WHB",patterns:[{reg:/^(622871|622958|622963|622957|622861|622932|622862|621298)\d{10}$/g,cardType:"DC"},{reg:/^(622798|625010|622775|622785)\d{10}$/g,cardType:"CC"}]},{bankName:"星展银行香港有限公司",bankCode:"DBS",patterns:[{reg:/^(621016|621015)\d{13}$/g,cardType:"DC"},{reg:/^(622487|622490|622491|622492)\d{10}$/g,cardType:"DC"},{reg:/^(622487|622490|622491|622492|621744|621745|621746|621747)\d{11}$/g,cardType:"DC"}]},{bankName:"恒丰银行",bankCode:"EGBANK",patterns:[{reg:/^(623078)\d{13}$/g,cardType:"DC"},{reg:/^(622384|940034)\d{11}$/g,cardType:"DC"}]},{bankName:"天津市商业银行",bankCode:"TCCB",patterns:[{reg:/^(940015|622331)\d{12}$/g,cardType:"DC"},{reg:/^(6091201)\d{11}$/g,cardType:"DC"},{reg:/^(622426|628205)\d{10}$/g,cardType:"CC"}]},{bankName:"浙商银行",bankCode:"CZBANK",patterns:[{reg:/^(621019|622309|621019)\d{13}$/g,cardType:"DC"},{reg:/^(6223091100|6223092900|6223093310|6223093320|6223093330|6223093370|6223093380|6223096510|6223097910)\d{9}$/g,cardType:"DC"}]},{bankName:"南洋商业银行",bankCode:"NCB",patterns:[{reg:/^(621213|621289|621290|621291|621292|621042|621743)\d{13}$/g,cardType:"DC"},{reg:/^(623041|622351)\d{10}$/g,cardType:"DC"},{reg:/^(625046|625044|625058|622349|622350)\d{10}$/g,cardType:"CC"},{reg:/^(620208|620209|625093|625095)\d{10}$/g,cardType:"PC"}]},{bankName:"厦门银行",bankCode:"XMBANK",patterns:[{reg:/^(622393|940023)\d{10}$/g,cardType:"DC"},{reg:/^(6886592)\d{11}$/g,cardType:"DC"},{reg:/^(623019|621600|)\d{13}$/g,cardType:"DC"}]},{bankName:"福建海峡银行",bankCode:"FJHXBC",patterns:[{reg:/^(622388)\d{10}$/g,cardType:"DC"},{reg:/^(621267|623063)\d{12}$/g,cardType:"DC"},{reg:/^(620043|)\d{12}$/g,cardType:"PC"}]},{bankName:"吉林银行",bankCode:"JLBANK",patterns:[{reg:/^(622865|623131)\d{13}$/g,cardType:"DC"},{reg:/^(940012)\d{10}$/g,cardType:"DC"},{reg:/^(622178|622179|628358)\d{10}$/g,cardType:"CC"}]},{bankName:"汉口银行",bankCode:"HKB",patterns:[{reg:/^(990027)\d{12}$/g,cardType:"DC"},{reg:/^(622325|623105|623029)\d{10}$/g,cardType:"DC"}]},{bankName:"盛京银行",bankCode:"SJBANK",patterns:[{reg:/^(566666)\d{12}$/g,cardType:"DC"},{reg:/^(622455|940039)\d{13}$/g,cardType:"DC"},{reg:/^(623108|623081)\d{10}$/g,cardType:"DC"},{reg:/^(622466|628285)\d{10}$/g,cardType:"CC"}]},{bankName:"大连银行",bankCode:"DLB",patterns:[{reg:/^(603708)\d{11}$/g,cardType:"DC"},{reg:/^(622993|623069|623070|623172|623173)\d{13}$/g,cardType:"DC"},{reg:/^(622383|622385|628299)\d{10}$/g,cardType:"CC"}]},{bankName:"河北银行",bankCode:"BHB",patterns:[{reg:/^(622498|622499|623000|940046)\d{13}$/g,cardType:"DC"},{reg:/^(622921|628321)\d{10}$/g,cardType:"CC"}]},{bankName:"乌鲁木齐市商业银行",bankCode:"URMQCCB",patterns:[{reg:/^(621751|622143|940001|621754)\d{13}$/g,cardType:"DC"},{reg:/^(622476|628278)\d{10}$/g,cardType:"CC"}]},{bankName:"绍兴银行",bankCode:"SXCB",patterns:[{reg:/^(622486)\d{10}$/g,cardType:"DC"},{reg:/^(603602|623026|623086)\d{12}$/g,cardType:"DC"},{reg:/^(628291)\d{10}$/g,cardType:"CC"}]},{bankName:"成都商业银行",bankCode:"CDCB",patterns:[{reg:/^(622152|622154|622996|622997|940027|622153|622135|621482|621532)\d{13}$/g,cardType:"DC"}]},{bankName:"抚顺银行",bankCode:"FSCB",patterns:[{reg:/^(622442)\d{11}$/g,cardType:"DC"},{reg:/^(940053)\d{12}$/g,cardType:"DC"},{reg:/^(622442|623099)\d{13}$/g,cardType:"DC"}]},{bankName:"郑州银行",bankCode:"ZZBANK",patterns:[{reg:/^(622421)\d{13}$/g,cardType:"DC"},{reg:/^(940056)\d{11}$/g,cardType:"DC"},{reg:/^(96828)\d{11}$/g,cardType:"DC"}]},{bankName:"宁夏银行",bankCode:"NXBANK",patterns:[{reg:/^(621529|622429|621417|623089|623200)\d{13}$/g,cardType:"DC"},{reg:/^(628214|625529|622428)\d{10}$/g,cardType:"CC"}]},{bankName:"重庆银行",bankCode:"CQBANK",patterns:[{reg:/^(9896)\d{12}$/g,cardType:"DC"},{reg:/^(622134|940018|623016)\d{10}$/g,cardType:"DC"}]},{bankName:"哈尔滨银行",bankCode:"HRBANK",patterns:[{reg:/^(621577|622425)\d{13}$/g,cardType:"DC"},{reg:/^(940049)\d{12}$/g,cardType:"DC"},{reg:/^(622425)\d{11}$/g,cardType:"DC"}]},{bankName:"兰州银行",bankCode:"LZYH",patterns:[{reg:/^(622139|940040|628263)\d{10}$/g,cardType:"DC"},{reg:/^(621242|621538|621496)\d{13}$/g,cardType:"DC"}]},{bankName:"青岛银行",bankCode:"QDCCB",patterns:[{reg:/^(621252|622146|940061|628239)\d{10}$/g,cardType:"DC"},{reg:/^(621419|623170)\d{13}$/g,cardType:"DC"}]},{bankName:"秦皇岛市商业银行",bankCode:"QHDCCB",patterns:[{reg:/^(62249802|94004602)\d{11}$/g,cardType:"DC"},{reg:/^(621237|623003)\d{13}$/g,cardType:"DC"}]},{bankName:"青海银行",bankCode:"BOQH",patterns:[{reg:/^(622310|940068)\d{11}$/g,cardType:"DC"},{reg:/^(622817|628287|625959)\d{10}$/g,cardType:"CC"},{reg:/^(62536601)\d{8}$/g,cardType:"CC"}]},{bankName:"台州银行",bankCode:"TZCB",patterns:[{reg:/^(622427)\d{10}$/g,cardType:"DC"},{reg:/^(940069)\d{11}$/g,cardType:"DC"},{reg:/^(623039)\d{13}$/g,cardType:"DC"},{reg:/^(622321|628273)\d{10}$/g,cardType:"CC"},{reg:/^(625001)\d{10}$/g,cardType:"SCC"}]},{bankName:"长沙银行",bankCode:"CSCB",patterns:[{reg:/^(694301)\d{12}$/g,cardType:"DC"},{reg:/^(940071|622368|621446)\d{13}$/g,cardType:"DC"},{reg:/^(625901|622898|622900|628281|628282|622806|628283)\d{10}$/g,cardType:"CC"},{reg:/^(620519)\d{13}$/g,cardType:"PC"}]},{bankName:"泉州银行",bankCode:"BOQZ",patterns:[{reg:/^(683970|940074)\d{12}$/g,cardType:"DC"},{reg:/^(622370)\d{13}$/g,cardType:"DC"},{reg:/^(621437)\d{13}$/g,cardType:"DC"},{reg:/^(628319)\d{10}$/g,cardType:"CC"}]},{bankName:"包商银行",bankCode:"BSB",patterns:[{reg:/^(622336|621760)\d{11}$/g,cardType:"DC"},{reg:/^(622165)\d{10}$/g,cardType:"DC"},{reg:/^(622315|625950|628295)\d{10}$/g,cardType:"CC"}]},{bankName:"龙江银行",bankCode:"DAQINGB",patterns:[{reg:/^(621037|621097|621588|622977)\d{13}$/g,cardType:"DC"},{reg:/^(62321601)\d{11}$/g,cardType:"DC"},{reg:/^(622860)\d{10}$/g,cardType:"DC"},{reg:/^(622644|628333)\d{10}$/g,cardType:"CC"}]},{bankName:"上海农商银行",bankCode:"SHRCB",patterns:[{reg:/^(622478|940013|621495)\d{10}$/g,cardType:"DC"},{reg:/^(625500)\d{10}$/g,cardType:"SCC"},{reg:/^(622611|622722|628211|625989)\d{10}$/g,cardType:"CC"}]},{bankName:"浙江泰隆商业银行",bankCode:"ZJQL",patterns:[{reg:/^(622717)\d{10}$/g,cardType:"SCC"},{reg:/^(628275|622565|622287)\d{10}$/g,cardType:"CC"}]},{bankName:"内蒙古银行",bankCode:"H3CB",patterns:[{reg:/^(622147|621633)\d{13}$/g,cardType:"DC"},{reg:/^(628252)\d{10}$/g,cardType:"CC"}]},{bankName:"广西北部湾银行",bankCode:"BGB",patterns:[{reg:/^(623001)\d{10}$/g,cardType:"DC"},{reg:/^(628227)\d{10}$/g,cardType:"CC"}]},{bankName:"桂林银行",bankCode:"GLBANK",patterns:[{reg:/^(621456)\d{11}$/g,cardType:"DC"},{reg:/^(621562)\d{13}$/g,cardType:"DC"},{reg:/^(628219)\d{10}$/g,cardType:"CC"}]},{bankName:"龙江银行",bankCode:"DAQINGB",patterns:[{reg:/^(621037|621097|621588|622977)\d{13}$/g,cardType:"DC"},{reg:/^(62321601)\d{11}$/g,cardType:"DC"},{reg:/^(622475|622860)\d{10}$/g,cardType:"DC"},{reg:/^(625588)\d{10}$/g,cardType:"SCC"},{reg:/^(622270|628368|625090|622644|628333)\d{10}$/g,cardType:"CC"}]},{bankName:"成都农村商业银行",bankCode:"CDRCB",patterns:[{reg:/^(623088)\d{13}$/g,cardType:"DC"},{reg:/^(622829|628301|622808|628308)\d{10}$/g,cardType:"CC"}]},{bankName:"福建省农村信用社联合社",bankCode:"FJNX",patterns:[{reg:/^(622127|622184|621701|621251|621589|623036)\d{13}$/g,cardType:"DC"},{reg:/^(628232|622802|622290)\d{10}$/g,cardType:"CC"}]},{bankName:"天津农村商业银行",bankCode:"TRCB",patterns:[{reg:/^(622531|622329)\d{13}$/g,cardType:"DC"},{reg:/^(622829|628301)\d{10}$/g,cardType:"CC"}]},{bankName:"江苏省农村信用社联合社",bankCode:"JSRCU",patterns:[{reg:/^(621578|623066|622452|622324)\d{13}$/g,cardType:"DC"},{reg:/^(622815|622816|628226)\d{10}$/g,cardType:"CC"}]},{bankName:"湖南农村信用社联合社",bankCode:"SLH",patterns:[{reg:/^(622906|628386|625519|625506)\d{10}$/g,cardType:"CC"}]},{bankName:"江西省农村信用社联合社",bankCode:"JXNCX",patterns:[{reg:/^(621592)\d{10}$/g,cardType:"DC"},{reg:/^(628392)\d{10}$/g,cardType:"CC"}]},{bankName:"商丘市商业银行",bankCode:"SCBBANK",patterns:[{reg:/^(621748)\d{13}$/g,cardType:"DC"},{reg:/^(628271)\d{10}$/g,cardType:"CC"}]},{bankName:"华融湘江银行",bankCode:"HRXJB",patterns:[{reg:/^(621366|621388)\d{13}$/g,cardType:"DC"},{reg:/^(628328)\d{10}$/g,cardType:"CC"}]},{bankName:"衡水市商业银行",bankCode:"HSBK",patterns:[{reg:/^(621239|623068)\d{13}$/g,cardType:"DC"}]},{bankName:"重庆南川石银村镇银行",bankCode:"CQNCSYCZ",patterns:[{reg:/^(621653004)\d{10}$/g,cardType:"DC"}]},{bankName:"湖南省农村信用社联合社",bankCode:"HNRCC",patterns:[{reg:/^(622169|621519|621539|623090)\d{13}$/g,cardType:"DC"}]},{bankName:"邢台银行",bankCode:"XTB",patterns:[{reg:/^(621238|620528)\d{13}$/g,cardType:"DC"}]},{bankName:"临汾市尧都区农村信用合作联社",bankCode:"LPRDNCXYS",patterns:[{reg:/^(628382|625158)\d{10}$/g,cardType:"CC"}]},{bankName:"东营银行",bankCode:"DYCCB",patterns:[{reg:/^(621004)\d{12}$/g,cardType:"DC"},{reg:/^(628217)\d{10}$/g,cardType:"CC"}]},{bankName:"上饶银行",bankCode:"SRBANK",patterns:[{reg:/^(621416)\d{10}$/g,cardType:"DC"},{reg:/^(628217)\d{10}$/g,cardType:"CC"}]},{bankName:"德州银行",bankCode:"DZBANK",patterns:[{reg:/^(622937)\d{13}$/g,cardType:"DC"},{reg:/^(628397)\d{10}$/g,cardType:"CC"}]},{bankName:"承德银行",bankCode:"CDB",patterns:[{reg:/^(628229)\d{10}$/g,cardType:"CC"}]},{bankName:"云南省农村信用社",bankCode:"YNRCC",patterns:[{reg:/^(622469|628307)\d{10}$/g,cardType:"CC"}]},{bankName:"柳州银行",bankCode:"LZCCB",patterns:[{reg:/^(622292|622291|621412)\d{12}$/g,cardType:"DC"},{reg:/^(622880|622881)\d{10}$/g,cardType:"DC"},{reg:/^(62829)\d{10}$/g,cardType:"CC"}]},{bankName:"威海市商业银行",bankCode:"WHSYBANK",patterns:[{reg:/^(623102)\d{10}$/g,cardType:"DC"},{reg:/^(628234)\d{10}$/g,cardType:"CC"}]},{bankName:"湖州银行",bankCode:"HZBANK",patterns:[{reg:/^(628306)\d{10}$/g,cardType:"CC"}]},{bankName:"潍坊银行",bankCode:"BANKWF",patterns:[{reg:/^(622391|940072)\d{10}$/g,cardType:"DC"},{reg:/^(628391)\d{10}$/g,cardType:"CC"}]},{bankName:"赣州银行",bankCode:"GZB",patterns:[{reg:/^(622967|940073)\d{13}$/g,cardType:"DC"},{reg:/^(628233)\d{10}$/g,cardType:"CC"}]},{bankName:"日照银行",bankCode:"RZGWYBANK",patterns:[{reg:/^(628257)\d{10}$/g,cardType:"CC"}]},{bankName:"南昌银行",bankCode:"NCB",patterns:[{reg:/^(621269|622275)\d{10}$/g,cardType:"DC"},{reg:/^(940006)\d{11}$/g,cardType:"DC"},{reg:/^(628305)\d{11}$/g,cardType:"CC"}]},{bankName:"贵阳银行",bankCode:"GYCB",patterns:[{reg:/^(622133|621735)\d{13}$/g,cardType:"DC"},{reg:/^(888)\d{13}$/g,cardType:"DC"},{reg:/^(628213)\d{10}$/g,cardType:"CC"}]},{bankName:"锦州银行",bankCode:"BOJZ",patterns:[{reg:/^(622990|940003)\d{11}$/g,cardType:"DC"},{reg:/^(628261)\d{10}$/g,cardType:"CC"}]},{bankName:"齐商银行",bankCode:"QSBANK",patterns:[{reg:/^(622311|940057)\d{11}$/g,cardType:"DC"},{reg:/^(628311)\d{10}$/g,cardType:"CC"}]},{bankName:"珠海华润银行",bankCode:"RBOZ",patterns:[{reg:/^(622363|940048)\d{13}$/g,cardType:"DC"},{reg:/^(628270)\d{10}$/g,cardType:"CC"}]},{bankName:"葫芦岛市商业银行",bankCode:"HLDCCB",patterns:[{reg:/^(622398|940054)\d{10}$/g,cardType:"DC"}]},{bankName:"宜昌市商业银行",bankCode:"HBC",patterns:[{reg:/^(940055)\d{11}$/g,cardType:"DC"},{reg:/^(622397)\d{11}$/g,cardType:"CC"}]},{bankName:"杭州商业银行",bankCode:"HZCB",patterns:[{reg:/^(603367|622878)\d{12}$/g,cardType:"DC"},{reg:/^(622397)\d{11}$/g,cardType:"CC"}]},{bankName:"苏州市商业银行",bankCode:"JSBANK",patterns:[{reg:/^(603506)\d{13}$/g,cardType:"DC"}]},{bankName:"辽阳银行",bankCode:"LYCB",patterns:[{reg:/^(622399|940043)\d{11}$/g,cardType:"DC"}]},{bankName:"洛阳银行",bankCode:"LYB",patterns:[{reg:/^(622420|940041)\d{11}$/g,cardType:"DC"}]},{bankName:"焦作市商业银行",bankCode:"JZCBANK",patterns:[{reg:/^(622338)\d{13}$/g,cardType:"DC"},{reg:/^(940032)\d{10}$/g,cardType:"DC"}]},{bankName:"镇江市商业银行",bankCode:"ZJCCB",patterns:[{reg:/^(622394|940025)\d{10}$/g,cardType:"DC"}]},{bankName:"法国兴业银行",bankCode:"FGXYBANK",patterns:[{reg:/^(621245)\d{10}$/g,cardType:"DC"}]},{bankName:"大华银行",bankCode:"DYBANK",patterns:[{reg:/^(621328)\d{13}$/g,cardType:"DC"}]},{bankName:"企业银行",bankCode:"DIYEBANK",patterns:[{reg:/^(621651)\d{13}$/g,cardType:"DC"}]},{bankName:"华侨银行",bankCode:"HQBANK",patterns:[{reg:/^(621077)\d{10}$/g,cardType:"DC"}]},{bankName:"恒生银行",bankCode:"HSB",patterns:[{reg:/^(622409|621441)\d{13}$/g,cardType:"DC"},{reg:/^(622410|621440)\d{11}$/g,cardType:"DC"},{reg:/^(622950|622951)\d{10}$/g,cardType:"DC"},{reg:/^(625026|625024|622376|622378|622377|625092)\d{10}$/g,cardType:"CC"}]},{bankName:"临沂商业银行",bankCode:"LSB",patterns:[{reg:/^(622359|940066)\d{13}$/g,cardType:"DC"}]},{bankName:"烟台商业银行",bankCode:"YTCB",patterns:[{reg:/^(622886)\d{10}$/g,cardType:"DC"}]},{bankName:"齐鲁银行",bankCode:"QLB",patterns:[{reg:/^(940008|622379)\d{13}$/g,cardType:"DC"},{reg:/^(628379)\d{10}$/g,cardType:"CC"}]},{bankName:"BC卡公司",bankCode:"BCCC",patterns:[{reg:/^(620011|620027|620031|620039|620103|620106|620120|620123|620125|620220|620278|620812|621006|621011|621012|621020|621023|621025|621027|621031|620132|621039|621078|621220|621003)\d{10}$/g,cardType:"DC"},{reg:/^(625003|625011|625012|625020|625023|625025|625027|625031|621032|625039|625078|625079|625103|625106|625006|625112|625120|625123|625125|625127|625131|625032|625139|625178|625179|625220|625320|625111|625132|625244)\d{10}$/g,cardType:"CC"}]},{bankName:"集友银行",bankCode:"CYB",patterns:[{reg:/^(622355|623042)\d{10}$/g,cardType:"DC"},{reg:/^(621043|621742)\d{13}$/g,cardType:"DC"},{reg:/^(622352|622353|625048|625053|625060)\d{10}$/g,cardType:"CC"},{reg:/^(620206|620207)\d{10}$/g,cardType:"PC"}]},{bankName:"大丰银行",bankCode:"TFB",patterns:[{reg:/^(622547|622548|622546)\d{13}$/g,cardType:"DC"},{reg:/^(625198|625196|625147)\d{10}$/g,cardType:"CC"},{reg:/^(620072)\d{13}$/g,cardType:"PC"},{reg:/^(620204|620205)\d{10}$/g,cardType:"PC"}]},{bankName:"AEON信贷财务亚洲有限公司",bankCode:"AEON",patterns:[{reg:/^(621064|622941|622974)\d{10}$/g,cardType:"DC"},{reg:/^(622493)\d{10}$/g,cardType:"CC"}]},{bankName:"澳门BDA",bankCode:"MABDA",patterns:[{reg:/^(621274|621324)\d{13}$/g,cardType:"DC"}]}];return function(e){for(var t=0,s=i.length;t<s;t++)for(var n=i[t],o=n.patterns,c=0,d=o.length;c<d;c++){var p=o[c];if(new RegExp(p.reg).test(e)){var l=a(n,p);return delete l.patterns,delete l.reg,l.cardTypeName=r(l.cardType),l}}return"error"}(e)}(this.cardObj.card)?this.licenseNoError="请输入正确的卡号":this.$request.post("/app/json/micro_store_front_end/verifyBankNo",{card:this.cardObj.card}).then((function(t){if(0===t.status){var a=t.data;e.popupCard=!Object.keys(a).length,console.log(a,Object.keys(a).length),Object.keys(a).length&&(console.log(a.bankCard),e.cardObj={card:a.card,bank:a.bank,bankName:a.bankCard,cardName:a.cardName,cardType:a.cardType,info:""},console.log(1,e.cardObj))}else e.popupCard=!0,e.cardObj.info=t.info})))},popupCardBtn:function(){this.cardObj.card="",this.popupCard=!1},saveBankInfoBtn:function(){var e=this;this.$request.post("/app/json/micro_store_front_end/saveBankInfo",{card:this.cardObj.card,bankName:this.cardObj.bankName}).then((function(t){0===t.status?e.active=2:e.$toast(t.info)}))},toLink:function(){this.$router.push({path:"/micro_sho/myshopIndex",query:{lastPath:"authentication"}})},regIdNo:function(e){return/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/.test(e)},gender:function(e){return parseInt(e.substr(16,1))%2==1?"男":"女"}},components:{photograph:function(){return a.e(960).then(a.bind(null,"rH4m"))}}},s=(a("MnLJ"),a("KHd+")),n=Object(s.a)(i,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"box"},[a("nav-top",{on:{backEvent:e.backEvent}}),e._v(" "),a("nav-content",[a("div",{staticClass:"certificatesBox"},[a("div",{directives:[{name:"show",rawName:"v-show",value:0==e.active,expression:"active == 0"}]},[a("div",{staticClass:"certificates"},[a("div",{staticClass:"certificatesItem"},[2==e.certificateObj.examineState?a("div",{staticClass:"imgBox"},[a("img",{staticClass:"backgroundImg",attrs:{src:e.certificateObj.imgFront||"static/image/vocational-certification/rx@2x.png",alt:""}})]):a("div",{staticClass:"imgBox",on:{click:function(t){return e.takePictures(3,"imgFront")}}},[a("img",{staticClass:"backgroundImg",attrs:{src:e.certificateObj.imgFront||"static/image/vocational-certification/rx@2x.png",alt:""}}),e._v(" "),a("img",{staticClass:"tipsImg",attrs:{src:"static/image/vocational-certification/icon1@2x.png",alt:""}})]),e._v(" "),a("div",{staticClass:"text"},[a("div",{staticClass:"textBox"},[a("span",[e._v("身份证正面")])])])])]),e._v(" "),a("div",{staticClass:"certificates"},[a("div",{staticClass:"certificatesItem"},[2==e.certificateObj.examineState?a("div",{staticClass:"imgBox"},[a("img",{staticClass:"backgroundImg",attrs:{src:e.certificateObj.imgBehind||"static/image/vocational-certification/gh@2x.png",alt:""}})]):a("div",{staticClass:"imgBox",on:{click:function(t){return e.takePictures(3,"imgBehind")}}},[a("img",{staticClass:"backgroundImg",attrs:{src:e.certificateObj.imgBehind||"static/image/vocational-certification/gh@2x.png",alt:""}}),e._v(" "),a("img",{staticClass:"tipsImg",attrs:{src:"static/image/vocational-certification/icon1@2x.png",alt:""}})]),e._v(" "),a("div",{staticClass:"text"},[a("div",{staticClass:"textBox"},[a("span",[e._v("身份证背面")])])])])]),e._v(" "),a("van-cell-group",[a("van-field",{attrs:{disabled:e.certificateCheck,label:"姓名",placeholder:"请输入姓名",required:"","input-align":"right"},model:{value:e.certificateObj.name,callback:function(t){e.$set(e.certificateObj,"name",t)},expression:"certificateObj.name"}}),e._v(" "),a("van-field",{attrs:{disabled:e.certificateCheck,label:"证件号",placeholder:"请输入18位身份证号",required:"","input-align":"right"},model:{value:e.certificateObj.idcardNum,callback:function(t){e.$set(e.certificateObj,"idcardNum",t)},expression:"certificateObj.idcardNum"}}),e._v(" "),a("van-field",{attrs:{disabled:e.certificateCheck,label:"有效期",placeholder:"例：2000.01.01-2020.01.01",required:"","input-align":"right"},model:{value:e.certificateObj.valid,callback:function(t){e.$set(e.certificateObj,"valid",t)},expression:"certificateObj.valid"}})],1),e._v(" "),a("div",{staticClass:"bottom-btns btn"},[2==e.certificateObj.examineState?a("span",[e._v("审核中")]):a("span",{on:{click:e.openingBtn}},[e._v("提交审核")])])],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:2==e.active,expression:"active == 2"}],staticClass:"certificatesBox"},[a("div",{staticClass:"iconBox"},[a("div",{staticClass:"icon-b"},[a("van-icon",{staticClass:"icon",attrs:{name:"passed"}}),e._v(" "),a("span",{staticClass:"text"},[e._v("恭喜您完成微店开通")])],1)]),e._v(" "),a("div",{staticClass:"bankCardbBtn btn"},[a("span",{on:{click:e.toLink}},[e._v("进入微店")])]),e._v(" "),a("div",{staticClass:"text"})]),e._v(" "),a("photograph",{attrs:{uploadData:e.uploadData},on:{picturesData:e.picturesData,onCancel:e.onCancel}})],1)]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.popupCard,expression:"popupCard"}],staticClass:"card"},[a("van-popup",{staticClass:"popupCard",attrs:{"close-on-click-overlay":!1},model:{value:e.popupCard,callback:function(t){e.popupCard=t},expression:"popupCard"}},[a("div",{staticClass:"popupCardText"},[a("span",[e._v(e._s(e.cardObj.info.split(",")[0]))]),e._v(" "),a("span",[e._v(e._s(e.cardObj.info.split(",")[1]))])]),e._v(" "),a("div",{staticClass:"popupCardBtn"},[a("span",{on:{click:e.popupCardBtn}},[e._v(e._s(e.cardObj.info.includes("次数")?"关闭":"重新输入"))])])])],1)],1)}),[],!1,null,"3c238cfe",null);t.default=n.exports},rlxw:function(e,t,a){"use strict";var r=a("ygAv"),i={getPriceShow:function(e){if(0==e.length)return"";for(var t=e[0].price,a=e[0].price,r=1;r<e.length;r++){var i=e[r].price;t>i&&(t=i),a<i&&(a=i)}return t==a?[this.getINumDNum(t)]:[this.getINumDNum(t),this.getINumDNum(a)]},getINumDNum:function(e){var t=r.a.toDecimal2(e).split(".");return{iNum:t[0],dNum:t[1]}}};t.a=i},uRJu:function(e,t,a){"use strict";var r=a("X+l1");a.n(r).a},v0Gn:function(e,t,a){},wHtH:function(e,t,a){"use strict";a.r(t);var r=a("R20A"),i=a("CuaN"),s=a("eqsK"),n=a("L2JU"),o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e};function d(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}var p={name:"shopIndex",mixins:[r.a],data:function(){return{active:0,contentStyleObj:{"margin-top":"0px"},navcontentStyleObj:{top:"0px"},allIntegralAccounted:"",allOilAccounted:"",allPeasAccounted:"",allMoneyAccounted:"",type:"",typeList:"",prizeList:[],profitObj:{},hasToSign:!1,rewardType:"",rankingList:[],id:"",title:"",prizeView:!1,is:!0,actions:[{name:"全部商品",value:""},{name:"自主商品",value:"2"},{name:"推荐商品",value:"1"}],itemAddshare:{},isThreePoints:!1,threePointsArr:[],threePointsArrQB:[{name:"商品分享",value:"1"}],threePointsArrZD:[{name:"商品下架",value:"0"},{name:"商品置顶",value:"2"}],threePointsArrQZD:[{name:"商品下架",value:"0"},{name:"取消置顶",value:"2"}],deliveryTypes:[{text:"配送",fontclass:"mall-peisong",tag:"2"},{text:"自提",fontclass:"mall-ziti",tag:"1"}],screenArr:[{name:"出售中",number:"0",type:1},{name:"已下架",number:"0",type:2},{name:"无效商品",number:"0",type:0}],params:{page:1,rows:"",queryTypeRecommend:"",deliverType:this.$store.state.mall2.staticDeliverType,queryType:"1"},styleObj:{listStyle:!1,rowStyle:3,isObject:1,isHeight:"76",url:"/app/json/app_distribution_order/getProList"},isType:"",selectedType:this.$store.state.mall2.staticDeliverType,screenType:"1",showView:!0,popupShow:!1,shareObj:{popupShow:!1,codeShow:!1,deliveryType:this.$store.state.mall2.staticDeliverType},objData:{},isRecommend:!1,recommendText:"全部商品",codeStstus:!1}},mounted:function(){var e=this;console.log(111,this.$store.state.globalConfig.microshop_groupbuying_exhibition,this.getPutaggregate),(1==this.$store.state.globalConfig.microshop_index&&1==this.getPutaggregate.empFlag||1!=this.getPutaggregate.empFlag)&&this.loadgetReward(),this.loadIndex(),console.log(this.getPutaggregate),"1"==this.$store.state.globalConfig.delivertype_default?this.deliveryTypes=[{text:"自提",fontclass:"mall-ziti",tag:"1"}]:"2"==this.$store.state.globalConfig.delivertype_default&&(this.deliveryTypes=[{text:"配送",fontclass:"mall-peisong",tag:"2"}]),this.backUUID=this.$util.randomString(),this.listenAndriodBack(),this.$bridgefunc.enterForegroundCallBack((function(){e.hasToSign&&e.checkSignResult()}))},components:{list:i.a,Share:s.a},computed:c({},Object(n.c)(["getPutaggregate","userInfo"]),{bg:function(){return a("cz8l")}}),beforeRouteLeave:function(e,t,a){this.codeStstus?this.shareObj.codeShow=!1:this.popupShow?this.popupShow=!1:a()},methods:{getInteger:function(e){return this.$util.toDecimal2(e).split(".")[0]},getDecimals:function(e){return this.$util.toDecimal2(e).split(".")[1]},enterDetail:function(e){var t="",a=0;1==e?t="/micro_sho/add_merchandise":2==e?t="/micro_sho/commodity_management":3==e?t="/micro_sho/order_management":4==e?t="/micro_sho/renovation":5==e?(t="/micro_sho/add_merchandise",a=1):6==e?(t="/micro_sho/commodity_management",a=1):7==e&&(t="/micro_sho/commodity_query"),this.$router.push({path:t,query:{groupFlag:a}})},loadIndex:function(){var e=this,t=this,a={token:this.$store.state.login.token};t.profitData(a).then((function(a){if("success"===a.data.result){var r=a.data.data||{};t.profitObj=r,console.log(o(t.profitObj.moneyAccounted)),t.allIntegralAccounted=(Number(t.profitObj.integralAccounted)+Number(t.profitObj.integralUnaccounted)).toFixed()||0,t.allOilAccounted=(Number(t.profitObj.oilAccounted)+Number(t.profitObj.oilUnaccounted)).toFixed()||0,t.allPeasAccounted=(Number(t.profitObj.peasAccounted)+Number(t.profitObj.peasUnaccounted)).toFixed()||0,t.allMoneyAccounted=(Number(t.profitObj.moneyAccounted)+Number(t.profitObj.moneyUnaccounted)).toFixed(2)||0,t.rankingIndex(),1==e.$store.state.globalConfig.microshop_index&&1==e.getPutaggregate.empFlag||1!=e.getPutaggregate.empFlag||e.$nextTick((function(){if(3!=e.profitObj.integralWay&&8!=e.profitObj.oilWay&&9!=e.profitObj.peasWay&&0!=e.profitObj.moneyWay)e.navcontentStyleObj.top="64px !important";else{var a=t.$refs.elements.offsetHeight;console.log(a),t.contentStyleObj["margin-top"]=a+"px",t.prizeView=!0,t.navcontentStyleObj.top="64px !important"}}))}}))},toRenovation:function(){this.$router.push({path:"/micro_sho/renovation"})},loadgetReward:function(){var e=this,t=this,a={token:this.$store.state.login.token,queryType:"1",thirdFlag:"2"};t.getRewardData(a).then((function(a){if("success"===a.data.result){var r=a.data.data||[];t.prizeList=r,t.prizeList.forEach((function(e){t.allIntegralAccounted=(Number(e.integralAccounted)+Number(e.integralUnaccounted)).toFixed(),t.allOilAccounted=(Number(e.oilAccounted)+Number(e.oilUnaccounted)).toFixed(),t.allPeasAccounted=(Number(e.peasAccounted)+Number(e.peasUnaccounted)).toFixed(),t.allMoneyAccounted=(Number(e.moneyAccounted)+Number(e.moneyUnaccounted)).toFixed(2)})),e.$nextTick((function(){var t=e.$refs.element.offsetHeight;e.contentStyleObj["margin-top"]=t+"px",e.prizeList.length,e.navcontentStyleObj.top="64px !important"}))}}))},listenAndriodBack:function(){var e=this;this.$bridgefunc.registeBridge("phonebridge",(function(t){JSON.parse(t).type==e.backUUID&&e.backEvent()}))},checkSignResult:function(){this.hasToSign=!1},backEvent:function(){"authentication"==this.$route.query.lastPath?this.$router.go(-2):this.$router.go(-1)},rankingIndex:function(){var e=this;3==e.profitObj.integralWay?e.rewardType=3:8==e.profitObj.oilWay?e.rewardType=8:9==e.profitObj.peasWay?e.rewardType=9:12==e.profitObj.moneyWay&&(e.rewardType=12);var t={token:this.$store.state.login.token,rewardType:e.rewardType};e.monthData(t).then((function(t){if("success"===t.data.result){var a=t.data.data||[];e.rankingList=a}}))},mallDetail:function(){this.$router.push({path:"/micro_sho/microshopqrcode",query:{profitObj:JSON.stringify(this.profitObj)}})},changeData:function(e,t){var a=this;a.rankingList=[],"积分"==t?a.rewardType=3:"油滴"==t?a.rewardType=8:"豌豆"==t?a.rewardType=9:"收益金额"==t&&(a.rewardType=12);var r={token:this.$store.state.login.token,rewardType:a.rewardType};a.monthData(r).then((function(e){if("success"===e.data.result){var t=e.data.data||[];a.rankingList=t}}))},qRcodeStstus:function(e){this.codeStstus=e,console.log(1,this.codeStstus)},selectedTypeEvent:function(e){console.log(e),this.selectedType=e,this.shareObj.deliveryType=e,this.$store.state.mall2.staticDeliverType=e,2==this.selectedType?this.showView=!0:this.showView=!1,this.params.deliverType=e,this.screenType=1,this.params.queryType="1"},screenBtn:function(e){this.screenType=e.type,this.params.queryType=e.type,this.$store.state.microSho.screenType=e.type},listData:function(e){var t=e.data||{};this.$set(this.screenArr[2],"number",t.numsForInvalid),this.$set(this.screenArr[0],"number",t.numsForSale),this.$set(this.screenArr[1],"number",t.numsForSoldOut)},setshareData:function(e){this.popupShow=!1,this.shareObj=Object.assign({},e)},upperShelf:function(e){var t=this;this.$messagebox.confirm("确定上架？","提示").then((function(a){t.$Loading.open();var r={token:t.$store.state.login.token,skuId:e.skuId,storeId:t.getPutaggregate.id,status:"1"};t.$http.post("/app/json/app_distribution_order/updateProFromMicroStore",r).then((function(e){t.$Loading.close();var a=e.data;0==a.status?(t.$Toast("上架成功！"),t.$refs.list._loadProList(!0)):t.$Toast(a.info)}))}))},deleteShare:function(e){var t=this;this.$messagebox.confirm("该商品已经停止分销，是否要删除？","提示").then((function(a){t.$Loading.open();var r={token:t.$store.state.login.token,storeId:t.getPutaggregate.id,proSkuDistributionId:e.proSkuDistributionId,skuId:e.skuId};t.$http.post("/app/json/app_distribution_order/removeProFromMicroStore",r).then((function(e){t.$Loading.close();var a=e.data;0==a.status?(t.$Toast("删除成功！"),t.$refs.list._loadProList(!0)):t.$Toast(a.info)}))})).catch((function(){}))},productEvent:function(e){if(0!=this.screenType){var t="/micro_sho/detail/"+this.$util.getDataString();this.$router.push({path:t,query:{id:e.skuId,skuId:e.skuId,lastPath:this.$route.path,deliveryType:this.$store.state.mall2.staticDeliverType,productType:e.productType,isRecommend:e.isRecommend,proSkuDistributionId:e.proSkuDistributionId,obj:{queryType:this.screenType}}})}},addshareBtn:function(e){this.isThreePoints=!0,this.itemAddshare=e,e.isRecommend?this.threePointsArr=[].concat(d(this.threePointsArrQB),[{name:"取消",value:"-1"}]):e.topFlag?this.threePointsArr=[].concat(d(this.threePointsArrQB),d(this.threePointsArrQZD),[{name:"取消",value:"-1"}]):this.threePointsArr=[].concat(d(this.threePointsArrQB),d(this.threePointsArrZD),[{name:"取消",value:"-1"}])},onSelectPoints:function(e){0==e.value?this.upDownMethod():1==e.value?(this.shareObj=Object.assign({},this.shareObj,this.itemAddshare,{phMainUrl:this.itemAddshare.mainMobilePicUrl,showTitle:this.itemAddshare.skuName,dpedData:{linePrice:this.itemAddshare.salePrice}}),this.popupShow=!0,this.shareObj.popupShow=!0):2==e.value&&this.microStoreProTop(),this.isThreePoints=!1},microStoreProTop:function(){var e=this;this.$messagebox.confirm("确定要操作该商品吗!","提示").then((function(t){e.$Loading.open(),e.$http.post("/app/json/app_distribution_order/microStoreProTop",{id:e.itemAddshare.microStoreProId}).then((function(t){e.$Loading.close(),0==t.data.status?(e.$Toast("操作成功!"),e.$refs.list._loadProList(e.params)):e.$Toast(t.data.info)}))}))},upDownMethod:function(){var e=this;this.$messagebox.confirm("确定要下架该商品吗!","提示").then((function(t){e.$Loading.open(),e.$http.post("/app/json/app_distribution_order/updateProFromMicroStore",{skuId:e.itemAddshare.skuId,storeId:e.getPutaggregate.id,status:0}).then((function(t){e.$Loading.close(),0==t.data.status?(e.$Toast("下架成功!"),e.$refs.list._loadProList(e.params)):e.$Toast(t.data.info)}))}))},isRecommendBtn:function(){this.isRecommend=!0},onSelect:function(e){this.recommendText=e.name,this.isRecommend=!1,this.params.queryTypeRecommend=e.value}}},l=(a("uRJu"),a("KHd+")),g=Object(l.a)(p,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"body",attrs:{id:"body"}},[a("div",{ref:"elements",staticClass:"head",class:[3!=this.profitObj.integralWay&&8!=this.profitObj.oilWay&&9!=this.profitObj.peasWay&&0!=this.profitObj.moneyWay&&1!=e.$store.state.globalConfig.microshop_index&&1==e.getPutaggregate.empFlag?"isActive":"head"],style:"background-image: url("+(e.getPutaggregate.backgroundImgUrl||"static/image/microShop/up.png")+")"},[a("nav-top",{attrs:{title:"我的微店"},on:{backEvent:e.backEvent}}),e._v(" "),1==e.$store.state.globalConfig.microshop_index&&1==e.getPutaggregate.empFlag||1!=e.getPutaggregate.empFlag?a("div",{staticClass:"containerTop"},[a("div",{ref:"element",staticClass:"container"},[a("div",{staticClass:"div"},[a("div",{staticClass:"div1",on:{click:e.toRenovation}},[a("img",{attrs:{src:e.getPutaggregate.pictureUrl?e.getPutaggregate.pictureUrl:e.$store.state.globalConfig.microshop_headurl,alt:""}}),e._v(" "),a("span",{staticClass:"span"},[e._v(e._s(e.getPutaggregate.storeName?e.getPutaggregate.storeName:"我的小店"))])]),e._v(" "),a("div",{staticClass:"div2",on:{click:e.mallDetail}},[a("img",{attrs:{src:"static/image/microShop/ma.png",alt:""}}),e._v(" "),a("span",[e._v("店铺码")])])]),e._v(" "),e.prizeList.length>0?a("div",{staticClass:"grayDiv"},e._l(e.prizeList,(function(t,r){return a("div",{key:r,staticClass:"prizeDiv"},[a("router-link",{attrs:{to:{name:"micro_sho/profit",params:{type:t.value}}}},[a("div",["3"==t.value?a("p",{staticClass:"p1"},[e._v(e._s(e.allIntegralAccounted))]):e._e(),e._v(" "),"8"==t.value?a("p",{staticClass:"p1"},[e._v(e._s(e.allOilAccounted))]):e._e(),e._v(" "),"9"==t.value?a("p",{staticClass:"p1"},[e._v(e._s(e.allPeasAccounted))]):e._e(),e._v(" "),"0"!=t.value?a("p",{staticClass:"p2"},[e._v(e._s(t.name))]):e._e()])]),e._v(" "),"0"==t.value?a("router-link",{attrs:{to:{name:"micro_sho/cash_shop"}}},[a("div",[a("p",{staticClass:"p1"},[e._v(e._s(e.allMoneyAccounted))]),e._v(" "),a("p",{staticClass:"p2"},[e._v(e._s(t.name))])])]):e._e()],1)})),0):e._e()])]):e._e(),e._v(" "),1!=e.$store.state.globalConfig.microshop_index&&1==e.getPutaggregate.empFlag?a("div",{staticClass:"containerTop"},[a("div",{staticClass:"container"},[a("div",{staticClass:"div"},[a("div",{staticClass:"div1",on:{click:e.toRenovation}},[a("img",{attrs:{src:e.getPutaggregate.pictureUrl?e.getPutaggregate.pictureUrl:e.$store.state.globalConfig.microshop_headurl,alt:""}}),e._v(" "),a("span",{staticClass:"span"},[e._v(e._s(e.getPutaggregate.storeName?e.getPutaggregate.storeName:"我的小店"))])]),e._v(" "),a("div",{staticClass:"div2",on:{click:e.mallDetail}},[a("img",{attrs:{src:"static/image/microShop/ma.png",alt:""}}),e._v(" "),a("span",[e._v("店铺码")])])]),e._v(" "),e.prizeView?a("div",{staticClass:"grayDiv"},[3==e.profitObj.integralWay?a("div",{staticClass:"prizeDiv"},[a("router-link",{attrs:{to:{name:"micro_sho/profit",params:{type:e.profitObj.integralWay}}}},[a("div",[a("p",{staticClass:"p1"},[e._v(e._s(e.allIntegralAccounted))]),e._v(" "),a("p",{staticClass:"p2"},[e._v("收益积分")])])])],1):e._e(),e._v(" "),8==e.profitObj.oilWay?a("div",{staticClass:"prizeDiv"},[a("router-link",{attrs:{to:{name:"micro_sho/profit",params:{type:e.profitObj.oilWay}}}},[a("div",[a("p",{staticClass:"p1"},[e._v(e._s(e.allOilAccounted))]),e._v(" "),a("p",{staticClass:"p2"},[e._v("收益油滴")])])])],1):e._e(),e._v(" "),9==e.profitObj.peasWay?a("div",{staticClass:"prizeDiv"},[a("router-link",{attrs:{to:{name:"micro_sho/profit",params:{type:e.profitObj.peasWay}}}},[a("div",[a("p",{staticClass:"p1"},[e._v(e._s(e.allPeasAccounted))]),e._v(" "),a("p",{staticClass:"p2"},[e._v("收益豌豆")])])])],1):e._e(),e._v(" "),0==e.profitObj.moneyWay?a("div",{staticClass:"prizeDiv"},[0==e.profitObj.moneyWay?a("router-link",{attrs:{to:{name:"micro_sho/profit",params:{type:e.profitObj.moneyWay}}}},[a("div",[a("p",{staticClass:"p1"},[e._v(e._s(e.allMoneyAccounted))]),e._v(" "),a("p",{staticClass:"p2"},[e._v("收益金额")])])]):e._e()],1):e._e()]):e._e()])]):e._e()],1),e._v(" "),a("nav-content",{style:e.navcontentStyleObj},[a("div",{ref:"menuItem",staticClass:"menuItem",style:e.contentStyleObj},[a("div",{staticClass:"enter"},[a("div",{staticClass:"enterBox"},[a("div",{on:{click:function(t){return e.enterDetail("1")}}},[a("img",{attrs:{src:"static/image/microShop/icon32x.png",alt:""}}),e._v(" "),a("p",[e._v("添加商品")])]),e._v(" "),a("div",{on:{click:function(t){return e.enterDetail("2")}}},[a("img",{attrs:{src:"static/image/microShop/icon42x.png",alt:""}}),e._v(" "),a("p",[e._v("商品管理")])]),e._v(" "),a("div",{on:{click:function(t){return e.enterDetail("3")}}},[a("img",{attrs:{src:"static/image/microShop/icon52x.png",alt:""}}),e._v(" "),a("p",[e._v("订单管理")])]),e._v(" "),a("div",{on:{click:function(t){return e.enterDetail("4")}}},[a("img",{attrs:{src:"static/image/microShop/icon62x.png",alt:""}}),e._v(" "),a("p",[e._v("店铺装修")])]),e._v(" "),1==e.$store.state.globalConfig.microshop_groupbuying_exhibition?a("div",{on:{click:function(t){return e.enterDetail("5")}}},[a("img",{attrs:{src:"static/image/microShop/add.png",alt:""}}),e._v(" "),a("p",[e._v("新增团购商品")])]):e._e(),e._v(" "),1==e.$store.state.globalConfig.microshop_groupbuying_exhibition?a("div",{on:{click:function(t){return e.enterDetail("6")}}},[a("img",{attrs:{src:"static/image/microShop/guanli.png",alt:""}}),e._v(" "),a("p",[e._v("团购商品管理")])]):e._e(),e._v(" "),1==e.$store.state.globalConfig.microshop_sku_isquery?a("div",{on:{click:function(t){return e.enterDetail("7")}}},[a("img",{attrs:{src:"static/image/microShop/shop.png",alt:""}}),e._v(" "),a("p",[e._v("商品查询")])]):e._e()])]),e._v(" "),1!=e.$store.state.globalConfig.microshop_index?a("div",{staticClass:"enterBoxList"},[a("h2",[e._v("月度收益排名")]),e._v(" "),a("van-tabs",{on:{click:e.changeData},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}},[3==e.profitObj.integralWay?a("van-tab",{attrs:{title:"积分"}},[a("div",{staticClass:"enterBoxListTitle"},[a("span",[e._v("姓名")]),e._v(" "),a("span",[e._v("部门")]),e._v(" "),a("span",[e._v("收益")])]),e._v(" "),0==e.rankingList.length?a("div",{staticClass:"nullData"},[e._v("暂无收益")]):e._e(),e._v(" "),e.rankingList.length>0?a("ul",e._l(e.rankingList,(function(t,r){return r<5?a("li",[a("div",{staticClass:"div1"},[a("p",[t.pictureUrl?a("img",{staticClass:"img1",attrs:{src:t.pictureUrl,alt:""}}):a("img",{staticClass:"img1",attrs:{src:"static/image/microShop/head@2x.png",alt:""}}),e._v(" "),a("span",[0==r?a("img",{staticClass:"img2",attrs:{src:"static/image/microShop/no.1@2x.png",alt:""}}):e._e(),e._v(" "),1==r?a("img",{staticClass:"img2",attrs:{src:"static/image/microShop/no.2@2x.png",alt:""}}):e._e(),e._v(" "),2==r?a("img",{staticClass:"img2",attrs:{src:"static/image/microShop/no.3@2x.png",alt:""}}):e._e(),e._v(" "),r>2?a("img",{staticClass:"img2",attrs:{src:"static/image/microShop/no4@2x.png",alt:""}}):e._e(),e._v(" "),a("span",{staticClass:"num"},[e._v("第"+e._s(r+1)+"名")])])]),e._v(" "),a("span",[e._v(e._s(t.employeeName))])]),e._v(" "),a("div",[e._v(e._s(t.departmentName))]),e._v(" "),a("div",{staticClass:"div3"},[e._v(e._s(t.rewardAccounted))])]):e._e()})),0):e._e(),e._v(" "),e.rankingList.length>0?a("router-link",{attrs:{to:"/micro_sho/profitlist"}},[a("div",{staticClass:"more"},[e._v("查看更多")])]):e._e()],1):e._e(),e._v(" "),8==e.profitObj.oilWay?a("van-tab",{attrs:{title:"油滴"}},[a("div",{staticClass:"enterBoxListTitle"},[a("span",[e._v("姓名")]),e._v(" "),a("span",[e._v("部门")]),e._v(" "),a("span",[e._v("收益")])]),e._v(" "),0==e.rankingList.length?a("div",{staticClass:"nullData"},[e._v("暂无收益")]):e._e(),e._v(" "),e.rankingList.length>0?a("ul",e._l(e.rankingList,(function(t,r){return r<5?a("li",[a("div",{staticClass:"div1"},[a("p",[t.pictureUrl?a("img",{staticClass:"img1",attrs:{src:t.pictureUrl,alt:""}}):a("img",{staticClass:"img1",attrs:{src:"/static/image/microShop/head@2x.png",alt:""}}),e._v(" "),a("span",[0==r?a("img",{staticClass:"img2",attrs:{src:"static/image/microShop/no.1@2x.png",alt:""}}):e._e(),e._v(" "),1==r?a("img",{staticClass:"img2",attrs:{src:"static/image/microShop/no.2@2x.png",alt:""}}):e._e(),e._v(" "),2==r?a("img",{staticClass:"img2",attrs:{src:"static/image/microShop/no.3@2x.png",alt:""}}):e._e(),e._v(" "),r>2?a("img",{staticClass:"img2",attrs:{src:"static/image/microShop/no4@2x.png",alt:""}}):e._e(),e._v(" "),a("span",{staticClass:"num"},[e._v("第"+e._s(r+1)+"名")])])]),e._v(" "),a("span",[e._v(e._s(t.employeeName))])]),e._v(" "),a("div",[e._v(e._s(t.departmentName))]),e._v(" "),a("div",{staticClass:"div3"},[e._v(e._s(t.rewardAccounted))])]):e._e()})),0):e._e(),e._v(" "),e.rankingList.length>0?a("router-link",{attrs:{to:"/micro_sho/profitlist"}},[a("div",{staticClass:"more"},[e._v("查看更多")])]):e._e()],1):e._e(),e._v(" "),9==e.profitObj.peasWay?a("van-tab",{attrs:{title:"豌豆"}},[a("div",{staticClass:"enterBoxListTitle"},[a("span",[e._v("姓名")]),e._v(" "),a("span",[e._v("部门")]),e._v(" "),a("span",[e._v("收益")])]),e._v(" "),0==e.rankingList.length?a("div",{staticClass:"nullData"},[e._v("暂无收益")]):e._e(),e._v(" "),e.rankingList.length>0?a("ul",e._l(e.rankingList,(function(t,r){return r<5?a("li",[a("div",{staticClass:"div1"},[a("p",[t.pictureUrl?a("img",{staticClass:"img1",attrs:{src:t.pictureUrl,alt:""}}):a("img",{staticClass:"img1",attrs:{src:"static/image/microShop/head@2x.png",alt:""}}),e._v(" "),a("span",[0==r?a("img",{staticClass:"img2",attrs:{src:"static/image/microShop/no.1@2x.png",alt:""}}):e._e(),e._v(" "),1==r?a("img",{staticClass:"img2",attrs:{src:"static/image/microShop/no.2@2x.png",alt:""}}):e._e(),e._v(" "),2==r?a("img",{staticClass:"img2",attrs:{src:"static/image/microShop/no.3@2x.png",alt:""}}):e._e(),e._v(" "),r>2?a("img",{staticClass:"img2",attrs:{src:"static/image/microShop/no4@2x.png",alt:""}}):e._e(),e._v(" "),a("span",{staticClass:"num"},[e._v("第"+e._s(r+1)+"名")])])]),e._v(" "),a("span",[e._v(e._s(t.employeeName))])]),e._v(" "),a("div",[e._v(e._s(t.departmentName))]),e._v(" "),a("div",{staticClass:"div3"},[e._v(e._s(t.rewardAccounted))])]):e._e()})),0):e._e(),e._v(" "),e.rankingList.length>0?a("router-link",{attrs:{to:"/micro_sho/profitlist"}},[a("div",{staticClass:"more"},[e._v("查看更多")])]):e._e()],1):e._e(),e._v(" "),12==e.profitObj.moneyWay?a("van-tab",{attrs:{title:"收益金额"}},[a("div",{staticClass:"enterBoxListTitle"},[a("span",[e._v("姓名")]),e._v(" "),a("span",[e._v("部门")]),e._v(" "),a("span",[e._v("收益")])]),e._v(" "),0==e.rankingList.length?a("div",{staticClass:"nullData"},[e._v("暂无收益")]):e._e(),e._v(" "),e.rankingList.length>0?a("ul",e._l(e.rankingList,(function(t,r){return r<5?a("li",[a("div",{staticClass:"div1"},[a("p",[t.pictureUrl?a("img",{staticClass:"img1",attrs:{src:t.pictureUrl,alt:""}}):a("img",{staticClass:"img1",attrs:{src:"static/image/microShop/head@2x.png",alt:""}}),e._v(" "),a("span",[0==r?a("img",{staticClass:"img2",attrs:{src:"static/image/microShop/no.1@2x.png",alt:""}}):e._e(),e._v(" "),1==r?a("img",{staticClass:"img2",attrs:{src:"static/image/microShop/no.2@2x.png",alt:""}}):e._e(),e._v(" "),2==r?a("img",{staticClass:"img2",attrs:{src:"static/image/microShop/no.3@2x.png",alt:""}}):e._e(),e._v(" "),r>2?a("img",{staticClass:"img2",attrs:{src:"static/image/microShop/no4@2x.png",alt:""}}):e._e(),e._v(" "),a("span",{staticClass:"num"},[e._v("第"+e._s(r+1)+"名")])])]),e._v(" "),a("span",[e._v(e._s(t.employeeName))])]),e._v(" "),a("div",[e._v(e._s(t.departmentName))]),e._v(" "),a("div",{staticClass:"div3"},[e._v(e._s(t.rewardAccounted))])]):e._e()})),0):e._e(),e._v(" "),e.rankingList.length>0?a("router-link",{attrs:{to:"/micro_sho/profitlist"}},[a("div",{staticClass:"more"},[e._v("查看更多")])]):e._e()],1):e._e()],1)],1):e._e(),e._v(" "),1==e.$store.state.globalConfig.microshop_index?a("div",{staticClass:"enterBoxList enterBoxListSku",attrs:{id:"skuList"}},[a("div",{staticClass:"main"},[a("div",{staticClass:"row-text"},[a("div",e._l(e.deliveryTypes,(function(t,r){return a("div",{key:r,staticClass:"type-btn",class:{theme_light_bg:e.selectedType==t.tag,theme_standard_bdr_i:e.selectedType==t.tag},on:{click:function(a){return e.selectedTypeEvent(t.tag)}}},[a("i",{staticClass:"iconfont theme_font_common icon-size",class:[t.fontclass,{theme_standard_font_i:e.selectedType==t.tag}]}),e._v(" "),a("span",{staticClass:"theme_font_common",class:{theme_standard_font_i:e.selectedType==t.tag}},[e._v(e._s(t.text))])])})),0),e._v(" "),1==e.getPutaggregate.empFlag?a("div",{staticClass:"type-btn",on:{click:e.isRecommendBtn}},[a("van-icon",{staticStyle:{"margin-right":"4px","margin-top":"-3px","vertical-align":"middle"},attrs:{name:e.isRecommend?"arrow-up":"arrow-down"}}),e._v(" "),a("span",[e._v(e._s(e.recommendText))])],1):e._e()]),e._v(" "),a("div",{staticClass:"screen"},e._l(e.screenArr,(function(t,r){return a("div",{key:r,staticClass:"btn",class:{theme_standard_font_i:e.screenType==t.type},on:{click:function(a){return e.screenBtn(t)}}},[e._v(e._s(t.name+"（"+t.number+"）"))])})),0),e._v(" "),a("list",{ref:"list",attrs:{params:e.params,styleObj:e.styleObj},on:{productEvent:e.productEvent,addshare:e.addshareBtn,listData:e.listData,upperShelf:e.upperShelf,deleteShare:e.deleteShare}})],1)]):e._e()])]),e._v(" "),e.popupShow?a("Share",{attrs:{shareObj:e.shareObj},on:{setshareData:e.setshareData,qRcodeStstus:e.qRcodeStstus}}):e._e(),e._v(" "),a("van-action-sheet",{attrs:{actions:e.actions},on:{select:e.onSelect},model:{value:e.isRecommend,callback:function(t){e.isRecommend=t},expression:"isRecommend"}}),e._v(" "),a("van-action-sheet",{attrs:{actions:e.threePointsArr},on:{select:e.onSelectPoints},model:{value:e.isThreePoints,callback:function(t){e.isThreePoints=t},expression:"isThreePoints"}})],1)}),[],!1,null,"65fef9da",null);t.default=g.exports}}]);