(window.webpackJsonp=window.webpackJsonp||[]).push([[873],{GUzA:function(t,n,e){"use strict";var s=e("i6kk");e.n(s).a},Vvcv:function(t,n,e){"use strict";e.r(n);var s=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},i={name:"myInsurance",components:{CheckPaidMember:function(){return e.e(11).then(e.bind(null,"b4vV"))}},data:function(){return{content:null,insuranceList:[],shopType:1,isLoading:!0,finished:!1,pageInfo:{page:0,rows:10},show:!1}},methods:{failHandler:function(){this.$router.go(-1)},instruction:function(){this.show=!0},changeStatus:function(t){return["","航班延误险","行李延误险","行李遗失险"][t]},changeTime:function(t){return t.useBeginTime?t.useBeginTime.split(" ")[0]+"至"+t.useEndTime.split(" ")[0]:" "},changeDate:function(t){var n=t.useBeginTime.replace(/-/g,"/");if(2==t.useState&&n){var e=(new Date-new Date(n))/864e5;return console.log(e),parseInt(e)}return console.log(123)," "},changeDate1:function(t){var n=t.useBeginTime.replace(/-/g,"/"),e=t.useEndTime.replace(/-/g,"/");return console.log(n),new Date-new Date(n)>0?new Date-new Date(e)>0?1:2:0},loadMore:function(){var t=this;this.isLoading=!0,this.pageInfo.page++,this.$Loading.open(),this.$http.post("/app/json/equity_use_insure/getInsureList",s({equityMemberId:this.$route.query.id},this.pageInfo)).then((function(n){t.isLoading=!1;var e,s=n.data;0==s.status?s.data instanceof Array?((e=t.insuranceList).push.apply(e,function(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}return Array.from(t)}(s.data)),t.insuranceList.length>=s.totalRecords&&(t.finished=!0)):t.finished=!0:(t.$Toast(s.info),t.finished=!0),t.$Loading.close()})).catch((function(n){t.finished=!0,t.$Toast(n),t.$Loading.close()}))},detail:function(t){2==t.useState&&this.$router.push({path:"/benefits/insuranceDetail",query:{item:JSON.stringify(t)}})},getInfo:function(){var t=this;this.$http.post("/app/json/news/getNewsList?values=60",{}).then((function(n){var e=n.data;0==e.status?(console.log(n),t.content=n.data.data[0].content):t.$Toast(e.info)})).catch((function(n){t.$Toast(n)}))}},created:function(){this.loadMore(),this.getInfo(),console.log(123)}},a=(e("GUzA"),e("KHd+")),o=Object(a.a)(i,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("nav-top",{on:{backEvent:function(n){return t.$router.go(-1)}}}),t._v(" "),e("nav-content",{staticClass:"vip-car"},[e("div",{staticClass:"content-con"},[e("div",{staticClass:"info"},[e("div",{staticClass:"info-con",on:{click:t.instruction}},[e("span",{staticClass:"icon"},[t._v("?")]),t._v(" "),e("span",[t._v("说明")])])]),t._v(" "),e("div",{staticClass:"list-con"},[e("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了",offset:200},on:{load:t.loadMore},model:{value:t.isLoading,callback:function(n){t.isLoading=n},expression:"isLoading"}},t._l(t.insuranceList,(function(n,s){return e("li",{key:s,staticClass:"item",on:{click:function(e){return t.detail(n)}}},[e("div",{staticClass:"card"},[e("div",{staticClass:"left"},[e("div",{staticClass:"title"},[t._v(t._s(t.changeStatus(n.serviceType)))]),t._v(" "),e("div",{staticClass:"range"},[t._v("保障期限： "+t._s(t.changeTime(n)))])]),t._v(" "),e("div",{staticClass:"right"},[2==n.useState&&2==t.changeDate1(n)?e("div",[e("div",{staticClass:"date"},[e("span",{staticClass:"num"},[t._v(t._s(t.changeDate(n)))]),t._v("天")]),t._v(" "),e("div",{staticClass:"bottom"},[t._v("已保障")])]):2==n.useState&&0==t.changeDate1(n)?e("div",[e("div",{staticClass:"insuStatus"},[t._v("未生效")])]):2==n.useState&&1==t.changeDate1(n)?e("div",[e("div",{staticClass:"insuStatus"},[t._v("已过期")])]):0==n.useState?e("div",[e("div",{staticClass:"insuStatus"},[t._v("未受理")])]):1==n.useState?e("div",[e("div",{staticClass:"insuStatus"},[t._v("投保中")])]):t._e()])])])})),0)],1)])]),t._v(" "),e("van-action-sheet",{attrs:{title:"说明",round:!1},model:{value:t.show,callback:function(n){t.show=n},expression:"show"}},[e("div",{staticClass:"line"}),t._v(" "),e("div",{staticClass:"content",domProps:{innerHTML:t._s(t.content)}},[t._v("\n        "+t._s(t.content)+"\n")]),t._v(" "),e("van-button",{staticClass:"sliver",attrs:{type:"info","native-type":"submit"},on:{click:function(n){t.show=!1}}},[t._v("\n        我知道了\n      ")])],1),t._v(" "),e("CheckPaidMember",{on:{failHandler:t.failHandler}})],1)}),[],!1,null,"5cfd1f0a",null);n.default=o.exports},i6kk:function(t,n,e){}}]);